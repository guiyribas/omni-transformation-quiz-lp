/*! For license information please see bootstrap-optimized.js.LICENSE.txt */
(()=>{var t={17246:(t,e,n)=>{var i={"./i-live-here":8316,"./i-live-here.js":8316};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=17246},41891:(t,e,n)=>{var i={"./analytics/module":38893,"./branding/module":67574,"./chrome/module":91623,"./error/module":95114,"./flippers/module":48676,"./lightbox/module":61011,"./page/module":3549,"./sdk-backend/module":57816,"./splash-screen/module":4148,"./url-navigation/module":80296,"./viewport/module":72714};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=41891},6875:(t,e,n)=>{"use strict";n.r(e),n.d(e,{isDefault:()=>a,isSupported:()=>o,normalizeAlignmentOptions:()=>s,supportedOptions:()=>r});var i=n(66338);const r=["left","right","center","justify"];function o(t){return r.includes(t)}function a(t,e){return"rtl"==e.contentLanguageDirection?"right"===t:"left"===t}function s(t){const e=t.map((t=>{let e;return e="string"==typeof t?{name:t}:t,e})).filter((t=>{const e=!!r.includes(t.name);return e||(0,i.logWarning)("alignment-config-name-not-recognized",{option:t}),e})),n=e.filter((t=>!!t.className)).length;if(n&&n<e.length)throw new i.CKEditorError("alignment-config-classnames-are-missing",{configuredOptions:t});return e.forEach(((e,n,r)=>{const o=r.slice(n+1);if(o.some((t=>t.name==e.name)))throw new i.CKEditorError("alignment-config-name-already-defined",{option:e,configuredOptions:t});if(e.className&&o.some((t=>t.className==e.className)))throw new i.CKEditorError("alignment-config-classname-already-defined",{option:e,configuredOptions:t})})),e}},39269:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var i=n(93795),r=n(17051),o=n(66338);function a(t,e,n,i){let a,s=null;"function"==typeof i?a=i:(s=t.commands.get(i),a=()=>{t.execute(i)}),t.model.document.on("change:data",((u,l)=>{if(s&&!s.isEnabled||!e.isEnabled)return;const c=(0,o.first)(t.model.document.selection.getRanges());if(!c.isCollapsed)return;if("transparent"==l.type)return;const d=Array.from(t.model.document.differ.getChanges()),h=d[0];if(1!=d.length||"insert"!==h.type||"$text"!=h.name||1!=h.length)return;const f=h.position.parent;if(f.is("element","codeBlock"))return;if(f.is("element","listItem")&&"function"!=typeof i&&!["numberedList","bulletedList","todoList"].includes(i))return;if(s&&!0===s.value)return;const p=f.getChild(0),g=t.model.createRangeOn(p);if(!g.containsRange(c)&&!c.end.isEqual(g.end))return;const m=n.exec(p.data.substr(0,c.end.offset));m&&t.model.enqueueChange((e=>{const n=e.createPositionAt(f,0),i=e.createPositionAt(f,m[0].length),o=new r.LiveRange(n,i);if(!1!==a({match:m})){e.remove(o);const n=t.model.document.selection.getFirstRange(),i=e.createRangeIn(f);!f.isEmpty||i.isEqual(n)||i.containsRange(n,!0)||e.remove(f)}o.detach()}))}))}function s(t,e,n,i){let r,o;n instanceof RegExp?r=n:o=n,o=o||(t=>{let e;const n=[],i=[];for(;null!==(e=r.exec(t))&&!(e&&e.length<4);){let{index:t,1:r,2:o,3:a}=e;const s=r+o+a;t+=e[0].length-s.length;const u=[t,t+r.length],l=[t+r.length+o.length,t+r.length+o.length+a.length];n.push(u),n.push(l),i.push([t+r.length,t+r.length+o.length])}return{remove:n,format:i}}),t.model.document.on("change:data",((n,r)=>{if("transparent"==r.type||!e.isEnabled)return;const a=t.model,s=a.document.selection;if(!s.isCollapsed)return;const l=Array.from(a.document.differ.getChanges()),c=l[0];if(1!=l.length||"insert"!==c.type||"$text"!=c.name||1!=c.length)return;const d=s.focus,h=d.parent,{text:f,range:p}=function(t,e){let n=t.start;return{text:Array.from(t.getItems()).reduce(((t,i)=>!i.is("$text")&&!i.is("$textProxy")||i.getAttribute("code")?(n=e.createPositionAfter(i),""):t+i.data),""),range:e.createRange(n,t.end)}}(a.createRange(a.createPositionAt(h,0),d),a),g=o(f),m=u(p.start,g.format,a),v=u(p.start,g.remove,a);m.length&&v.length&&a.enqueueChange((t=>{if(!1!==i(t,m))for(const e of v.reverse())t.remove(e)}))}))}function u(t,e,n){return e.filter((t=>void 0!==t[0]&&void 0!==t[1])).map((e=>n.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1]))))}class l extends i.Plugin{static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&a(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&a(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&a(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&a(this.editor,this,/^\[\s?x\s?\]\s$/,(()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")}))}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const t=c(this.editor,"bold");s(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),s(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(t.get("italic")){const t=c(this.editor,"italic");s(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),s(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(t.get("code")){const t=c(this.editor,"code");s(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(t.get("strikethrough")){const t=c(this.editor,"strikethrough");s(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter((t=>t.match(/^heading[1-6]$/))).forEach((e=>{const n=e[7],i=new RegExp(`^(#{${n}})\\s$`);a(this.editor,this,i,(()=>{if(!t.isEnabled||t.value===e)return!1;this.editor.execute("heading",{value:e})}))}))}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&a(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){this.editor.commands.get("codeBlock")&&a(this.editor,this,/^```$/,"codeBlock")}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&a(this.editor,this,/^---$/,"horizontalLine")}}function c(t,e){return(n,i)=>{if(!t.commands.get(e).isEnabled)return!1;const r=t.model.schema.getValidRanges(i,e);for(const t of r)n.setAttribute(e,!0,t);n.removeSelectionAttribute(e)}}},90109:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var i=n(93795);class r extends i.Command{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,i=void 0===t.forceValue?!this.value:t.forceValue;e.change((t=>{if(n.isCollapsed)i?t.setSelectionAttribute(this.attributeKey,!0):t.removeSelectionAttribute(this.attributeKey);else{const r=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of r)i?t.setAttribute(this.attributeKey,i,e):t.removeAttribute(this.attributeKey,e)}}))}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const t of n.getRanges())for(const n of t.getItems())if(e.checkAttribute(n,this.attributeKey))return n.hasAttribute(this.attributeKey);return!1}}},30545:(t,e,n)=>{"use strict";function i(t){return((t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||t.includes("<br>"))&&(t=`<p>${t}</p>`),t}n.r(e),n.d(e,{default:()=>i})},94859:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>J});var i=n(7994);const r=Symbol("rootName");class o extends i.Z{constructor(t,e){super(t,e),this.rootName="main"}is(t,e=null){return e?e===this.name&&("rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}get rootName(){return this.getCustomProperty(r)}set rootName(t){this._setCustomProperty(r,t)}set _name(t){this.name=t}}var a=n(26151),s=n(52613),u=n(84829),l=n(27250),c=n(10135),d=n(96657),h=n(48646),f=n(69075),p=n(37680),g=n(29149);class m extends f.Z{constructor(t){super(t),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,n=new Map,i=new Set;for(const n of t)if("childList"===n.type){const t=e.mapDomToView(n.target);if(t&&(t.is("uiElement")||t.is("rawElement")))continue;t&&!this._isBogusBrMutation(n)&&i.add(t)}for(const r of t){const t=e.mapDomToView(r.target);if((!t||!t.is("uiElement")&&!t.is("rawElement"))&&"characterData"===r.type){const t=e.findCorrespondingViewText(r.target);t&&!i.has(t.parent)?n.set(t,{type:"text",oldText:t.data,newText:(0,p.th)(r.target),node:t}):!t&&(0,p.Sw)(r.target)&&i.add(e.mapDomToView(r.target.parentNode))}}const r=[];for(const t of n.values())this.renderer.markToSync("text",t.node),r.push(t);for(const t of i){const n=e.mapViewToDom(t),i=Array.from(t.getChildren()),o=Array.from(e.domChildrenToView(n,{withChildren:!1}));(0,g.Z)(i,o,s)||(this.renderer.markToSync("children",t),r.push({type:"children",oldChildren:i,newChildren:o,node:t}))}const o=t[0].target.ownerDocument.getSelection();let a=null;if(o&&o.anchorNode){const t=e.domPositionToView(o.anchorNode,o.anchorOffset),n=e.domPositionToView(o.focusNode,o.focusOffset);t&&n&&(a=new h.Z(t),a.setFocus(n))}function s(t,e){if(!Array.isArray(t))return t===e||!(!t.is("$text")||!e.is("$text"))&&t.data===e.data}r.length&&(this.document.fire("mutations",r,a),this.view.forceRender())}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}var v=n(94915),y=n(61147);class _ extends v.Z{constructor(t){super(t),this.domEventType=["keydown","keyup"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return(0,y.Cq)(this)}})}}var b=n(53434);class w extends f.Z{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=(0,b.Z)((t=>this.document.fire("selectionChangeDone",t)),200)}observe(){const t=this.document;t.on("arrowKey",((e,n)=>{t.selection.isFake&&this.isEnabled&&n.preventDefault()}),{context:"$capture"}),t.on("arrowKey",((e,n)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)}),{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new h.Z(e.getRanges(),{backward:e.isBackward,fake:!1});t!=y.Do.arrowleft&&t!=y.Do.arrowup||n.setTo(n.getFirstPosition()),t!=y.Do.arrowright&&t!=y.Do.arrowdown||n.setTo(n.getLastPosition());const i={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}class T extends f.Z{constructor(t){super(t),this.mutationObserver=t.getObserver(m),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=(0,b.Z)((t=>this.document.fire("selectionChangeDone",t)),200),this._clearInfiniteLoopInterval=setInterval((()=>this._clearInfiniteLoop()),1e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument;this._documents.has(e)||(this.listenTo(e,"selectionchange",((t,n)=>{this._handleSelectionChange(n,e)})),this._documents.add(e))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(t,e){if(!this.isEnabled)return;const n=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const i=this.domConverter.domSelectionToView(n);if(0!=i.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(i)&&this.domConverter.isDomSelectionCorrect(n)||++this._loopbackCounter>60))if(this.selection.isSimilar(i))this.view.forceRender();else{const t={oldSelection:this.selection,newSelection:i,domSelection:n};this.document.fire("selectionChange",t),this._fireSelectionChangeDoneDebounced(t)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class S extends v.Z{constructor(t){super(t),this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",(()=>{e.isFocused=!0,this._renderTimeoutId=setTimeout((()=>t.change((()=>{}))),50)})),e.on("blur",((n,i)=>{const r=e.selection.editableElement;null!==r&&r!==i.target||(e.isFocused=!1,t.change((()=>{})))}))}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class E extends v.Z{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",(()=>{e.isComposing=!0})),e.on("compositionend",(()=>{e.isComposing=!1}))}onDomEvent(t){this.fire(t.type,t)}}class O extends v.Z{constructor(t){super(t),this.domEventType=["beforeinput"]}onDomEvent(t){this.fire(t.type,t)}}var P=n(2229),C=n(53759);class A extends f.Z{constructor(t){super(t),this.document.on("keydown",((t,e)=>{if(this.isEnabled&&(0,C.isArrowKeyCode)(e.keyCode)){const n=new P.Z(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(n,e),n.stop.called&&t.stop()}}))}observe(){}}var k=n(29110),x=n(50131),I=n(33978),M=n(36224),R=n(37363);function N({target:t,viewportOffset:e=0}){const n=B(t);let i=n,r=null;for(;i;){let o;o=H(i==n?t:r),L(o,(()=>G(t,i)));const a=G(t,i);if(D(i,a,e),i.parent!=i){if(r=i.frameElement,i=i.parent,!r)return}else i=null}}function D(t,e,n){const i=e.clone().moveBy(0,n),r=e.clone().moveBy(0,-n),o=new M.Z(t).excludeScrollbarsAndBorders();if(![r,i].every((t=>o.contains(t)))){let{scrollX:a,scrollY:s}=t;F(r,o)?s-=o.top-e.top+n:j(i,o)&&(s+=e.bottom-o.bottom+n),V(e,o)?a-=o.left-e.left+n:U(e,o)&&(a+=e.right-o.right+n),t.scrollTo(a,s)}}function L(t,e){const n=B(t);let i,r;for(;t!=n.document.body;)r=e(),i=new M.Z(t).excludeScrollbarsAndBorders(),i.contains(r)||(F(r,i)?t.scrollTop-=i.top-r.top:j(r,i)&&(t.scrollTop+=r.bottom-i.bottom),V(r,i)?t.scrollLeft-=i.left-r.left:U(r,i)&&(t.scrollLeft+=r.right-i.right)),t=t.parentNode}function j(t,e){return t.bottom>e.bottom}function F(t,e){return t.top<e.top}function V(t,e){return t.left<e.left}function U(t,e){return t.right>e.right}function B(t){return(0,I.Z)(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function H(t){if((0,I.Z)(t)){let e=t.commonAncestorContainer;return(0,R.Z)(e)&&(e=e.parentNode),e}return t.parentNode}function G(t,e){const n=B(t),i=new M.Z(t);if(n===e)return i;{let t=n;for(;t!=e;){const e=t.frameElement,n=new M.Z(e).excludeScrollbarsAndBorders();i.moveBy(n.left,n.top),t=t.parent}}return i}Object.assign({},{scrollViewportToShowTarget:N,scrollAncestorsToShowTarget:function(t){L(H(t),(()=>new M.Z(t)))}});var W=n(42823),Z=n(78378),z=n(3950);class q{constructor(t){this.document=new a.default(t),this.domConverter=new l.Z(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new u.Z(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new s.default(this.document),this.addObserver(m),this.addObserver(T),this.addObserver(S),this.addObserver(_),this.addObserver(w),this.addObserver(E),this.addObserver(A),z.ZP.isAndroid&&this.addObserver(O),(0,p.mm)(this),(0,W.h)(this),this.on("render",(()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(()=>{this._hasChangedSinceTheLastRendering=!0})),this.listenTo(this.document,"change:isFocused",(()=>{this._hasChangedSinceTheLastRendering=!0}))}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const i={};for(const{name:e,value:r}of Array.from(t.attributes))i[e]=r,"class"===e?this._writer.addClass(r.split(" "),n):this._writer.setAttribute(e,r,n);this._initialDomRootAttributes.set(t,i);const r=()=>{this._writer.setAttribute("contenteditable",!n.isReadOnly,n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};r(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",((t,e)=>this._renderer.markToSync("children",e))),n.on("change:attributes",((t,e)=>this._renderer.markToSync("attributes",e))),n.on("change:text",((t,e)=>this._renderer.markToSync("text",e))),n.on("change:isReadOnly",(()=>this.change(r))),n.on("change",(()=>{this._hasChangedSinceTheLastRendering=!0}));for(const n of this._observers.values())n.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach((({name:t})=>e.removeAttribute(t)));const n=this._initialDomRootAttributes.get(e);for(const t in n)e.setAttribute(t,n[t]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[t,n]of this.domRoots)e.observe(n,t);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection(){const t=this.document.selection.getFirstRange();t&&N({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new Z.default("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(t){Z.default.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change((()=>{}))}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return c.Z._createAt(t,e)}createPositionAfter(t){return c.Z._createAfter(t)}createPositionBefore(t){return c.Z._createBefore(t)}createRange(t,e){return new d.Z(t,e)}createRangeOn(t){return d.Z._createOn(t)}createRangeIn(t){return d.Z._createIn(t)}createSelection(t,e,n){return new h.Z(t,e,n)}_disableRendering(t){this._renderingDisabled=t,0==t&&this.change((()=>{}))}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}(0,x.default)(q,k.default);var $=n(77942),Y=n(46225),K=n(60827),X=n(92661);class J{constructor(t,e){this.model=t,this.view=new q(e),this.mapper=new $.default,this.downcastDispatcher=new Y.default({mapper:this.mapper,schema:t.schema});const n=this.model.document,i=n.selection,r=this.model.markers;this.listenTo(this.model,"_beforeChanges",(()=>{this.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(()=>{this.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(n,"change",(()=>{this.view.change((t=>{this.downcastDispatcher.convertChanges(n.differ,r,t),this.downcastDispatcher.convertSelection(i,r,t)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(0,X.convertSelectionChange)(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(0,K.insertText)(),{priority:"lowest"}),this.downcastDispatcher.on("remove",(0,K.remove)(),{priority:"low"}),this.downcastDispatcher.on("selection",(0,K.clearAttributes)(),{priority:"high"}),this.downcastDispatcher.on("selection",(0,K.convertRangeSelection)(),{priority:"low"}),this.downcastDispatcher.on("selection",(0,K.convertCollapsedSelection)(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((t=>{if("$graveyard"==t.rootName)return null;const e=new o(this.view.document,t.name);return e.rootName=t.rootName,this.mapper.bindElements(t,e),e}))}destroy(){this.view.destroy(),this.stopListening()}}(0,x.default)(J,k.default)},46225:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var i=n(27234);class r{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=o(e),t instanceof i.Z&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=o(e),t instanceof i.Z&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=o(e),t instanceof i.Z&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(void 0===n)return null;const r=n.get(e);return void 0===r?null:r}revert(t,e){e=o(e),t instanceof i.Z&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const i=n.get(t.endOffset);i&&(e=i.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e}_addSymbolForTextProxy(t,e,n){const i=Symbol("textProxySymbol");let r,o;return r=this._textProxyRegistry.get(t),r||(r=new Map,this._textProxyRegistry.set(t,r)),o=r.get(e),o||(o=new Map,r.set(e,o)),o.set(n,i),i}}function o(t){const e=t.split(":");return"addMarker"==e[0]||"removeMarker"==e[0]?t:e.length>1?e[0]+":"+e[1]:e[0]}var a=n(35594),s=n.n(a),u=n(16776),l=n(40669),c=n(50131);class d{constructor(t){this.conversionApi=Object.assign({dispatcher:this},t),this._reconversionEventsMapping=new Map}convertChanges(t,e,n){for(const e of t.getMarkersToRemove())this.convertMarkerRemove(e.name,e.range,n);const i=this._mapChangesWithAutomaticReconversion(t);for(const t of i)"insert"===t.type?this.convertInsert(s()._createFromPositionAndShift(t.position,t.length),n):"remove"===t.type?this.convertRemove(t.position,t.length,t.name,n):"reconvert"===t.type?this.reconvertElement(t.element,n):this.convertAttribute(t.range,t.attributeKey,t.attributeOldValue,t.attributeNewValue,n);for(const t of this.conversionApi.mapper.flushUnboundMarkerNames()){const i=e.get(t).getRange();this.convertMarkerRemove(t,i,n),this.convertMarkerAdd(t,i,n)}for(const e of t.getMarkersToAdd())this.convertMarkerAdd(e.name,e.range,n)}convertInsert(t,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);for(const e of Array.from(t).map(f))this._convertInsertWithAttributes(e);this._clearConversionApi()}convertRemove(t,e,n,i){this.conversionApi.writer=i,this.fire("remove:"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi()}convertAttribute(t,e,n,i,r){this.conversionApi.writer=r,this.conversionApi.consumable=this._createConsumableForRange(t,`attribute:${e}`);for(const r of t){const t={item:r.item,range:s()._createFromPositionAndShift(r.previousPosition,r.length),attributeKey:e,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${e}`,t)}this._clearConversionApi()}reconvertElement(t,e){const n=s()._createOn(t);this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(n);const i=this.conversionApi.mapper,r=i.toViewElement(t);e.remove(r),this._convertInsertWithAttributes({item:t,range:n});const o=i.toViewElement(t);for(const n of s()._createIn(t)){const{item:t}=n,r=p(t,i);r?r.root!==o.root&&e.move(e.createRangeOn(r),i.toViewPosition(u.default._createBefore(t))):this._convertInsertWithAttributes(f(n))}i.unbindViewElement(r),this._clearConversionApi()}convertSelection(t,e,n){const i=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,i),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){for(const e of i){const n=e.getRange();if(!h(t.getFirstPosition(),e,this.conversionApi.mapper))continue;const i={item:t,markerName:e.name,markerRange:n};this.conversionApi.consumable.test(t,"addMarker:"+e.name)&&this.fire("addMarker:"+e.name,i,this.conversionApi)}for(const e of t.getAttributeKeys()){const n={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};this.conversionApi.consumable.test(t,"attribute:"+n.attributeKey)&&this.fire("attribute:"+n.attributeKey+":$text",n,this.conversionApi)}this._clearConversionApi()}else this._clearConversionApi()}convertMarkerAdd(t,e,n){if("$graveyard"==e.root.rootName)return;this.conversionApi.writer=n;const i="addMarker:"+t,o=new r;if(o.add(e,i),this.conversionApi.consumable=o,this.fire(i,{markerName:t,markerRange:e},this.conversionApi),o.test(e,i)){this.conversionApi.consumable=this._createConsumableForRange(e,i);for(const n of e.getItems()){if(!this.conversionApi.consumable.test(n,i))continue;const r={item:n,range:s()._createOn(n),markerName:t,markerRange:e};this.fire(i,r,this.conversionApi)}this._clearConversionApi()}else this._clearConversionApi()}convertMarkerRemove(t,e,n){"$graveyard"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi())}_mapReconversionTriggerEvent(t,e){this._reconversionEventsMapping.set(e,t)}_createInsertConsumable(t){const e=new r;for(const n of t){const t=n.item;e.add(t,"insert");for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n)}return e}_createConsumableForRange(t,e){const n=new r;for(const i of t.getItems())n.add(i,e);return n}_createSelectionConsumable(t,e){const n=new r;n.add(t,"selection");for(const i of e)n.add(t,"addMarker:"+i.name);for(const e of t.getAttributeKeys())n.add(t,"attribute:"+e);return n}_testAndFire(t,e){this.conversionApi.consumable.test(e.item,t)&&this.fire(function(t,e){return`${t}:${e.item.name||"$text"}`}(t,e),e,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}_convertInsertWithAttributes(t){this._testAndFire("insert",t);for(const e of t.item.getAttributeKeys())t.attributeKey=e,t.attributeOldValue=null,t.attributeNewValue=t.item.getAttribute(e),this._testAndFire(`attribute:${e}`,t)}_mapChangesWithAutomaticReconversion(t){const e=new Set,n=[];for(const i of t.getChanges()){const t=i.position||i.range.start,r=t.parent;if((0,u.getTextNodeAtPosition)(t,r)){n.push(i);continue}const o="attribute"===i.type?(0,u.getNodeAfterPosition)(t,r,null):r;if(o.is("$text")){n.push(i);continue}let a;if(a="attribute"===i.type?`attribute:${i.attributeKey}:${o.name}`:`${i.type}:${i.name}`,this._isReconvertTriggerEvent(a,o.name)){if(e.has(o))continue;e.add(o),n.push({type:"reconvert",element:o})}else n.push(i)}return n}_isReconvertTriggerEvent(t,e){return this._reconversionEventsMapping.get(t)===e}}function h(t,e,n){const i=e.getRange(),r=Array.from(t.getAncestors());return r.shift(),r.reverse(),!r.some((t=>{if(i.containsItem(t))return!!n.toViewElement(t).getCustomProperty("addHighlight")}))}function f(t){return{item:t.item,range:s()._createFromPositionAndShift(t.previousPosition,t.length)}}function p(t,e){if(t.is("textProxy")){const n=e.toViewPosition(u.default._createBefore(t)).parent;return n.is("$text")?n:null}return e.toViewElement(t)}(0,c.default)(d,l.default)},60827:(t,e,n)=>{"use strict";n.r(e),n.d(e,{clearAttributes:()=>_,convertCollapsedSelection:()=>y,convertRangeSelection:()=>v,createViewElementFromHighlightDescriptor:()=>m,default:()=>f,insertElement:()=>w,insertText:()=>p,insertUIElement:()=>T,remove:()=>g,wrap:()=>b});var i=n(35594),r=n.n(i),o=n(81790),a=n(55050),s=n(48125),u=n(36101),l=n(34716),c=n(68652),d=n(78378),h=n(73701);class f extends l.Z{elementToElement(t){return this.add(function(t){return(t=(0,c.Z)(t)).view=E(t.view,"container"),e=>{if(e.on("insert:"+t.model,w(t.view),{priority:t.converterPriority||"normal"}),t.triggerBy){if(t.triggerBy.attributes)for(const n of t.triggerBy.attributes)e._mapReconversionTriggerEvent(t.model,`attribute:${n}:${t.model}`);if(t.triggerBy.children)for(const n of t.triggerBy.children)e._mapReconversionTriggerEvent(t.model,`insert:${n}`),e._mapReconversionTriggerEvent(t.model,`remove:${n}`)}}}(t))}attributeToElement(t){return this.add(function(t){let e="attribute:"+((t=(0,c.Z)(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values)for(const e of t.model.values)t.view[e]=E(t.view[e],"attribute");else t.view=E(t.view,"attribute");const n=O(t);return i=>{i.on(e,b(n),{priority:t.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(t){let e="attribute:"+((t=(0,c.Z)(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values)for(const e of t.model.values)t.view[e]=P(t.view[e]);else t.view=P(t.view);const n=O(t);return i=>{var r;i.on(e,(r=n,(t,e,n)=>{const i=r(e.attributeOldValue,n),o=r(e.attributeNewValue,n);if(!i&&!o)return;if(!n.consumable.consume(e.item,t.name))return;const a=n.mapper.toViewElement(e.item),s=n.writer;if(!a)throw new d.default("conversion-attribute-to-attribute-on-text",[e,n]);if(null!==e.attributeOldValue&&i)if("class"==i.key){const t=(0,h.default)(i.value);for(const e of t)s.removeClass(e,a)}else if("style"==i.key){const t=Object.keys(i.value);for(const e of t)s.removeStyle(e,a)}else s.removeAttribute(i.key,a);if(null!==e.attributeNewValue&&o)if("class"==o.key){const t=(0,h.default)(o.value);for(const e of t)s.addClass(e,a)}else if("style"==o.key){const t=Object.keys(o.value);for(const e of t)s.setStyle(e,o.value[e],a)}else s.setAttribute(o.key,o.value,a)}),{priority:t.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(t){return(t=(0,c.Z)(t)).view=E(t.view,"ui"),e=>{e.on("addMarker:"+t.model,T(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,(t.view,(t,e,n)=>{const i=n.mapper.markerNameToElements(e.markerName);if(i){for(const t of i)n.mapper.unbindElementFromMarkerName(t,e.markerName),n.writer.clear(n.writer.createRangeOn(t),t);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}}),{priority:t.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(t){return e=>{var n;e.on("addMarker:"+t.model,(n=t.view,(t,e,i)=>{if(!e.item)return;if(!(e.item instanceof o.default||e.item instanceof u.Z||e.item.is("$textProxy")))return;const r=C(n,e,i);if(!r)return;if(!i.consumable.consume(e.item,t.name))return;const a=i.writer,s=m(a,r),l=a.document.selection;if(e.item instanceof o.default||e.item instanceof u.Z)a.wrap(l.getFirstRange(),s,l);else{const t=i.mapper.toViewRange(e.range),n=a.wrap(t,s);for(const t of n.getItems())if(t.is("attributeElement")&&t.isSimilar(s)){i.mapper.bindElementToMarker(t,e.markerName);break}}}),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,function(t){return(e,n,i)=>{if(!n.item)return;if(!(n.item instanceof a.default))return;const o=C(t,n,i);if(!o)return;if(!i.consumable.test(n.item,e.name))return;const s=i.mapper.toViewElement(n.item);if(s&&s.getCustomProperty("addHighlight")){i.consumable.consume(n.item,e.name);for(const t of r()._createIn(n.item))i.consumable.consume(t.item,e.name);s.getCustomProperty("addHighlight")(s,o,i.writer),i.mapper.bindElementToMarker(s,n.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,function(t){return(e,n,i)=>{if(n.markerRange.isCollapsed)return;const r=C(t,n,i);if(!r)return;const o=m(i.writer,r),a=i.mapper.markerNameToElements(n.markerName);if(a){for(const t of a)i.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(t),o):t.getCustomProperty("removeHighlight")(t,r.id,i.writer);i.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(t){const e=(t=(0,c.Z)(t)).model;return t.view||(t.view=n=>({group:e,name:n.substr(t.model.length+1)})),n=>{var i;n.on("addMarker:"+e,(i=t.view,(t,e,n)=>{const r=i(e.markerName,n);if(!r)return;const o=e.markerRange;n.consumable.consume(o,t.name)&&(S(o,!1,n,e,r),S(o,!0,n,e,r),t.stop())}),{priority:t.converterPriority||"normal"}),n.on("removeMarker:"+e,function(t){return(e,n,i)=>{const r=t(n.markerName,i);if(!r)return;const o=i.mapper.markerNameToElements(n.markerName);if(o){for(const t of o)i.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("containerElement")?(a(`data-${r.group}-start-before`,t),a(`data-${r.group}-start-after`,t),a(`data-${r.group}-end-before`,t),a(`data-${r.group}-end-after`,t)):i.writer.clear(i.writer.createRangeOn(t),t);i.writer.clearClonedElementsGroup(n.markerName),e.stop()}function a(t,e){if(e.hasAttribute(t)){const n=new Set(e.getAttribute(t).split(","));n.delete(r.name),0==n.size?i.writer.removeAttribute(t,e):i.writer.setAttribute(t,Array.from(n).join(","),e)}}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}}function p(){return(t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const i=n.writer,r=n.mapper.toViewPosition(e.range.start),o=i.createText(e.item.data);i.insert(r,o)}}function g(){return(t,e,n)=>{const i=n.mapper.toViewPosition(e.position),r=e.position.getShiftedBy(e.length),o=n.mapper.toViewPosition(r,{isPhantom:!0}),a=n.writer.createRange(i,o),s=n.writer.remove(a.getTrimmed());for(const t of n.writer.createRangeIn(s).getItems())n.mapper.unbindViewElement(t)}}function m(t,e){const n=t.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),"number"==typeof e.priority&&(n._priority=e.priority),n._id=e.id,n}function v(){return(t,e,n)=>{const i=e.selection;if(i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const r=[];for(const t of i.getRanges()){const e=n.mapper.toViewRange(t);r.push(e)}n.writer.setSelection(r,{backward:i.isBackward})}}function y(){return(t,e,n)=>{const i=e.selection;if(!i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const r=n.writer,o=i.getFirstPosition(),a=n.mapper.toViewPosition(o),s=r.breakAttributes(a);r.setSelection(s)}}function _(){return(t,e,n)=>{const i=n.writer,r=i.document.selection;for(const t of r.getRanges())t.isCollapsed&&t.end.parent.isAttached()&&n.writer.mergeAttributes(t.start);i.setSelection(null)}}function b(t){return(e,n,i)=>{const r=t(n.attributeOldValue,i),a=t(n.attributeNewValue,i);if(!r&&!a)return;if(!i.consumable.consume(n.item,e.name))return;const s=i.writer,l=s.document.selection;if(n.item instanceof o.default||n.item instanceof u.Z)s.wrap(l.getFirstRange(),a);else{let t=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&r&&(t=s.unwrap(t,r)),null!==n.attributeNewValue&&a&&s.wrap(t,a)}}}function w(t){return(e,n,i)=>{const r=t(n.item,i);if(!r)return;if(!i.consumable.consume(n.item,"insert"))return;const o=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(n.item,r),i.writer.insert(o,r)}}function T(t){return(e,n,i)=>{n.isOpening=!0;const r=t(n,i);n.isOpening=!1;const o=t(n,i);if(!r||!o)return;const a=n.markerRange;if(a.isCollapsed&&!i.consumable.consume(a,e.name))return;for(const t of a)if(!i.consumable.consume(t.item,e.name))return;const s=i.mapper,u=i.writer;u.insert(s.toViewPosition(a.start),r),i.mapper.bindElementToMarker(r,n.markerName),a.isCollapsed||(u.insert(s.toViewPosition(a.end),o),i.mapper.bindElementToMarker(o,n.markerName)),e.stop()}}function S(t,e,n,i,r){const o=e?t.start:t.end,a=o.nodeAfter&&o.nodeAfter.is("element")?o.nodeAfter:null,s=o.nodeBefore&&o.nodeBefore.is("element")?o.nodeBefore:null;if(a||s){let t,o;e&&a||!e&&!s?(t=a,o=!0):(t=s,o=!1);const u=n.mapper.toViewElement(t);if(u)return void function(t,e,n,i,r,o){const a=`data-${o.group}-${e?"start":"end"}-${n?"before":"after"}`,s=t.hasAttribute(a)?t.getAttribute(a).split(","):[];s.unshift(o.name),i.writer.setAttribute(a,s.join(","),t),i.mapper.bindElementToMarker(t,r.markerName)}(u,e,o,n,i,r)}!function(t,e,n,i,r){const o=`${r.group}-${e?"start":"end"}`,a=r.name?{name:r.name}:null,s=n.writer.createUIElement(o,a);n.writer.insert(t,s),n.mapper.bindElementToMarker(s,i.markerName)}(n.mapper.toViewPosition(o),e,n,i,r)}function E(t,e){return"function"==typeof t?t:(n,i)=>function(t,e,n){let i;"string"==typeof t&&(t={name:t});const r=e.writer,o=Object.assign({},t.attributes);if("container"==n)i=r.createContainerElement(t.name,o);else if("attribute"==n){const e={priority:t.priority||s.default.DEFAULT_PRIORITY};i=r.createAttributeElement(t.name,o,e)}else i=r.createUIElement(t.name,o);if(t.styles){const e=Object.keys(t.styles);for(const n of e)r.setStyle(n,t.styles[n],i)}if(t.classes){const e=t.classes;if("string"==typeof e)r.addClass(e,i);else for(const t of e)r.addClass(t,i)}return i}(t,i,e)}function O(t){return t.model.values?(e,n)=>{const i=t.view[e];return i?i(e,n):null}:t.view}function P(t){return"string"==typeof t?e=>({key:t,value:e}):"object"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}function C(t,e,n){const i="function"==typeof t?t(e,n):t;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}},77942:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var i=n(16776),r=n(35594),o=n.n(r),a=n(10135),s=n(96657),u=n(15778),l=n(40669),c=n(50131);class d{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",((t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);e.viewPosition=this.findPositionIn(n,e.modelPosition.offset)}),{priority:"low"}),this.on("viewToModelPosition",((t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),r=this._viewToModelMapping.get(n),o=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=i.default._createAt(r,o)}),{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t){const e=this.toModelElement(t);if(this._viewToModelMapping.delete(t),this._elementToMarkerNames.has(t))for(const e of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(e);this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e)}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t);const i=this._elementToMarkerNames.get(t)||new Set;i.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,i)}unbindElementFromMarkerName(t,e){const n=this._markerNameToElements.get(e);n&&(n.delete(t),0==n.size&&this._markerNameToElements.delete(e));const i=this._elementToMarkerNames.get(t);i&&(i.delete(e),0==i.size&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new(o())(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new s.Z(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={isPhantom:!1}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const t of e)if(t.is("attributeElement"))for(const e of t.getElementsWithSameId())n.add(e);else n.add(t);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t)return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t);if(t.is("$text"))return e;let i=0;for(let n=0;n<e;n++)i+=this.getModelLength(t.getChild(n));return i}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}findPositionIn(t,e){let n,i=0,r=0,o=0;if(t.is("$text"))return new a.Z(t,e);for(;r<e;)n=t.getChild(o),i=this.getModelLength(n),r+=i,o++;return r==e?this._moveViewPositionToTextNode(new a.Z(t,o)):this.findPositionIn(n,e-(r-i))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof u.Z?new a.Z(e,e.data.length):n instanceof u.Z?new a.Z(n,0):t}}(0,c.default)(d,l.default)},53442:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var i=n(27771),r=n(78378);class o{constructor(){this._consumables=new Map}add(t,e){let n;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new a(t),this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return void 0===n?null:t.is("$text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);void 0!==n&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const t of n)"style"!=t&&"class"!=t&&e.attributes.push(t);const i=t.getClassNames();for(const t of i)e.classes.push(t);const r=t.getStyleNames();for(const t of r)e.styles.push(t);return e}static createFrom(t,e){if(e||(e=new o(t)),t.is("$text"))return e.add(t),e;t.is("element")&&e.add(t,o.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=o.createFrom(n,e);return e}}class a{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e in this._consumables)if(e in t){const n=this._test(e,t[e]);if(!0!==n)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e in this._consumables)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._revert(e,t[e])}_add(t,e){const n=(0,i.Z)(e)?e:[e],o=this._consumables[t];for(const e of n){if("attributes"===t&&("class"===e||"style"===e))throw new r.default("viewconsumable-invalid-attribute",this);if(o.set(e,!0),"styles"===t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(e))o.set(t,!0)}}_test(t,e){const n=(0,i.Z)(e)?e:[e],r=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e){const t=r.get(e);if(void 0===t)return null;if(!t)return!1}else{const t="class"==e?"classes":"styles",n=this._test(t,[...this._consumables[t].keys()]);if(!0!==n)return n}return!0}_consume(t,e){const n=(0,i.Z)(e)?e:[e],r=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e){if(r.set(e,!1),"styles"==t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(e))r.set(t,!1)}else{const t="class"==e?"classes":"styles";this._consume(t,[...this._consumables[t].keys()])}}_revert(t,e){const n=(0,i.Z)(e)?e:[e],r=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e)!1===r.get(e)&&r.set(e,!0);else{const t="class"==e?"classes":"styles";this._revert(t,[...this._consumables[t].keys()])}}}var s=n(35594),u=n.n(s),l=n(16776),c=n(84236),d=n(88470),h=n(40669),f=n(50131);class p{constructor(t={}){this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(t,e){let n;for(const i of new c.SchemaContext(t)){const t={};for(const e of i.getAttributeKeys())t[e]=i.getAttribute(e);const r=e.createElement(i.name,t);n&&e.append(r,n),n=l.default._createAt(r,0)}return n}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=o.createFrom(t),this.conversionApi.store={};const{modelRange:i}=this._convertItem(t,this._modelCursor),r=e.createDocumentFragment();if(i){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren()))e.append(t,r);r.markers=function(t,e){const n=new Set,i=new Map,r=u()._createIn(t).getItems();for(const t of r)"$marker"==t.name&&n.add(t);for(const t of n){const n=t.getAttribute("data-name"),r=e.createPositionBefore(t);i.has(n)?i.get(n).end=r.clone():i.set(n,new(u())(r.clone())),e.remove(t)}return i}(r,e)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}_convertItem(t,e){const n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof u()))throw new r.default("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){let n=e.is("position")?e:l.default._createAt(e,0);const i=new(u())(n);for(const e of Array.from(t.getChildren())){const t=this._convertItem(e,n);t.modelRange instanceof u()&&(i.end=t.modelRange.end,n=t.modelCursor)}return{modelRange:i,modelCursor:n}}_safeInsert(t,e){const n=this._splitToAllowedParent(t,e);return!!n&&(this.conversionApi.writer.insert(t,n.position),!0)}_updateConversionResult(t,e){const n=this._getSplitParts(t),i=this.conversionApi.writer;e.modelRange||(e.modelRange=i.createRange(i.createPositionBefore(t),i.createPositionAfter(n[n.length-1])));const r=this._cursorParents.get(t);e.modelCursor=r?i.createPositionAt(r,0):e.modelRange.end}_splitToAllowedParent(t,e){const{schema:n,writer:i}=this.conversionApi;let r=n.findAllowedParent(e,t);if(r){if(r===e.parent)return{position:e};this._modelCursor.parent.getAncestors().includes(r)&&(r=null)}if(!r)return(0,d.isParagraphable)(e,t,n)?{position:(0,d.wrapInParagraph)(e,i)}:null;const o=this.conversionApi.writer.split(e,r),a=[];for(const t of o.range.getWalker())if("elementEnd"==t.type)a.push(t.item);else{const e=a.pop(),n=t.item;this._registerSplitPair(e,n)}const s=o.range.end.parent;return this._cursorParents.set(t,s),{position:o.position,cursorParent:s}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){let e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t],e}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}(0,f.default)(p,h.default)},92661:(t,e,n)=>{"use strict";n.r(e),n.d(e,{convertSelectionChange:()=>d,convertText:()=>c,convertToModelFragment:()=>l,default:()=>u});var i=n(73617),r=n(34716),o=n(68652),a=n(4841),s=n(88470);class u extends r.Z{elementToElement(t){return this.add(h(t))}elementToAttribute(t){return this.add(function(t){g(t=(0,o.Z)(t));const e=m(t,!1),n=f(t.view),i=n?"element:"+n:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(t){let e=null;("string"==typeof(t=(0,o.Z)(t)).view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});const e=t.view.key;let n;return n="class"==e||"style"==e?{["class"==e?"classes":"styles"]:t.view.value}:{attributes:{[e]:void 0===t.view.value?/[\s\S]*/:t.view.value}},t.view.name&&(n.name=t.view.name),t.view=n,e}(t)),g(t,e);const n=m(t,!0);return e=>{e.on("element",n,{priority:t.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(t){return function(t){const e=t.model;t.model=(t,n)=>{const i="string"==typeof e?e:e(t,n);return n.writer.createElement("$marker",{"data-name":i})}}(t=(0,o.Z)(t)),h(t)}(t))}dataToMarker(t){return this.add(function(t){(t=(0,o.Z)(t)).model||(t.model=e=>e?t.view+":"+e:t.view);const e=p(v(t,"start")),n=p(v(t,"end"));return i=>{i.on("element:"+t.view+"-start",e,{priority:t.converterPriority||"normal"}),i.on("element:"+t.view+"-end",n,{priority:t.converterPriority||"normal"});const r=a.Z.get("low"),o=a.Z.get("highest"),s=a.Z.get(t.converterPriority)/o;i.on("element",function(t){return(e,n,i)=>{const r=`data-${t.view}`;function o(e,r){for(const o of r){const r=t.model(o,i),a=i.writer.createElement("$marker",{"data-name":r});i.writer.insert(a,e),n.modelCursor.isEqual(e)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(e,1),n.modelRange=n.modelRange._getTransformedByInsertion(e,1)[0]}}(i.consumable.test(n.viewItem,{attributes:r+"-end-after"})||i.consumable.test(n.viewItem,{attributes:r+"-start-after"})||i.consumable.test(n.viewItem,{attributes:r+"-end-before"})||i.consumable.test(n.viewItem,{attributes:r+"-start-before"}))&&(n.modelRange||Object.assign(n,i.convertChildren(n.viewItem,n.modelCursor)),i.consumable.consume(n.viewItem,{attributes:r+"-end-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(r+"-end-after").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-start-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(r+"-start-after").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-end-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(r+"-end-before").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-start-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(r+"-start-before").split(",")))}}(t),{priority:r+s})}}(t))}}function l(){return(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}}}function c(){return(t,e,{schema:n,consumable:i,writer:r})=>{let o=e.modelCursor;if(!i.test(e.viewItem))return;if(!n.checkChild(o,"$text")){if(!(0,s.isParagraphable)(o,"$text",n))return;o=(0,s.wrapInParagraph)(o,r)}i.consume(e.viewItem);const a=r.createText(e.viewItem.data);r.insert(a,o),e.modelRange=r.createRange(o,o.getShiftedBy(a.offsetSize)),e.modelCursor=e.modelRange.end}}function d(t,e){return(n,i)=>{const r=i.newSelection,o=[];for(const t of r.getRanges())o.push(e.toModelRange(t));const a=t.createSelection(o,{backward:r.isBackward});a.isEqual(t.document.selection)||t.change((t=>{t.setSelection(a)}))}}function h(t){const e=p(t=(0,o.Z)(t)),n=f(t.view),i=n?"element:"+n:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"normal"})}}function f(t){return"string"==typeof t?t:"object"==typeof t&&"string"==typeof t.name?t.name:null}function p(t){const e=new i.Z(t.view);return(n,i,r)=>{const o=e.match(i.viewItem);if(!o)return;const a=o.match;if(a.name=!0,!r.consumable.test(i.viewItem,a))return;const s=function(t,e,n){return t instanceof Function?t(e,n):n.writer.createElement(t)}(t.model,i.viewItem,r);s&&r.safeInsert(s,i.modelCursor)&&(r.consumable.consume(i.viewItem,a),r.convertChildren(i.viewItem,s),r.updateConversionResult(s,i))}}function g(t,e=null){const n=null===e||(t=>t.getAttribute(e)),i="object"!=typeof t.model?t.model:t.model.key,r="object"!=typeof t.model||void 0===t.model.value?n:t.model.value;t.model={key:i,value:r}}function m(t,e){const n=new i.Z(t.view);return(i,r,o)=>{const a=n.match(r.viewItem);if(!a)return;if(function(t,e){const n="function"==typeof t?t(e):t;return!("object"==typeof n&&!f(n))&&(!n.classes&&!n.attributes&&!n.styles)}(t.view,r.viewItem)?a.match.name=!0:delete a.match.name,!o.consumable.test(r.viewItem,a.match))return;const s=t.model.key,u="function"==typeof t.model.value?t.model.value(r.viewItem,o):t.model.value;if(null===u)return;r.modelRange||Object.assign(r,o.convertChildren(r.viewItem,r.modelCursor));const l=function(t,e,n,i){let r=!1;for(const o of Array.from(t.getItems({shallow:n})))i.schema.checkAttribute(o,e.key)&&(r=!0,o.hasAttribute(e.key)||i.writer.setAttribute(e.key,e.value,o));return r}(r.modelRange,{key:s,value:u},e,o);l&&o.consumable.consume(r.viewItem,a.match)}}function v(t,e){const n={};return n.view=t.view+"-"+e,n.model=(e,n)=>{const i=e.getAttribute("name"),r=t.model(i,n);return n.writer.createElement("$marker",{"data-name":r})},n}},72376:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});class i{getHtml(t){const e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}var r=n(27250);class o{constructor(t){this._domParser=new DOMParser,this._domConverter=new r.Z(t,{blockFillerMode:"nbsp"}),this._htmlWriter=new i}toData(t){const e=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this._domConverter.domToView(e)}registerRawContentMatcher(t){this._domConverter.registerRawContentMatcher(t)}useFillerType(t){this._domConverter.blockFillerMode="marked"==t?"markedNbsp":"nbsp"}_toDom(t){const e=this._domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment();let i=e.firstChild;for(;!i.isSameNode(e.documentElement);){const t=i;i=i.nextSibling,t.nodeType==Node.COMMENT_NODE&&n.appendChild(t)}const r=e.body.childNodes;for(;r.length>0;)n.appendChild(r[0]);return n}}},14021:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ClickObserver:()=>nt,Conversion:()=>m(),DataController:()=>p(),DocumentSelection:()=>G.Z,DomConverter:()=>K.Z,DomEventData:()=>pt.Z,DomEventObserver:()=>et.Z,DowncastWriter:()=>rt.default,EditingController:()=>h.default,Element:()=>Y.default,HtmlDataProcessor:()=>v.default,InsertOperation:()=>y.Z,LivePosition:()=>Z.Z,LiveRange:()=>W.Z,MarkerOperation:()=>_.Z,Matcher:()=>ft.Z,Model:()=>q(),MouseObserver:()=>it,Observer:()=>tt.Z,OperationFactory:()=>b.default,Range:()=>k(),Renderer:()=>X.Z,StylesProcessor:()=>gt.StylesProcessor,TreeWalker:()=>$.default,UpcastWriter:()=>ht,ViewDocument:()=>J.default,addBackgroundRules:()=>Ht,addBorderRules:()=>Wt,addMarginRules:()=>ee,addPaddingRules:()=>ne,disablePlaceholder:()=>o,enablePlaceholder:()=>r,getBoxSidesShorthandValue:()=>Vt,getBoxSidesValueReducer:()=>Ft,getBoxSidesValues:()=>jt,getFillerOffset:()=>Q.Y,getPositionShorthandNormalizer:()=>Ut,getShorthandValues:()=>Bt,hidePlaceholder:()=>s,isAttachment:()=>Nt,isColor:()=>Tt,isLength:()=>Pt,isLineStyle:()=>Et,isPercentage:()=>At,isPosition:()=>Mt,isRepeat:()=>xt,isURL:()=>Lt,needsPlaceholder:()=>u,showPlaceholder:()=>a,transformSets:()=>L});const i=new WeakMap;function r(t){const{view:e,element:n,text:r,isDirectHost:o=!0,keepOnFocus:a=!1}=t,s=e.document;i.has(s)||(i.set(s,new Map),s.registerPostFixer((t=>l(s,t)))),i.get(s).set(n,{text:r,isDirectHost:o,keepOnFocus:a,hostElement:o?n:null}),e.change((t=>l(s,t)))}function o(t,e){const n=e.document;t.change((t=>{if(!i.has(n))return;const r=i.get(n),o=r.get(e);t.removeAttribute("data-placeholder",o.hostElement),s(t,o.hostElement),r.delete(e)}))}function a(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}function s(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}function u(t,e){if(!t.isAttached())return!1;const n=Array.from(t.getChildren()).some((t=>!t.is("uiElement")));if(n)return!1;if(e)return!0;const i=t.document;if(!i.isFocused)return!0;const r=i.selection.anchor;return r&&r.parent!==t}function l(t,e){const n=i.get(t),r=[];let o=!1;for(const[t,i]of n)i.isDirectHost&&(r.push(t),c(e,t,i)&&(o=!0));for(const[t,i]of n){if(i.isDirectHost)continue;const n=d(t);n&&(r.includes(n)||(i.hostElement=n,c(e,t,i)&&(o=!0)))}return o}function c(t,e,n){const{text:i,isDirectHost:r,hostElement:o}=n;let l=!1;return o.getAttribute("data-placeholder")!==i&&(t.setAttribute("data-placeholder",i,o),l=!0),(r||1==e.childCount)&&u(o,n.keepOnFocus)?a(t,o)&&(l=!0):s(t,o)&&(l=!0),l}function d(t){if(t.childCount){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement"))return e}return null}var h=n(94859),f=n(64861),p=n.n(f),g=n(2964),m=n.n(g),v=n(72376),y=n(76253),_=n(14023),b=n(70057),w=n(30232),T=n(98199),S=n(14365),E=n(16390),O=n(27984),P=n(67130),C=n(73686),A=n(35594),k=n.n(A),x=n(16776),I=n(28017);const M=new Map;function R(t,e,n){let i=M.get(t);i||(i=new Map,M.set(t,i)),i.set(e,n)}function N(t){return[t]}function D(t,e,n={}){const i=function(t,e){const n=M.get(t);return n&&n.has(e)?n.get(e):N}(t.constructor,e.constructor);try{return i(t=t.clone(),e,n)}catch(t){throw t}}function L(t,e,n){t=t.slice(),e=e.slice();const i=new j(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(t),i.setOriginalOperations(e);const r=i.originalOperations;if(0==t.length||0==e.length)return{operationsA:t,operationsB:e,originalOperations:r};const o=new WeakMap;for(const e of t)o.set(e,0);const a={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length};let s=0;for(;s<t.length;){const n=t[s],r=o.get(n);if(r==e.length){s++;continue}const a=e[r],u=D(n,a,i.getContext(n,a,!0)),l=D(a,n,i.getContext(a,n,!1));i.updateRelation(n,a),i.setOriginalOperations(u,n),i.setOriginalOperations(l,a);for(const t of u)o.set(t,r+l.length);t.splice(s,1,...u),e.splice(r,1,...l)}if(n.padWithNoOps){const n=t.length-a.originalOperationsACount,i=e.length-a.originalOperationsBCount;V(t,i-n),V(e,n-i)}return F(t,a.nextBaseVersionB),F(e,a.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:r}}class j{constructor(t,e,n=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this.originalOperations.get(e):null;for(const e of t)this.originalOperations.set(e,n||e)}updateRelation(t,e){switch(t.constructor){case S.Z:switch(e.constructor){case O.Z:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter");break;case S.Z:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter")}break;case P.Z:switch(e.constructor){case O.Z:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case S.Z:if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const n=k()._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)){const i=n.end.offset-t.splitPosition.offset,r=t.splitPosition.offset-n.start.offset;this._setRelation(t,e,{howMany:i,offset:r})}}}break;case O.Z:switch(e.constructor){case O.Z:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement");break;case P.Z:t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource")}break;case _.Z:{const n=t.newRange;if(!n)return;switch(e.constructor){case S.Z:{const i=k()._createFromPositionAndShift(e.sourcePosition,e.howMany),r=i.containsPosition(n.start)||i.start.isEqual(n.start),o=i.containsPosition(n.end)||i.end.isEqual(n.end);!r&&!o||i.containsRange(n)||this._setRelation(t,e,{side:r?"left":"right",path:r?n.start.path.slice():n.end.path.slice()});break}case O.Z:{const i=n.start.isEqual(e.targetPosition),r=n.start.isEqual(e.deletionPosition),o=n.end.isEqual(e.deletionPosition),a=n.end.isEqual(e.sourcePosition);(i||r||o||a)&&this._setRelation(t,e,{wasInLeftElement:i,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:o,wasInRightElement:a});break}}break}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this.originalOperations.get(e),i=this._history.getUndoneOperation(n);if(!i)return null;const r=this.originalOperations.get(t),o=this._relations.get(r);return o&&o.get(i)||null}_setRelation(t,e,n){const i=this.originalOperations.get(t),r=this.originalOperations.get(e);let o=this._relations.get(i);o||(o=new Map,this._relations.set(i,o)),o.set(r,n)}}function F(t,e){for(const n of t)n.baseVersion=e++}function V(t,e){for(let n=0;n<e;n++)t.push(new C.Z(0))}function U(t,e,n){const i=t.nodes.getNode(0).getAttribute(e);if(i==n)return null;const r=new(k())(t.position,t.position.getShiftedBy(t.howMany));return new w.Z(r,e,i,n,0)}function B(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function H(t,e){const n=[];for(let i=0;i<t.length;i++){const r=t[i],o=new S.Z(r.start,r.end.offset-r.start.offset,e,0);n.push(o);for(let e=i+1;e<t.length;e++)t[e]=t[e]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];e=e._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}R(w.Z,w.Z,((t,e,n)=>{if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){const i=t.range.getDifference(e.range).map((e=>new w.Z(e,t.key,t.oldValue,t.newValue,0))),r=t.range.getIntersection(e.range);return r&&n.aIsStrong&&i.push(new w.Z(r,e.key,e.newValue,t.newValue,0)),0==i.length?[new C.Z(0)]:i}return[t]})),R(w.Z,y.Z,((t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map((e=>new w.Z(e,t.key,t.oldValue,t.newValue,t.baseVersion)));if(e.shouldReceiveAttributes){const i=U(e,t.key,t.oldValue);i&&n.unshift(i)}return n}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]})),R(w.Z,O.Z,((t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(k()._createFromPositionAndShift(e.graveyardPosition,1));const i=t.range._getTransformedByMergeOperation(e);return i.isCollapsed||n.push(i),n.map((e=>new w.Z(e,t.key,t.oldValue,t.newValue,t.baseVersion)))})),R(w.Z,S.Z,((t,e)=>{const n=function(t,e){const n=k()._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=null,r=[];n.containsRange(t,!0)?i=t:t.start.hasSameParentAs(n.start)?(r=t.getDifference(n),i=t.getIntersection(n)):r=[t];const o=[];for(let t of r){t=t._getTransformedByDeletion(e.sourcePosition,e.howMany);const n=e.getMovedRangeStart(),i=t.start.hasSameParentAs(n);t=t._getTransformedByInsertion(n,e.howMany,i),o.push(...t)}return i&&o.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),o}(t.range,e);return n.map((e=>new w.Z(e,t.key,t.oldValue,t.newValue,t.baseVersion)))})),R(w.Z,P.Z,((t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new(k())(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]})),R(y.Z,w.Z,((t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const i=U(t,e.key,e.newValue);i&&n.push(i)}return n})),R(y.Z,y.Z,((t,e,n)=>(t.position.isEqual(e.position)&&n.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t]))),R(y.Z,S.Z,((t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]))),R(y.Z,P.Z,((t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t]))),R(y.Z,O.Z,((t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t]))),R(_.Z,y.Z,((t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]))),R(_.Z,_.Z,((t,e,n)=>{if(t.name==e.name){if(!n.aIsStrong)return[new C.Z(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]})),R(_.Z,O.Z,((t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]))),R(_.Z,S.Z,((t,e,n)=>{if(t.oldRange&&(t.oldRange=k()._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){const i=k()._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.start.path=n.abRelation.path,t.newRange.end=i.end,[t];if("right"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=i.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=k()._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]})),R(_.Z,P.Z,((t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const i=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=x.default._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=x.default._createAt(e.moveTargetPosition)),t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=x.default._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=x.default._createAt(e.insertionPosition):t.newRange.end=i.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]})),R(O.Z,y.Z,((t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]))),R(O.Z,O.Z,((t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),t.sourcePosition=new x.default(e.graveyardPosition.root,n),t.howMany=0,[t]}return[new C.Z(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const i="$graveyard"==t.targetPosition.root.rootName,r="$graveyard"==e.targetPosition.root.rootName;if(r&&!i||(!i||r)&&n.aIsStrong){const n=e.targetPosition._getTransformedByMergeOperation(e),i=t.targetPosition._getTransformedByMergeOperation(e);return[new S.Z(n,t.howMany,i,0)]}return[new C.Z(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),R(O.Z,S.Z,((t,e,n)=>{const i=k()._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition)?[new C.Z(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])})),R(O.Z,P.Z,((t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){const i=0!=e.howMany,r=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(i||r||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]})),R(S.Z,y.Z,((t,e)=>{const n=k()._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]})),R(S.Z,S.Z,((t,e,n)=>{const i=k()._createFromPositionAndShift(t.sourcePosition,t.howMany),r=k()._createFromPositionAndShift(e.sourcePosition,e.howMany);let o,a=n.aIsStrong,s=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?s=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(s=!1),o=t.targetPosition.isEqual(e.targetPosition)&&s?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),B(t,e)&&B(e,t))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(r,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),H([i],o);if(r.containsPosition(t.targetPosition)&&r.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),H([i],o);const u=(0,I.default)(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==u||"extension"==u)return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),H([i],o);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(a=!1):a=!0;const l=[],c=i.getDifference(r);for(const t of c){t.start=t.start._getTransformedByDeletion(e.sourcePosition,e.howMany),t.end=t.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const n="same"==(0,I.default)(t.start.getParentPath(),e.getMovedRangeStart().getParentPath()),i=t._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,n);l.push(...i)}const d=i.getIntersection(r);return null!==d&&a&&(d.start=d.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),d.end=d.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===l.length?l.push(d):1==l.length?r.start.isBefore(i.start)||r.start.isEqual(i.start)?l.unshift(d):l.push(d):l.splice(1,0,d)),0===l.length?[new C.Z(t.baseVersion)]:H(l,o)})),R(S.Z,P.Z,((t,e,n)=>{let i=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=t.targetPosition._getTransformedBySplitOperation(e));const r=k()._createFromPositionAndShift(t.sourcePosition,t.howMany);if(r.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=i,[t];if(r.start.hasSameParentAs(e.splitPosition)&&r.containsPosition(e.splitPosition)){let t=new(k())(e.splitPosition,r.end);return t=t._getTransformedBySplitOperation(e),H([new(k())(r.start,e.splitPosition),t],i)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(i=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(i=t.targetPosition);const o=[r._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const i=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);t.howMany>1&&i&&!n.aWasUndone&&o.push(k()._createFromPositionAndShift(e.insertionPosition,1))}return H(o,i)})),R(S.Z,O.Z,((t,e,n)=>{const i=k()._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new C.Z(0)]}else if(!n.aWasUndone){const n=[];let i=e.graveyardPosition.clone(),r=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(n.push(new S.Z(t.sourcePosition,t.howMany-1,t.targetPosition,0)),i=i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),r=r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));const o=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),a=new S.Z(i,1,o,0),s=a.getMovedRangeStart().path.slice();s.push(0);const u=new x.default(a.targetPosition.root,s);r=r._getTransformedByMove(i,o,1);const l=new S.Z(r,e.howMany,u,0);return n.push(a),n.push(l),n}const r=k()._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=r.start,t.howMany=r.end.offset-r.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]})),R(T.Z,y.Z,((t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t]))),R(T.Z,O.Z,((t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t]))),R(T.Z,S.Z,((t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]))),R(T.Z,T.Z,((t,e,n)=>{if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new C.Z(0)];t.oldName=e.newName}return[t]})),R(T.Z,P.Z,((t,e)=>{const n=t.position.path,i=e.splitPosition.getParentPath();if("same"==(0,I.default)(n,i)&&!e.graveyardPosition){const e=new T.Z(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,e]}return t.position=t.position._getTransformedBySplitOperation(e),[t]})),R(E.Z,E.Z,((t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new C.Z(0)];t.oldValue=e.newValue}return[t]})),R(P.Z,y.Z,((t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=t.insertionPosition._getTransformedByInsertOperation(e),[t]))),R(P.Z,O.Z,((t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const i=new x.default(e.graveyardPosition.root,n),r=P.Z.getInsertionPosition(new x.default(e.graveyardPosition.root,n)),o=new P.Z(i,0,r,null,0);return t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=P.Z.getInsertionPosition(t.splitPosition),t.graveyardPosition=o.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[o,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=P.Z.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),R(P.Z,S.Z,((t,e,n)=>{const i=k()._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const r=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&r){const n=t.splitPosition._getTransformedByMoveOperation(e),i=t.graveyardPosition._getTransformedByMoveOperation(e),r=i.path.slice();r.push(0);const o=new x.default(i.root,r);return[new S.Z(n,t.howMany,o,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}const r=t.splitPosition.isEqual(e.targetPosition);if(r&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=P.Z.getInsertionPosition(t.splitPosition),[t];if(r&&n.abRelation&&n.abRelation.howMany){const{howMany:e,offset:i}=n.abRelation;return t.howMany+=e,t.splitPosition=t.splitPosition.getShiftedBy(i),[t]}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.splitPosition)){const n=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=n,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=P.Z.getInsertionPosition(t.splitPosition),[t]}return e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=P.Z.getInsertionPosition(t.splitPosition),[t]})),R(P.Z,P.Z,((t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new C.Z(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new C.Z(0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const i="$graveyard"==t.splitPosition.root.rootName,r="$graveyard"==e.splitPosition.root.rootName;if(r&&!i||(!i||r)&&n.aIsStrong){const n=[];return e.howMany&&n.push(new S.Z(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&n.push(new S.Z(t.splitPosition,t.howMany,t.moveTargetPosition,0)),n}return[new C.Z(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){const n=e.insertionPosition.path.slice();n.push(0);const i=new x.default(e.insertionPosition.root,n);return[t,new S.Z(t.insertionPosition,1,i,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=P.Z.getInsertionPosition(t.splitPosition),[t]}));var G=n(36101),W=n(4502),Z=n(7899),z=n(19333),q=n.n(z),$=n(28067),Y=n(55050),K=n(27250),X=n(84829),J=n(26151),Q=n(60924),tt=n(69075),et=n(94915);class nt extends et.Z{constructor(t){super(t),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}class it extends et.Z{constructor(t){super(t),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(t){this.fire(t.type,t)}}var rt=n(52613),ot=n(87482),at=n(96203),st=n(15778),ut=n(37514),lt=n(10135),ct=n(96657),dt=n(48646);class ht{constructor(t){this.document=t}createDocumentFragment(t){return new ot.default(this.document,t)}createElement(t,e,n){return new at.Z(this.document,t,e,n)}createText(t){return new st.Z(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const i=n.getChildIndex(t);return this.removeChildren(i,1,n),this.insertChild(i,e,n),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}rename(t,e){const n=new at.Z(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){(0,ut.Z)(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return lt.Z._createAt(t,e)}createPositionAfter(t){return lt.Z._createAfter(t)}createPositionBefore(t){return lt.Z._createBefore(t)}createRange(t,e){return new ct.Z(t,e)}createRangeOn(t){return ct.Z._createOn(t)}createRangeIn(t){return ct.Z._createIn(t)}createSelection(t,e,n){return new dt.Z(t,e,n)}}var ft=n(73617),pt=n(60092),gt=n(97337);const mt=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,vt=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,yt=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,_t=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,bt=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,wt=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","rebeccapurple","currentcolor","transparent"]);function Tt(t){return t.startsWith("#")?mt.test(t):t.startsWith("rgb")?vt.test(t)||yt.test(t):t.startsWith("hsl")?_t.test(t)||bt.test(t):wt.has(t.toLowerCase())}const St=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function Et(t){return St.includes(t)}const Ot=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function Pt(t){return Ot.test(t)}const Ct=/^[+-]?[0-9]*([.][0-9]+)?%$/;function At(t){return Ct.test(t)}const kt=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function xt(t){return kt.includes(t)}const It=["center","top","bottom","left","right"];function Mt(t){return It.includes(t)}const Rt=["fixed","scroll","local"];function Nt(t){return Rt.includes(t)}const Dt=/^url\(/;function Lt(t){return Dt.test(t)}function jt(t=""){if(""===t)return{top:void 0,right:void 0,bottom:void 0,left:void 0};const e=Bt(t),n=e[0],i=e[2]||n,r=e[1]||n;return{top:n,bottom:i,right:r,left:e[3]||r}}function Ft(t){return e=>{const{top:n,right:i,bottom:r,left:o}=e,a=[];return[n,i,o,r].every((t=>!!t))?a.push([t,Vt(e)]):(n&&a.push([t+"-top",n]),i&&a.push([t+"-right",i]),r&&a.push([t+"-bottom",r]),o&&a.push([t+"-left",o])),a}}function Vt({top:t,right:e,bottom:n,left:i}){const r=[];return i!==e?r.push(t,e,n,i):n!==t?r.push(t,e,n):e!==t?r.push(t,e):r.push(t),r.join(" ")}function Ut(t){return e=>({path:t,value:jt(e)})}function Bt(t){return t.replace(/, /g,",").split(" ").map((t=>t.replace(/,/g,", ")))}function Ht(t){t.setNormalizer("background",Gt),t.setNormalizer("background-color",(t=>({path:"background.color",value:t}))),t.setReducer("background",(t=>{const e=[];return e.push(["background-color",t.color]),e})),t.setStyleRelation("background",["background-color"])}function Gt(t){const e={},n=Bt(t);for(const t of n)xt(t)?(e.repeat=e.repeat||[],e.repeat.push(t)):Mt(t)?(e.position=e.position||[],e.position.push(t)):Nt(t)?e.attachment=t:Tt(t)?e.color=t:Lt(t)&&(e.image=t);return{path:"background",value:e}}function Wt(t){t.setNormalizer("border",Zt),t.setNormalizer("border-top",zt("top")),t.setNormalizer("border-right",zt("right")),t.setNormalizer("border-bottom",zt("bottom")),t.setNormalizer("border-left",zt("left")),t.setNormalizer("border-color",qt("color")),t.setNormalizer("border-width",qt("width")),t.setNormalizer("border-style",qt("style")),t.setNormalizer("border-top-color",Yt("color","top")),t.setNormalizer("border-top-style",Yt("style","top")),t.setNormalizer("border-top-width",Yt("width","top")),t.setNormalizer("border-right-color",Yt("color","right")),t.setNormalizer("border-right-style",Yt("style","right")),t.setNormalizer("border-right-width",Yt("width","right")),t.setNormalizer("border-bottom-color",Yt("color","bottom")),t.setNormalizer("border-bottom-style",Yt("style","bottom")),t.setNormalizer("border-bottom-width",Yt("width","bottom")),t.setNormalizer("border-left-color",Yt("color","left")),t.setNormalizer("border-left-style",Yt("style","left")),t.setNormalizer("border-left-width",Yt("width","left")),t.setExtractor("border-top",Kt("top")),t.setExtractor("border-right",Kt("right")),t.setExtractor("border-bottom",Kt("bottom")),t.setExtractor("border-left",Kt("left")),t.setExtractor("border-top-color","border.color.top"),t.setExtractor("border-right-color","border.color.right"),t.setExtractor("border-bottom-color","border.color.bottom"),t.setExtractor("border-left-color","border.color.left"),t.setExtractor("border-top-width","border.width.top"),t.setExtractor("border-right-width","border.width.right"),t.setExtractor("border-bottom-width","border.width.bottom"),t.setExtractor("border-left-width","border.width.left"),t.setExtractor("border-top-style","border.style.top"),t.setExtractor("border-right-style","border.style.right"),t.setExtractor("border-bottom-style","border.style.bottom"),t.setExtractor("border-left-style","border.style.left"),t.setReducer("border-color",Ft("border-color")),t.setReducer("border-style",Ft("border-style")),t.setReducer("border-width",Ft("border-width")),t.setReducer("border-top",Qt("top")),t.setReducer("border-right",Qt("right")),t.setReducer("border-bottom",Qt("bottom")),t.setReducer("border-left",Qt("left")),t.setReducer("border",function(){return e=>{const n=Xt(e,"top"),i=Xt(e,"right"),r=Xt(e,"bottom"),o=Xt(e,"left"),a=[n,i,r,o],s={width:t(a,"width"),style:t(a,"style"),color:t(a,"color")},u=te(s,"all");if(u.length)return u;const l=Object.entries(s).reduce(((t,[e,n])=>(n&&(t.push([`border-${e}`,n]),a.forEach((t=>t[e]=null))),t)),[]);return[...l,...te(n,"top"),...te(i,"right"),...te(r,"bottom"),...te(o,"left")]};function t(t,e){return t.map((t=>t[e])).reduce(((t,e)=>t==e?t:null))}}()),t.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),t.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),t.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),t.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),t.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),t.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),t.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),t.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function Zt(t){const{color:e,style:n,width:i}=Jt(t);return{path:"border",value:{color:jt(e),style:jt(n),width:jt(i)}}}function zt(t){return e=>{const{color:n,style:i,width:r}=Jt(e),o={};return void 0!==n&&(o.color={[t]:n}),void 0!==i&&(o.style={[t]:i}),void 0!==r&&(o.width={[t]:r}),{path:"border",value:o}}}function qt(t){return e=>({path:"border",value:$t(e,t)})}function $t(t,e){return{[e]:jt(t)}}function Yt(t,e){return n=>({path:"border",value:{[t]:{[e]:n}}})}function Kt(t){return(e,n)=>{if(n.border)return Xt(n.border,t)}}function Xt(t,e){const n={};return t.width&&t.width[e]&&(n.width=t.width[e]),t.style&&t.style[e]&&(n.style=t.style[e]),t.color&&t.color[e]&&(n.color=t.color[e]),n}function Jt(t){const e={},n=Bt(t);for(const t of n)Pt(t)||/thin|medium|thick/.test(t)?e.width=t:Et(t)?e.style=t:e.color=t;return e}function Qt(t){return e=>te(e,t)}function te(t,e){const n=[];if(t&&t.width&&n.push("width"),t&&t.style&&n.push("style"),t&&t.color&&n.push("color"),3==n.length){const i=n.map((e=>t[e])).join(" ");return["all"==e?["border",i]:[`border-${e}`,i]]}return"all"==e?[]:n.map((n=>[`border-${e}-${n}`,t[n]]))}function ee(t){t.setNormalizer("margin",Ut("margin")),t.setNormalizer("margin-top",(t=>({path:"margin.top",value:t}))),t.setNormalizer("margin-right",(t=>({path:"margin.right",value:t}))),t.setNormalizer("margin-bottom",(t=>({path:"margin.bottom",value:t}))),t.setNormalizer("margin-left",(t=>({path:"margin.left",value:t}))),t.setReducer("margin",Ft("margin")),t.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function ne(t){t.setNormalizer("padding",Ut("padding")),t.setNormalizer("padding-top",(t=>({path:"padding.top",value:t}))),t.setNormalizer("padding-right",(t=>({path:"padding.right",value:t}))),t.setNormalizer("padding-bottom",(t=>({path:"padding.bottom",value:t}))),t.setNormalizer("padding-left",(t=>({path:"padding.left",value:t}))),t.setReducer("padding",Ft("padding")),t.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}},54917:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});class i{constructor(t="default"){this.operations=[],this.type=t}get baseVersion(){for(const t of this.operations)if(null!==t.baseVersion)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}},13090:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>b});var i=n(16776),r=n(35594),o=n.n(r);class a{constructor(t){this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize);const e=o()._createOn(t);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}this._cachedChanges=null}bufferOperation(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems({shallow:!0}))this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=o()._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}break}case"split":{const e=t.splitPosition.parent;this._isInInsertedElement(e)||this._markRemove(e,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1);const n=t.graveyardPosition.parent;this._markInsert(n,t.graveyardPosition.offset,1);const i=t.targetPosition.parent;this._isInInsertedElement(i)||this._markInsert(i,t.targetPosition.offset,e.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n,i){const r=this._changedMarkers.get(t);r?(r.newRange=n,r.affectsData=i,null==r.oldRange&&null==r.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:i})}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.oldRange&&t.push({name:e,range:n.oldRange});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.newRange&&t.push({name:e,range:n.newRange});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map((t=>({name:t[0],data:{oldRange:t[1].oldRange,newRange:t[1].newRange}})))}hasDataChanges(){for(const[,t]of this._changedMarkers)if(t.affectsData)return!0;return this._changesInElement.size>0}getChanges(t={includeChangesInGraveyard:!1}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const t of this._changesInElement.keys()){const n=this._changesInElement.get(t).sort(((t,e)=>t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1)),r=this._elementSnapshots.get(t),a=s(t.getChildren()),l=u(r.length,n);let c=0,d=0;for(const n of l)if("i"===n)e.push(this._getInsertDiff(t,c,a[c].name)),c++;else if("r"===n)e.push(this._getRemoveDiff(t,c,r[d].name)),d++;else if("a"===n){const n=a[c].attributes,s=r[d].attributes;let u;if("$text"==a[c].name)u=new(o())(i.default._createAt(t,c),i.default._createAt(t,c+1));else{const e=t.offsetToIndex(c);u=new(o())(i.default._createAt(t,c),i.default._createAt(t.getChild(e),0))}e.push(...this._getAttributesDiff(u,s,n)),c++,d++}else c++,d++}e.sort(((t,e)=>t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1));for(let t=1,n=0;t<e.length;t++){const i=e[n],r=e[t],o="remove"==i.type&&"remove"==r.type&&"$text"==i.name&&"$text"==r.name&&i.position.isEqual(r.position),a="insert"==i.type&&"insert"==r.type&&"$text"==i.name&&"$text"==r.name&&i.position.parent==r.position.parent&&i.position.offset+i.length==r.position.offset,s="attribute"==i.type&&"attribute"==r.type&&i.position.parent==r.position.parent&&i.range.isFlat&&r.range.isFlat&&i.position.offset+i.length==r.position.offset&&i.attributeKey==r.attributeKey&&i.attributeOldValue==r.attributeOldValue&&i.attributeNewValue==r.attributeNewValue;o||a||s?(i.length++,s&&(i.range.end=i.range.end.getShiftedBy(1)),e[t]=null):n=t}e=e.filter((t=>t));for(const t of e)delete t.changeCount,"attribute"==t.type&&(delete t.position,delete t.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e.slice(),this._cachedChanges=e.filter(l),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(t,e,n){const i={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i)}_markRemove(t,e,n){const i={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let t=0;t<n.length;t++)n[t].howMany<1&&(n.splice(t,1),t--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,s(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const i=t.offset+t.howMany,r=n.offset+n.howMany;if("insert"==t.type&&("insert"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<r&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),"attribute"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<r){const r=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:i,howMany:r-n.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(i<=r)if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e,t.nodesToHandle-=e}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<r){const e=r-t.offset;n.howMany-=e,t.nodesToHandle-=e}if("remove"==n.type&&(i<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e}else if(t.offset<r)if(i<=r){const i=n.howMany;n.howMany=t.offset-n.offset;const r=i-n.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:r,count:this._changeCount++})}else n.howMany-=r-t.offset}if("attribute"==t.type){if("insert"==n.type)if(t.offset<n.offset&&i>n.offset){if(i>r){const t={type:"attribute",offset:r,howMany:i-r,count:this._changeCount++};this._handleChange(t,e),e.push(t)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<r&&(i>r?(t.nodesToHandle=i-r,t.offset=r):t.nodesToHandle=0);if("remove"==n.type&&t.offset<n.offset&&i>n.offset){const r={type:"attribute",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(r,e),e.push(r),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==n.type&&(t.offset>=n.offset&&i<=r?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&i>=r&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:"insert",position:i.default._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,n){return{type:"remove",position:i.default._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const i=[];n=new Map(n);for(const[r,o]of e){const e=n.has(r)?n.get(r):null;e!==o&&i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:o,attributeNewValue:e,changeCount:this._changeCount++}),n.delete(r)}for(const[e,r]of n)i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:e,attributeOldValue:null,attributeNewValue:r,changeCount:this._changeCount++});return i}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),i=t.startOffset;if(n)for(const t of n)if("insert"==t.type&&i>=t.offset&&i<t.offset+t.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const r=new(o())(i.default._createAt(t,e),i.default._createAt(t,e+n));for(const t of r.getItems({shallow:!0}))t.is("element")&&(this._elementSnapshots.delete(t),this._changesInElement.delete(t),this._removeAllNestedChanges(t,0,t.maxOffset))}}function s(t){const e=[];for(const n of t)if(n.is("$text"))for(let t=0;t<n.data.length;t++)e.push({name:"$text",attributes:new Map(n.getAttributes())});else e.push({name:n.name,attributes:new Map(n.getAttributes())});return e}function u(t,e){const n=[];let i=0,r=0;for(const t of e){if(t.offset>i){for(let e=0;e<t.offset-i;e++)n.push("e");r+=t.offset-i}if("insert"==t.type){for(let e=0;e<t.howMany;e++)n.push("i");i=t.offset+t.howMany}else if("remove"==t.type){for(let e=0;e<t.howMany;e++)n.push("r");i=t.offset,r+=t.howMany}else n.push(..."a".repeat(t.howMany).split("")),i=t.offset+t.howMany,r+=t.howMany}if(r<t)for(let e=0;e<t-r-i;e++)n.push("e");return n}function l(t){const e=t.position&&"$graveyard"==t.position.root.rootName,n=t.range&&"$graveyard"==t.range.root.rootName;return!e&&!n}var c=n(6062);class d{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(t){this._operations.includes(t)||this._operations.push(t)}getOperations(t=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY){const n=[];for(const i of this._operations)i.baseVersion>=t&&i.baseVersion<e&&n.push(i);return n}getOperation(t){for(const e of this._operations)if(e.baseVersion==t)return e}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}}var h=n(36101),f=n(4033),p=n(40669),g=n(78378),m=n(50131),v=n(6694),y=n(92346);const _="$graveyard";class b{constructor(t){this.model=t,this.version=0,this.history=new d(this),this.selection=new h.Z(this),this.roots=new f.default({idProperty:"rootName"}),this.differ=new a(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",_),this.listenTo(t,"applyOperation",((t,e)=>{const n=e[0];if(n.isDocumentOperation&&n.baseVersion!==this.version)throw new g.default("model-document-applyoperation-wrong-version",this,{operation:n})}),{priority:"highest"}),this.listenTo(t,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&this.differ.bufferOperation(n)}),{priority:"high"}),this.listenTo(t,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&(this.version++,this.history.addOperation(n))}),{priority:"low"}),this.listenTo(this.selection,"change",(()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(t.markers,"update",((t,e,n,i)=>{this.differ.bufferMarkerChange(e.name,n,i,e.affectsData),null===n&&e.on("change",((t,n)=>{this.differ.bufferMarkerChange(e.name,n,e.getRange(),e.affectsData)}))}))}get graveyard(){return this.getRoot(_)}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new g.default("model-document-createroot-name-exists",this,{name:e});const n=new c.Z(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,(t=>t.rootName)).filter((t=>t!=_))}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=(0,y.Z)(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,i=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(i)||e.createRange(i)}_validateSelectionRange(t){return w(t.start)&&w(t.end)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),e=n(t),e)break}while(e)}}function w(t){const e=t.textNode;if(e){const n=e.data,i=t.offset-e.startOffset;return!(0,v.to)(n,i)&&!(0,v.pp)(n,i)}return!0}(0,m.default)(b,p.default)},30289:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(54409),r=n(55050),o=n(25243),a=n(27234),s=n(65838);class u{constructor(t){this.markers=new Map,this._children=new i.Z,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"===t||"model:documentFragment"===t}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)n.name?e.push(r.default.fromJSON(n)):e.push(o.default.fromJSON(n));return new u(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){return"string"==typeof t?[new o.default(t)]:((0,s.Z)(t)||(t=[t]),Array.from(t).map((t=>"string"==typeof t?new o.default(t):t instanceof a.Z?new o.default(t.data,t.getAttributes()):t)))}(e);for(const t of n)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const t of n)t.parent=null;return n}}},36101:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var i=n(50131),r=n(40669),o=n(81790),a=n(4502),s=n(25243),u=n(27234),l=n(79047),c=n(4033),d=n(78378),h=n(369);const f="selection:";class p{constructor(t){this._selection=new g(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}is(t){return"selection"===t||"model:selection"==t||"documentSelection"==t||"model:documentSelection"==t}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return f+t}static _isStoreAttributeKey(t){return t.startsWith(f)}}(0,i.default)(p,r.default);class g extends o.default{constructor(t){super(),this.markers=new c.default({idProperty:"name"}),this._model=t.model,this._document=t,this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this.listenTo(this._model,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),this.on("change:range",(()=>{for(const t of this.getRanges())if(!this._document._validateSelectionRange(t))throw new d.default("document-selection-wrong-position",this,{range:t})})),this.listenTo(this._model.markers,"update",((t,e,n,i)=>{this._updateMarker(e,i)})),this.listenTo(this._document,"change",((t,e)=>{!function(t,e){const n=t.document.differ;for(const i of n.getChanges()){if("insert"!=i.type)continue;const n=i.position.parent;i.length===n.maxOffset&&t.enqueueChange(e,(t=>{const e=Array.from(n.getAttributeKeys()).filter((t=>t.startsWith(f)));for(const i of e)t.removeAttribute(i,n)}))}}(this._model,e)}))}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(t,e,n){super.setTo(t,e,n),this._updateAttributes(!0),this._updateMarkers()}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0),this._updateMarkers()}setAttribute(t,e){if(this._setAttribute(t,e)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}overrideGravity(){const t=(0,h.Z)();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new d.default("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this._updateMarkers()}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=a.Z.fromRange(t);return e.on("change:range",((t,n,i)=>{if(this._hasChangedRange=!0,e.root==this._document.graveyard){this._selectionRestorePosition=i.deletionPosition;const t=this._ranges.indexOf(e);this._ranges.splice(t,1),e.detach()}})),e}_updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let e=!1;for(const e of this._model.markers){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))continue;const i=e.getRange();for(const n of this.getRanges())i.containsRange(n,!n.isCollapsed)&&t.push(e)}const n=Array.from(this.markers);for(const n of t)this.markers.has(n)||(this.markers.add(n),e=!0);for(const n of Array.from(this.markers))t.includes(n)||(this.markers.remove(n),e=!0);e&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(t,e){const n=t.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let i=!1;const r=Array.from(this.markers),o=this.markers.has(t);if(e){let n=!1;for(const t of this.getRanges())if(e.containsRange(t,!t.isCollapsed)){n=!0;break}n&&!o?(this.markers.add(t),i=!0):!n&&o&&(this.markers.remove(t),i=!0)}else o&&(this.markers.remove(t),i=!0);i&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateAttributes(t){const e=(0,l.Z)(this._getSurroundingAttributes()),n=(0,l.Z)(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[t,e]of this._attributePriority)"low"==e&&(this._attrs.delete(t),this._attributePriority.delete(t));this._setAttributesTo(e);const i=[];for(const[t,e]of this.getAttributes())n.has(t)&&n.get(t)===e||i.push(t);for(const[t]of n)this.hasAttribute(t)||i.push(t);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(t,e,n=!0){const i=n?"normal":"low";return("low"!=i||"normal"!=this._attributePriority.get(t))&&(super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,i),!0))}_removeAttribute(t,e=!0){const n=e?"normal":"low";return!("low"==n&&"normal"==this._attributePriority.get(t)||(this._attributePriority.set(t,n),!super.hasAttribute(t)||(this._attrs.delete(t),0)))}_setAttributesTo(t){const e=new Set;for(const[e,n]of this.getAttributes())t.get(e)!==n&&this._removeAttribute(e,!1);for(const[n,i]of t)this._setAttribute(n,i,!1)&&e.add(n);return e}*_getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())if(e.startsWith(f)){const n=e.substr(10);yield[n,t.getAttribute(e)]}}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;let n=null;if(this.isCollapsed){const i=t.textNode?t.textNode:t.nodeBefore,r=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=m(i)),n||(n=m(r)),!this.isGravityOverridden&&!n){let t=i;for(;t&&!e.isInline(t)&&!n;)t=t.previousSibling,n=m(t)}if(!n){let t=r;for(;t&&!e.isInline(t)&&!n;)t=t.nextSibling,n=m(t)}n||(n=this._getStoredAttributes())}else{const t=this.getFirstRange();for(const i of t){if(i.item.is("element")&&e.isObject(i.item))break;if("text"==i.type){n=i.item.getAttributes();break}}}return n}_fixGraveyardSelection(t){const e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}}function m(t){return t instanceof u.Z||t instanceof s.default?t.getAttributes():null}},55050:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var i=n(45709),r=n(54409),o=n(25243),a=n(27234),s=n(65838);class u extends i.Z{constructor(t,e,n){super(e),this.name=t,this._children=new r.Z,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(t,e=null){return e?e===this.name&&("element"===t||"model:element"===t):"element"===t||"model:element"===t||"node"===t||"model:node"===t}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}findAncestor(t,e={includeSelf:!1}){let n=e.includeSelf?this:this.parent;for(;n;){if(n.name===t)return n;n=n.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map((t=>t._clone(!0))):null;return new u(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){return"string"==typeof t?[new o.default(t)]:((0,s.Z)(t)||(t=[t]),Array.from(t).map((t=>"string"==typeof t?new o.default(t):t instanceof a.Z?new o.default(t.data,t.getAttributes()):t)))}(e);for(const t of n)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const t of n)t.parent=null;return n}static fromJSON(t){let e=null;if(t.children){e=[];for(const n of t.children)n.name?e.push(u.fromJSON(n)):e.push(o.default.fromJSON(n))}return new u(t.name,t.attributes,e)}}},7899:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(16776),r=n(40669),o=n(50131),a=n(78378);class s extends i.default{constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new a.default("model-liveposition-root-not-rootelement",t);u.call(this)}detach(){this.stopListening()}is(t){return"livePosition"===t||"model:livePosition"===t||"position"==t||"model:position"===t}toPosition(){return new i.default(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}function u(){this.listenTo(this.root.document.model,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&l.call(this,n)}),{priority:"low"})}function l(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}(0,o.default)(s,r.default)},4502:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(35594),r=n.n(i),o=n(40669),a=n(50131);class s extends(r()){constructor(t,e){super(t,e),u.call(this)}detach(){this.stopListening()}is(t){return"liveRange"===t||"model:liveRange"===t||"range"==t||"model:range"===t}toRange(){return new(r())(this.start,this.end)}static fromRange(t){return new s(t.start,t.end)}}function u(){this.listenTo(this.root.document.model,"applyOperation",((t,e)=>{const n=e[0];n.isDocumentOperation&&l.call(this,n)}),{priority:"low"})}function l(t){const e=this.getTransformedByOperation(t),n=r()._createFromRanges(e),i=!n.isEqual(this),o=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t);let a=null;if(i){"$graveyard"==n.root.rootName&&(a="remove"==t.type?t.sourcePosition:t.deletionPosition);const e=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",e,{deletionPosition:a})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:a})}(0,a.default)(s,o.default)},46914:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(4502),r=n(40669),o=n(78378),a=n(50131);class s{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,r=!1){const a=t instanceof u?t.name:t;if(a.includes(","))throw new o.default("markercollection-incorrect-marker-name",this);const s=this._markers.get(a);if(s){const t=s.getRange();let o=!1;return t.isEqual(e)||(s._attachLiveRange(i.Z.fromRange(e)),o=!0),n!=s.managedUsingOperations&&(s._managedUsingOperations=n,o=!0),"boolean"==typeof r&&r!=s.affectsData&&(s._affectsData=r,o=!0),o&&this.fire("update:"+a,s,t,e),s}const l=i.Z.fromRange(e),c=new u(a,l,n,r);return this._markers.set(a,c),this.fire("update:"+a,c,null,e),c}_remove(t){const e=t instanceof u?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null),this._destroyMarker(n),!0)}_refresh(t){const e=t instanceof u?t.name:t,n=this._markers.get(e);if(!n)throw new o.default("markercollection-refresh-marker-not-exists",this);const i=n.getRange();this.fire("update:"+e,n,i,i,n.managedUsingOperations,n.affectsData)}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}(0,a.default)(s,r.default);class u{constructor(t,e,n,i){this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new o.default("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new o.default("marker-destroyed",this);return this._affectsData}getStart(){if(!this._liveRange)throw new o.default("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new o.default("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new o.default("marker-destroyed",this);return this._liveRange.toRange()}is(t){return"marker"===t||"model:marker"===t}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}(0,a.default)(u,r.default)},45709:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(79047),r=n(78378),o=n(28017);n(9807);class a{constructor(t){this.parent=null,this._attrs=(0,i.Z)(t)}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new r.default("model-node-not-found-in-parent",this);return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new r.default("model-node-not-found-in-parent",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let r=0;for(;n[r]==i[r]&&n[r];)r++;return 0===r?null:n[r-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=(0,o.default)(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce(((t,e)=>(t[e[0]]=e[1],t)),{})),t}is(t){return"node"===t||"model:node"===t}_clone(){return new a(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=(0,i.Z)(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}},54409:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(45709),r=n(78378);class o{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce(((t,e)=>t+e.offsetSize),0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return-1==e?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce(((t,e)=>t+e.offsetSize),0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new r.default("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new r.default("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const t of e)if(!(t instanceof i.Z))throw new r.default("model-nodelist-insertnodes-not-node",this);this._nodes.splice(t,0,...e)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map((t=>t.toJSON()))}}},30232:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(6419),r=n(35594),o=n.n(r),a=n(78378),s=n(32065),u=n(50576);class l extends i.Z{constructor(t,e,n,i,r){super(r),this.range=t.clone(),this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===i?null:i}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new l(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new l(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new a.default("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!(0,u.Z)(t.getAttribute(this.key),this.oldValue))throw new a.default("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new a.default("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){(0,u.Z)(this.oldValue,this.newValue)||(0,s.pX)(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new l(o().fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}},76253:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var i=n(6419),r=n(16776),o=n(54409),a=n(14365),s=n(32065),u=n(25243),l=n(55050),c=n(78378);class d extends i.Z{constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new o.Z((0,s.So)(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const t=new o.Z([...this.nodes].map((t=>t._clone(!0)))),e=new d(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=this.position.root.document.graveyard,e=new r.default(t,[0]);return new a.Z(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new c.default("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new o.Z([...t].map((t=>t._clone(!0)))),(0,s.fj)(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const e of t.nodes)e.name?n.push(l.default.fromJSON(e)):n.push(u.default.fromJSON(e));const i=new d(r.default.fromJSON(t.position,e),n,t.baseVersion);return i.shouldReceiveAttributes=t.shouldReceiveAttributes,i}}},14023:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(6419),r=n(35594),o=n.n(r);class a extends i.Z{constructor(t,e,n,i,r,o){super(o),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=r,this._markers=i}get type(){return"marker"}clone(){return new a(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new a(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){const t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new a(t.name,t.oldRange?o().fromJSON(t.oldRange,e):null,t.newRange?o().fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}},27984:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(6419),r=n(67130),o=n(16776),a=n(35594),s=n.n(a),u=n(32065),l=n(78378);class c extends i.Z{constructor(t,e,n,i,r){super(r),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new o.default(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new(s())(this.sourcePosition,t)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new o.default(this.sourcePosition.root,e)._getTransformedByMergeOperation(this);return new r.Z(t,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new l.default("merge-operation-source-position-invalid",this);if(!e.parent)throw new l.default("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new l.default("merge-operation-how-many-invalid",this)}_execute(){const t=this.sourcePosition.parent,e=s()._createIn(t);(0,u.XF)(e,this.targetPosition),(0,u.XF)(s()._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=o.default.fromJSON(t.sourcePosition,e),i=o.default.fromJSON(t.targetPosition,e),r=o.default.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,i,r,t.baseVersion)}}},14365:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(6419),r=n(16776),o=n(35594),a=n.n(o),s=n(78378),u=n(28017),l=n(32065);class c extends i.Z{constructor(t,e,n,i){super(i),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new s.default("move-operation-nodes-do-not-exist",this);if(t===e&&n<i&&i<n+this.howMany)throw new s.default("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==(0,u.default)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=n&&this.targetPosition.path[t]<n+this.howMany)throw new s.default("move-operation-node-into-itself",this)}}_execute(){(0,l.XF)(a()._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=r.default.fromJSON(t.sourcePosition,e),i=r.default.fromJSON(t.targetPosition,e);return new this(n,t.howMany,i,t.baseVersion)}}},73686:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(6419);class r extends i.Z{get type(){return"noop"}clone(){return new r(this.baseVersion)}getReversed(){return new r(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}},6419:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});class i{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t){return new this(t.baseVersion)}}},70057:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var i=n(30232),r=n(76253),o=n(14023),a=n(14365),s=n(73686),u=n(6419),l=n(98199),c=n(16390),d=n(67130),h=n(27984);const f={};f[i.Z.className]=i.Z,f[r.Z.className]=r.Z,f[o.Z.className]=o.Z,f[a.Z.className]=a.Z,f[s.Z.className]=s.Z,f[u.Z.className]=u.Z,f[l.Z.className]=l.Z,f[c.Z.className]=c.Z,f[d.Z.className]=d.Z,f[h.Z.className]=h.Z;class p{static fromJSON(t,e){return f[t.__className].fromJSON(t,e)}}},98199:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(6419),r=n(55050),o=n(78378),a=n(16776);class s extends i.Z{constructor(t,e,n,i){super(i),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}clone(){return new s(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new s(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof r.default))throw new o.default("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new o.default("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new s(a.default.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}},16390:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(6419),r=n(78378);class o extends i.Z{constructor(t,e,n,i,r){super(r),this.root=t,this.key=e,this.oldValue=n,this.newValue=i}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new o(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new o(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new r.default("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new r.default("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new r.default("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new r.default("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new o(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}},67130:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(6419),r=n(27984),o=n(16776),a=n(35594),s=n.n(a),u=n(32065),l=n(78378);class c extends i.Z{constructor(t,e,n,i,r){super(r),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=n,this.graveyardPosition=i?i.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new o.default(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new(s())(this.splitPosition,t)}clone(){return new this.constructor(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.splitPosition.root.document.graveyard,e=new o.default(t,[0]);return new r.Z(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new l.default("split-operation-position-invalid",this);if(!t.parent)throw new l.default("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new l.default("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new l.default("split-operation-graveyard-position-invalid",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)(0,u.XF)(s()._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();(0,u.fj)(this.insertionPosition,e)}const e=new(s())(o.default._createAt(t,this.splitPosition.offset),o.default._createAt(t,t.maxOffset));(0,u.XF)(e,this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new o.default(t.root,e,"toPrevious")}static fromJSON(t,e){const n=o.default.fromJSON(t.splitPosition,e),i=o.default.fromJSON(t.insertionPosition,e),r=t.graveyardPosition?o.default.fromJSON(t.graveyardPosition,e):null;return new this(n,t.howMany,i,r,t.baseVersion)}}},32065:(t,e,n)=>{"use strict";n.d(e,{So:()=>g,X9:()=>h,XF:()=>f,fj:()=>d,pX:()=>p});var i=n(45709),r=n(25243),o=n(27234),a=n(35594),s=n.n(a),u=n(30289),l=n(54409),c=n(78378);function d(t,e){const n=(e=g(e)).reduce(((t,e)=>t+e.offsetSize),0),i=t.parent;v(t);const r=t.index;return i._insertChild(r,e),m(i,r+e.length),m(i,r),new(s())(t,t.getShiftedBy(n))}function h(t){if(!t.isFlat)throw new c.default("operation-utils-remove-range-not-flat",this);const e=t.start.parent;v(t.start),v(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return m(e,t.start.index),n}function f(t,e){if(!t.isFlat)throw new c.default("operation-utils-move-range-not-flat",this);const n=h(t);return d(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}function p(t,e,n){v(t.start),v(t.end);for(const i of t.getItems({shallow:!0})){const t=i.is("$textProxy")?i.textNode:i;null!==n?t._setAttribute(e,n):t._removeAttribute(e),m(t.parent,t.index)}m(t.end.parent,t.end.index)}function g(t){const e=[];t instanceof Array||(t=[t]);for(let n=0;n<t.length;n++)if("string"==typeof t[n])e.push(new r.default(t[n]));else if(t[n]instanceof o.Z)e.push(new r.default(t[n].data,t[n].getAttributes()));else if(t[n]instanceof u.Z||t[n]instanceof l.Z)for(const i of t[n])e.push(i);else t[n]instanceof i.Z&&e.push(t[n]);for(let t=1;t<e.length;t++){const n=e[t],i=e[t-1];n instanceof r.default&&i instanceof r.default&&y(n,i)&&(e.splice(t-1,2,new r.default(i.data+n.data,i.getAttributes())),t--)}return e}function m(t,e){const n=t.getChild(e-1),i=t.getChild(e);if(n&&i&&n.is("$text")&&i.is("$text")&&y(n,i)){const o=new r.default(n.data+i.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,o)}}function v(t){const e=t.textNode,n=t.parent;if(e){const i=t.offset-e.startOffset,o=e.index;n._removeChildren(o,1);const a=new r.default(e.data.substr(0,i),e.getAttributes()),s=new r.default(e.data.substr(i),e.getAttributes());n._insertChild(o,[a,s])}}function y(t,e){const n=t.getAttributes(),i=e.getAttributes();for(const t of n){if(t[1]!==e.getAttribute(t[0]))return!1;i.next()}return i.next().done}},16776:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a,getNodeAfterPosition:()=>u,getNodeBeforePosition:()=>l,getTextNodeAtPosition:()=>s});var i=n(28067),r=n(28017),o=n(78378);n(9807);class a{constructor(t,e,n="toNone"){if(!t.is("element")&&!t.is("documentFragment"))throw new o.default("model-position-root-invalid",t);if(!(e instanceof Array)||0===e.length)throw new o.default("model-position-path-incorrect-format",t,{path:e});t.is("rootElement")?e=e.slice():(e=[...t.getPath(),...e],t=t.root),this.root=t,this.path=e,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChild(t.offsetToIndex(this.path[e])),!t)throw new o.default("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new o.default("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return s(this,this.parent)}get nodeAfter(){const t=this.parent;return u(this,t,s(this,t))}get nodeBefore(){const t=this.parent;return l(this,t,s(this,t))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=(0,r.default)(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new i.default(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const e=(0,r.default)(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return"after"==this.compareWith(t)}isBefore(t){return"before"==this.compareWith(t)}isEqual(t){return"same"==this.compareWith(t)}isTouching(t){let e=null,n=null;switch(this.compareWith(t)){case"same":return!0;case"before":e=a._createAt(this),n=a._createAt(t);break;case"after":e=a._createAt(t),n=a._createAt(this);break;default:return!1}let i=e.parent;for(;e.path.length+n.path.length;){if(e.isEqual(n))return!0;if(e.path.length>n.path.length){if(e.offset!==i.maxOffset)return!1;e.path=e.path.slice(0,-1),i=i.parent,e.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}is(t){return"position"===t||"model:position"===t}hasSameParentAs(t){if(this.root!==t.root)return!1;const e=this.getParentPath(),n=t.getParentPath();return"same"==(0,r.default)(e,n)}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=a._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let n;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?a._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}_getTransformedByDeletion(t,e){const n=a._createAt(this);if(this.root!=t.root)return n;if("same"==(0,r.default)(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if("prefix"==(0,r.default)(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;if(t.offset<=this.path[i]){if(t.offset+e>this.path[i])return null;n.path[i]-=e}}return n}_getTransformedByInsertion(t,e){const n=a._createAt(this);if(this.root!=t.root)return n;if("same"==(0,r.default)(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==(0,r.default)(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;t.offset<=this.path[i]&&(n.path[i]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return a._createAt(this);const i=this._getTransformedByDeletion(t,n);return null===i||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):i._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,i=a._createAt(e);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[n]-t.offset,i.path=[...i.path,...this.path.slice(n+1)],i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t instanceof a)return new a(t.root,t.path,t.stickiness);{const i=t;if("end"==e)e=i.maxOffset;else{if("before"==e)return this._createBefore(i,n);if("after"==e)return this._createAfter(i,n);if(0!==e&&!e)throw new o.default("model-createpositionat-offset-required",[this,t])}if(!i.is("element")&&!i.is("documentFragment"))throw new o.default("model-position-parent-incorrect",[this,t]);const r=i.getPath();return r.push(e),new this(i.root,r,n)}}static _createAfter(t,e){if(!t.parent)throw new o.default("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new o.default("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if("$graveyard"===t.root){const n=new a(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new o.default("model-position-fromjson-no-root",e,{rootName:t.root});return new a(e.getRoot(t.root),t.path,t.stickiness)}}function s(t,e){const n=e.getChild(e.offsetToIndex(t.offset));return n&&n.is("$text")&&n.startOffset<t.offset?n:null}function u(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset))}function l(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset)-1)}},6062:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(55050);class r extends i.default{constructor(t,e,n="main"){super(e),this._document=t,this.rootName=n}get document(){return this._document}is(t,e){return e?e===this.name&&("rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t):"rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t||"node"===t||"model:node"===t}toJSON(){return this.rootName}}},84236:(t,e,n)=>{"use strict";n.r(e),n.d(e,{SchemaContext:()=>f,default:()=>h});var i=n(78378),r=n(29110),o=n(50131),a=n(35594),s=n.n(a),u=n(16776),l=n(55050),c=n(25243),d=n(28067);class h{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",((t,e)=>{e[0]=new f(e[0])}),{priority:"highest"}),this.on("checkChild",((t,e)=>{e[0]=new f(e[0]),e[1]=this.getDefinition(e[1])}),{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new i.default("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new i.default("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e="string"==typeof t?t:t.is&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!(!e||!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}isSelectable(t){const e=this.getDefinition(t);return!(!e||!e.isSelectable&&!e.isObject)}isContent(t){const e=this.getDefinition(t);return!(!e||!e.isContent&&!e.isObject)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e=null){if(t instanceof u.default){const e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof l.default))throw new i.default("schema-check-merge-no-element-before",this);if(!(n instanceof l.default))throw new i.default("schema-check-merge-no-element-after",this);return this.checkMerge(e,n)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",((e,[n,i])=>{if(!i)return;const r=t(n,i);"boolean"==typeof r&&(e.stop(),e.return=r)}),{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",((e,[n,i])=>{const r=t(n,i);"boolean"==typeof r&&(e.stop(),e.return=r)}),{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;for(e=t instanceof u.default?t.parent:(t instanceof s()?[t]:Array.from(t.getRanges())).reduce(((t,e)=>{const n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n}),null);!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=[...t.getFirstPosition().getAncestors(),new c.default("",t.getAttributes())];return this.checkAttribute(n,e)}{const n=t.getRanges();for(const t of n)for(const n of t)if(this.checkAttribute(n.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(t){for(const e of t)yield*e.getMinimalFlatRanges()}(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}getNearestSelectionRange(t,e="both"){if(this.checkChild(t,"$text"))return new(s())(t);let n,i;const r=t.getAncestors().reverse().find((t=>this.isLimit(t)))||t.root;"both"!=e&&"backward"!=e||(n=new d.default({boundaries:s()._createIn(r),startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(i=new d.default({boundaries:s()._createIn(r),startPosition:t}));for(const t of function*(t,e){let n=!1;for(;!n;){if(n=!0,t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}if(e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}}}(n,i)){const e=t.walker==n?"elementEnd":"elementStart",i=t.value;if(i.type==e&&this.isObject(i.item))return s()._createOn(i.item);if(this.checkChild(i.nextPosition,"$text"))return new(s())(i.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;for(;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}removeDisallowedAttributes(t,e){for(const n of t)if(n.is("$text"))P(this,n,e);else{const t=s()._createIn(n).getPositions();for(const n of t)P(this,n.nodeBefore||n.parent,e)}}createContext(t){return new f(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const i of n)t[i]=p(e[i],i);for(const e of n)g(t,e);for(const e of n)m(t,e);for(const e of n)v(t,e);for(const e of n)y(t,e),_(t,e);for(const e of n)b(t,e),w(t,e),T(t,e);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const i=e.getItem(n);if(t.allowIn.includes(i.name)){if(0==n)return!0;{const t=this.getDefinition(i);return this._checkContextMatch(t,e,n-1)}}return!1}*_getValidRangesForRange(t,e){let n=t.start,i=t.start;for(const r of t.getItems({shallow:!0}))r.is("element")&&(yield*this._getValidRangesForRange(s()._createIn(r),e)),this.checkAttribute(r,e)||(n.isEqual(i)||(yield new(s())(n,i)),n=u.default._createAfter(r)),i=u.default._createAfter(r);n.isEqual(i)||(yield new(s())(n,i))}}(0,o.default)(h,r.default);class f{constructor(t){if(t instanceof f)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),this._items=t.map(O)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new f([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map((t=>t.name))}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function p(t,e){const n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(t,e){for(const n of t){const t=Object.keys(n).filter((t=>t.startsWith("is")));for(const i of t)e[i]=n[i]}}(t,n),S(t,n,"allowIn"),S(t,n,"allowContentOf"),S(t,n,"allowWhere"),S(t,n,"allowAttributes"),S(t,n,"allowAttributesOf"),S(t,n,"allowChildren"),S(t,n,"inheritTypesFrom"),function(t,e){for(const n of t){const t=n.inheritAllFrom;t&&(e.allowContentOf.push(t),e.allowWhere.push(t),e.allowAttributesOf.push(t),e.inheritTypesFrom.push(t))}}(t,n),n}function g(t,e){const n=t[e];for(const i of n.allowChildren){const n=t[i];n&&n.allowIn.push(e)}n.allowChildren.length=0}function m(t,e){for(const n of t[e].allowContentOf)t[n]&&E(t,n).forEach((t=>{t.allowIn.push(e)}));delete t[e].allowContentOf}function v(t,e){for(const n of t[e].allowWhere){const i=t[n];if(i){const n=i.allowIn;t[e].allowIn.push(...n)}}delete t[e].allowWhere}function y(t,e){for(const n of t[e].allowAttributesOf){const i=t[n];if(i){const n=i.allowAttributes;t[e].allowAttributes.push(...n)}}delete t[e].allowAttributesOf}function _(t,e){const n=t[e];for(const e of n.inheritTypesFrom){const i=t[e];if(i){const t=Object.keys(i).filter((t=>t.startsWith("is")));for(const e of t)e in n||(n[e]=i[e])}}delete n.inheritTypesFrom}function b(t,e){const n=t[e],i=n.allowIn.filter((e=>t[e]));n.allowIn=Array.from(new Set(i))}function w(t,e){const n=t[e];for(const i of n.allowIn)t[i].allowChildren.push(e)}function T(t,e){const n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function S(t,e,n){for(const i of t)"string"==typeof i[n]?e[n].push(i[n]):Array.isArray(i[n])&&e[n].push(...i[n])}function E(t,e){const n=t[e];return(i=t,Object.keys(i).map((t=>i[t]))).filter((t=>t.allowIn.includes(n.name)));var i}function O(t){return"string"==typeof t||t.is("documentFragment")?{name:"string"==typeof t?t:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute:e=>t.getAttribute(e)}}function P(t,e,n){for(const i of e.getAttributeKeys())t.checkAttribute(e,i)||n.removeAttribute(i,e)}},81790:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var i=n(16776),r=n(45709),o=n(35594),a=n.n(o),s=n(40669),u=n(78378),l=n(50131),c=n(65838);class d{constructor(t,e,n){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,e,n)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new(a())(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new(a())(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new(a())(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(t,e,n){if(null===t)this._setRanges([]);else if(t instanceof d)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof a())this._setRanges([t],!!e&&!!e.backward);else if(t instanceof i.default)this._setRanges([new(a())(t)]);else if(t instanceof r.Z){const r=!!n&&!!n.backward;let o;if("in"==e)o=a()._createIn(t);else if("on"==e)o=a()._createOn(t);else{if(void 0===e)throw new u.default("model-selection-setto-required-second-parameter",[this,t]);o=new(a())(i.default._createAt(t,e))}this._setRanges([o],r)}else{if(!(0,c.Z)(t))throw new u.default("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,e&&!!e.backward)}}_setRanges(t,e=!1){const n=(t=Array.from(t)).some((e=>{if(!(e instanceof a()))throw new u.default("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every((t=>!t.isEqual(e)))}));if(t.length!==this._ranges.length||n){this._removeAllRanges();for(const e of t)this._pushRange(e);this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0})}}setFocus(t,e){if(null===this.anchor)throw new u.default("model-selection-setfocus-no-ranges",[this,t]);const n=i.default._createAt(t,e);if("same"==n.compareWith(this.focus))return;const r=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(r)?(this._pushRange(new(a())(n,r)),this._lastRangeBackward=!0):(this._pushRange(new(a())(r,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}is(t){return"selection"===t||"model:selection"===t}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=p(e.start,t);n&&g(n,e)&&(yield n);for(const n of e.getWalker()){const i=n.item;"elementEnd"==n.type&&f(i,t,e)&&(yield i)}const r=p(e.end,t);r&&!e.end.isTouching(i.default._createAt(r,0))&&g(r,e)&&(yield r)}}containsEntireContent(t=this.anchor.root){const e=i.default._createAt(t,0),n=i.default._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new(a())(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new u.default("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function h(t,e){return!e.has(t)&&(e.add(t),t.root.document.model.schema.isBlock(t)&&t.parent)}function f(t,e,n){return h(t,e)&&g(t,n)}function p(t,e){const n=t.parent.root.document.model.schema,i=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const o=i.find((t=>!r&&(r=n.isLimit(t),!r&&h(t,e))));return i.forEach((t=>e.add(t))),o}function g(t,e){const n=function(t){const e=t.root.document.model.schema;let n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}(t);return!n||!e.containsRange(a()._createOn(n),!0)}(0,l.default)(d,s.default)},25243:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var i=n(45709);class r extends i.Z{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}is(t){return"$text"===t||"model:$text"===t||"text"===t||"model:text"===t||"node"===t||"model:node"===t}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new r(this.data,this.getAttributes())}static fromJSON(t){return new r(t.data,t.attributes)}}},27234:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(78378);class r{constructor(t,e,n){if(this.textNode=t,e<0||e>t.offsetSize)throw new i.default("model-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.offsetSize)throw new i.default("model-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(t){return"$textProxy"===t||"model:$textProxy"===t||"textProxy"===t||"model:textProxy"===t}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}},28067:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var i=n(25243),r=n(27234),o=n(55050),a=n(16776),s=n(78378);class u{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new s.default("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new s.default("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this.position=t.startPosition.clone():this.position=a.default._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let e,n,i,r;do{i=this.position,r=this._visitedParent,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i,this._visitedParent=r)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};const s=e.parent,u=(0,a.getTextNodeAtPosition)(e,s),c=u||(0,a.getNodeAfterPosition)(e,s,u);if(c instanceof o.default)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=c),this.position=e,l("elementStart",c,t,e,1);if(c instanceof i.default){let i;if(this.singleCharacters)i=1;else{let t=c.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<t&&(t=this.boundaries.end.offset),i=t-e.offset}const o=e.offset-c.startOffset,a=new r.Z(c,o,i);return e.offset+=i,this.position=e,l("text",a,t,e,i)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():l("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};const s=e.parent,u=(0,a.getTextNodeAtPosition)(e,s),c=u||(0,a.getNodeBeforePosition)(e,s,u);if(c instanceof o.default)return e.offset--,this.shallow?(this.position=e,l("elementStart",c,t,e,1)):(e.path.push(c.maxOffset),this.position=e,this._visitedParent=c,this.ignoreElementEnd?this._previous():l("elementEnd",c,t,e));if(c instanceof i.default){let i;if(this.singleCharacters)i=1;else{let t=c.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>t&&(t=this.boundaries.start.offset),i=e.offset-t}const o=e.offset-c.startOffset,a=new r.Z(c,o-i,i);return e.offset-=i,this.position=e,l("text",a,t,e,i)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,l("elementStart",n,t,e,1)}}function l(t,e,n,i,r){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:r}}}},88470:(t,e,n)=>{"use strict";function i(t){const{schema:e,document:n}=t.model;for(const i of n.getRootNames()){const r=n.getRoot(i);if(r.isEmpty&&!e.checkChild(r,"$text")&&e.checkChild(r,"paragraph"))return t.insertElement("paragraph",r),!0}return!1}function r(t,e,n){const i=n.createContext(t);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),e)}function o(t,e){const n=e.createElement("paragraph");return e.insert(n,t),e.createPositionAt(n,0)}n.r(e),n.d(e,{autoParagraphEmptyRoots:()=>i,isParagraphable:()=>r,wrapInParagraph:()=>o})},49413:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(7899),r=n(35594),o=n.n(r),a=n(36101);function s(t,e,n={}){if(e.isCollapsed)return;const r=e.getFirstRange();if("$graveyard"==r.root.rootName)return;const o=t.schema;t.change((t=>{if(!n.doNotResetEntireContent&&function(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const i=e.getFirstRange();return i.start.parent!=i.end.parent&&t.checkChild(n,"paragraph")}(o,e))return void function(t,e){const n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),d(t,t.createPositionAt(n,0),e)}(t,e);const[a,s]=function(t){const e=t.root.document.model,n=t.start;let r=t.end;if(e.hasContent(t,{ignoreMarkers:!0})){const n=function(t){const e=t.parent,n=e.root.document.model.schema,i=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const t of i){if(n.isLimit(t))return null;if(n.isBlock(t))return t}}(r);if(n&&r.isTouching(e.createPositionAt(n,0))){const n=e.createSelection(t);e.modifySelection(n,{direction:"backward"});const i=n.getLastPosition(),o=e.createRange(i,r);e.hasContent(o,{ignoreMarkers:!0})||(r=i)}}return[i.Z.fromPosition(n,"toPrevious"),i.Z.fromPosition(r,"toNext")]}(r);a.isTouching(s)||t.remove(t.createRange(a,s)),n.leaveUnmerged||(function(t,e,n){const i=t.model;if(!c(t.model.schema,e,n))return;const[r,o]=function(t,e){const n=t.getAncestors(),i=e.getAncestors();let r=0;for(;n[r]&&n[r]==i[r];)r++;return[n[r],i[r]]}(e,n);r&&o&&(!i.hasContent(r,{ignoreMarkers:!0})&&i.hasContent(o,{ignoreMarkers:!0})?l(t,e,n,r.parent):u(t,e,n,r.parent))}(t,a,s),o.removeDisallowedAttributes(a.parent.getChildren(),t)),h(t,e,a),!n.doNotAutoparagraph&&function(t,e){const n=t.checkChild(e,"$text"),i=t.checkChild(e,"paragraph");return!n&&i}(o,a)&&d(t,a,e),a.detach(),s.detach()}))}function u(t,e,n,i){const r=e.parent,o=n.parent;if(r!=i&&o!=i){for(e=t.createPositionAfter(r),(n=t.createPositionBefore(o)).isEqual(e)||t.insert(o,e),t.merge(e);n.parent.isEmpty;){const e=n.parent;n=t.createPositionBefore(e),t.remove(e)}c(t.model.schema,e,n)&&u(t,e,n,i)}}function l(t,e,n,i){const r=e.parent,o=n.parent;if(r!=i&&o!=i){for(e=t.createPositionAfter(r),(n=t.createPositionBefore(o)).isEqual(e)||t.insert(r,n);e.parent.isEmpty;){const n=e.parent;e=t.createPositionBefore(n),t.remove(n)}n=t.createPositionBefore(o),function(t,e){const n=e.nodeBefore,i=e.nodeAfter;n.name!=i.name&&t.rename(n,i.name),t.clearAttributes(n),t.setAttributes(Object.fromEntries(i.getAttributes()),n),t.merge(e)}(t,n),c(t.model.schema,e,n)&&l(t,e,n,i)}}function c(t,e,n){const i=e.parent,r=n.parent;return i!=r&&!t.isLimit(i)&&!t.isLimit(r)&&function(t,e,n){const i=new(o())(t,e);for(const t of i.getWalker())if(n.isLimit(t.item))return!1;return!0}(e,n,t)}function d(t,e,n){const i=t.createElement("paragraph");t.insert(i,e),h(t,n,t.createPositionAt(i,0))}function h(t,e,n){e instanceof a.Z?t.setSelection(n):e.setTo(n)}},57342:(t,e,n)=>{"use strict";function i(t,e){return t.change((t=>{const n=t.createDocumentFragment(),i=e.getFirstRange();if(!i||i.isCollapsed)return n;const o=i.start.root,a=i.start.getCommonPath(i.end),s=o.getNodeByPath(a);let u;u=i.start.parent==i.end.parent?i:t.createRange(t.createPositionAt(s,i.start.path[a.length]),t.createPositionAt(s,i.end.path[a.length]+1));const l=u.end.offset-u.start.offset;for(const e of u.getItems({shallow:!0}))e.is("$textProxy")?t.appendText(e.data,e.getAttributes(),n):t.append(t.cloneElement(e,!0),n);if(u!=i){const e=i._getTransformedByMove(u.start,t.createPositionAt(n,0),l)[0],o=t.createRange(t.createPositionAt(n,0),e.start);r(t.createRange(e.end,t.createPositionAt(n,"end")),t),r(o,t)}return n}))}function r(t,e){const n=[];Array.from(t.getItems({direction:"backward"})).map((t=>e.createRangeOn(t))).filter((e=>(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end)))).forEach((t=>{n.push(t.start.parent),e.remove(t)})),n.forEach((t=>{let n=t;for(;n.parent&&n.isEmpty;){const t=e.createRangeOn(n);n=n.parent,e.remove(t)}}))}n.r(e),n.d(e,{default:()=>i})},28279:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var i=n(16776),r=n(7899),o=n(55050),a=n(35594),s=n.n(a),u=n(36101),l=n(81790),c=n(78378);function d(t,e,n,i){return t.change((r=>{let o;o=n?n instanceof l.default||n instanceof u.Z?n:r.createSelection(n,i):t.document.selection,o.isCollapsed||t.deleteContent(o,{doNotAutoparagraph:!0});const a=new h(t,r,o.anchor);let s;s=e.is("documentFragment")?e.getChildren():[e],a.handleNodes(s);const c=a.getSelectionRange();c&&(o instanceof u.Z?r.setSelection(c):o.setTo(c));const d=a.getAffectedRange()||t.createRange(o.anchor);return a.destroy(),d}))}class h{constructor(t,e,n){this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(t);if(n.isAfter(e)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new c.default("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this.nodeToSelect?s()._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new(s())(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(this.schema.isObject(t))return void this._handleObject(t);let e=this._checkAndAutoParagraphToAllowedPosition(t);e||(e=this._checkAndSplitToAllowedPosition(t),e)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=r.Z.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleObject(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}_handleDisallowedNode(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new c.default("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=t:this.nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=r.Z.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=r.Z.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof o.default))return;if(!this._canMergeLeft(t))return;const e=r.Z._createBefore(t);e.stickiness="toNext";const n=r.Z.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=r.Z._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=r.Z._createAt(e.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof o.default))return;if(!this._canMergeRight(t))return;const e=r.Z._createAfter(t);if(e.stickiness="toNext",!this.position.isEqual(e))throw new c.default("insertcontent-invalid-insertion-position",this);this.position=i.default._createAt(e.nodeBefore,"end");const n=r.Z.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=r.Z._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=r.Z._createAt(e.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof o.default&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof o.default&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_tryAutoparagraphing(t){const e=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,e)&&this.schema.checkChild(e,t)&&(e._appendChild(t),this._handleNode(e))}_checkAndAutoParagraphToAllowedPosition(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();const e=this.writer.createElement("paragraph");return this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0),!0}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===e&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const t=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}},71020:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});var i=n(16776),r=n(28067),o=n(35594),a=n.n(o),s=n(6694),u=n(36101);const l=' ,.?!:;"-()';function c(t,e,n={}){const i=t.schema,o="backward"!=n.direction,a=n.unit?n.unit:"character",s=e.focus,l=new r.default({boundaries:h(s,o),singleCharacters:!0,direction:o?"forward":"backward"}),c={walker:l,schema:i,isForward:o,unit:a};let f;for(;f=l.next();){if(f.done)return;const n=d(c,f.value);if(n)return void(e instanceof u.Z?t.change((t=>{t.setSelectionFocus(n)})):e.setFocus(n))}}function d(t,e){const{isForward:n,walker:r,unit:o,schema:a}=t,{type:u,item:c,nextPosition:d}=e;if("text"==u)return"word"===t.unit?function(t,e){let n=t.position.textNode;if(n){let i=t.position.offset-n.startOffset;for(;!f(n.data,i,e)&&!p(n,i,e);){t.next();const r=e?t.position.nodeAfter:t.position.nodeBefore;if(r&&r.is("$text")){const i=r.data.charAt(e?0:r.data.length-1);l.includes(i)||(t.next(),n=t.position.textNode)}i=t.position.offset-n.startOffset}}return t.position}(r,n):function(t,e){const n=t.position.textNode;if(n){const i=n.data;let r=t.position.offset-n.startOffset;for(;(0,s.to)(i,r)||"character"==e&&(0,s.pp)(i,r);)t.next(),r=t.position.offset-n.startOffset}return t.position}(r,o);if(u==(n?"elementStart":"elementEnd")){if(a.isSelectable(c))return i.default._createAt(c,n?"after":"before");if(a.checkChild(d,"$text"))return d}else{if(a.isLimit(c))return void r.skip((()=>!0));if(a.checkChild(d,"$text"))return d}}function h(t,e){const n=t.root,r=i.default._createAt(n,e?"end":0);return e?new(a())(t,r):new(a())(r,t)}function f(t,e,n){const i=e+(n?0:-1);return l.includes(t.charAt(i))}function p(t,e,n){return e===(n?t.endOffset:0)}},54680:(t,e,n)=>{"use strict";n.r(e),n.d(e,{injectSelectionPostFixer:()=>a});var i=n(35594),r=n.n(i),o=n(16776);function a(t){t.document.registerPostFixer((e=>function(t,e){const n=e.document.selection,i=e.schema,o=[];let a=!1;for(const t of n.getRanges()){const e=s(t,i);e&&!e.isEqual(t)?(o.push(e),a=!0):o.push(t)}a&&t.setSelection(function(t){const e=[];e.push(t.shift());for(const n of t){const t=e.pop();if(n.isEqual(t))e.push(t);else if(n.isIntersecting(t)){const i=t.start.isAfter(n.start)?n.start:t.start,o=t.end.isAfter(n.end)?t.end:n.end,a=new(r())(i,o);e.push(a)}else e.push(t),e.push(n)}return e}(o),{backward:n.isBackward})}(e,t)))}function s(t,e){return t.isCollapsed?function(t,e){const n=t.start,i=e.getNearestSelectionRange(n);if(!i)return null;if(!i.isCollapsed)return i;const o=i.start;return n.isEqual(o)?null:new(r())(o)}(t,e):function(t,e){const{start:n,end:i}=t,a=e.checkChild(n,"$text"),s=e.checkChild(i,"$text"),c=e.getLimitElement(n),d=e.getLimitElement(i);if(c===d){if(a&&s)return null;if(function(t,e,n){const i=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),r=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return i||r}(n,i,e)){const t=n.nodeAfter&&e.isSelectable(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),o=i.nodeBefore&&e.isSelectable(i.nodeBefore)?null:e.getNearestSelectionRange(i,"backward"),a=t?t.start:n,s=o?o.end:i;return new(r())(a,s)}}const h=c&&!c.is("rootElement"),f=d&&!d.is("rootElement");if(h||f){const t=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,a=h&&(!t||!l(n.nodeAfter,e)),s=f&&(!t||!l(i.nodeBefore,e));let p=n,g=i;return a&&(p=o.default._createBefore(u(c,e))),s&&(g=o.default._createAfter(u(d,e))),new(r())(p,g)}return null}(t,e)}function u(t,e){let n=t,i=n;for(;e.isLimit(i)&&i.parent;)n=i,i=i.parent;return n}function l(t,e){return t&&e.isSelectable(t)}},67473:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>E});var i=n(30232),r=n(6419),o=n(35594),a=n.n(o),s=n(32065),u=n(78378);class l extends r.Z{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new u.default("detach-operation-on-document-node",this)}_execute(){(0,s.X9)(a()._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}var c=n(76253),d=n(14023),h=n(14365),f=n(98199),p=n(16390),g=n(67130),m=n(27984),v=n(30289),y=n(25243),_=n(55050),b=n(6062),w=n(16776),T=n(36101),S=n(79047);class E{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new y.default(t,e)}createElement(t,e){return new _.default(t,e)}createDocumentFragment(){return new v.Z}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof y.default&&""==t.data)return;const i=w.default._createAt(e,n);if(t.parent){if(k(t.root,i.root))return void this.move(a()._createOn(t),i);if(t.root.document)throw new u.default("model-writer-insert-forbidden-move",this);this.remove(t)}const r=i.root.document?i.root.document.version:null,o=new c.Z(i,t,r);if(t instanceof y.default&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),t instanceof v.Z)for(const[e,n]of t.markers){const t=w.default._createAt(n.root,0),r={range:new(a())(n.start._getCombined(t,i),n.end._getCombined(t,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(e)?this.updateMarker(e,r):this.addMarker(e,r)}}insertText(t,e,n,i){e instanceof v.Z||e instanceof _.default||e instanceof w.default?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,i)}insertElement(t,e,n,i){e instanceof v.Z||e instanceof _.default||e instanceof w.default?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,i)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof v.Z||e instanceof _.default?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof v.Z||e instanceof _.default?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof a()){const i=n.getMinimalFlatRanges();for(const n of i)O(this,t,e,n)}else P(this,t,e,n)}setAttributes(t,e){for(const[n,i]of(0,S.Z)(t))this.setAttribute(n,i,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof a()){const n=e.getMinimalFlatRanges();for(const e of n)O(this,t,null,e)}else P(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys())this.removeAttribute(e,t)};if(t instanceof a())for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof a()))throw new u.default("writer-move-invalid-range",this);if(!t.isFlat)throw new u.default("writer-move-range-not-flat",this);const i=w.default._createAt(e,n);if(i.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!k(t.root,i.root))throw new u.default("writer-move-different-document",this);const r=t.root.document?t.root.document.version:null,o=new h.Z(t.start,t.end.offset-t.start.offset,i,r);this.batch.addOperation(o),this.model.applyOperation(o)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof a()?t:a()._createOn(t)).getMinimalFlatRanges().reverse();for(const t of e)this._addOperationForAffectedMarkers("move",t),A(t.start,t.end.offset-t.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof _.default))throw new u.default("writer-merge-no-element-before",this);if(!(n instanceof _.default))throw new u.default("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(t,e,n){return this.model.createSelection(t,e,n)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(a()._createIn(n),w.default._createAt(e,"end")),this.remove(n)}_merge(t){const e=w.default._createAt(t.nodeBefore,"end"),n=w.default._createAt(t.nodeAfter,0),i=t.root.document.graveyard,r=new w.default(i,[0]),o=t.root.document.version,a=new m.Z(n,t.nodeAfter.maxOffset,e,r,o);this.batch.addOperation(a),this.model.applyOperation(a)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof _.default))throw new u.default("writer-rename-not-element-instance",this);const n=t.root.document?t.root.document.version:null,i=new f.Z(w.default._createBefore(t),t.name,e,n);this.batch.addOperation(i),this.model.applyOperation(i)}split(t,e){this._assertWriterUsedCorrectly();let n,i,r=t.parent;if(!r.parent)throw new u.default("writer-split-element-no-parent",this);if(e||(e=r.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new u.default("writer-split-invalid-limit-element",this);do{const e=r.root.document?r.root.document.version:null,o=r.maxOffset-t.offset,a=g.Z.getInsertionPosition(t),s=new g.Z(t,o,a,null,e);this.batch.addOperation(s),this.model.applyOperation(s),n||i||(n=r,i=t.parent.nextSibling),r=(t=this.createPositionAfter(t.parent)).parent}while(r!==e);return{position:t,range:new(a())(w.default._createAt(n,"end"),w.default._createAt(i,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new u.default("writer-wrap-range-not-flat",this);const n=e instanceof _.default?e:new _.default(e);if(n.childCount>0)throw new u.default("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new u.default("writer-wrap-element-attached",this);this.insert(n,t.start);const i=new(a())(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(i,w.default._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new u.default("writer-unwrap-element-no-parent",this);this.move(a()._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new u.default("writer-addmarker-no-usingoperation",this);const n=e.usingOperation,i=e.range,r=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new u.default("writer-addmarker-marker-exists",this);if(!i)throw new u.default("writer-addmarker-no-range",this);return n?(C(this,t,null,i,r),this.model.markers.get(t)):this.model.markers._set(t,i,n,r)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n="string"==typeof t?t:t.name,i=this.model.markers.get(n);if(!i)throw new u.default("writer-updatemarker-marker-not-exists",this);if(!e)return void this.model.markers._refresh(i);const r="boolean"==typeof e.usingOperation,o="boolean"==typeof e.affectsData,a=o?e.affectsData:i.affectsData;if(!r&&!e.range&&!o)throw new u.default("writer-updatemarker-wrong-options",this);const s=i.getRange(),l=e.range?e.range:s;r&&e.usingOperation!==i.managedUsingOperations?e.usingOperation?C(this,n,null,l,a):(C(this,n,s,null,a),this.model.markers._set(n,l,void 0,a)):i.managedUsingOperations?C(this,n,s,l,a):this.model.markers._set(n,l,void 0,a)}removeMarker(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new u.default("writer-removemarker-no-marker",this);const n=this.model.markers.get(e);n.managedUsingOperations?C(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e)}setSelection(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else for(const[e,n]of(0,S.Z)(t))this._setSelectionAttribute(e,n)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=T.Z._getStoreAttributeKey(t);this.setAttribute(i,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=T.Z._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new u.default("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const i=n.getRange();let r=!1;if("move"===t)r=e.containsPosition(i.start)||e.start.isEqual(i.start)||e.containsPosition(i.end)||e.end.isEqual(i.end);else{const t=e.nodeBefore,n=e.nodeAfter,o=i.start.parent==t&&i.start.isAtEnd,a=i.end.parent==n&&0==i.end.offset,s=i.end.nodeAfter==n,u=i.start.nodeAfter==n;r=o||a||s||u}r&&this.updateMarker(n.name,{range:i})}}}function O(t,e,n,r){const o=t.model,s=o.document;let u,l,c,d=r.start;for(const t of r.getWalker({shallow:!0}))c=t.item.getAttribute(e),u&&l!=c&&(l!=n&&h(),d=u),u=t.nextPosition,l=c;function h(){const r=new(a())(d,u),c=r.root.document?s.version:null,h=new i.Z(r,e,l,n,c);t.batch.addOperation(h),o.applyOperation(h)}u instanceof w.default&&u!=d&&l!=n&&h()}function P(t,e,n,r){const o=t.model,s=o.document,u=r.getAttribute(e);let l,c;if(u!=n){if(r.root===r){const t=r.document?s.version:null;c=new p.Z(r,e,u,n,t)}else{l=new(a())(w.default._createBefore(r),t.createPositionAfter(r));const o=l.root.document?s.version:null;c=new i.Z(l,e,u,n,o)}t.batch.addOperation(c),o.applyOperation(c)}}function C(t,e,n,i,r){const o=t.model,a=o.document,s=new d.Z(e,n,i,o.markers,r,a.version);t.batch.addOperation(s),o.applyOperation(s)}function A(t,e,n,i){let r;if(t.root.document){const n=i.document,o=new w.default(n.graveyard,[0]);r=new h.Z(t,e,o,n.version)}else r=new l(t,e);n.addOperation(r),i.applyOperation(r)}function k(t,e){return t===e||t instanceof b.Z&&e instanceof b.Z}},48125:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var i=n(96203),r=n(78378);class o extends i.Z{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=a,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new r.default("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}is(t,e=null){return e?e===this.name&&("attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t):"attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function a(){if(s(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(s(t)>1)return null;t=t.parent}return!t||s(t)>1?null:this.childCount}function s(t){return Array.from(t.getChildren()).filter((t=>!t.is("uiElement"))).length}o.DEFAULT_PRIORITY=10},60924:(t,e,n)=>{"use strict";n.d(e,{Y:()=>o,Z:()=>r});var i=n(96203);class r extends i.Z{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=o}is(t,e=null){return e?e===this.name&&("containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}}function o(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const e of t)if(!e.is("uiElement"))return null;return this.childCount}},26151:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>y});var i=n(25100),r=n(4033),o=n(50131),a=n(18483),s=n(78378),u=n(40669),l=n(73701),c=n(2229);const d=Symbol("bubbling contexts"),h={fire(t,...e){try{const n=t instanceof a.Z?t:new a.Z(this,t),i=m(this);if(!i.size)return;if(f(n,"capturing",this),p(i,"$capture",n,...e))return n.return;const r=n.startRange||this.selection.getFirstRange(),o=r?r.getContainedElement():null,s=!!o&&Boolean(g(i,o));let u=o||function(t){if(!t)return null;const e=t.start.parent,n=t.end.parent,i=e.getPath(),r=n.getPath();return i.length>r.length?e:n}(r);if(f(n,"atTarget",u),!s){if(p(i,"$text",n,...e))return n.return;f(n,"bubbling",u)}for(;u;){if(u.is("rootElement")){if(p(i,"$root",n,...e))return n.return}else if(u.is("element")&&p(i,u.name,n,...e))return n.return;if(p(i,u,n,...e))return n.return;u=u.parent,f(n,"bubbling",u)}return f(n,"bubbling",this),p(i,"$document",n,...e),n.return}catch(t){s.default.rethrowUnexpectedError(t,this)}},_addEventListener(t,e,n){const i=(0,l.default)(n.context||"$document"),r=m(this);for(const o of i){let i=r.get(o);i||(i=Object.create(u.default),r.set(o,i)),this.listenTo(i,t,e,n)}},_removeEventListener(t,e){const n=m(this);for(const i of n.values())this.stopListening(i,t,e)}};function f(t,e,n){t instanceof c.Z&&(t._eventPhase=e,t._currentTarget=n)}function p(t,e,n,...i){const r="string"==typeof e?t.get(e):g(t,e);return!!r&&(r.fire(n,...i),n.stop.called)}function g(t,e){for(const[n,i]of t)if("function"==typeof n&&n(e))return i;return null}function m(t){return t[d]||(t[d]=new Map),t[d]}var v=n(29110);class y{constructor(t){this.selection=new i.Z,this.roots=new r.default({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map((t=>t.destroy())),this.stopListening()}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t),e)break}while(e)}}(0,o.default)(y,h),(0,o.default)(y,v.default)},87482:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var i=n(15778),r=n(94975),o=n(50131),a=n(65838),s=n(40669);class u{constructor(t,e){this.document=t,this._children=[],e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"===t||"view:documentFragment"===t}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const o=function(t,e){return"string"==typeof e?[new i.Z(t,e)]:((0,a.Z)(e)||(e=[e]),Array.from(e).map((e=>"string"==typeof e?new i.Z(t,e):e instanceof r.Z?new i.Z(t,e.data):e)))}(this.document,e);for(const e of o)null!==e.parent&&e._remove(),e.parent=this,this._children.splice(t,0,e),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}}(0,o.default)(u,s.default)},25100:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(48646),r=n(50131),o=n(40669);class a{constructor(t=null,e,n){this._selection=new i.Z,this._selection.delegate("change").to(this),this._selection.setTo(t,e,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}is(t){return"selection"===t||"documentSelection"==t||"view:selection"==t||"view:documentSelection"==t}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setFocus(t,e){this._selection.setFocus(t,e)}}(0,r.default)(a,o.default)},27250:(t,e,n)=>{"use strict";n.d(e,{Z:()=>b});var i=n(15778),r=n(96203),o=n(42823),a=n(10135),s=n(96657),u=n(48646),l=n(87482),c=n(9087),d=n(73617),h=n(37680),f=n(62152);function p(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}function g(t){const e=[];for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}var m=n(37363);const v=(0,h.yl)(document),y=(0,h.N3)(document),_=(0,h.PQ)(document);class b{constructor(t,e={}){this.document=t,this.blockFillerMode=e.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new d.Z,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new u.Z(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const e of t.childNodes)this.unbindDomElement(e)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}viewToDom(t,e,n={}){if(t.is("$text")){const n=this._processDataFromViewText(t);return e.createTextNode(n)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let i;if(t.is("documentFragment"))i=e.createDocumentFragment(),n.bind&&this.bindDocumentFragments(i,t);else{if(t.is("uiElement"))return i="$comment"===t.name?e.createComment(t.getCustomProperty("$rawContent")):t.render(e),n.bind&&this.bindElements(i,t),i;i=t.hasAttribute("xmlns")?e.createElementNS(t.getAttribute("xmlns"),t.name):e.createElement(t.name),t.is("rawElement")&&t.render(i),n.bind&&this.bindElements(i,t);for(const e of t.getAttributeKeys())i.setAttribute(e,t.getAttribute(e))}if(!1!==n.withChildren)for(const r of this.viewChildrenToDom(t,e,n))i.appendChild(r);return i}}*viewChildrenToDom(t,e,n={}){const i=t.getFillerOffset&&t.getFillerOffset();let r=0;for(const o of t.getChildren())i===r&&(yield this._getBlockFiller(e)),yield this.viewToDom(o,e,n),r++;i===r&&(yield this._getBlockFiller(e))}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),i=document.createRange();return i.setStart(e.parent,e.offset),i.setEnd(n.parent,n.offset),i}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let i=t.offset;return(0,h.Sw)(n)&&(i+=h.b_),{parent:n,offset:i}}{let n,i,r;if(0===t.offset){if(n=this.mapViewToDom(e),!n)return null;r=n.childNodes[0]}else{const e=t.nodeBefore;if(i=e.is("$text")?this.findCorrespondingDomText(e):this.mapViewToDom(t.nodeBefore),!i)return null;n=i.parentNode,r=i.nextSibling}return(0,m.Z)(r)&&(0,h.Sw)(r)?{parent:r,offset:h.b_}:{parent:n,offset:i?p(i)+1:0}}}domToView(t,e={}){if(this.isBlockFiller(t))return null;const n=this.getHostViewElement(t);if(n)return n;if(this.isComment(t)&&e.skipComments)return null;if((0,m.Z)(t)){if((0,h.Qh)(t))return null;{const e=this._processDataFromDomText(t);return""===e?null:new i.Z(this.document,e)}}{if(this.mapDomToView(t))return this.mapDomToView(t);let n;if(this.isDocumentFragment(t))n=new l.default(this.document),e.bind&&this.bindDocumentFragments(t,n);else{n=this._createViewElement(t,e),e.bind&&this.bindElements(t,n);const i=t.attributes;if(i)for(let t=i.length-1;t>=0;t--)n._setAttribute(i[t].name,i[t].value);if(this._isViewElementWithRawContent(n,e)||this.isComment(t)){const e=this.isComment(t)?t.data:t.innerHTML;return n._setCustomProperty("$rawContent",e),this._encounteredRawContentDomNodes.add(t),n}}if(!1!==e.withChildren)for(const i of this.domChildrenToView(t,e))n._appendChild(i);return n}}*domChildrenToView(t,e={}){for(let n=0;n<t.childNodes.length;n++){const i=t.childNodes[n],r=this.domToView(i,e);null!==r&&(yield r)}}domSelectionToView(t){if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;(0,m.Z)(e)&&(e=e.parentNode);const n=this.fakeSelectionToView(e);if(n)return n}const e=this.isDomSelectionBackward(t),n=[];for(let e=0;e<t.rangeCount;e++){const i=t.getRangeAt(e),r=this.domRangeToView(i);r&&n.push(r)}return new u.Z(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new s.Z(e,n):null}domPositionToView(t,e){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,p(t));const n=this.mapDomToView(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return a.Z._createBefore(n);if((0,m.Z)(t)){if((0,h.Qh)(t))return this.domPositionToView(t.parentNode,p(t));const n=this.findCorrespondingViewText(t);let i=e;return n?((0,h.Sw)(t)&&(i-=h.b_,i=i<0?0:i),new a.Z(n,i)):null}if(0===e){const e=this.mapDomToView(t);if(e)return new a.Z(e,0)}else{const n=t.childNodes[e-1],i=(0,m.Z)(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(i&&i.parent)return new a.Z(i.parent,i.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if((0,h.Qh)(t))return null;const e=this.getHostViewElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const t=this.mapDomToView(n);if(t)return t.nextSibling instanceof i.Z?t.nextSibling:null}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);return t instanceof i.Z?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:n}=f.default.window,i=[];w(e,(t=>{const{scrollLeft:e,scrollTop:n}=t;i.push([e,n])})),e.focus(),w(e,(t=>{const[e,n]=i.shift();t.scrollLeft=e,t.scrollTop=n})),f.default.window.scrollTo(t,n)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(t){return t&&t.nodeType==Node.COMMENT_NODE}isBlockFiller(t){return"br"==this.blockFillerMode?t.isEqualNode(v):!("BR"!==t.tagName||!T(t,this.blockElements)||1!==t.parentNode.childNodes.length)||t.isEqualNode(_)||function(t,e){return t.isEqualNode(y)&&T(t,e)&&1===t.parentNode.childNodes.length}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);const n=e.collapsed;return e.detach(),n}getHostViewElement(t){const e=g(t);for(e.pop();e.length;){const t=e.pop(),n=this._domToViewMapping.get(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return n}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}_getBlockFiller(t){switch(this.blockFillerMode){case"nbsp":return(0,h.N3)(t);case"markedNbsp":return(0,h.PQ)(t);case"br":return(0,h.yl)(t)}}_isDomSelectionPositionCorrect(t,e){if((0,m.Z)(t)&&(0,h.Sw)(t)&&e<h.b_)return!1;if(this.isElement(t)&&(0,h.Sw)(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")&&!n.is("rawElement")}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some((t=>this.preElements.includes(t.name))))return e;if(" "==e.charAt(0)){const n=this._getTouchingInlineViewNode(t,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(e=""+e.substr(1))}if(" "==e.charAt(e.length-1)){const n=this._getTouchingInlineViewNode(t,!0),i=n&&n.is("$textProxy")&&" "==n.data.charAt(0);" "!=e.charAt(e.length-2)&&n&&!i||(e=e.substr(0,e.length-1)+"")}return e.replace(/ {2}/g," ")}_nodeEndsWithSpace(t){if(t.getAncestors().some((t=>this.preElements.includes(t.name))))return!1;const e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}_processDataFromDomText(t){let e=t.data;if(function(t,e){return g(t).some((t=>t.tagName&&e.includes(t.tagName.toLowerCase())))}(t,this.preElements))return(0,h.th)(t);e=e.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(t,!1),i=this._getTouchingInlineDomNode(t,!0),r=this._checkShouldLeftTrimDomText(t,n),o=this._checkShouldRightTrimDomText(t,i);r&&(e=e.replace(/^ /,"")),o&&(e=e.replace(/ $/,"")),e=(0,h.th)(new Text(e)),e=e.replace(/ \u00A0/g,"  ");const a=i&&this.isElement(i)&&"BR"!=i.tagName,s=i&&(0,m.Z)(i)&&" "==i.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(e)||!i||a||s)&&(e=e.replace(/\u00A0$/," ")),(r||n&&this.isElement(n)&&"BR"!=n.tagName)&&(e=e.replace(/^\u00A0/," ")),e}_checkShouldLeftTrimDomText(t,e){return!e||(this.isElement(e)?"BR"===e.tagName:!this._encounteredRawContentDomNodes.has(t.previousSibling)&&/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1)))}_checkShouldRightTrimDomText(t,e){return!e&&!(0,h.Sw)(t)}_getTouchingInlineViewNode(t,e){const n=new c.Z({startPosition:e?a.Z._createAfter(t):a.Z._createBefore(t),direction:e?"forward":"backward"});for(const t of n){if(t.item.is("element")&&this.inlineObjectElements.includes(t.item.name))return t.item;if(t.item.is("containerElement"))return null;if(t.item.is("element","br"))return null;if(t.item.is("$textProxy"))return t.item}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;const n=e?"firstChild":"lastChild",i=e?"nextSibling":"previousSibling";let r=!0;do{if(!r&&t[n]?t=t[n]:t[i]?(t=t[i],r=!1):(t=t.parentNode,r=!0),!t||this._isBlockElement(t))return null}while(!(0,m.Z)(t)&&"BR"!=t.tagName&&!this._isInlineObjectElement(t));return t}_isBlockElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isInlineObjectElement(t){return this.isElement(t)&&this.inlineObjectElements.includes(t.tagName.toLowerCase())}_createViewElement(t,e){if(this.isComment(t))return new o.Z(this.document,"$comment");const n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new r.Z(this.document,n)}_isViewElementWithRawContent(t,e){return!1!==e.withChildren&&this._rawContentElementMatcher.match(t)}}function w(t,e){for(;t&&t!=f.default.document;)e(t),t=t.parentNode}function T(t,e){const n=t.parentNode;return n&&n.tagName&&e.includes(n.tagName.toLowerCase())}},52613:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>w});var i=n(10135),r=n(96657),o=n(48646),a=n(60924),s=n(48125),u=n(96203),l=n(78378),c=n(41238);class d extends u.Z{constructor(t,e,n,i){super(t,e,n,i),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=h}is(t,e=null){return e?e===this.name&&("emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t):"emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}_insertChild(t,e){if(e&&(e instanceof c.Z||Array.from(e).length>0))throw new l.default("view-emptyelement-cannot-add",[this,e])}}function h(){return null}var f=n(42823);class p extends u.Z{constructor(t,e,n,i){super(t,e,n,i),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=g}is(t,e=null){return e?e===this.name&&("rawElement"===t||"view:rawElement"===t||"element"===t||"view:element"===t):"rawElement"===t||"view:rawElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t}_insertChild(t,e){if(e&&(e instanceof c.Z||Array.from(e).length>0))throw new l.default("view-rawelement-cannot-add",[this,e])}}function g(){return null}var m=n(87482),v=n(65838),y=n(15778),_=n(7994),b=n(37514);class w{constructor(t){this.document=t,this._cloneGroups=new Map}setSelection(t,e,n){this.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createDocumentFragment(t){return new m.default(this.document,t)}createText(t){return new y.Z(this.document,t)}createAttributeElement(t,e,n={}){const i=new s.default(this.document,t,e);return"number"==typeof n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),i}createContainerElement(t,e,n={}){const i=new a.Z(this.document,t,e);return void 0!==n.isAllowedInsideAttributeElement&&(i._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),i}createEditableElement(t,e){const n=new _.Z(this.document,t,e);return n._document=this.document,n}createEmptyElement(t,e,n={}){const i=new d(this.document,t,e);return void 0!==n.isAllowedInsideAttributeElement&&(i._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),i}createUIElement(t,e,n,i={}){const r=new f.Z(this.document,t,e);return n&&(r.render=n),void 0!==i.isAllowedInsideAttributeElement&&(r._isAllowedInsideAttributeElement=i.isAllowedInsideAttributeElement),r}createRawElement(t,e,n,i={}){const r=new p(this.document,t,e);return r.render=n||(()=>{}),void 0!==i.isAllowedInsideAttributeElement&&(r._isAllowedInsideAttributeElement=i.isAllowedInsideAttributeElement),r}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){(0,b.Z)(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof i.Z?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new l.default("view-writer-break-non-container-element",this.document);if(!e.parent)throw new l.default("view-writer-break-root",this.document);if(t.isAtStart)return i.Z._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(i.Z._createAfter(e),n);const o=new r.Z(t,i.Z._createAt(e,"end")),a=new i.Z(n,0);this.move(o,a)}return i.Z._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("$text"))return t;if(n.is("attributeElement")&&0===n.childCount){const t=n.parent,e=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new i.Z(t,e))}const r=n.getChild(e-1),o=n.getChild(e);if(!r||!o)return t;if(r.is("$text")&&o.is("$text"))return O(r,o);if(r.is("attributeElement")&&o.is("attributeElement")&&r.isSimilar(o)){const t=r.childCount;return r._appendChild(o.getChildren()),o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new i.Z(r,t))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new l.default("view-writer-merge-containers-invalid-position",this.document);const o=e.getChild(e.childCount-1),a=o instanceof y.Z?i.Z._createAt(o,"end"):i.Z._createAt(e,"end");return this.move(r.Z._createIn(n),i.Z._createAt(e,"end")),this.remove(r.Z._createOn(n)),a}insert(t,e){P(e=(0,v.Z)(e)?[...e]:[e],this.document);const n=e.reduce(((t,e)=>{const n=t[t.length-1],i=!(e.is("uiElement")&&e.isAllowedInsideAttributeElement);return n&&n.breakAttributes==i?n.nodes.push(e):t.push({breakAttributes:i,nodes:[e]}),t}),[]);let i=null,o=t;for(const{nodes:t,breakAttributes:e}of n){const n=this._insertNodes(o,t,e);i||(i=n.start),o=n.end}return i?new r.Z(i,o):new r.Z(t)}remove(t){const e=t instanceof r.Z?t:r.Z._createOn(t);if(k(e,this.document),e.isCollapsed)return new m.default(this.document);const{start:n,end:i}=this._breakAttributesRange(e,!0),o=n.parent,a=i.offset-n.offset,s=o._removeChildren(n.offset,a);for(const t of s)this._removeFromClonedElementsGroup(t);const u=this.mergeAttributes(n);return e.start=u,e.end=u.clone(),new m.default(this.document,s)}clear(t,e){k(t,this.document);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of n){const n=i.item;let o;if(n.is("element")&&e.isSimilar(n))o=r.Z._createOn(n);else if(!i.nextPosition.isAfter(t.start)&&n.is("$textProxy")){const t=n.getAncestors().find((t=>t.is("element")&&e.isSimilar(t)));t&&(o=r.Z._createIn(t))}o&&(o.end.isAfter(t.end)&&(o.end=t.end),o.start.isBefore(t.start)&&(o.start=t.start),this.remove(o))}}move(t,e){let n;if(e.isAfter(t.end)){const i=(e=this._breakAttributes(e,!0)).parent,r=i.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=i.childCount-r}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof s.default))throw new l.default("view-writer-wrap-invalid-attribute",this.document);if(k(t,this.document),t.isCollapsed){let n=t.start;n.parent.is("element")&&!function(t){return Array.from(t.getChildren()).some((t=>!t.is("uiElement")))}(n.parent)&&(n=n.getLastMatchingPosition((t=>t.item.is("uiElement")))),n=this._wrapPosition(n,e);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new r.Z(n)}return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof s.default))throw new l.default("view-writer-unwrap-invalid-attribute",this.document);if(k(t,this.document),t.isCollapsed)return t;const{start:n,end:i}=this._breakAttributesRange(t,!0),o=n.parent,a=this._unwrapChildren(o,n.offset,i.offset,e),u=this.mergeAttributes(a.start);u.isEqual(a.start)||a.end.offset--;const c=this.mergeAttributes(a.end);return new r.Z(u,c)}rename(t,e){const n=new a.Z(this.document,t,e.getAttributes());return this.insert(i.Z._createAfter(e),n),this.move(r.Z._createIn(e),i.Z._createAt(n,0)),this.remove(r.Z._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return i.Z._createAt(t,e)}createPositionAfter(t){return i.Z._createAfter(t)}createPositionBefore(t){return i.Z._createBefore(t)}createRange(t,e){return new r.Z(t,e)}createRangeOn(t){return r.Z._createOn(t)}createRangeIn(t){return r.Z._createIn(t)}createSelection(t,e,n){return new o.Z(t,e,n)}_insertNodes(t,e,n){let i,o;if(i=n?T(t):t.parent.is("$text")?t.parent.parent:t.parent,!i)throw new l.default("view-writer-invalid-position-container",this.document);o=n?this._breakAttributes(t,!0):t.parent.is("$text")?E(t):t;const a=i._insertChild(o.offset,e);for(const t of e)this._addToClonedElementsGroup(t);const s=o.getShiftedBy(a),u=this.mergeAttributes(o);u.isEqual(o)||s.offset--;const c=this.mergeAttributes(s);return new r.Z(u,c)}_wrapChildren(t,e,n,o){let a=e;const s=[];for(;a<n;){const e=t.getChild(a),n=e.is("$text"),r=e.is("attributeElement"),c=e.isAllowedInsideAttributeElement;if(r&&this._wrapAttributeElement(o,e))s.push(new i.Z(t,a));else if(n||c||r&&(l=e,(u=o).priority<l.priority||!(u.priority>l.priority)&&u.getIdentity()<l.getIdentity())){const n=o._clone();e._remove(),n._appendChild(e),t._insertChild(a,n),this._addToClonedElementsGroup(n),s.push(new i.Z(t,a))}else r&&this._wrapChildren(e,0,e.childCount,o);a++}var u,l;let c=0;for(const t of s)t.offset-=c,t.offset!=e&&(this.mergeAttributes(t).isEqual(t)||(c++,n--));return r.Z._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,o){let a=e;const s=[];for(;a<n;){const e=t.getChild(a);if(e.is("attributeElement"))if(e.isSimilar(o)){const r=e.getChildren(),o=e.childCount;e._remove(),t._insertChild(a,r),this._removeFromClonedElementsGroup(e),s.push(new i.Z(t,a),new i.Z(t,a+o)),a+=o,n+=o-1}else this._unwrapAttributeElement(o,e)?(s.push(new i.Z(t,a),new i.Z(t,a+1)),a++):(this._unwrapChildren(e,0,e.childCount,o),a++);else a++}let u=0;for(const t of s)t.offset-=u,t.offset!=e&&t.offset!=n&&(this.mergeAttributes(t).isEqual(t)||(u++,n--));return r.Z._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:i}=this._breakAttributesRange(t,!0),o=n.parent,a=this._wrapChildren(o,n.offset,i.offset,e),s=this.mergeAttributes(a.start);s.isEqual(a.start)||a.end.offset--;const u=this.mergeAttributes(a.end);return new r.Z(s,u)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return S(t.clone());t.parent.is("$text")&&(t=E(t));const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,t.parent._insertChild(t.offset,n);const o=new r.Z(t,t.getShiftedBy(1));this.wrap(o,e);const a=new i.Z(n.parent,n.index);n._remove();const s=a.nodeBefore,u=a.nodeAfter;return s instanceof y.Z&&u instanceof y.Z?O(s,u):S(a)}_wrapAttributeElement(t,e){if(!x(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!x(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,i=t.end;if(k(t,this.document),t.isCollapsed){const n=this._breakAttributes(t.start,e);return new r.Z(n,n)}const o=this._breakAttributes(i,e),a=o.parent.childCount,s=this._breakAttributes(n,e);return o.offset+=o.parent.childCount-a,new r.Z(s,o)}_breakAttributes(t,e=!1){const n=t.offset,r=t.parent;if(t.parent.is("emptyElement"))throw new l.default("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new l.default("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new l.default("view-writer-cannot-break-raw-element",this.document);if(!e&&r.is("$text")&&A(r.parent))return t.clone();if(A(r))return t.clone();if(r.is("$text"))return this._breakAttributes(E(t),e);if(n==r.childCount){const t=new i.Z(r.parent,r.index+1);return this._breakAttributes(t,e)}if(0===n){const t=new i.Z(r.parent,r.index);return this._breakAttributes(t,e)}{const t=r.index+1,o=r._clone();r.parent._insertChild(t,o),this._addToClonedElementsGroup(o);const a=r.childCount-n,s=r._removeChildren(n,a);o._appendChild(s);const u=new i.Z(r.parent,t);return this._breakAttributes(u,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const e of t.getChildren())this._addToClonedElementsGroup(e);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const e of t.getChildren())this._removeFromClonedElementsGroup(e);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function T(t){let e=t.parent;for(;!A(e);){if(!e)return;e=e.parent}return e}function S(t){const e=t.nodeBefore;if(e&&e.is("$text"))return new i.Z(e,e.data.length);const n=t.nodeAfter;return n&&n.is("$text")?new i.Z(n,0):t}function E(t){if(t.offset==t.parent.data.length)return new i.Z(t.parent.parent,t.parent.index+1);if(0===t.offset)return new i.Z(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new y.Z(t.root.document,e)),new i.Z(t.parent.parent,t.parent.index+1)}function O(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new i.Z(t,n)}function P(t,e){for(const n of t){if(!C.some((t=>n instanceof t)))throw new l.default("view-writer-insert-invalid-node-type",e);n.is("$text")||P(n.getChildren(),e)}}const C=[y.Z,s.default,a.Z,d,p,f.Z];function A(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function k(t,e){const n=T(t.start),i=T(t.end);if(!n||!i||n!==i)throw new l.default("view-writer-invalid-range-container",e)}function x(t,e){return null===t.id&&null===e.id}},7994:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(60924),r=n(50131),o=n(29110);class a extends i.Z{constructor(t,e,n,i){super(t,e,n,i),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",(e=>e&&t.selection.editableElement==this)),this.listenTo(t.selection,"change",(()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this}))}is(t,e=null){return e?e===this.name&&("editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}destroy(){this.stopListening()}}(0,r.default)(a,o.default)},96203:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var i=n(41238),r=n(15778),o=n(94975),a=n(79047),s=n(73701),u=n(65838),l=n(73617),c=n(97337);class d extends i.Z{constructor(t,e,n,i){if(super(t),this.name=e,this._attrs=function(t){t=(0,a.Z)(t);for(const[e,n]of t)null===n?t.delete(e):"string"!=typeof n&&t.set(e,String(n));return t}(n),this._children=[],i&&this._insertChild(0,i),this._classes=new Set,this._attrs.has("class")){const t=this._attrs.get("class");h(this._classes,t),this._attrs.delete("class")}this._styles=new c.default(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._isAllowedInsideAttributeElement=!1}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}get isAllowedInsideAttributeElement(){return this._isAllowedInsideAttributeElement}is(t,e=null){return e?e===this.name&&("element"===t||"view:element"===t):"element"===t||"view:element"===t||"node"===t||"view:node"===t}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if("class"==t)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==t){const t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(t)}hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof d))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this.isAllowedInsideAttributeElement!=t.isAllowedInsideAttributeElement)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(t=!1){return this._styles.getStyleNames(t)}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new l.Z(...t);let n=this.parent;for(;n;){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map((t=>`${t[0]}="${t[1]}"`)).sort().join(" ");return this.name+(""==t?"":` class="${t}"`)+(e?` style="${e}"`:"")+(""==n?"":` ${n}`)}_clone(t=!1){const e=[];if(t)for(const n of this.getChildren())e.push(n._clone(t));const n=new this.constructor(this.document,this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._isAllowedInsideAttributeElement=this.isAllowedInsideAttributeElement,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=function(t,e){return"string"==typeof e?[new r.Z(t,e)]:((0,u.Z)(e)||(e=[e]),Array.from(e).map((e=>"string"==typeof e?new r.Z(t,e):e instanceof o.Z?new r.Z(t,e.data):e)))}(this.document,e);for(const e of i)null!==e.parent&&e._remove(),e.parent=this,e.document=this.document,this._children.splice(t,0,e),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?h(this._classes,e):"style"==t?this._styles.setTo(e):this._attrs.set(t,e)}_removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(const e of(0,s.default)(t))this._classes.add(e)}_removeClass(t){this._fireChange("attributes",this);for(const e of(0,s.default)(t))this._classes.delete(e)}_setStyle(t,e){this._fireChange("attributes",this),this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this);for(const e of(0,s.default)(t))this._styles.remove(e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function h(t,e){const n=e.split(/\s+/);t.clear(),n.forEach((e=>t.add(e)))}},37680:(t,e,n)=>{"use strict";n.d(e,{N3:()=>o,PQ:()=>a,Pj:()=>l,Qh:()=>d,Sw:()=>c,b_:()=>u,mm:()=>f,th:()=>h,yl:()=>s});var i=n(61147),r=n(37363);const o=t=>t.createTextNode(""),a=t=>{const e=t.createElement("span");return e.dataset.ckeFiller=!0,e.innerHTML="",e},s=t=>{const e=t.createElement("br");return e.dataset.ckeFiller=!0,e},u=7,l="".repeat(u);function c(t){return(0,r.Z)(t)&&t.data.substr(0,u)===l}function d(t){return t.data.length==u&&c(t)}function h(t){return c(t)?t.data.slice(u):t.data}function f(t){t.document.on("arrowKey",p,{priority:"low"})}function p(t,e){if(e.keyCode==i.Do.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer,n=t.getRangeAt(0).startOffset;c(e)&&n<=u&&t.collapse(e,0)}}}},73617:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(37514),r=n(78378);class o{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)("string"==typeof e||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const t of this._patterns){const n=a(e,t);if(n)return{element:e,pattern:t,match:n}}return null}matchAll(...t){const e=[];for(const n of t)for(const t of this._patterns){const i=a(n,t);i&&e.push({element:n,pattern:t,match:i})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}function a(t,e){if("function"==typeof e)return e(t);const n={};return e.name&&(n.name=function(t,e){return t instanceof RegExp?t.test(e):t===e}(e.name,t.name),!n.name)||e.attributes&&(n.attributes=function(t,e){const n=new Set(e.getAttributeKeys());return(0,i.Z)(t)?(void 0!==t.style&&(0,r.logWarning)("matcher-pattern-deprecated-attributes-style-key",t),void 0!==t.class&&(0,r.logWarning)("matcher-pattern-deprecated-attributes-class-key",t)):(n.delete("style"),n.delete("class")),s(t,n,(t=>e.getAttribute(t)))}(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=function(t,e){return s(t,e.getClassNames())}(e.classes,t),!n.classes))&&!(e.styles&&(n.styles=function(t,e){return s(t,e.getStyleNames(!0),(t=>e.getStyle(t)))}(e.styles,t),!n.styles))&&n}function s(t,e,n){const o=function(t){return Array.isArray(t)?t.map((t=>(0,i.Z)(t)?(void 0!==t.key&&void 0!==t.value||(0,r.logWarning)("matcher-pattern-missing-key-or-value",t),[t.key,t.value]):[t,!0])):(0,i.Z)(t)?Object.entries(t):[[t,!0]]}(t),a=Array.from(e),s=[];return o.forEach((([t,e])=>{a.forEach((i=>{(function(t,e){return!0===t||t===e||t instanceof RegExp&&t.test(e)})(t,i)&&function(t,e,n){if(!0===t)return!0;const i=n(e);return t===i||t instanceof RegExp&&t.test(i)}(e,i,n)&&s.push(i)}))})),!o.length||s.length<o.length?null:s}},41238:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(78378),r=n(40669),o=n(50131),a=n(28017),s=n(92346);n(9807);class u{constructor(t){this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new i.default("view-node-not-found-in-parent",this);return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let r=0;for(;n[r]==i[r]&&n[r];)r++;return 0===r?null:n[r-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=(0,a.default)(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=(0,s.Z)(this);return delete t.parent,t}is(t){return"node"===t||"view:node"===t}}(0,o.default)(u,r.default)},2229:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(18483);class r extends i.Z{constructor(t,e,n){super(t,e),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}},60092:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(80207);class r{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,(0,i.Z)(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}},94915:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(69075),r=n(60092);class o extends i.Z{constructor(t){super(t),this.useCapture=!1}observe(t){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((e=>{this.listenTo(t,e,((t,e)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(e.target)&&this.onDomEvent(e)}),{useCapture:this.useCapture})}))}fire(t,e,n){this.isEnabled&&this.document.fire(t,new r.Z(this.view,e,n))}}},69075:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(91916),r=n(50131);class o{constructor(t){this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&3===t.nodeType&&(t=t.parentNode),!(!t||1!==t.nodeType)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}(0,r.default)(o,i.Z)},10135:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(9087),r=n(28017),o=n(78378),a=n(7994);n(9807);class s{constructor(t,e){this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof a.Z);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=s._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new i.Z(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}is(t){return"position"===t||"view:position"===t}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return"before"==this.compareWith(t)}isAfter(t){return"after"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const i=(0,r.default)(e,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return e[i]<n[i]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new i.Z(t)}clone(){return new s(this.parent,this.offset)}static _createAt(t,e){if(t instanceof s)return new this(t.parent,t.offset);{const n=t;if("end"==e)e=n.is("$text")?n.data.length:n.childCount;else{if("before"==e)return this._createBefore(n);if("after"==e)return this._createAfter(n);if(0!==e&&!e)throw new o.default("view-createpositionat-offset-required",n)}return new s(n,e)}}static _createAfter(t){if(t.is("$textProxy"))return new s(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new o.default("view-position-after-root",t,{root:t});return new s(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new s(t.textNode,t.offsetInText);if(!t.parent)throw new o.default("view-position-before-root",t,{root:t});return new s(t.parent,t.index)}}},96657:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(10135),r=n(9087);class o{constructor(t,e=null){this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new r.Z({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(a,{direction:"backward"}),e=this.end.getLastMatchingPosition(a);return t.parent.is("$text")&&t.isAtStart&&(t=i.Z._createBefore(t.parent)),e.parent.is("$text")&&e.isAtEnd&&(e=i.Z._createAfter(e.parent)),new o(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(a);if(t.isAfter(this.end)||t.isEqual(this.end))return new o(t,t);let e=this.end.getLastMatchingPosition(a,{direction:"backward"});const n=t.nodeAfter,r=e.nodeBefore;return n&&n.is("$text")&&(t=new i.Z(n,0)),r&&r.is("$text")&&(e=new i.Z(r,r.data.length)),new o(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new o(this.start,t.start)),this.containsPosition(t.end)&&e.push(new o(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new o(e,n)}return null}getWalker(t={}){return t.boundaries=this,new r.Z(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}clone(){return new o(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new r.Z(t);for(const t of e)yield t.item}*getPositions(t={}){t.boundaries=this;const e=new r.Z(t);yield e.position;for(const t of e)yield t.nextPosition}is(t){return"range"===t||"view:range"===t}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,r){return new this(new i.Z(t,e),new i.Z(n,r))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(i.Z._createBefore(t),e)}}function a(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}},84829:(t,e,n)=>{"use strict";n.d(e,{Z:()=>m});var i=n(15778),r=n(10135),o=n(37680),a=n(50131),s=n(20327);function u(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}function l(t){const e=t.parentNode;e&&e.removeChild(t)}var c=n(29110),d=n(78378),h=n(37363),f=n(85006),p=n(64068),g=n(3950);class m{constructor(t,e){this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new d.default("view-renderer-unknown-type",this);this.markedChildren.add(e)}}}render(){let t;for(const t of this.markedChildren)this._updateChildrenMappings(t);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent));for(const t of this.markedAttributes)this._updateAttrs(t);for(const e of this.markedChildren)this._updateChildren(e,{inlineFillerPosition:t});for(const e of this.markedTexts)!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)&&this._updateText(e,{inlineFillerPosition:t});if(t){const e=this.domConverter.viewPositionToDom(t),n=e.parent.ownerDocument;(0,o.Sw)(e.parent)?this._inlineFiller=e.parent:this._inlineFiller=v(n,e.parent,e.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(this.domConverter.mapViewToDom(t).childNodes),i=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),r=this._diffNodeLists(n,i),o=this._findReplaceActions(r,n,i);if(-1!==o.indexOf("replace")){const e={equal:0,insert:0,delete:0};for(const r of o)if("replace"===r){const r=e.equal+e.insert,o=e.equal+e.delete,a=t.getChild(r);!a||a.is("uiElement")||a.is("rawElement")||this._updateElementMappings(a,n[o]),l(i[r]),e.equal++}else e[r]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?r.Z._createBefore(this.selection.getFirstPosition().parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&(0,h.Z)(e.parent)&&(0,o.Sw)(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!(0,o.Sw)(t))throw new d.default("view-renderer-filler-was-lost",this);(0,o.Qh)(t)?t.parentNode.removeChild(t):t.data=t.data.substr(o.b_),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!function(t){if("false"==t.getAttribute("contenteditable"))return!1;const e=t.findAncestor((t=>t.hasAttribute("contenteditable")));return!e||"true"==e.getAttribute("contenteditable")}(e))return!1;if(n===e.getFillerOffset())return!1;const r=t.nodeBefore,o=t.nodeAfter;return!(r instanceof i.Z||o instanceof i.Z)}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t),i=this.domConverter.viewToDom(t,n.ownerDocument),r=n.data;let a=i.data;const s=e.inlineFillerPosition;if(s&&s.parent==t.parent&&s.offset==t.index&&(a=o.Pj+a),r!=a){const t=(0,p.Z)(r,a);for(const e of t)"insert"===e.type?n.insertData(e.index,e.values.join("")):n.deleteData(e.index,e.howMany)}}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map((t=>t.name)),i=t.getAttributeKeys();for(const n of i)e.setAttribute(n,t.getAttribute(n));for(const i of n)t.hasAttribute(i)||e.removeAttribute(i)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;const i=e.inlineFillerPosition,r=this.domConverter.mapViewToDom(t).childNodes,o=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===t&&v(n.ownerDocument,o,i.offset);const a=this._diffNodeLists(r,o);let s=0;const c=new Set;for(const t of a)"delete"===t?(c.add(r[s]),l(r[s])):"equal"===t&&s++;s=0;for(const t of a)"insert"===t?(u(n,s,o[s]),s++):"equal"===t&&(this._markDescendantTextToSync(this.domConverter.domToView(o[s])),s++);for(const t of c)t.parentNode||this.domConverter.unbindDomElement(t)}_diffNodeLists(t,e){return t=function(t,e){const n=Array.from(t);return 0!=n.length&&e?(n[n.length-1]==e&&n.pop(),n):n}(t,this._fakeSelectionContainer),(0,s.Z)(t,e,_.bind(null,this.domConverter))}_findReplaceActions(t,e,n){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;let i=[],r=[],o=[];const a={equal:0,insert:0,delete:0};for(const u of t)"insert"===u?o.push(n[a.equal+a.insert]):"delete"===u?r.push(e[a.equal+a.delete]):(i=i.concat((0,s.Z)(r,o,y).map((t=>"equal"===t?"replace":t))),i.push("equal"),r=[],o=[]),a[u]++;return i.concat((0,s.Z)(r,o,y).map((t=>"equal"===t?"replace":t)))}_markDescendantTextToSync(t){if(t)if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}_updateFakeSelection(t){const e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(t){const e=t.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="",e}(e));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(t))return;n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"";const i=e.getSelection(),r=e.createRange();i.removeAllRanges(),r.selectNodeContents(n),i.addRange(r)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);e.collapse(n.parent,n.offset),e.extend(i.parent,i.offset),g.ZP.isGecko&&function(t,e){const n=t.parent;if(n.nodeType!=Node.ELEMENT_NODE||t.offset!=n.childNodes.length-1)return;const i=n.childNodes[t.offset];i&&"BR"==i.tagName&&e.addRange(e.getRangeAt(0))}(i,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return!(e&&this.selection.isEqual(e)||!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments)if(t.getSelection().rangeCount){const e=t.activeElement,n=this.domConverter.mapDomToView(e);e&&n&&t.getSelection().removeAllRanges()}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function v(t,e,n){const i=e instanceof Array?e:e.childNodes,r=i[n];if((0,h.Z)(r))return r.data=o.Pj+r.data,r;{const r=t.createTextNode(o.Pj);return Array.isArray(e)?i.splice(n,0,r):u(e,n,r),r}}function y(t,e){return(0,f.Z)(t)&&(0,f.Z)(e)&&!(0,h.Z)(t)&&!(0,h.Z)(e)&&t.nodeType!==Node.COMMENT_NODE&&e.nodeType!==Node.COMMENT_NODE&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function _(t,e,n){return e===n||((0,h.Z)(e)&&(0,h.Z)(n)?e.data===n.data:!(!t.isBlockFiller(e)||!t.isBlockFiller(n)))}(0,a.default)(m,c.default)},48646:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var i=n(78378),r=n(96657),o=n(10135),a=n(50131),s=n(40669),u=n(41238),l=n(22572),c=n(65838),d=n(25100);class h{constructor(t=null,e,n){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,e,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=(0,l.Z)(this.getRanges());if(e!=(0,l.Z)(t.getRanges()))return!1;if(0==e)return!0;for(let e of this.getRanges()){e=e.getTrimmed();let n=!1;for(let i of t.getRanges())if(i=i.getTrimmed(),e.start.isEqual(i.start)&&e.end.isEqual(i.end)){n=!0;break}if(!n)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(t,e,n){if(null===t)this._setRanges([]),this._setFakeOptions(e);else if(t instanceof h||t instanceof d.Z)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof r.Z)this._setRanges([t],e&&e.backward),this._setFakeOptions(e);else if(t instanceof o.Z)this._setRanges([new r.Z(t)]),this._setFakeOptions(e);else if(t instanceof u.Z){const a=!!n&&!!n.backward;let s;if(void 0===e)throw new i.default("view-selection-setto-required-second-parameter",this);s="in"==e?r.Z._createIn(t):"on"==e?r.Z._createOn(t):new r.Z(o.Z._createAt(t,e)),this._setRanges([s],a),this._setFakeOptions(n)}else{if(!(0,c.Z)(t))throw new i.default("view-selection-setto-not-selectable",this);this._setRanges(t,e&&e.backward),this._setFakeOptions(e)}this.fire("change")}setFocus(t,e){if(null===this.anchor)throw new i.default("view-selection-setfocus-no-ranges",this);const n=o.Z._createAt(t,e);if("same"==n.compareWith(this.focus))return;const a=this.anchor;this._ranges.pop(),"before"==n.compareWith(a)?this._addRange(new r.Z(n,a),!0):this._addRange(new r.Z(a,n)),this.fire("change")}is(t){return"selection"===t||"view:selection"===t}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const e of t)this._addRange(e);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof r.Z))throw new i.default("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new i.default("view-selection-range-intersects",this,{addedRange:t,intersectingRange:e});this._ranges.push(new r.Z(t.start,t.end))}}(0,a.default)(h,s.default)},15778:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(41238);class r extends i.Z{constructor(t,e){super(t),this._textData=e}is(t){return"$text"===t||"view:$text"===t||"text"===t||"view:text"===t||"node"===t||"view:node"===t}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof r&&(this===t||this.data===t.data)}_clone(){return new r(this.document,this.data)}}},94975:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(78378);class r{constructor(t,e,n){if(this.textNode=t,e<0||e>t.data.length)throw new i.default("view-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.data.length)throw new i.default("view-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return"$textProxy"===t||"view:$textProxy"===t||"textProxy"===t||"view:textProxy"===t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}},9087:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(96203),r=n(15778),o=n(94975),a=n(10135),s=n(78378);class u{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new s.default("view-tree-walker-no-start-position",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new s.default("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=a.Z._createAt(t.startPosition):this.position=a.Z._createAt(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let e,n,i;do{i=this.position,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};let s;if(n instanceof r.Z){if(t.isAtEnd)return this.position=a.Z._createAfter(n),this._next();s=n.data[t.offset]}else s=n.getChild(t.offset);if(s instanceof i.Z)return this.shallow?t.offset++:t=new a.Z(s,0),this.position=t,this._formatReturnValue("elementStart",s,e,t,1);if(s instanceof r.Z){if(this.singleCharacters)return t=new a.Z(s,0),this.position=t,this._next();{let n,i=s.data.length;return s==this._boundaryEndParent?(i=this.boundaries.end.offset,n=new o.Z(s,0,i),t=a.Z._createAfter(n)):(n=new o.Z(s,0,s.data.length),t.offset++),this.position=t,this._formatReturnValue("text",n,e,t,i)}}if("string"==typeof s){let i;i=this.singleCharacters?1:(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset;const r=new o.Z(n,t.offset,i);return t.offset+=i,this.position=t,this._formatReturnValue("text",r,e,t,i)}return t=a.Z._createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};let s;if(n instanceof r.Z){if(t.isAtStart)return this.position=a.Z._createBefore(n),this._previous();s=n.data[t.offset-1]}else s=n.getChild(t.offset-1);if(s instanceof i.Z)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",s,e,t,1)):(t=new a.Z(s,s.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,e,t));if(s instanceof r.Z){if(this.singleCharacters)return t=new a.Z(s,s.data.length),this.position=t,this._previous();{let n,i=s.data.length;if(s==this._boundaryStartParent){const e=this.boundaries.start.offset;n=new o.Z(s,e,s.data.length-e),i=n.data.length,t=a.Z._createBefore(n)}else n=new o.Z(s,0,s.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",n,e,t,i)}}if("string"==typeof s){let i;if(this.singleCharacters)i=1;else{const e=n===this._boundaryStartParent?this.boundaries.start.offset:0;i=t.offset-e}t.offset-=i;const r=new o.Z(n,t.offset,i);return this.position=t,this._formatReturnValue("text",r,e,t,i)}return t=a.Z._createBefore(n),this.position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,i,r){return e instanceof o.Z&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=a.Z._createAfter(e.textNode):(i=a.Z._createAfter(e.textNode),this.position=i)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=a.Z._createBefore(e.textNode):(i=a.Z._createBefore(e.textNode),this.position=i))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:r}}}}},42823:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s,h:()=>u});var i=n(96203),r=n(78378),o=n(41238),a=n(61147);class s extends i.Z{constructor(t,e,n,i){super(t,e,n,i),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=l}is(t,e=null){return e?e===this.name&&("uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t):"uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}_insertChild(t,e){if(e&&(e instanceof o.Z||Array.from(e).length>0))throw new r.default("view-uielement-cannot-add",this)}render(t){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const t of this.getAttributeKeys())e.setAttribute(t,this.getAttribute(t));return e}}function u(t){t.document.on("arrowKey",((e,n)=>function(t,e,n){if(e.keyCode==a.Do.arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection(),i=1==t.rangeCount&&t.getRangeAt(0).collapsed;if(i||e.shiftKey){const e=t.focusNode,r=t.focusOffset,o=n.domPositionToView(e,r);if(null===o)return;let a=!1;const s=o.getLastMatchingPosition((t=>(t.item.is("uiElement")&&(a=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement")))));if(a){const e=n.viewPositionToDom(s);i?t.collapse(e.parent,e.offset):t.extend(e.parent,e.offset)}}}}(0,n,t.domConverter)),{priority:"low"})}function l(){return null}},56001:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var i=n(68154),r=n.n(i),o=n(18524),a=n.n(o),s=n(11603);class u extends(a()){execute(){const t=this.editor.model,e=t.document;t.change((n=>{!function(t,e,n,i){const r=n.isCollapsed,o=n.getFirstRange(),a=o.start.parent,u=o.end.parent;if(i.isLimit(a)||i.isLimit(u))r||a!=u||t.deleteContent(n);else if(r){const t=(0,s.G)(e.model.schema,n.getAttributes());l(e,o.start),e.setSelectionAttribute(t)}else{const i=!(o.start.isAtStart&&o.end.isAtEnd),r=a==u;t.deleteContent(n,{leaveUnmerged:i}),i&&(r?l(e,n.focus):e.setSelection(u,0))}}(this.editor.model,n,e.selection,t.schema),this.fire("afterExecute",{writer:n})}))}}function l(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}var c=n(38537);class d extends(r()){static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(c.Z),t.commands.add("enter",new u(t)),this.listenTo(n,"enter",((n,i)=>{i.preventDefault(),i.isSoft||(t.execute("enter"),e.scrollToTheSelection())}),{priority:"low"})}}},38537:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(69075),r=n(60092),o=n(2229),a=n(61147);class s extends i.Z{constructor(t){super(t);const e=this.document;e.on("keydown",((t,n)=>{if(this.isEnabled&&n.keyCode==a.Do.enter){const i=new o.Z(e,"enter",e.selection.getFirstRange());e.fire(i,new r.Z(e,n.domEvent,{isSoft:n.shiftKey})),i.stop.called&&t.stop()}}))}observe(){}}},66836:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Enter:()=>i.default,ShiftEnter:()=>r.default});var i=n(56001),r=n(68931)},68931:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h});var i=n(18524),r=n.n(i),o=n(11603);class a extends(r()){execute(){const t=this.editor.model,e=t.document;t.change((n=>{!function(t,e,n){const i=n.isCollapsed,r=n.getFirstRange(),a=r.start.parent,u=r.end.parent,l=a==u;if(i){const i=(0,o.G)(t.schema,n.getAttributes());s(t,e,r.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(i)}else{const i=!(r.start.isAtStart&&r.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:i}),l?s(t,e,n.focus):i&&e.setSelection(u,0)}}(t,n,e.selection),this.fire("afterExecute",{writer:n})}))}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;const i=e.getFirstRange(),r=i.start.parent,o=i.end.parent;return!u(r,t)&&!u(o,t)||r===o}(t.schema,e.selection)}}function s(t,e,n){const i=e.createElement("softBreak");t.insertContent(i,n),e.setSelection(i,"after")}function u(t,e){return!t.is("rootElement")&&(e.isLimit(t)||u(t.parent,e))}var l=n(38537),c=n(68154),d=n.n(c);class h extends(d()){static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.model.schema,n=t.conversion,i=t.editing.view,r=i.document;e.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(t,{writer:e})=>e.createEmptyElement("br")}),i.addObserver(l.Z),t.commands.add("shiftEnter",new a(t)),this.listenTo(r,"enter",((e,n)=>{n.preventDefault(),n.isSoft&&(t.execute("shiftEnter"),i.scrollToTheSelection())}),{priority:"low"})}}},11603:(t,e,n)=>{"use strict";function*i(t,e){for(const n of e)n&&t.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}n.d(e,{G:()=>i})},42450:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Font:()=>H,FontBackgroundColor:()=>B,FontBackgroundColorEditing:()=>V,FontBackgroundColorUI:()=>U,FontColor:()=>j,FontColorEditing:()=>N,FontColorUI:()=>L,FontFamily:()=>S,FontFamilyEditing:()=>b,FontFamilyUI:()=>T,FontSize:()=>M,FontSizeEditing:()=>x,FontSizeUI:()=>I});var i=n(93795);class r extends i.Command{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute(this.attributeKey),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,i=t.value;e.change((t=>{if(n.isCollapsed)i?t.setSelectionAttribute(this.attributeKey,i):t.removeSelectionAttribute(this.attributeKey);else{const r=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of r)i?t.setAttribute(this.attributeKey,i,e):t.removeAttribute(this.attributeKey,e)}}))}}var o=n(57231),a=n(66338);class s extends a.Collection{constructor(t){super(t),this.set("isEmpty",!0),this.on("change",(()=>{this.set("isEmpty",0===this.length)}))}add(t,e){this.find((e=>e.color===t.color))||super.add(t,e)}hasColor(t){return!!this.find((e=>e.color===t))}}(0,a.mix)(s,a.ObservableMixin);class u extends o.View{constructor(t,{colors:e,columns:n,removeButtonLabel:i,documentColorsLabel:r,documentColorsCount:u}){super(t),this.items=this.createCollection(),this.colorDefinitions=e,this.focusTracker=new a.FocusTracker,this.keystrokes=new a.KeystrokeHandler,this.set("selectedColor"),this.removeButtonLabel=i,this.columns=n,this.documentColors=new s,this.documentColorsCount=u,this._focusCycler=new o.FocusCycler({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this._documentColorsLabel=r,this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:this.items}),this.items.add(this._removeColorButton())}updateDocumentColors(t,e){const n=t.document,i=this.documentColorsCount;this.documentColors.clear();for(const r of n.getRootNames()){const o=n.getRoot(r),a=t.createRangeIn(o);for(const t of a.getItems())if(t.is("$textProxy")&&t.hasAttribute(e)&&(this._addColorToDocumentColors(t.getAttribute(e)),this.documentColors.length>=i))return}}updateSelectedColors(){const t=this.documentColorsGrid,e=this.staticColorsGrid,n=this.selectedColor;e.selectedColor=n,t&&(t.selectedColor=n)}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}appendGrids(){if(!this.staticColorsGrid&&(this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount)){const t=o.Template.bind(this.documentColors,this.documentColors),e=new o.LabelView(this.locale);e.text=this._documentColorsLabel,e.extendTemplate({attributes:{class:["ck","ck-color-grid__label",t.if("isEmpty","ck-hidden")]}}),this.items.add(e),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_removeColorButton(){const t=new o.ButtonView;return t.set({withText:!0,icon:i.icons.eraser,tooltip:!0,label:this.removeButtonLabel}),t.class="ck-color-table__remove-color",t.on("execute",(()=>{this.fire("execute",{value:null})})),t}_createStaticColorsGrid(){const t=new o.ColorGridView(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return t.delegate("execute").to(this),t}_createDocumentColorsGrid(){const t=o.Template.bind(this.documentColors,this.documentColors),e=new o.ColorGridView(this.locale,{columns:this.columns});return e.delegate("execute").to(this),e.extendTemplate({attributes:{class:t.if("isEmpty","ck-hidden")}}),e.items.bindTo(this.documentColors).using((t=>{const e=new o.ColorTileView;return e.set({color:t.color,hasBorder:t.options&&t.options.hasBorder}),t.label&&e.set({label:t.label,tooltip:!0}),e.on("execute",(()=>{this.fire("execute",{value:t.color})})),e})),this.documentColors.on("change:isEmpty",((t,n,i)=>{i&&(e.selectedColor=null)})),e}_addColorToDocumentColors(t){const e=this.colorDefinitions.find((e=>e.color===t));e?this.documentColors.add(Object.assign({},e)):this.documentColors.add({color:t,label:t,options:{hasBorder:!1}})}}const l="fontSize",c="fontFamily",d="fontColor",h="fontBackgroundColor";function f(t,e){const n={model:{key:t,values:[]},view:{},upcastAlso:{}};for(const t of e)n.model.values.push(t.model),n.view[t.model]=t.view,t.upcastAlso&&(n.upcastAlso[t.model]=t.upcastAlso);return n}function p(t){return e=>e.getStyle(t).replace(/\s/g,"")}function g(t){return(e,{writer:n})=>n.createAttributeElement("span",{style:`${t}:${e}`},{priority:7})}class m extends r{constructor(t){super(t,c)}}function v(t){return t.map(y).filter((t=>!!t))}function y(t){return"object"==typeof t?t:"default"===t?{title:"Default",model:void 0}:"string"==typeof t?function(t){const e=t.replace(/"|'/g,"").split(","),n=e[0],i=e.map(_).join(", ");return{title:n,model:i,view:{name:"span",styles:{"font-family":i},priority:7}}}(t):void 0}function _(t){return(t=t.trim()).indexOf(" ")>0&&(t=`'${t}'`),t}class b extends i.Plugin{static get pluginName(){return"FontFamilyEditing"}constructor(t){super(t),t.config.define(c,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:c}),t.model.schema.setAttributeProperties(c,{isFormatting:!0,copyOnEnter:!0});const e=v(t.config.get("fontFamily.options")).filter((t=>t.model)),n=f(c,e);t.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(n),t.commands.add(c,new m(t))}_prepareAnyValueConverters(){const t=this.editor;t.conversion.for("downcast").attributeToElement({model:c,view:(t,{writer:e})=>e.createAttributeElement("span",{style:"font-family:"+t},{priority:7})}),t.conversion.for("upcast").elementToAttribute({model:{key:c,value:t=>t.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:c,value:t=>t.getAttribute("face")}})}}var w=n(52675);class T extends i.Plugin{static get pluginName(){return"FontFamilyUI"}init(){const t=this.editor,e=t.t,n=this._getLocalizedOptions(),i=t.commands.get(c);t.ui.componentFactory.add(c,(r=>{const s=(0,o.createDropdown)(r);return(0,o.addListToDropdown)(s,function(t,e){const n=new a.Collection;for(const i of t){const t={type:"button",model:new o.Model({commandName:c,commandParam:i.model,label:i.title,withText:!0})};t.model.bind("isOn").to(e,"value",(t=>t===i.model||!(!t||!i.model)&&t.split(",")[0].replace(/'/g,"").toLowerCase()===i.model.toLowerCase())),i.view&&i.view.styles&&t.model.set("labelStyle",`font-family: ${i.view.styles["font-family"]}`),n.add(t)}return n}(n,i)),s.buttonView.set({label:e("Font Family"),icon:w.default,tooltip:!0}),s.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),s.bind("isEnabled").to(i),this.listenTo(s,"execute",(e=>{t.execute(e.source.commandName,{value:e.source.commandParam}),t.editing.view.focus()})),s}))}_getLocalizedOptions(){const t=this.editor,e=t.t;return v(t.config.get(c).options).map((t=>("Default"===t.title&&(t.title=e("Default")),t)))}}class S extends i.Plugin{static get requires(){return[b,T]}static get pluginName(){return"FontFamily"}}var E=n(17051);class O extends r{constructor(t){super(t,l)}}function P(t){return t.map((t=>function(t){if("object"==typeof(e=t)&&e.title&&e.model&&e.view)return A(t);var e;const n=function(t){return C[t]||C[t.model]}(t);return n?A(n):"default"===t?{model:void 0,title:"Default"}:function(t){let e;if("object"==typeof t){if(!t.model)throw new a.CKEditorError("font-size-invalid-definition",null,t);e=parseFloat(t.model)}else e=parseFloat(t);return isNaN(e)}(t)?void 0:function(t){return"number"!=typeof t&&"string"!=typeof t||(t={title:String(t),model:`${parseFloat(t)}px`}),t.view={name:"span",styles:{"font-size":t.model}},A(t)}(t)}(t))).filter((t=>!!t))}const C={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function A(t){return t.view.priority||(t.view.priority=7),t}const k=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class x extends i.Plugin{static get pluginName(){return"FontSizeEditing"}constructor(t){super(t),t.config.define(l,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:l}),t.model.schema.setAttributeProperties(l,{isFormatting:!0,copyOnEnter:!0});const e=t.config.get("fontSize.supportAllValues"),n=P(this.editor.config.get("fontSize.options")).filter((t=>t.model)),i=f(l,n);e?(this._prepareAnyValueConverters(i),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(i),t.commands.add(l,new O(t))}_prepareAnyValueConverters(t){const e=this.editor,n=t.model.values.filter((t=>!(0,E.isLength)(String(t))&&!(0,E.isPercentage)(String(t))));if(n.length)throw new a.CKEditorError("font-size-invalid-use-of-named-presets",null,{presets:n});e.conversion.for("downcast").attributeToElement({model:l,view:(t,{writer:e})=>{if(t)return e.createAttributeElement("span",{style:"font-size:"+t},{priority:7})}}),e.conversion.for("upcast").elementToAttribute({model:{key:l,value:t=>t.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:l,value:t=>{const e=t.getAttribute("size"),n="-"===e[0]||"+"===e[0];let i=parseInt(e,10);n&&(i=3+i);const r=k.length-1,o=Math.min(Math.max(i,0),r);return k[o]}}})}}class I extends i.Plugin{static get pluginName(){return"FontSizeUI"}init(){const t=this.editor,e=t.t,n=this._getLocalizedOptions(),i=t.commands.get(l);t.ui.componentFactory.add(l,(r=>{const s=(0,o.createDropdown)(r);return(0,o.addListToDropdown)(s,function(t,e){const n=new a.Collection;for(const i of t){const t={type:"button",model:new o.Model({commandName:l,commandParam:i.model,label:i.title,class:"ck-fontsize-option",withText:!0})};i.view&&i.view.styles&&t.model.set("labelStyle",`font-size:${i.view.styles["font-size"]}`),i.view&&i.view.classes&&t.model.set("class",`${t.model.class} ${i.view.classes}`),t.model.bind("isOn").to(e,"value",(t=>t===i.model)),n.add(t)}return n}(n,i)),s.buttonView.set({label:e("Font Size"),icon:w.default,tooltip:!0}),s.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),s.bind("isEnabled").to(i),this.listenTo(s,"execute",(e=>{t.execute(e.source.commandName,{value:e.source.commandParam}),t.editing.view.focus()})),s}))}_getLocalizedOptions(){const t=this.editor,e=t.t,n={Default:e("Default"),Tiny:e("Tiny"),Small:e("Small"),Big:e("Big"),Huge:e("Huge")};return P(t.config.get(l).options).map((t=>{const e=n[t.title];return e&&e!=t.title&&(t=Object.assign({},t,{title:e})),t}))}}class M extends i.Plugin{static get requires(){return[x,I]}static get pluginName(){return"FontSize"}}class R extends r{constructor(t){super(t,d)}}class N extends i.Plugin{static get pluginName(){return"FontColorEditing"}constructor(t){super(t),t.config.define(d,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:d,value:p("color")}}),t.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:d,value:t=>t.getAttribute("color")}}),t.conversion.for("downcast").attributeToElement({model:d,view:g("color")}),t.commands.add(d,new R(t)),t.model.schema.extend("$text",{allowAttributes:d}),t.model.schema.setAttributeProperties(d,{isFormatting:!0,copyOnEnter:!0})}}class D extends i.Plugin{constructor(t,{commandName:e,icon:n,componentName:i,dropdownLabel:r}){super(t),this.commandName=e,this.componentName=i,this.icon=n,this.dropdownLabel=r,this.columns=t.config.get(`${this.componentName}.columns`),this.colorTableView=void 0}init(){const t=this.editor,e=t.locale,n=e.t,i=t.commands.get(this.commandName),r=(0,o.normalizeColorOptions)(t.config.get(this.componentName).colors),a=(0,o.getLocalizedColorOptions)(e,r),s=t.config.get(`${this.componentName}.documentColors`);t.ui.componentFactory.add(this.componentName,(e=>{const r=(0,o.createDropdown)(e);return this.colorTableView=function({dropdownView:t,colors:e,columns:n,removeButtonLabel:i,documentColorsLabel:r,documentColorsCount:o}){const a=t.locale,s=new u(a,{colors:e,columns:n,removeButtonLabel:i,documentColorsLabel:r,documentColorsCount:o});return t.colorTableView=s,t.panelView.children.add(s),s.delegate("execute").to(t,"execute"),s}({dropdownView:r,colors:a.map((t=>({label:t.label,color:t.model,options:{hasBorder:t.hasBorder}}))),columns:this.columns,removeButtonLabel:n("Remove color"),documentColorsLabel:0!==s?n("Document colors"):void 0,documentColorsCount:void 0===s?this.columns:s}),this.colorTableView.bind("selectedColor").to(i,"value"),r.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),r.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),r.bind("isEnabled").to(i),r.on("execute",((e,n)=>{t.execute(this.commandName,n),t.editing.view.focus()})),r.on("change:isOpen",((e,n,i)=>{r.colorTableView.appendGrids(),i&&(0!==s&&this.colorTableView.updateDocumentColors(t.model,this.componentName),this.colorTableView.updateSelectedColors())})),r}))}}class L extends D{constructor(t){const e=t.locale.t;super(t,{commandName:d,componentName:d,icon:w.default,dropdownLabel:e("Font Color")})}static get pluginName(){return"FontColorUI"}}class j extends i.Plugin{static get requires(){return[N,L]}static get pluginName(){return"FontColor"}}class F extends r{constructor(t){super(t,h)}}class V extends i.Plugin{static get pluginName(){return"FontBackgroundColorEditing"}constructor(t){super(t),t.config.define(h,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.data.addStyleProcessorRules(E.addBackgroundRules),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:h,value:p("background-color")}}),t.conversion.for("downcast").attributeToElement({model:h,view:g("background-color")}),t.commands.add(h,new F(t)),t.model.schema.extend("$text",{allowAttributes:h}),t.model.schema.setAttributeProperties(h,{isFormatting:!0,copyOnEnter:!0})}}class U extends D{constructor(t){const e=t.locale.t;super(t,{commandName:h,componentName:h,icon:w.default,dropdownLabel:e("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class B extends i.Plugin{static get requires(){return[V,U]}static get pluginName(){return"FontBackgroundColor"}}class H extends i.Plugin{static get requires(){return[S,M,j,B]}static get pluginName(){return"Font"}}},55038:(t,e,n)=>{"use strict";n.r(e),n.d(e,{cleanList:()=>f,cleanListItem:()=>p,modelChangePostFixer:()=>v,modelIndentPasteFixer:()=>y,modelToViewPosition:()=>g,modelViewChangeIndent:()=>l,modelViewChangeType:()=>s,modelViewInsertion:()=>o,modelViewMergeAfter:()=>d,modelViewMergeAfterChangeType:()=>u,modelViewRemove:()=>a,modelViewSplitOnInsert:()=>c,viewModelConverter:()=>h,viewToModelPosition:()=>m});var i=n(17051),r=n(89419);function o(t){return(e,n,i)=>{const o=i.consumable;if(!o.test(n.item,"insert")||!o.test(n.item,"attribute:listType")||!o.test(n.item,"attribute:listIndent"))return;o.consume(n.item,"insert"),o.consume(n.item,"attribute:listType"),o.consume(n.item,"attribute:listIndent");const a=n.item,s=(0,r.generateLiInUl)(a,i);(0,r.injectViewList)(a,s,i,t)}}function a(t){return(e,n,i)=>{const o=i.mapper.toViewPosition(n.position).getLastMatchingPosition((t=>!t.item.is("element","li"))).nodeAfter,a=i.writer;a.breakContainer(a.createPositionBefore(o)),a.breakContainer(a.createPositionAfter(o));const s=o.parent,u=s.previousSibling,l=a.createRangeOn(s),c=a.remove(l);u&&u.nextSibling&&(0,r.mergeViewLists)(a,u,u.nextSibling),b(i.mapper.toModelElement(o).getAttribute("listIndent")+1,n.position,l.start,o,i,t);for(const t of a.createRangeIn(c).getItems())i.mapper.unbindViewElement(t);e.stop()}}function s(t,e,n){if(!n.consumable.consume(e.item,"attribute:listType"))return;const i=n.mapper.toViewElement(e.item),r=n.writer;r.breakContainer(r.createPositionBefore(i)),r.breakContainer(r.createPositionAfter(i));const o=i.parent,a="numbered"==e.attributeNewValue?"ol":"ul";r.rename(a,o)}function u(t,e,n){const i=n.mapper.toViewElement(e.item).parent,o=n.writer;(0,r.mergeViewLists)(o,i,i.nextSibling),(0,r.mergeViewLists)(o,i.previousSibling,i);for(const t of e.item.getChildren())n.consumable.consume(t,"insert")}function l(t){return(e,n,i)=>{if(!i.consumable.consume(n.item,"attribute:listIndent"))return;const o=i.mapper.toViewElement(n.item),a=i.writer;a.breakContainer(a.createPositionBefore(o)),a.breakContainer(a.createPositionAfter(o));const s=o.parent,u=s.previousSibling,l=a.createRangeOn(s);a.remove(l),u&&u.nextSibling&&(0,r.mergeViewLists)(a,u,u.nextSibling),b(n.attributeOldValue+1,n.range.start,l.start,o,i,t),(0,r.injectViewList)(n.item,o,i,t);for(const t of n.item.getChildren())i.consumable.consume(t,"insert")}}function c(t,e,n){if("listItem"!=e.item.name){let t=n.mapper.toViewPosition(e.range.start);const i=n.writer,o=[];for(;("ul"==t.parent.name||"ol"==t.parent.name)&&(t=i.breakContainer(t),"li"==t.parent.name);){const e=t,n=i.createPositionAt(t.parent,"end");if(!e.isEqual(n)){const t=i.remove(i.createRange(e,n));o.push(t)}t=i.createPositionAfter(t.parent)}if(o.length>0){for(let e=0;e<o.length;e++){const n=t.nodeBefore;if(t=i.insert(t,o[e]).end,e>0){const e=(0,r.mergeViewLists)(i,n,n.nextSibling);e&&e.parent==n&&t.offset--}}(0,r.mergeViewLists)(i,t.nodeBefore,t.nodeAfter)}}}function d(t,e,n){const i=n.mapper.toViewPosition(e.position),o=i.nodeBefore,a=i.nodeAfter;(0,r.mergeViewLists)(n.writer,o,a)}function h(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){const t=n.writer,i=t.createElement("listItem"),r=function(t){let e=0,n=t.parent;for(;n;){if(n.is("element","li"))e++;else{const t=n.previousSibling;t&&t.is("element","li")&&e++}n=n.parent}return e}(e.viewItem);t.setAttribute("listIndent",r,i);const o=e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted";if(t.setAttribute("listType",o,i),!n.safeInsert(i,e.modelCursor))return;const a=function(t,e,n){const{writer:i,schema:r}=n;let o=i.createPositionAfter(t);for(const a of e)if("ul"==a.name||"ol"==a.name)o=n.convertItem(a,o).modelCursor;else{const e=n.convertItem(a,i.createPositionAt(t,"end")),s=e.modelRange.start.nodeAfter;s&&s.is("element")&&!r.checkChild(t,s.name)&&(t=e.modelCursor.parent.is("element","listItem")?e.modelCursor.parent:_(e.modelCursor),o=i.createPositionAfter(t))}return o}(i,e.viewItem.getChildren(),n);e.modelRange=t.createRange(e.modelCursor,a),n.updateConversionResult(i,e)}}function f(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){const t=Array.from(e.viewItem.getChildren());for(const e of t)!e.is("element","li")&&!w(e)&&e._remove()}}function p(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const t=[...e.viewItem.getChildren()];let n=!1,i=!0;for(const e of t)n&&!w(e)&&e._remove(),e.is("$text")?(i&&(e._data=e.data.trimStart()),e.nextSibling&&!w(e.nextSibling)||(e._data=e.data.trimEnd())):w(e)&&(n=!0),i=!1}}function g(t){return(e,n)=>{if(n.isPhantom)return;const i=n.modelPosition.nodeBefore;if(i&&i.is("element","listItem")){const e=n.mapper.toViewElement(i),r=e.getAncestors().find(w),o=t.createPositionAt(e,0).getWalker();for(const t of o){if("elementStart"==t.type&&t.item.is("element","li")){n.viewPosition=t.previousPosition;break}if("elementEnd"==t.type&&t.item==r){n.viewPosition=t.nextPosition;break}}}}}function m(t){return(e,n)=>{const i=n.viewPosition,r=i.parent,o=n.mapper;if("ul"==r.name||"ol"==r.name){if(i.isAtEnd){const e=o.toModelElement(i.nodeBefore),r=o.getModelLength(i.nodeBefore);n.modelPosition=t.createPositionBefore(e).getShiftedBy(r)}else{const e=o.toModelElement(i.nodeAfter);n.modelPosition=t.createPositionBefore(e)}e.stop()}else if("li"==r.name&&i.nodeBefore&&("ul"==i.nodeBefore.name||"ol"==i.nodeBefore.name)){const a=o.toModelElement(r);let s=1,u=i.nodeBefore;for(;u&&w(u);)s+=o.getModelLength(u),u=u.previousSibling;n.modelPosition=t.createPositionBefore(a).getShiftedBy(s),e.stop()}}}function v(t,e){const n=t.document.differ.getChanges(),i=new Map;let r=!1;for(const i of n)if("insert"==i.type&&"listItem"==i.name)o(i.position);else if("insert"==i.type&&"listItem"!=i.name){if("$text"!=i.name){const n=i.position.nodeAfter;n.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",n),r=!0),n.hasAttribute("listType")&&(e.removeAttribute("listType",n),r=!0),n.hasAttribute("listStyle")&&(e.removeAttribute("listStyle",n),r=!0);for(const e of Array.from(t.createRangeIn(n)).filter((t=>t.item.is("element","listItem"))))o(e.previousPosition)}o(i.position.getShiftedBy(i.length))}else"remove"==i.type&&"listItem"==i.name?o(i.position):("attribute"==i.type&&"listIndent"==i.attributeKey||"attribute"==i.type&&"listType"==i.attributeKey)&&o(i.range.start);for(const t of i.values())a(t),s(t);return r;function o(t){const e=t.nodeBefore;if(e&&e.is("element","listItem")){let t=e;if(i.has(t))return;for(let e=t.previousSibling;e&&e.is("element","listItem");e=t.previousSibling)if(t=e,i.has(t))return;i.set(e,t)}else{const e=t.nodeAfter;e&&e.is("element","listItem")&&i.set(e,e)}}function a(t){let n=0,i=null;for(;t&&t.is("element","listItem");){const o=t.getAttribute("listIndent");if(o>n){let a;null===i?(i=o-n,a=n):(i>o&&(i=o),a=o-i),e.setAttribute("listIndent",a,t),r=!0}else i=null,n=t.getAttribute("listIndent")+1;t=t.nextSibling}}function s(t){let n=[],i=null;for(;t&&t.is("element","listItem");){const o=t.getAttribute("listIndent");if(i&&i.getAttribute("listIndent")>o&&(n=n.slice(0,o+1)),0!=o)if(n[o]){const i=n[o];t.getAttribute("listType")!=i&&(e.setAttribute("listType",i,t),r=!0)}else n[o]=t.getAttribute("listType");i=t,t=t.nextSibling}}}function y(t,[e,n]){let i,r=e.is("documentFragment")?e.getChild(0):e;if(i=n?this.createSelection(n):this.document.selection,r&&r.is("element","listItem")){const t=i.getFirstPosition();let e=null;if(t.parent.is("element","listItem")?e=t.parent:t.nodeBefore&&t.nodeBefore.is("element","listItem")&&(e=t.nodeBefore),e){const t=e.getAttribute("listIndent");if(t>0)for(;r&&r.is("element","listItem");)r._setAttribute("listIndent",r.getAttribute("listIndent")+t),r=r.nextSibling}}}function _(t){const e=new i.TreeWalker({startPosition:t});let n;do{n=e.next()}while(!n.value.item.is("element","listItem"));return n.value.item}function b(t,e,n,i,o,a){const s=(0,r.getSiblingListItem)(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:t,foo:"b"}),u=o.mapper,l=o.writer,c=s?s.getAttribute("listIndent"):null;let d;if(s)if(c==t){const t=u.toViewElement(s).parent;d=l.createPositionAfter(t)}else{const t=a.createPositionAt(s,"end");d=u.toViewPosition(t)}else d=n;d=(0,r.positionAfterUiElements)(d);for(const t of[...i.getChildren()])w(t)&&(d=l.move(l.createRangeOn(t),d).end,(0,r.mergeViewLists)(l,t,t.nextSibling),(0,r.mergeViewLists)(l,t.previousSibling,t))}function w(t){return t.is("element","ol")||t.is("element","ul")}},21928:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var i=n(93795),r=n(66338);class o extends i.Command{constructor(t,e){super(t),this._indentBy="forward"==e?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document;let n=Array.from(e.selection.getSelectedBlocks());t.change((t=>{const e=n[n.length-1];let i=e.nextSibling;for(;i&&"listItem"==i.name&&i.getAttribute("listIndent")>e.getAttribute("listIndent");)n.push(i),i=i.nextSibling;this._indentBy<0&&(n=n.reverse());for(const e of n){const n=e.getAttribute("listIndent")+this._indentBy;n<0?t.rename(e,"paragraph"):t.setAttribute("listIndent",n,e)}this.fire("_executeCleanup",n)}))}_checkEnabled(){const t=(0,r.first)(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){const e=t.getAttribute("listIndent"),n=t.getAttribute("listType");let i=t.previousSibling;for(;i&&i.is("element","listItem")&&i.getAttribute("listIndent")>=e;){if(i.getAttribute("listIndent")==e)return i.getAttribute("listType")==n;i=i.previousSibling}return!1}return!0}}},89419:(t,e,n)=>{"use strict";n.r(e),n.d(e,{createUIComponent:()=>d,createViewListItemElement:()=>o,findNestedList:()=>h,generateLiInUl:()=>a,getSiblingListItem:()=>c,getSiblingNodes:()=>f,injectViewList:()=>s,mergeViewLists:()=>u,positionAfterUiElements:()=>l});var i=n(17051),r=n(57231);function o(t){const e=t.createContainerElement("li");return e.getFillerOffset=p,e}function a(t,e){const n=e.mapper,i=e.writer,r="numbered"==t.getAttribute("listType")?"ol":"ul",a=o(i),s=i.createContainerElement(r,null);return i.insert(i.createPositionAt(s,0),a),n.bindElements(t,a),a}function s(t,e,n,i){const r=e.parent,o=n.mapper,a=n.writer;let s=o.toViewPosition(i.createPositionBefore(t));const d=c(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),f=t.previousSibling;if(d&&d.getAttribute("listIndent")==t.getAttribute("listIndent")){const t=o.toViewElement(d);s=a.breakContainer(a.createPositionAfter(t))}else if(f&&"listItem"==f.name){s=o.toViewPosition(i.createPositionAt(f,"end"));const t=o.findMappedViewAncestor(s),e=h(t);s=e?a.createPositionBefore(e):a.createPositionAt(t,"end")}else s=o.toViewPosition(i.createPositionBefore(t));if(s=l(s),a.insert(s,r),f&&"listItem"==f.name){const t=o.toViewElement(f),n=a.createRange(a.createPositionAt(t,0),s).getWalker({ignoreElementEnd:!0});for(const t of n)if(t.item.is("element","li")){const i=a.breakContainer(a.createPositionBefore(t.item)),r=t.item.parent,o=a.createPositionAt(e,"end");u(a,o.nodeBefore,o.nodeAfter),a.move(a.createRangeOn(r),o),n.position=i}}else{const n=r.nextSibling;if(n&&(n.is("element","ul")||n.is("element","ol"))){let i=null;for(const e of n.getChildren()){const n=o.toModelElement(e);if(!(n&&n.getAttribute("listIndent")>t.getAttribute("listIndent")))break;i=e}i&&(a.breakContainer(a.createPositionAfter(i)),a.move(a.createRangeOn(i.parent),a.createPositionAt(e,"end")))}}u(a,r,r.nextSibling),u(a,r.previousSibling,r)}function u(t,e,n){return!e||!n||"ul"!=e.name&&"ol"!=e.name||e.name!=n.name||e.getAttribute("class")!==n.getAttribute("class")?null:t.mergeContainers(t.createPositionAfter(e))}function l(t){return t.getLastMatchingPosition((t=>t.item.is("uiElement")))}function c(t,e){const n=!!e.sameIndent,i=!!e.smallerIndent,r=e.listIndent;let o=t;for(;o&&"listItem"==o.name;){const t=o.getAttribute("listIndent");if(n&&r==t||i&&r>t)return o;o="forward"===e.direction?o.nextSibling:o.previousSibling}return null}function d(t,e,n,i){t.ui.componentFactory.add(e,(o=>{const a=t.commands.get(e),s=new r.ButtonView(o);return s.set({label:n,icon:i,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(a,"value","isEnabled"),s.on("execute",(()=>{t.execute(e),t.editing.view.focus()})),s}))}function h(t){for(const e of t.getChildren())if("ul"==e.name||"ol"==e.name)return e;return null}function f(t,e){const n=[],r=t.parent,o={ignoreElementEnd:!0,startPosition:t,shallow:!0,direction:e},a=r.getAttribute("listIndent"),s=[...new i.TreeWalker(o)].filter((t=>t.item.is("element"))).map((t=>t.item));for(const t of s){if(!t.is("element","listItem"))break;if(t.getAttribute("listIndent")<a)break;if(!(t.getAttribute("listIndent")>a)){if(t.getAttribute("listType")!==r.getAttribute("listType"))break;if(t.getAttribute("listStyle")!==r.getAttribute("listStyle"))break;"backward"===e?n.unshift(t):n.push(t)}}return n}function p(){const t=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||t?0:i.getFillerOffset.call(this)}},51368:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var i=n(18524),r=n.n(i);class o extends(r()){execute(t){const e=this.editor.model;let n=t.position;e.change((t=>{const i=t.createElement("paragraph");if(!e.schema.checkChild(n.parent,i)){const r=e.schema.findAllowedParent(n,i);if(!r)return;n=t.split(n,r).position}e.insertContent(i,n),t.setSelection(i,"in")}))}}},14795:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Delete:()=>C,Input:()=>b,TextTransformation:()=>H,TextWatcher:()=>M,TwoStepCaretMovement:()=>R,Typing:()=>A,findAttributeRange:()=>W,getLastTextLine:()=>I,inlineHighlight:()=>z,isNonTypingKeystroke:()=>h});var i=n(68154),r=n.n(i),o=n(18524),a=n.n(o);class s{constructor(t,e=20){this.model=t,this.size=0,this.limit=e,this.isLocked=!1,this._changeCallback=(t,e)=>{"transparent"!=e.type&&e!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t){this.isLocked&&!t||(this._batch=null,this.size=0)}}class u extends(a()){constructor(t,e){super(t),this._buffer=new s(t.model,e),this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,i=t.text||"",r=i.length,o=t.range?e.createSelection(t.range):n.selection,a=t.resultRange;e.enqueueChange(this._buffer.batch,(t=>{this._buffer.lock(),this._batches.add(this._buffer.batch),e.deleteContent(o),i&&e.insertContent(t.createText(i,n.selection.getAttributes()),o),a?t.setSelection(a):o.is("documentSelection")||t.setSelection(o),this._buffer.unlock(),this._buffer.input(r)}))}}var l=n(61147),c=n(3950);const d=[(0,l.Cq)("arrowUp"),(0,l.Cq)("arrowRight"),(0,l.Cq)("arrowDown"),(0,l.Cq)("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let t=112;t<=135;t++)d.push(t);function h(t){return!(!t.ctrlKey&&!t.metaKey)||d.includes(t.keyCode)}var f=n(20327),p=n(27250);function g(t){if(t.newChildren.length-t.oldChildren.length!=1)return;const e=function(t,e){const n=[];let i,r=0;return t.forEach((t=>{"equal"==t?(o(),r++):"insert"==t?(a("insert")?i.values.push(e[r]):(o(),i={type:"insert",index:r,values:[e[r]]}),r++):a("delete")?i.howMany++:(o(),i={type:"delete",index:r,howMany:1})})),o(),n;function o(){i&&(n.push(i),i=null)}function a(t){return i&&i.type==t}}((0,f.Z)(t.oldChildren,t.newChildren,m),t.newChildren);if(e.length>1)return;const n=e[0];return n.values[0]&&n.values[0].is("$text")?n:void 0}function m(t,e){return t&&t.is("$text")&&e&&e.is("$text")?t.data===e.data:t===e}class v{constructor(t){this.editor=t,this.editing=this.editor.editing}handle(t,e){if(function(t){if(0==t.length)return!1;for(const e of t)if("children"===e.type&&!g(e))return!0;return!1}(t))this._handleContainerChildrenMutations(t,e);else for(const n of t)this._handleTextMutation(n,e),this._handleTextNodeInsertion(n)}_handleContainerChildrenMutations(t,e){const n=function(t){const e=t.map((t=>t.node)).reduce(((t,e)=>t.getCommonAncestor(e,{includeSelf:!0})));if(e)return e.getAncestors({includeSelf:!0,parentFirst:!0}).find((t=>t.is("containerElement")||t.is("rootElement")))}(t);if(!n)return;const i=this.editor.editing.view.domConverter.mapViewToDom(n),r=new p.Z(this.editor.editing.view.document),o=this.editor.data.toModel(r.domToView(i)).getChild(0),a=this.editor.editing.mapper.toModelElement(n);if(!a)return;const s=Array.from(o.getChildren()),u=Array.from(a.getChildren()),l=s[s.length-1],c=u[u.length-1],d=l&&l.is("element","softBreak"),h=c&&!c.is("element","softBreak");d&&h&&s.pop();const g=this.editor.model.schema;if(!y(s,g)||!y(u,g))return;const m=s.map((t=>t.is("$text")?t.data:"@")).join("").replace(/\u00A0/g," "),v=u.map((t=>t.is("$text")?t.data:"@")).join("").replace(/\u00A0/g," ");if(v===m)return;const b=(0,f.Z)(v,m),{firstChangeAt:w,insertions:T,deletions:S}=_(b);let E=null;e&&(E=this.editing.mapper.toModelRange(e.getFirstRange()));const O=m.substr(w,T),P=this.editor.model.createRange(this.editor.model.createPositionAt(a,w),this.editor.model.createPositionAt(a,w+S));this.editor.execute("input",{text:O,range:P,resultRange:E})}_handleTextMutation(t,e){if("text"!=t.type)return;const n=t.newText.replace(/\u00A0/g," "),i=t.oldText.replace(/\u00A0/g," ");if(i===n)return;const r=(0,f.Z)(i,n),{firstChangeAt:o,insertions:a,deletions:s}=_(r);let u=null;e&&(u=this.editing.mapper.toModelRange(e.getFirstRange()));const l=this.editing.view.createPositionAt(t.node,o),c=this.editing.mapper.toModelPosition(l),d=this.editor.model.createRange(c,c.getShiftedBy(s)),h=n.substr(o,a);this.editor.execute("input",{text:h,range:d,resultRange:u})}_handleTextNodeInsertion(t){if("children"!=t.type)return;const e=g(t),n=this.editing.view.createPositionAt(t.node,e.index),i=this.editing.mapper.toModelPosition(n),r=e.values[0].data;this.editor.execute("input",{text:r.replace(/\u00A0/g," "),range:this.editor.model.createRange(i)})}}function y(t,e){return t.every((t=>e.isInline(t)))}function _(t){let e=null,n=null;for(let i=0;i<t.length;i++)"equal"!=t[i]&&(e=null===e?i:e,n=i);let i=0,r=0;for(let o=e;o<=n;o++)"insert"!=t[o]&&i++,"delete"!=t[o]&&r++;return{insertions:r,deletions:i,firstChangeAt:e}}class b extends(r()){static get pluginName(){return"Input"}init(){const t=this.editor,e=new u(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e),function(t){let e=null;const n=t.model,i=t.editing.view,r=t.commands.get("input");function o(t){const o=n.document,s=i.document.isComposing,u=e&&e.isEqual(o.selection);e=null,r.isEnabled&&(h(t)||o.selection.isCollapsed||s&&229===t.keyCode||!s&&229===t.keyCode&&u||a())}function a(){const t=r.buffer;t.lock();const e=t.batch;r._batches.add(e),n.enqueueChange(e,(()=>{n.deleteContent(n.document.selection)})),t.unlock()}c.ZP.isAndroid?i.document.on("beforeinput",((t,e)=>o(e)),{priority:"lowest"}):i.document.on("keydown",((t,e)=>o(e)),{priority:"lowest"}),i.document.on("compositionstart",(function(){const t=n.document,e=1!==t.selection.rangeCount||t.selection.getFirstRange().isFlat;t.selection.isCollapsed||e||a()}),{priority:"lowest"}),i.document.on("compositionend",(()=>{e=n.createSelection(n.document.selection)}),{priority:"lowest"})}(t),function(t){t.editing.view.document.on("mutations",((e,n,i)=>{new v(t).handle(n,i)}))}(t)}isInput(t){return this.editor.commands.get("input")._batches.has(t)}}var w=n(22572);class T extends(a()){constructor(t,e){super(t),this.direction=e,this._buffer=new s(t.model,t.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,(i=>{this._buffer.lock();const r=i.createSelection(t.selection||n.selection),o=t.sequence||1,a=r.isCollapsed;if(r.isCollapsed&&e.modifySelection(r,{direction:this.direction,unit:t.unit}),this._shouldEntireContentBeReplacedWithParagraph(o))return void this._replaceEntireContentWithParagraph(i);if(this._shouldReplaceFirstBlockWithParagraph(r,o))return void this.editor.execute("paragraph",{selection:r});if(r.isCollapsed)return;let s=0;r.getFirstRange().getMinimalFlatRanges().forEach((t=>{s+=(0,w.Z)(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),e.deleteContent(r,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(s),i.setSelection(r),this._buffer.unlock()}))}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(i))return!1;if(!e.schema.checkChild(i,"paragraph"))return!1;const r=i.getChild(0);return!r||"paragraph"!==r.name}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n),r=t.createElement("paragraph");t.remove(t.createRangeIn(i)),t.insert(r,i),t.setSelection(r,0)}_shouldReplaceFirstBlockWithParagraph(t,e){const n=this.editor.model;if(e>1||"backward"!=this.direction)return!1;if(!t.isCollapsed)return!1;const i=t.getFirstPosition(),r=n.schema.getLimitElement(i),o=r.getChild(0);return i.parent==o&&!!t.containsEntireContent(o)&&!!n.schema.checkChild(r,"paragraph")&&"paragraph"!=o.name}}var S=n(69075),E=n(60092),O=n(2229);class P extends S.Z{constructor(t){super(t);const e=t.document;let n=0;function i(t,n,i){const r=new O.Z(e,"delete",e.selection.getFirstRange());e.fire(r,new E.Z(e,n,i)),r.stop.called&&t.stop()}e.on("keyup",((t,e)=>{e.keyCode!=l.Do.delete&&e.keyCode!=l.Do.backspace||(n=0)})),e.on("keydown",((t,e)=>{const r={};if(e.keyCode==l.Do.delete)r.direction="forward",r.unit="character";else{if(e.keyCode!=l.Do.backspace)return;r.direction="backward",r.unit="codePoint"}const o=c.ZP.isMac?e.altKey:e.ctrlKey;r.unit=o?"word":r.unit,r.sequence=++n,i(t,e.domEvent,r)})),c.ZP.isAndroid&&e.on("beforeinput",((e,n)=>{if("deleteContentBackward"!=n.domEvent.inputType)return;const r={unit:"codepoint",direction:"backward",sequence:1},o=n.domTarget.ownerDocument.defaultView.getSelection();o.anchorNode==o.focusNode&&o.anchorOffset+1!=o.focusOffset&&(r.selectionToRemove=t.domConverter.domSelectionToView(o)),i(e,n.domEvent,r)}))}observe(){}}class C extends(r()){static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(P);const i=new T(t,"forward");if(t.commands.add("deleteForward",i),t.commands.add("forwardDelete",i),t.commands.add("delete",new T(t,"backward")),this.listenTo(n,"delete",((n,i)=>{const r={unit:i.unit,sequence:i.sequence};if(i.selectionToRemove){const e=t.model.createSelection(),n=[];for(const e of i.selectionToRemove.getRanges())n.push(t.editing.mapper.toModelRange(e));e.setTo(n),r.selection=e}t.execute("forward"==i.direction?"deleteForward":"delete",r),i.preventDefault(),e.scrollToTheSelection()}),{priority:"low"}),c.ZP.isAndroid){let t=null;this.listenTo(n,"delete",((e,n)=>{const i=n.domTarget.ownerDocument.defaultView.getSelection();t={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}}),{priority:"lowest"}),this.listenTo(n,"keyup",((e,n)=>{if(t){const e=n.domTarget.ownerDocument.defaultView.getSelection();e.collapse(t.anchorNode,t.anchorOffset),e.extend(t.focusNode,t.focusOffset),t=null}}))}}}class A extends(r()){static get requires(){return[b,C]}static get pluginName(){return"Typing"}}var k=n(50131),x=n(29110);function I(t,e){let n=t.start;return{text:Array.from(t.getItems()).reduce(((t,i)=>i.is("$text")||i.is("$textProxy")?t+i.data:(n=e.createPositionAfter(i),"")),""),range:e.createRange(n,t.end)}}class M{constructor(t,e){this.model=t,this.testCallback=e,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))})),this._startListening()}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",((e,{directChange:n})=>{n&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this.hasMatch=!1))})),this.listenTo(t,"change:data",((t,e)=>{"transparent"!=e.type&&this._evaluateTextBeforeSelection("data",{batch:e})}))}_evaluateTextBeforeSelection(t,e={}){const n=this.model,i=n.document.selection,r=n.createRange(n.createPositionAt(i.focus.parent,0),i.focus),{text:o,range:a}=I(r,n),s=this.testCallback(o);if(!s&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!s,s){const n=Object.assign(e,{text:o,range:a});"object"==typeof s&&Object.assign(n,s),this.fire(`matched:${t}`,n)}}}(0,k.default)(M,x.default);class R extends(r()){static get pluginName(){return"TwoStepCaretMovement"}constructor(t){super(t),this.attributes=new Set,this._overrideUid=null}init(){const t=this.editor,e=t.model,n=t.editing.view,i=t.locale,r=e.document.selection;this.listenTo(n.document,"arrowKey",((t,e)=>{if(!r.isCollapsed)return;if(e.shiftKey||e.altKey||e.ctrlKey)return;const n=e.keyCode==l.Do.arrowright,o=e.keyCode==l.Do.arrowleft;if(!n&&!o)return;const a=i.contentLanguageDirection;let s=!1;s="ltr"===a&&n||"rtl"===a&&o?this._handleForwardMovement(e):this._handleBackwardMovement(e),!0===s&&t.stop()}),{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(r,"change:range",((t,e)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!e.directChange&&j(r.getFirstPosition(),this.attributes)||this._restoreGravity())}))}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const e=this.attributes,n=this.editor.model.document.selection,i=n.getFirstPosition();return!this._isGravityOverridden&&(!i.isAtStart||!N(n,e))&&(j(i,e)?(L(t),this._overrideGravity(),!0):void 0)}_handleBackwardMovement(t){const e=this.attributes,n=this.editor.model,i=n.document.selection,r=i.getFirstPosition();return this._isGravityOverridden?(L(t),this._restoreGravity(),D(n,e,r),!0):r.isAtStart?!!N(i,e)&&(L(t),D(n,e,r),!0):function(t,e){return j(t.getShiftedBy(-1),e)}(r,e)?r.isAtEnd&&!N(i,e)&&j(r,e)?(L(t),D(n,e,r),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change((t=>t.overrideSelectionGravity()))}_restoreGravity(){this.editor.model.change((t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null}))}}function N(t,e){for(const n of e)if(t.hasAttribute(n))return!0;return!1}function D(t,e,n){const i=n.nodeBefore;t.change((t=>{i?t.setSelectionAttribute(i.getAttributes()):t.removeSelectionAttribute(e)}))}function L(t){t.preventDefault()}function j(t,e){const{nodeBefore:n,nodeAfter:i}=t;for(const t of e){const e=n?n.getAttribute(t):void 0;if((i?i.getAttribute(t):void 0)!==e)return!0}return!1}var F=n(37736);const V={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:"1/2",to:""},oneThird:{from:"1/3",to:""},twoThirds:{from:"2/3",to:""},oneForth:{from:"1/4",to:""},threeQuarters:{from:"3/4",to:""},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:G('"'),to:[null,"",null,""]},quotesSecondary:{from:G("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:G("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:G('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:G('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:G("'"),to:[null,"",null,""]}},U={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},B=["symbols","mathematical","typography","quotes"];class H extends(r()){static get pluginName(){return"TextTransformation"}constructor(t){super(t),t.config.define("typing",{transformations:{include:B}})}init(){const t=this.editor.model.document.selection;t.on("change:range",(()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTransformationWatchers()}_enableTransformationWatchers(){const t=this.editor,e=t.model,n=t.plugins.get("Input"),i=function(t){const e=t.extra||[],n=t.remove||[],i=t=>!n.includes(t);return function(t){const e=new Set;for(const n of t)if(U[n])for(const t of U[n])e.add(t);else e.add(n);return Array.from(e)}(t.include.concat(e).filter(i)).filter(i).map((t=>V[t]||t)).map((t=>{return{from:(n=t.from,"string"==typeof n?new RegExp(`(${(0,F.Z)(n)})$`):n),to:(e=t.to,"string"==typeof e?()=>[e]:e instanceof Array?()=>e:e)};var e,n}))}(t.config.get("typing.transformations")),r=new M(t.model,(t=>{for(const e of i)if(e.from.test(t))return{normalizedTransformation:e}}));r.on("matched:data",((t,i)=>{if(!n.isInput(i.batch))return;const{from:r,to:o}=i.normalizedTransformation,a=r.exec(i.text),s=o(a.slice(1)),u=i.range;let l=a.index;e.enqueueChange((t=>{for(let i=1;i<a.length;i++){const r=a[i],o=s[i-1];if(null==o){l+=r.length;continue}const c=u.start.getShiftedBy(l),d=e.createRange(c,c.getShiftedBy(r.length)),h=((n=c).textNode?n.textNode:n.nodeAfter).getAttributes();e.insertContent(t.createText(o,h),d),l+=o.length}var n}))})),r.bind("isEnabled").to(this)}}function G(t){return new RegExp(`(^|\\s)(${t})([^${t}]*)(${t})$`)}function W(t,e,n,i){return i.createRange(Z(t,e,n,!0,i),Z(t,e,n,!1,i))}function Z(t,e,n,i,r){let o=t.textNode||(i?t.nodeBefore:t.nodeAfter),a=null;for(;o&&o.getAttribute(e)==n;)a=o,o=i?o.previousSibling:o.nextSibling;return a?r.createPositionAt(a,i?"before":"after"):t}function z(t,e,n,i){const r=t.editing.view,o=new Set;r.document.registerPostFixer((r=>{const a=t.model.document.selection;let s=!1;if(a.hasAttribute(e)){const u=W(a.getFirstPosition(),e,a.getAttribute(e),t.model),l=t.editing.mapper.toViewRange(u);for(const t of l.getItems())t.is("element",n)&&!t.hasClass(i)&&(r.addClass(i,t),o.add(t),s=!0)}return s})),t.conversion.for("editingDowncast").add((t=>{function e(){r.change((t=>{for(const e of o.values())t.removeClass(i,e),o.delete(e)}))}t.on("insert",e,{priority:"highest"}),t.on("remove",e,{priority:"highest"}),t.on("attribute",e,{priority:"highest"}),t.on("selection",e,{priority:"highest"})}))}},64939:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var i=n(78378);class r{constructor(t){this.editor=t,this._components=new Map}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(o(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new i.default("componentfactory-item-missing",this,{name:t});return this._components.get(o(t)).callback(this.editor.locale)}has(t){return this._components.has(o(t))}}function o(t){return String(t).toLowerCase()}},98615:(t,e,n)=>{"use strict";function i({emitter:t,activator:e,callback:n,contextElements:i}){t.listenTo(document,"mousedown",((t,r)=>{if(!e())return;const o="function"==typeof r.composedPath?r.composedPath():[];for(const t of i)if(t.contains(r.target)||o.includes(t))return;n()}))}function r(t){t.set("_isCssTransitionsDisabled",!1),t.disableCssTransitions=()=>{t._isCssTransitionsDisabled=!0},t.enableCssTransitions=()=>{t._isCssTransitionsDisabled=!1},t.extendTemplate({attributes:{class:[t.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function o({view:t}){t.listenTo(t.element,"submit",((e,n)=>{n.preventDefault(),t.fire("submit")}),{useCapture:!0})}n.r(e),n.d(e,{BalloonPanelView:()=>Yt,BalloonToolbar:()=>ue,BlockToolbar:()=>fe,BodyCollection:()=>U,BoxedEditorUIView:()=>Mt,ButtonView:()=>Z,ColorGridView:()=>it,ColorTileView:()=>X,ContextualBalloon:()=>te,DropdownButtonView:()=>rt,EditorUIView:()=>xt,FocusCycler:()=>tt,FormHeaderView:()=>Dt,IconView:()=>B,IframeView:()=>jt,InlineEditableUIView:()=>Nt,InputTextView:()=>Lt,LabelView:()=>It,LabeledFieldView:()=>Ft,ListItemView:()=>Ot,ListView:()=>Et,Model:()=>Gt,Notification:()=>Bt,SplitButtonView:()=>ot,StickyPanelView:()=>re,SwitchButtonView:()=>z,Template:()=>_,ToolbarSeparatorView:()=>gt,ToolbarView:()=>bt,TooltipView:()=>H,View:()=>p,ViewCollection:()=>c,addListToDropdown:()=>kt,addToolbarToDropdown:()=>At,clickOutsideHandler:()=>i,createDropdown:()=>Ct,createLabeledDropdown:()=>Ut,createLabeledInputText:()=>Vt,enableToolbarKeyboardFocus:()=>oe,getLocalizedColorOptions:()=>q,injectCssTransitionDisabler:()=>r,normalizeColorOptions:()=>$,normalizeSingleColorDefinition:()=>Y,normalizeToolbarConfig:()=>yt,submitHandler:()=>o});var a=n(78378),s=n(50131),u=n(40669),l=n(4033);class c extends l.default{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",((t,e,n)=>{this._renderViewIntoCollectionParent(e,n)})),this.on("remove",((t,e)=>{e.element&&this._parentElement&&e.element.remove()})),this._parentElement=null}destroy(){this.map((t=>t.destroy()))}setParent(t){this._parentElement=t;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...t){if(!t.length||!t.every((t=>"string"==typeof t)))throw new a.default("ui-viewcollection-delegate-wrong-events",this);return{to:e=>{for(const n of this)for(const i of t)n.delegate(i).to(e);this.on("add",((n,i)=>{for(const n of t)i.delegate(n).to(e)})),this.on("remove",((n,i)=>{for(const n of t)i.stopDelegating(n,e)}))}}}_renderViewIntoCollectionParent(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}}var d=n(91916),h=n(29110),f=n(65838);class p{constructor(t){this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new l.default,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",((e,n)=>{n.locale=t})),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=_.bind(this,this)}createCollection(t){const e=new c(t);return this._viewCollections.add(e),e}registerChild(t){(0,f.Z)(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){(0,f.Z)(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new _(t)}extendTemplate(t){_.extend(this.template,t)}render(){if(this.isRendered)throw new a.default("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((t=>t.destroy())),this.template&&this.template._revertData&&this.template.revert(this.element)}}(0,s.default)(p,d.Z),(0,s.default)(p,h.default);var g=n(85006),m=n(77226),v=n(24612),y=n(73701);class _{constructor(t){Object.assign(this,k(A(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new a.default("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)D(n)?yield n:L(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,i)=>new w({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:i}),if:(n,i,r)=>new T({observable:t,emitter:e,attribute:n,valueIfTrue:i,callback:r})}}static extend(t,e){if(t._isRendered)throw new a.default("template-extend-render",[this,t]);R(t,k(A(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new a.default("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),S(this.text)?this._bindToObservable({schema:this.text,updater:O(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){let e,n,i,r;if(!this.attributes)return;const o=t.node,a=t.revertData;for(e in this.attributes)if(i=o.getAttribute(e),n=this.attributes[e],a&&(a.attributes[e]=i),r=(0,m.Z)(n[0])&&n[0].ns?n[0].ns:null,S(n)){const s=r?n[0].value:n;a&&F(e)&&s.unshift(i),this._bindToObservable({schema:s,updater:P(o,e,r),data:t})}else"style"==e&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],t):(a&&i&&F(e)&&n.unshift(i),n=n.map((t=>t&&t.value||t)).reduce(((t,e)=>t.concat(e)),[]).reduce(I,""),N(n)||o.setAttributeNS(r,e,n))}_renderStyleAttribute(t,e){const n=e.node;for(const i in t){const r=t[i];S(r)?this._bindToObservable({schema:[r],updater:C(n,i),data:e}):n.style[i]=r}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,i=t.isApplying;let r=0;for(const o of this.children)if(j(o)){if(!i){o.setParent(e);for(const t of o)n.appendChild(t.element)}}else if(D(o))i||(o.isRendered||o.render(),n.appendChild(o.element));else if((0,g.Z)(o))n.appendChild(o);else if(i){const e={children:[],bindings:[],attributes:{}};t.revertData.children.push(e),o._renderNode({node:n.childNodes[r++],isApplying:!0,revertData:e})}else n.appendChild(o.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map((n=>{const[i,r]=e.split("@");return n.activateDomEventListener(i,r,t)}));t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const i=n.revertData;E(t,e,n);const r=t.filter((t=>!N(t))).filter((t=>t.observable)).map((i=>i.activateAttributeListener(t,e,n)));i&&i.bindings.push(r)}_revertTemplateFromNode(t,e){for(const t of e.bindings)for(const e of t)e();if(e.text)t.textContent=e.text;else{for(const n in e.attributes){const i=e.attributes[n];null===i?t.removeAttribute(n):t.setAttribute(n,i)}for(let n=0;n<e.children.length;++n)this._revertTemplateFromNode(t.childNodes[n],e.children[n])}}}(0,s.default)(_,u.default);class b{constructor(t){Object.assign(this,t)}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const i=()=>E(t,e,n);return this.emitter.listenTo(this.observable,"change:"+this.attribute,i),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,i)}}}class w extends b{activateDomEventListener(t,e,n){const i=(t,n)=>{e&&!n.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,i),()=>{this.emitter.stopListening(n.node,t,i)}}}class T extends b{getValue(t){return!N(super.getValue(t))&&(this.valueIfTrue||!0)}}function S(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(S):t instanceof b)}function E(t,e,{node:n}){let i=function(t,e){return t.map((t=>t instanceof b?t.getValue(e):t))}(t,n);i=1==t.length&&t[0]instanceof T?i[0]:i.reduce(I,""),N(i)?e.remove():e.set(i)}function O(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function P(t,e,n){return{set(i){t.setAttributeNS(n,e,i)},remove(){t.removeAttributeNS(n,e)}}}function C(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function A(t){return(0,v.Z)(t,(t=>{if(t&&(t instanceof b||L(t)||D(t)||j(t)))return t}))}function k(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){t.text=(0,y.default)(t.text)}(t),t.on&&(t.eventListeners=function(t){for(const e in t)x(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(const e in t)t[e].value&&(t[e].value=(0,y.default)(t[e].value)),x(t,e)}(t.attributes);const e=[];if(t.children)if(j(t.children))e.push(t.children);else for(const n of t.children)L(n)||D(n)||(0,g.Z)(n)?e.push(n):e.push(new _(n));t.children=e}return t}function x(t,e){t[e]=(0,y.default)(t[e])}function I(t,e){return N(e)?t:N(t)?e:`${t} ${e}`}function M(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function R(t,e){if(e.attributes&&(t.attributes||(t.attributes={}),M(t.attributes,e.attributes)),e.eventListeners&&(t.eventListeners||(t.eventListeners={}),M(t.eventListeners,e.eventListeners)),e.text&&t.text.push(...e.text),e.children&&e.children.length){if(t.children.length!=e.children.length)throw new a.default("ui-template-extend-children-mismatch",t);let n=0;for(const i of e.children)R(t.children[n++],i)}}function N(t){return!t&&0!==t}function D(t){return t instanceof p}function L(t){return t instanceof _}function j(t){return t instanceof c}function F(t){return"class"==t||"style"==t}var V=n(22112);class U extends c{constructor(t,e=[]){super(e),this.locale=t}attachToDom(){this._bodyCollectionContainer=new _({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=(0,V.Z)(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&0==t.childElementCount&&t.remove()}}class B extends p{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(()=>{this._updateXMLContent(),this._colorFillPaths()})),this.on("change:fillColor",(()=>{this._colorFillPaths()}))}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");for(e&&(this.viewBox=e),this.element.innerHTML="";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((t=>{t.style.fill=this.fillColor}))}}class H extends p{constructor(t){super(t),this.set("text",""),this.set("position","s");const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",e.to("position",(t=>"ck-tooltip_"+t)),e.if("text","ck-hidden",(t=>!t.trim()))]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:e.to("text")}]}]})}}var G=n(369),W=n(61147);class Z extends p{constructor(t){super(t);const e=this.bindTemplate,n=(0,G.Z)();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(n),this.iconView=new B,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",(t=>!t)),e.if("isVisible","ck-hidden",(t=>!t)),e.to("isOn",(t=>t?"ck-on":"ck-off")),e.if("withText","ck-button_with-text"),e.if("withKeystroke","ck-button_with-keystroke")],type:e.to("type",(t=>t||"button")),tabindex:e.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${n}`,"aria-disabled":e.if("isEnabled",!0,(t=>!t)),"aria-pressed":e.to("isOn",(t=>!!this.isToggleable&&String(t)))},children:this.children,on:{mousedown:e.to((t=>{t.preventDefault()})),click:e.to((t=>{this.isEnabled?this.fire("execute"):t.preventDefault()}))}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){const t=new H;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}_createLabelView(t){const e=new p,n=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:`ck-editor__aria-label_${t}`},children:[{text:this.bindTemplate.to("label")}]}),e}_createKeystrokeView(){const t=new p;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(t=>(0,W.XU)(t)))}]}),t}_getTooltipString(t,e,n){return t?"string"==typeof t?t:(n&&(n=(0,W.XU)(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}class z extends Z{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new p;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}function q(t,e){const n=t.t,i={Black:n("Black"),"Dim grey":n("Dim grey"),Grey:n("Grey"),"Light grey":n("Light grey"),White:n("White"),Red:n("Red"),Orange:n("Orange"),Yellow:n("Yellow"),"Light green":n("Light green"),Green:n("Green"),Aquamarine:n("Aquamarine"),Turquoise:n("Turquoise"),"Light blue":n("Light blue"),Blue:n("Blue"),Purple:n("Purple")};return e.map((t=>{const e=i[t.label];return e&&e!=t.label&&(t.label=e),t}))}function $(t){return t.map(Y).filter((t=>!!t))}function Y(t){return"string"==typeof t?{model:t,label:t,hasBorder:!1,view:{name:"span",styles:{color:t}}}:{model:t.color,label:t.label||t.color,hasBorder:void 0!==t.hasBorder&&t.hasBorder,view:{name:"span",styles:{color:`${t.color}`}}}}var K=n(52675);class X extends Z{constructor(t){super(t);const e=this.bindTemplate;this.set("color"),this.set("hasBorder"),this.icon=K.default,this.extendTemplate({attributes:{style:{backgroundColor:e.to("color")},class:["ck","ck-color-grid__tile",e.if("hasBorder","ck-color-table__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var J=n(22073),Q=n(62152);class tt{constructor(t){if(Object.assign(this,t),t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];"string"==typeof n&&(n=[n]);for(const i of n)t.keystrokeHandler.set(i,((t,n)=>{this[e](),n()}))}}get first(){return this.focusables.find(et)||null}get last(){return this.focusables.filter(et).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(((e,n)=>{const i=e.element===this.focusTracker.focusedElement;return i&&(t=n),i})),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];let i=(e+n+t)%n;do{const e=this.focusables.get(i);if(et(e))return e;i=(i+n+t)%n}while(i!==e);return null}}function et(t){return!(!t.focus||"none"==Q.default.window.getComputedStyle(t.element).display)}var nt=n(46550);class it extends p{constructor(t,e){super(t);const n=e&&e.colorDefinitions||[],i={};e&&e.columns&&(i.gridTemplateColumns=`repeat( ${e.columns}, 1fr)`),this.set("selectedColor"),this.items=this.createCollection(),this.focusTracker=new J.default,this.keystrokes=new nt.default,this._focusCycler=new tt({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowleft",focusNext:"arrowright"}}),this.items.on("add",((t,e)=>{e.isOn=e.color===this.selectedColor})),n.forEach((t=>{const e=new X;e.set({color:t.color,label:t.label,tooltip:!0,hasBorder:t.options.hasBorder}),e.on("execute",(()=>{this.fire("execute",{value:t.color,hasBorder:t.options.hasBorder,label:t.label})})),this.items.add(e)})),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:i}}),this.on("change:selectedColor",((t,e,n)=>{for(const t of this.items)t.isOn=t.color===n}))}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",((t,e)=>{this.focusTracker.add(e.element)})),this.items.on("remove",((t,e)=>{this.focusTracker.remove(e.element)})),this.keystrokes.listenTo(this.element)}}class rt extends Z{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new B;return t.content=K.default,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}class ot extends p{constructor(t){super(t);const e=this.bindTemplate;this.set("class"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new nt.default,this.focusTracker=new J.default,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",e.to("class"),e.if("isVisible","ck-hidden",(t=>!t)),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",((t,e)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),e())})),this.keystrokes.set("arrowleft",((t,e)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),e())}))}focus(){this.actionView.focus()}_createActionView(){const t=new Z;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const t=new Z,e=t.bindTemplate;return t.icon=K.default,t.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":e.to("isOn",(t=>String(t)))}}),t.bind("isEnabled").to(this),t.delegate("execute").to(this,"open"),t}}class at extends p{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",(t=>`ck-dropdown__panel_${t}`)),e.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:e.to((t=>t.preventDefault()))}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus()}}}var st=n(36224),ut=n(90407),lt=n(73234);function ct({element:t,target:e,positions:n,limiter:i,fitInViewport:r}){(0,lt.Z)(e)&&(e=e()),(0,lt.Z)(i)&&(i=i());const o=function(t){return t&&t.parentNode?t.offsetParent===Q.default.document.body?null:t.offsetParent:null}(t),a=new st.Z(t),s=new st.Z(e);let u,l;if(i||r){const t=function(t,e){const{elementRect:n,viewportRect:i}=e,r=n.getArea(),o=function(t,{targetRect:e,elementRect:n,limiterRect:i,viewportRect:r}){const o=[],a=n.getArea();for(const s of t){const t=dt(s,e,n);if(!t)continue;const[u,l]=t;let c=0,d=0;if(i)if(r){const t=i.getIntersection(r);t&&(c=t.getIntersectionArea(l))}else c=i.getIntersectionArea(l);r&&(d=r.getIntersectionArea(l));const h={positionName:u,positionRect:l,limiterIntersectArea:c,viewportIntersectArea:d};if(c===a)return[h];o.push(h)}return o}(t,e);if(i){const t=ht(o.filter((({viewportIntersectArea:t})=>t===r)),r);if(t)return t}return ht(o,r)}(n,{targetRect:s,elementRect:a,limiterRect:i&&new st.Z(i).getVisible(),viewportRect:r&&new st.Z(Q.default.window)});[l,u]=t||dt(n[0],s,a)}else[l,u]=dt(n[0],s,a);let c=ft(u);return o&&(c=function({left:t,top:e},n){const i=ft(new st.Z(n)),r=(0,ut.Z)(n);return t-=i.left,e-=i.top,t+=n.scrollLeft,e+=n.scrollTop,{left:t-=r.left,top:e-=r.top}}(c,o)),{left:c.left,top:c.top,name:l}}function dt(t,e,n){const i=t(e,n);if(!i)return null;const{left:r,top:o,name:a}=i;return[a,n.clone().moveTo(r,o)]}function ht(t,e){let n,i,r=0;for(const{positionName:o,positionRect:a,limiterIntersectArea:s,viewportIntersectArea:u}of t){if(s===e)return[o,a];const t=u**2+s**2;t>r&&(r=t,n=a,i=o)}return n?[i,n]:null}function ft({left:t,top:e}){const{scrollX:n,scrollY:i}=Q.default.window;return{left:t+n,top:e+i}}class pt extends p{constructor(t,e,n){super(t);const i=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.keystrokes=new nt.default,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",(t=>!t))],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",(()=>{this.isOpen=!this.isOpen})),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(()=>{this.isOpen&&("auto"===this.panelPosition?this.panelView.position=pt._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)})),this.keystrokes.listenTo(this.element);const t=(t,e)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,e())};this.keystrokes.set("arrowdown",((t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())})),this.keystrokes.set("arrowright",((t,e)=>{this.isOpen&&e()})),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:e,southEast:n,southWest:i,northEast:r,northWest:o,southMiddleEast:a,southMiddleWest:s,northMiddleEast:u,northMiddleWest:l}=pt.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[n,i,a,s,t,r,o,u,l,e]:[i,n,s,a,t,o,r,l,u,e]}}pt.defaultPanelPositions={south:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/2,name:"s"}),southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),southMiddleEast:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/4,name:"sme"}),southMiddleWest:(t,e)=>({top:t.bottom,left:t.left-3*(e.width-t.width)/4,name:"smw"}),north:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/2,name:"n"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}),northMiddleEast:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/4,name:"nme"}),northMiddleWest:(t,e)=>({top:t.top-e.height,left:t.left-3*(e.width-t.width)/4,name:"nmw"})},pt._getOptimalPosition=ct;class gt extends p{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class mt extends p{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var vt=n(10679);function yt(t){return Array.isArray(t)?{items:t,removeItems:[]}:t?Object.assign({items:[],removeItems:[]},t):{items:[],removeItems:[]}}var _t=n(93795);class bt extends p{constructor(t,e){super(t);const n=this.bindTemplate,i=this.t;this.options=e||{},this.set("ariaLabel",i("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new J.default,this.keystrokes=new nt.default,this.set("class"),this.set("isCompact",!1),this.itemsView=new wt(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const r="rtl"===t.uiLanguageDirection;this._focusCycler=new tt({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[r?"arrowright":"arrowleft","arrowup"],focusNext:[r?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var a;this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")}},children:this.children,on:{mousedown:(a=this,a.bindTemplate.to((t=>{t.target===a.element&&t.preventDefault()})))}}),this._behavior=this.options.shouldGroupWhenFull?new St(this):new Tt(this)}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",((t,e)=>{this.focusTracker.add(e.element)})),this.items.on("remove",((t,e)=>{this.focusTracker.remove(e.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e){const n=yt(t),i=n.items.filter(((t,i,r)=>"|"===t||-1===n.removeItems.indexOf(t)&&("-"===t?!this.options.shouldGroupWhenFull||((0,a.logWarning)("toolbarview-line-break-ignored-when-grouping-items",r),!1):!!e.has(t)||((0,a.logWarning)("toolbarview-item-unavailable",{name:t}),!1)))),r=this._cleanSeparators(i).map((t=>"|"===t?new gt:"-"===t?new mt:e.create(t)));this.items.addMany(r)}_cleanSeparators(t){const e=t=>"-"!==t&&"|"!==t,n=t.length,i=t.findIndex(e),r=n-t.slice().reverse().findIndex(e);return t.slice(i,r).filter(((t,n,i)=>!!e(t)||!(n>0&&i[n-1]===t)))}}class wt extends p{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Tt{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using((t=>t)),t.focusables.bindTo(t.items).using((t=>t)),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class St{constructor(t){this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,t.itemsView.children.bindTo(this.ungroupedItems).using((t=>t)),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),t.children.on("add",this._updateFocusCycleableItems.bind(this)),t.children.on("remove",this._updateFocusCycleableItems.bind(this)),t.items.on("change",((t,e)=>{const n=e.index;for(const t of e.removed)n>=this.ungroupedItems.length?this.groupedItems.remove(t):this.ungroupedItems.remove(t);for(let t=n;t<n+e.added.length;t++){const i=e.added[t-n];t>this.ungroupedItems.length?this.groupedItems.add(i,t-this.ungroupedItems.length):this.ungroupedItems.add(i,t)}this._updateGrouping()})),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!this.viewElement.offsetParent)return void(this.shouldUpdateGroupingOnNextResize=!0);const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new st.Z(t.lastChild),i=new st.Z(t);if(!this.cachedPadding){const n=Q.default.window.getComputedStyle(t),i="ltr"===e?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(n[i])}return"ltr"===e?n.right>i.right-this.cachedPadding:n.left<i.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new vt.Z(this.viewElement,(e=>{t&&t===e.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)})),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",(()=>{this._updateGrouping()}))}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new gt),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,n=Ct(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===t.uiLanguageDirection?"sw":"se",At(n,[]),n.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:"rtl"===t.uiLanguageDirection?"se":"sw",icon:_t.icons.threeVerticalDots}),n.toolbarView.items.bindTo(this.groupedItems).using((t=>t)),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map((t=>{this.viewFocusables.add(t)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Et extends p{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new J.default,this.keystrokes=new nt.default,this._focusCycler=new tt({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",((t,e)=>{this.focusTracker.add(e.element)})),this.items.on("remove",((t,e)=>{this.focusTracker.remove(e.element)})),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Ot extends p{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class Pt extends p{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}function Ct(t,e=rt){const n=new e(t),r=new at(t),o=new pt(t,n,r);return n.bind("isEnabled").to(o),n instanceof rt?n.bind("isOn").to(o,"isOpen"):n.arrowView.bind("isOn").to(o,"isOpen"),function(t){(function(t){t.on("render",(()=>{i({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:[t.element]})}))})(t),function(t){t.on("execute",(e=>{e.source instanceof z||(t.isOpen=!1)}))}(t),function(t){t.keystrokes.set("arrowdown",((e,n)=>{t.isOpen&&(t.panelView.focus(),n())})),t.keystrokes.set("arrowup",((e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())}))}(t)}(o),o}function At(t,e){const n=t.locale,i=n.t,r=t.toolbarView=new bt(n);r.set("ariaLabel",i("Dropdown toolbar")),t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.map((t=>r.items.add(t))),t.panelView.children.add(r),r.items.delegate("execute").to(t)}function kt(t,e){const n=t.locale,i=t.listView=new Et(n);i.items.bindTo(e).using((({type:t,model:e})=>{if("separator"===t)return new Pt(n);if("button"===t||"switchbutton"===t){const i=new Ot(n);let r;return r="button"===t?new Z(n):new z(n),r.bind(...Object.keys(e)).to(e),r.delegate("execute").to(i),i.children.add(r),i}})),t.panelView.children.add(i),i.items.delegate("execute").to(t)}n(82011),n(50462);class xt extends p{constructor(t){super(t),this.body=new U(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class It extends p{constructor(t){super(t),this.set("text"),this.set("for"),this.id=`ck-editor__label_${(0,G.Z)()}`;const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}class Mt extends xt{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,e=new It;return e.text=t("Rich Text Editor"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}class Rt extends p{constructor(t,e,n){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(()=>this._updateIsFocusedClasses())),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const t=this._editingView;function e(e){t.change((n=>{const i=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",i),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",i)}))}t.isRenderingInProgress?function n(i){t.once("change:isRenderingInProgress",((t,r,o)=>{o?n(i):e(i)}))}(this):e(this)}}class Nt extends Rt{constructor(t,e,n){super(t,e,n),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const t=this._editingView,e=this.t;t.change((n=>{const i=t.document.getRoot(this.name);n.setAttribute("aria-label",e("Rich Text Editor, %0",this.name),i)}))}}class Dt extends p{constructor(t,e={}){super(t);const n=this.bindTemplate;this.set("label",e.label||""),this.set("class",e.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children});const i=new p(t);i.setTemplate({tag:"span",attributes:{class:["ck","ck-form__header__label"]},children:[{text:n.to("label")}]}),this.children.add(i)}}n(54087);class Lt extends p{constructor(t){super(t),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById"),this.focusTracker=new J.default,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",e.if("isFocused","ck-input_focused"),e.if("isEmpty","ck-input-text_empty"),e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById")},on:{input:e.to("input"),change:e.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",((t,e,n)=>{this._setDomElementValue(n),this._updateIsEmpty()}))}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||0===t?t:""}}class jt extends p{constructor(t){super(t);const e=this.bindTemplate;this.setTemplate({tag:"iframe",attributes:{class:["ck","ck-reset_all"],sandbox:"allow-same-origin allow-scripts"},on:{load:e.to("loaded")}})}render(){return new Promise((t=>{this.on("loaded",t),super.render()}))}}class Ft extends p{constructor(t,e){super(t);const n=`ck-labeled-field-view-${(0,G.Z)()}`,i=`ck-labeled-field-view-status-${(0,G.Z)()}`;this.fieldView=e(this,n,i),this.set("label"),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class"),this.set("placeholder"),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(i),this.bind("_statusText").to(this,"errorText",this,"infoText",((t,e)=>t||e));const r=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",r.to("class"),r.if("isEnabled","ck-disabled",(t=>!t)),r.if("isEmpty","ck-labeled-field-view_empty"),r.if("isFocused","ck-labeled-field-view_focused"),r.if("placeholder","ck-labeled-field-view_placeholder"),r.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:[this.fieldView,this.labelView]},this.statusView]})}_createLabelView(t){const e=new It(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createStatusView(t){const e=new p(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(t=>!t))],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}focus(){this.fieldView.focus()}}function Vt(t,e,n){const i=new Lt(t.locale);return i.set({id:e,ariaDescribedById:n}),i.bind("isReadOnly").to(t,"isEnabled",(t=>!t)),i.bind("hasError").to(t,"errorText",(t=>!!t)),i.on("input",(()=>{t.errorText=null})),t.bind("isEmpty","isFocused","placeholder").to(i),i}function Ut(t,e,n){const i=Ct(t.locale);return i.set({id:e,ariaDescribedById:n}),i.bind("isEnabled").to(t),i}class Bt extends _t.ContextPlugin{static get pluginName(){return"Notification"}init(){this.on("show:warning",((t,e)=>{window.alert(e.message)}),{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e=`show:${t.type}`+(t.namespace?`:${t.namespace}`:"");this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}var Ht=n(80207);class Gt{constructor(t,e){e&&(0,Ht.Z)(this,e),t&&this.set(t)}}(0,s.default)(Gt,h.default);var Wt=n(33978),Zt=n(92907),zt=n(23251);const qt=(0,Zt.Z)("px"),$t=Q.default.document.body;class Yt extends p{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",(t=>`ck-balloon-panel_${t}`)),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",qt),left:e.to("left",qt)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=Yt.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast],limiter:$t,fitInViewport:!0},t),i=Yt._getOptimalPosition(n),r=parseInt(i.left),o=parseInt(i.top),a=i.name;Object.assign(this,{top:o,left:r,position:a})}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=Kt(t.target),n=t.limiter?Kt(t.limiter):$t;this.listenTo(Q.default.document,"scroll",((i,r)=>{const o=r.target,a=e&&o.contains(e),s=n&&o.contains(n);!a&&!s&&e&&n||this.attachTo(t)}),{useCapture:!0}),this.listenTo(Q.default.window,"resize",(()=>{this.attachTo(t)}))}_stopPinning(){this.stopListening(Q.default.document,"scroll"),this.stopListening(Q.default.window,"resize")}}function Kt(t){return(0,zt.Z)(t)?t:(0,Wt.Z)(t)?t.commonAncestorContainer:"function"==typeof t?Kt(t()):null}function Xt(t,e){return t.top-e.height-Yt.arrowVerticalOffset}function Jt(t){return t.bottom+Yt.arrowVerticalOffset}Yt.arrowHorizontalOffset=25,Yt.arrowVerticalOffset=10,Yt._getOptimalPosition=ct,Yt.defaultPositions={northWestArrowSouthWest:(t,e)=>({top:Xt(t,e),left:t.left-Yt.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthMiddleWest:(t,e)=>({top:Xt(t,e),left:t.left-.25*e.width-Yt.arrowHorizontalOffset,name:"arrow_smw"}),northWestArrowSouth:(t,e)=>({top:Xt(t,e),left:t.left-e.width/2,name:"arrow_s"}),northWestArrowSouthMiddleEast:(t,e)=>({top:Xt(t,e),left:t.left-.75*e.width+Yt.arrowHorizontalOffset,name:"arrow_sme"}),northWestArrowSouthEast:(t,e)=>({top:Xt(t,e),left:t.left-e.width+Yt.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(t,e)=>({top:Xt(t,e),left:t.left+t.width/2-Yt.arrowHorizontalOffset,name:"arrow_sw"}),northArrowSouthMiddleWest:(t,e)=>({top:Xt(t,e),left:t.left+t.width/2-.25*e.width-Yt.arrowHorizontalOffset,name:"arrow_smw"}),northArrowSouth:(t,e)=>({top:Xt(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"}),northArrowSouthMiddleEast:(t,e)=>({top:Xt(t,e),left:t.left+t.width/2-.75*e.width+Yt.arrowHorizontalOffset,name:"arrow_sme"}),northArrowSouthEast:(t,e)=>({top:Xt(t,e),left:t.left+t.width/2-e.width+Yt.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(t,e)=>({top:Xt(t,e),left:t.right-Yt.arrowHorizontalOffset,name:"arrow_sw"}),northEastArrowSouthMiddleWest:(t,e)=>({top:Xt(t,e),left:t.right-.25*e.width-Yt.arrowHorizontalOffset,name:"arrow_smw"}),northEastArrowSouth:(t,e)=>({top:Xt(t,e),left:t.right-e.width/2,name:"arrow_s"}),northEastArrowSouthMiddleEast:(t,e)=>({top:Xt(t,e),left:t.right-.75*e.width+Yt.arrowHorizontalOffset,name:"arrow_sme"}),northEastArrowSouthEast:(t,e)=>({top:Xt(t,e),left:t.right-e.width+Yt.arrowHorizontalOffset,name:"arrow_se"}),southWestArrowNorthWest:(t,e)=>({top:Jt(t),left:t.left-Yt.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthMiddleWest:(t,e)=>({top:Jt(t),left:t.left-.25*e.width-Yt.arrowHorizontalOffset,name:"arrow_nmw"}),southWestArrowNorth:(t,e)=>({top:Jt(t),left:t.left-e.width/2,name:"arrow_n"}),southWestArrowNorthMiddleEast:(t,e)=>({top:Jt(t),left:t.left-.75*e.width+Yt.arrowHorizontalOffset,name:"arrow_nme"}),southWestArrowNorthEast:(t,e)=>({top:Jt(t),left:t.left-e.width+Yt.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(t,e)=>({top:Jt(t),left:t.left+t.width/2-Yt.arrowHorizontalOffset,name:"arrow_nw"}),southArrowNorthMiddleWest:(t,e)=>({top:Jt(t),left:t.left+t.width/2-.25*e.width-Yt.arrowHorizontalOffset,name:"arrow_nmw"}),southArrowNorth:(t,e)=>({top:Jt(t),left:t.left+t.width/2-e.width/2,name:"arrow_n"}),southArrowNorthMiddleEast:(t,e)=>({top:Jt(t),left:t.left+t.width/2-.75*e.width+Yt.arrowHorizontalOffset,name:"arrow_nme"}),southArrowNorthEast:(t,e)=>({top:Jt(t),left:t.left+t.width/2-e.width+Yt.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(t,e)=>({top:Jt(t),left:t.right-Yt.arrowHorizontalOffset,name:"arrow_nw"}),southEastArrowNorthMiddleWest:(t,e)=>({top:Jt(t),left:t.right-.25*e.width-Yt.arrowHorizontalOffset,name:"arrow_nmw"}),southEastArrowNorth:(t,e)=>({top:Jt(t),left:t.right-e.width/2,name:"arrow_n"}),southEastArrowNorthMiddleEast:(t,e)=>({top:Jt(t),left:t.right-.75*e.width+Yt.arrowHorizontalOffset,name:"arrow_nme"}),southEastArrowNorthEast:(t,e)=>({top:Jt(t),left:t.right-e.width+Yt.arrowHorizontalOffset,name:"arrow_ne"})};const Qt=(0,Zt.Z)("px");class te extends _t.Plugin{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this.positionLimiter=()=>{const t=this.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null},this.set("visibleView",null),this.view=new Yt(t.locale),t.ui.view.body.add(this.view),t.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this.hasView(t.view))throw new a.default("contextualballoon-add-view-exist",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));const n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new a.default("contextualballoon-remove-view-not-exist",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(1===e.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),1===e.size?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new a.default("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find((e=>e[1]===t))[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new ee(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",((t,e)=>!e&&t>1)),t.on("change:isNavigationVisible",(()=>this.updatePosition()),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",((t,n)=>{if(n<2)return"";const i=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("%0 of %1",[i,n])})),t.buttonNextView.on("execute",(()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()})),t.buttonPrevView.on("execute",(()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()})),t}_createFakePanelsView(){const t=new ne(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",((t,e)=>!e&&t>=2?Math.min(t-1,2):0)),t.listenTo(this.view,"change:top",(()=>t.updatePosition())),t.listenTo(this.view,"change:left",(()=>t.updatePosition())),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:n=!0,singleViewMode:i=!1}){this.view.class=e,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),i&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}class ee extends p{constructor(t){super(t);const e=t.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new J.default,this.buttonPrevView=this._createButtonView(e("Previous"),K.default),this.buttonNextView=this._createButtonView(e("Next"),K.default),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",(t=>t?"":"ck-hidden"))]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const n=new Z(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}class ne extends p{constructor(t,e){super(t);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",(t=>t?"":"ck-hidden"))],style:{top:n.to("top",Qt),left:n.to("left",Qt),width:n.to("width",Qt),height:n.to("height",Qt)}},children:this.content}),this.on("change:numberOfPanels",((t,e,n,i)=>{n>i?this._addPanels(n-i):this._removePanels(i-n),this.updatePosition()}))}_addPanels(t){for(;t--;){const t=new p;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(t){for(;t--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:n,height:i}=new st.Z(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:n,height:i})}}}const ie=(0,Zt.Z)("px");class re extends p{constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new _({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",(t=>t?"block":"none")),height:e.to("isSticky",(t=>t?ie(this._panelRect.height):null))}}}).render(),this._contentPanel=new _({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",(t=>t?ie(this._contentPanelPlaceholder.getBoundingClientRect().width):null)),top:e.to("_hasViewportTopOffset",(t=>t?ie(this.viewportTopOffset):null)),bottom:e.to("_isStickyToTheLimiter",(t=>t?ie(this.limiterBottomOffset):null)),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Q.default.window,"scroll",(()=>{this._checkIfShouldBeSticky()})),this.listenTo(this,"change:isActive",(()=>{this._checkIfShouldBeSticky()}))}_checkIfShouldBeSticky(){const t=this._panelRect=this._contentPanel.getBoundingClientRect();let e;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:ie(-Q.default.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}function oe({origin:t,originKeystrokeHandler:e,originFocusTracker:n,toolbar:i,beforeFocus:r,afterBlur:o}){n.add(i.element),e.set("Alt+F10",((t,e)=>{n.isFocused&&!i.focusTracker.isFocused&&(r&&r(),i.focus(),e())})),i.keystrokes.set("Esc",((e,n)=>{i.focusTracker.isFocused&&(t.focus(),o&&o(),n())}))}var ae=n(53434);const se=(0,Zt.Z)("px");class ue extends _t.Plugin{static get pluginName(){return"BalloonToolbar"}static get requires(){return[te]}constructor(t){super(t),this._balloonConfig=yt(t.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new J.default,t.ui.once("ready",(()=>{this.focusTracker.add(t.ui.getEditableElement()),this.focusTracker.add(this.toolbarView.element)})),this._resizeObserver=null,this._balloon=t.plugins.get(te),this._fireSelectionChangeDebounced=(0,ae.Z)((()=>this.fire("_selectionChangeDebounced")),200),this.decorate("show")}init(){const t=this.editor,e=t.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",((t,e,n)=>{const i=this._balloon.visibleView===this.toolbarView;!n&&i?this.hide():n&&this.show()})),this.listenTo(e,"change:range",((t,n)=>{(n.directChange||e.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()})),this.listenTo(this,"_selectionChangeDebounced",(()=>{this.editor.editing.view.document.isFocused&&this.show()})),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(t,"ready",(()=>{const e=t.ui.view.editable.element;this._resizeObserver=new vt.Z(e,(()=>{this.toolbarView.maxWidth=se(.9*new st.Z(e).width)}))})),this.listenTo(this.toolbarView,"groupedItemsUpdate",(()=>{this._updatePosition()}))}afterInit(){const t=this.editor.ui.componentFactory;this.toolbarView.fillFromConfig(this._balloonConfig,t)}_createToolbarView(){const t=!this._balloonConfig.shouldNotGroupWhenFull,e=new bt(this.editor.locale,{shouldGroupWhenFull:t,isFloating:!0});return e.render(),e}show(){const t=this.editor,e=t.model.document.selection,n=t.model.schema;this._balloon.hasView(this.toolbarView)||e.isCollapsed||function(t,e){return 1!==t.rangeCount&&[...t.getRanges()].every((t=>{const n=t.getContainedElement();return n&&e.isSelectable(n)}))}(e,n)||Array.from(this.toolbarView.items).every((t=>void 0!==t.isEnabled&&!t.isEnabled))||(this.listenTo(this.editor.ui,"update",(()=>{this._updatePosition()})),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document,n=e.selection,i=e.selection.isBackward;return{target:()=>{const e=i?n.getFirstRange():n.getLastRange(),r=st.Z.getDomRangeRects(t.domConverter.viewRangeToDom(e));return i?r[0]:(r.length>1&&0===r[r.length-1].width&&r.pop(),r[r.length-1])},positions:le(i)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}}function le(t){const e=Yt.defaultPositions;return t?[e.northWestArrowSouth,e.northWestArrowSouthWest,e.northWestArrowSouthEast,e.northWestArrowSouthMiddleEast,e.northWestArrowSouthMiddleWest,e.southWestArrowNorth,e.southWestArrowNorthWest,e.southWestArrowNorthEast,e.southWestArrowNorthMiddleWest,e.southWestArrowNorthMiddleEast]:[e.southEastArrowNorth,e.southEastArrowNorthEast,e.southEastArrowNorthWest,e.southEastArrowNorthMiddleEast,e.southEastArrowNorthMiddleWest,e.northEastArrowSouth,e.northEastArrowSouthEast,e.northEastArrowSouthWest,e.northEastArrowSouthMiddleEast,e.northEastArrowSouthMiddleWest]}const ce=(0,Zt.Z)("px");class de extends Z{constructor(t){super(t);const e=this.bindTemplate;this.isVisible=!1,this.isToggleable=!0,this.set("top",0),this.set("left",0),this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:e.to("top",(t=>ce(t))),left:e.to("left",(t=>ce(t)))}}})}}const he=(0,Zt.Z)("px");class fe extends _t.Plugin{static get pluginName(){return"BlockToolbar"}constructor(t){super(t),this._blockToolbarConfig=yt(this.editor.config.get("blockToolbar")),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),this._resizeObserver=null,i({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}init(){const t=this.editor;this.listenTo(t.model.document.selection,"change:range",((t,e)=>{e.directChange&&this._hidePanel()})),this.listenTo(t.ui,"update",(()=>this._updateButton())),this.listenTo(t,"change:isReadOnly",(()=>this._updateButton()),{priority:"low"}),this.listenTo(t.ui.focusTracker,"change:isFocused",(()=>this._updateButton())),this.listenTo(this.buttonView,"change:isVisible",((t,e,n)=>{n?this.buttonView.listenTo(window,"resize",(()=>this._updateButton())):(this.buttonView.stopListening(window,"resize"),this._hidePanel())}))}afterInit(){const t=this.editor.ui.componentFactory,e=this._blockToolbarConfig;this.toolbarView.fillFromConfig(e,t);for(const t of this.toolbarView.items)t.on("execute",(()=>this._hidePanel(!0)),{priority:"high"});e.shouldNotGroupWhenFull||this.listenTo(this.editor,"ready",(()=>{const t=this.editor.ui.view.editable.element;this._resizeObserver=new vt.Z(t,(()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth()}))}))}destroy(){super.destroy(),this.panelView.destroy(),this.buttonView.destroy(),this.toolbarView.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_createToolbarView(){const t=!this._blockToolbarConfig.shouldNotGroupWhenFull,e=new bt(this.editor.locale,{shouldGroupWhenFull:t,isFloating:!0});return e.focusTracker.on("change:isFocused",((t,e,n)=>{n||this._hidePanel()})),e}_createPanelView(){const t=this.editor,e=new Yt(t.locale);return e.content.add(this.toolbarView),e.class="ck-toolbar-container",t.ui.view.body.add(e),t.ui.focusTracker.add(e.element),this.toolbarView.keystrokes.set("Esc",((t,e)=>{this._hidePanel(!0),e()})),e}_createButtonView(){const t=this.editor,e=t.t,n=new de(t.locale);return n.set({label:e("Edit block"),icon:_t.icons.pilcrow,withText:!1}),n.bind("isOn").to(this.panelView,"isVisible"),n.bind("tooltip").to(this.panelView,"isVisible",(t=>!t)),this.listenTo(n,"execute",(()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()})),t.ui.view.body.add(n),t.ui.focusTracker.add(n.element),n}_updateButton(){const t=this.editor,e=t.model,n=t.editing.view;if(!t.ui.focusTracker.isFocused)return void this._hideButton();if(t.isReadOnly)return void this._hideButton();const i=Array.from(e.document.selection.getSelectedBlocks())[0];if(!i||Array.from(this.toolbarView.items).every((t=>!t.isEnabled)))return void this._hideButton();const r=n.domConverter.mapViewToDom(t.editing.mapper.toViewElement(i));this.buttonView.isVisible=!0,this._attachButtonToElement(r),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){const t=this.panelView.isVisible;this.panelView.show(),this.toolbarView.maxWidth=this._getToolbarMaxWidth(),this.panelView.pin({target:this.buttonView.element,limiter:this.editor.ui.getEditableElement()}),t||this.toolbarView.items.get(0).focus()}_hidePanel(t){this.panelView.isVisible=!1,t&&this.editor.editing.view.focus()}_attachButtonToElement(t){const e=window.getComputedStyle(t),n=new st.Z(this.editor.ui.getEditableElement()),i=parseInt(e.paddingTop,10),r=parseInt(e.lineHeight,10)||1.2*parseInt(e.fontSize,10),o=ct({element:this.buttonView.element,target:t,positions:[(t,e)=>{let o;return o="ltr"===this.editor.locale.uiLanguageDirection?n.left-e.width:n.right,{top:t.top+i+(r-e.height)/2,left:o}}]});this.buttonView.top=o.top,this.buttonView.left=o.left}_getToolbarMaxWidth(){const t=this.editor.ui.view.editable.element,e=new st.Z(t),n=new st.Z(this.buttonView.element),i="rtl"===this.editor.locale.uiLanguageDirection?n.left-e.right+n.width:e.left-n.left;return he(e.width+i)}}},78378:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DOCUMENTATION_URL:()=>i,default:()=>r,logError:()=>a,logWarning:()=>o});const i="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html";class r extends Error{constructor(t,e,n){super(`${t}${n?` ${JSON.stringify(n)}`:""}${s(t)}`),this.name="CKEditorError",this.context=e,this.data=n}is(t){return"CKEditorError"===t}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const n=new r(t.message,e);throw n.stack=t.stack,n}}function o(t,e){console.warn(...u(t,e))}function a(t,e){console.error(...u(t,e))}function s(t){return`\nRead more: ${i}#error-${t}`}function u(t,e){const n=s(t);return e?[t,e,n]:[t,n]}},4033:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var i=n(40669),r=n(78378),o=n(369),a=n(65838),s=n(50131);class u{constructor(t={},e={}){const n=(0,a.Z)(t);if(n||(e=t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const e of t)this._items.push(e),this._itemMap.set(this._getItemIdBeforeAdding(e),e)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){return this.addMany([t],e)}addMany(t,e){if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new r.default("collection-add-item-invalid-index",this);for(let n=0;n<t.length;n++){const i=t[n],r=this._getItemIdBeforeAdding(i),o=e+n;this._items.splice(o,0,i),this._itemMap.set(r,i),this.fire("add",i,o)}return this.fire("change",{added:t,removed:[],index:e}),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new r.default("collection-get-invalid-arg",this);e=this._items[t]}return e||null}has(t){if("string"==typeof t)return this._itemMap.has(t);{const e=t[this._idProperty];return this._itemMap.has(e)}}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e)}remove(t){const[e,n]=this._remove(t);return this.fire("change",{added:[],removed:[e],index:n}),e}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new r.default("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding((e=>new t(e)))},using:t=>{"function"==typeof t?this._setUpBindToBinding((e=>t(e))):this._setUpBindToBinding((e=>e[t]))}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(n,i,r)=>{const o=e._bindToCollection==this,a=e._bindToInternalToExternalMap.get(i);if(o&&a)this._bindToExternalToInternalMap.set(i,a),this._bindToInternalToExternalMap.set(a,i);else{const n=t(i);if(!n)return void this._skippedIndexesFromExternal.push(r);let o=r;for(const t of this._skippedIndexesFromExternal)r>t&&o--;for(const t of e._skippedIndexesFromExternal)o>=t&&o++;this._bindToExternalToInternalMap.set(i,n),this._bindToInternalToExternalMap.set(n,i),this.add(n,o);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)o<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const t of e)n(0,t,e.getIndex(t));this.listenTo(e,"add",n),this.listenTo(e,"remove",((t,e,n)=>{const i=this._bindToExternalToInternalMap.get(e);i&&this.remove(i),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((t,e)=>(n<e&&t.push(e-1),n>e&&t.push(e),t)),[])}))}_getItemIdBeforeAdding(t){const e=this._idProperty;let n;if(e in t){if(n=t[e],"string"!=typeof n)throw new r.default("collection-add-invalid-id",this);if(this.get(n))throw new r.default("collection-add-item-already-exists",this)}else t[e]=n=(0,o.Z)();return n}_remove(t){let e,n,i,o=!1;const a=this._idProperty;if("string"==typeof t?(n=t,i=this._itemMap.get(n),o=!i,i&&(e=this._items.indexOf(i))):"number"==typeof t?(e=t,i=this._items[e],o=!i,i&&(n=i[a])):(i=t,n=i[a],e=this._items.indexOf(i),o=-1==e||!this._itemMap.get(n)),o)throw new r.default("collection-remove-404",this);this._items.splice(e,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(s),this.fire("remove",i,e),[i,e]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}(0,s.default)(u,i.default)},28017:(t,e,n)=>{"use strict";function i(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)if(t[i]!=e[i])return i;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}n.r(e),n.d(e,{default:()=>i})},81631:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var i=n(37514),r=n(24612),o=n(23251);class a{constructor(t,e){this._config={},e&&this.define(s(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,n,r=!1){if((0,i.Z)(e))return void this._setObjectToTarget(t,e,r);const o=e.split(".");e=o.pop();for(const e of o)(0,i.Z)(t[e])||(t[e]={}),t=t[e];if((0,i.Z)(n))return(0,i.Z)(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,n,r);r&&void 0!==t[e]||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const e of n){if(!(0,i.Z)(t[e])){t=null;break}t=t[e]}return t?s(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach((i=>{this._setToTarget(t,i,e[i],n)}))}}function s(t){return(0,r.Z)(t,u)}function u(t){return(0,o.Z)(t)?t:void 0}},22572:(t,e,n)=>{"use strict";function i(t){let e=0;for(const n of t)e++;return e}n.d(e,{Z:()=>i})},20327:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(64068);function r(t,e,n){n=n||function(t,e){return t===e};const i=t.length,o=e.length;if(i>200||o>200||i+o>300)return r.fastDiff(t,e,n,!0);let a,s;if(o<i){const n=t;t=e,e=n,a="delete",s="insert"}else a="insert",s="delete";const u=t.length,l=e.length,c=l-u,d={},h={};function f(i){const r=(void 0!==h[i-1]?h[i-1]:-1)+1,o=void 0!==h[i+1]?h[i+1]:-1,c=r>o?-1:1;d[i+c]&&(d[i]=d[i+c].slice(0)),d[i]||(d[i]=[]),d[i].push(r>o?a:s);let f=Math.max(r,o),p=f-i;for(;p<u&&f<l&&n(t[p],e[f]);)p++,f++,d[i].push("equal");return f}let p,g=0;do{for(p=-g;p<c;p++)h[p]=f(p);for(p=c+g;p>c;p--)h[p]=f(p);h[c]=f(c),g++}while(h[c]!==l);return d[c].slice(1)}r.fastDiff=i.Z},22112:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(65838),r=n(36378);function o(t,e,n={},o=[]){const a=n&&n.xmlns,s=a?t.createElementNS(a,e):t.createElement(e);for(const t in n)s.setAttribute(t,n[t]);!(0,r.Z)(o)&&(0,i.Z)(o)||(o=[o]);for(let e of o)(0,r.Z)(e)&&(e=t.createTextNode(e)),s.appendChild(e);return s}},91916:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(40669),r=n(369),o=n(85006),a=n(73003),s=n(80207);const u=(0,s.Z)({},i.default,{listenTo(t,...e){if((0,o.Z)(t)||(0,a.Z)(t)){const n=this._getProxyEmitter(t)||new l(t);n.attach(...e),t=n}i.default.listenTo.call(this,t,...e)},stopListening(t,e,n){if((0,o.Z)(t)||(0,a.Z)(t)){const e=this._getProxyEmitter(t);if(!e)return;t=e}i.default.stopListening.call(this,t,e,n),t instanceof l&&t.detach(e)},_getProxyEmitter(t){return(0,i._getEmitterListenedTo)(this,c(t))}});class l{constructor(t){(0,i._setEmitterId)(this,c(t)),this._domNode=t}}function c(t){return t["data-ck-expando"]||(t["data-ck-expando"]=(0,r.Z)())}(0,s.Z)(l.prototype,i.default,{attach(t,e,n={}){if(this._domListeners&&this._domListeners[t])return;const i={capture:!!n.useCapture,passive:!!n.usePassive},r=this._createDomListener(t,i);this._domNode.addEventListener(t,r,i),this._domListeners||(this._domListeners={}),this._domListeners[t]=r},detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()},_createDomListener(t,e){const n=e=>{this.fire(t,e)};return n.removeListener=()=>{this._domNode.removeEventListener(t,n,e),delete this._domListeners[t]},n}})},90407:(t,e,n)=>{"use strict";function i(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}n.d(e,{Z:()=>i})},62152:(t,e,n)=>{"use strict";n.d(e,{default:()=>i});const i={window,document}},85006:(t,e,n)=>{"use strict";function i(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}n.d(e,{Z:()=>i})},33978:(t,e,n)=>{"use strict";function i(t){return"[object Range]"==Object.prototype.toString.apply(t)}n.d(e,{Z:()=>i})},37363:(t,e,n)=>{"use strict";function i(t){return"[object Text]"==Object.prototype.toString.call(t)}n.d(e,{Z:()=>i})},73003:(t,e,n)=>{"use strict";function i(t){const e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}n.d(e,{Z:()=>i})},36224:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(33978),r=n(73003),o=n(90407),a=n(37363),s=n(23251);const u=["top","right","bottom","left","width","height"];class l{constructor(t){const e=(0,i.Z)(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),(0,s.Z)(t)||e)if(e){const e=l.getDomRangeRects(t);c(this,l.getBoundingRect(e))}else c(this,t.getBoundingClientRect());else if((0,r.Z)(t)){const{innerWidth:e,innerHeight:n}=t;c(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else c(this,t)}clone(){return new l(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new l(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!d(t)){let n=t.parentNode||t.commonAncestorContainer;for(;n&&!d(n);){const t=new l(n),i=e.getIntersection(t);if(!i)return null;i.getArea()<e.getArea()&&(e=i),n=n.parentNode}}return e}isEqual(t){for(const e of u)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n,i;if((0,r.Z)(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,i=t.getComputedStyle(t.document.documentElement).direction;else{const r=(0,o.Z)(this._source);e=t.offsetWidth-t.clientWidth-r.left-r.right,n=t.offsetHeight-t.clientHeight-r.top-r.bottom,i=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===i?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const t of n)e.push(new l(t));else{let n=t.startContainer;(0,a.Z)(n)&&(n=n.parentNode);const i=new l(n.getBoundingClientRect());i.right=i.left,i.width=0,e.push(i)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY};let n=0;for(const i of t)n++,e.left=Math.min(e.left,i.left),e.top=Math.min(e.top,i.top),e.right=Math.max(e.right,i.right),e.bottom=Math.max(e.bottom,i.bottom);return 0==n?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new l(e))}}function c(t,e){for(const n of u)t[n]=e[n]}function d(t){return!!(0,s.Z)(t)&&t===t.ownerDocument.body}},10679:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(50131),r=n(62152),o=n(36224),a=n(91916);class s{constructor(t,e){s._observerInstance||s._createObserver(),this._element=t,this._callback=e,s._addElementCallback(t,e),s._observerInstance.observe(t)}destroy(){s._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){s._elementCallbacks||(s._elementCallbacks=new Map);let n=s._elementCallbacks.get(t);n||(n=new Set,s._elementCallbacks.set(t,n)),n.add(e)}static _deleteElementCallback(t,e){const n=s._getElementCallbacks(t);n&&(n.delete(e),n.size||(s._elementCallbacks.delete(t),s._observerInstance.unobserve(t))),s._elementCallbacks&&!s._elementCallbacks.size&&(s._observerInstance=null,s._elementCallbacks=null)}static _getElementCallbacks(t){return s._elementCallbacks?s._elementCallbacks.get(t):null}static _createObserver(){let t;t="function"==typeof r.default.window.ResizeObserver?r.default.window.ResizeObserver:u,s._observerInstance=new t((t=>{for(const e of t){const t=s._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}}))}}s._observerInstance=null,s._elementCallbacks=null;class u{constructor(t){this._callback=t,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(t){this._elements.add(t),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}unobserve(t){this._elements.delete(t),this._previousRects.delete(t),this._elements.size||this._stopPeriodicCheck()}_startPeriodicCheck(){const t=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(t,100)};this.listenTo(r.default.window,"resize",(()=>{this._checkElementRectsAndExecuteCallback()})),this._periodicCheckTimeout=setTimeout(t,100)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const t=[];for(const e of this._elements)this._hasRectChanged(e)&&t.push({target:e,contentRect:this._previousRects.get(e)});t.length&&this._callback(t)}_hasRectChanged(t){if(!t.ownerDocument.body.contains(t))return!1;const e=new o.Z(t),n=this._previousRects.get(t),i=!n||!n.isEqual(e);return this._previousRects.set(t,e),i}}(0,i.default)(u,a.Z)},58236:(t,e,n)=>{"use strict";function i(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}n.r(e),n.d(e,{default:()=>i})},92907:(t,e,n)=>{"use strict";function i(t){return e=>e+t}n.d(e,{Z:()=>i})},40669:(t,e,n)=>{"use strict";n.r(e),n.d(e,{_getEmitterId:()=>h,_getEmitterListenedTo:()=>c,_setEmitterId:()=>d,default:()=>l});var i=n(18483),r=n(369),o=n(4841),a=(n(9807),n(78378));const s=Symbol("listeningTo"),u=Symbol("emitterId"),l={on(t,e,n={}){this.listenTo(this,t,e,n)},once(t,e,n){let i=!1;this.listenTo(this,t,(function(t,...n){i||(i=!0,t.off(),e.call(this,t,...n))}),n)},off(t,e){this.stopListening(this,t,e)},listenTo(t,e,n,i={}){let r,o;this[s]||(this[s]={});const a=this[s];h(t)||d(t);const u=h(t);(r=a[u])||(r=a[u]={emitter:t,callbacks:{}}),(o=r.callbacks[e])||(o=r.callbacks[e]=[]),o.push(n),function(t,e,n,i,r){e._addEventListener?e._addEventListener(n,i,r):t._addEventListener.call(e,n,i,r)}(this,t,e,n,i)},stopListening(t,e,n){const i=this[s];let r=t&&h(t);const o=i&&r&&i[r],a=o&&e&&o.callbacks[e];if(!(!i||t&&!o||e&&!a))if(n)v(this,t,e,n),-1!==a.indexOf(n)&&(1===a.length?delete o.callbacks[e]:v(this,t,e,n));else if(a){for(;n=a.pop();)v(this,t,e,n);delete o.callbacks[e]}else if(o){for(e in o.callbacks)this.stopListening(t,e);delete i[r]}else{for(r in i)this.stopListening(i[r].emitter);delete this[s]}},fire(t,...e){try{const n=t instanceof i.Z?t:new i.Z(this,t),r=n.name;let o=g(this,r);if(n.path.push(this),o){const t=[n,...e];o=Array.from(o);for(let e=0;e<o.length&&(o[e].callback.apply(this,t),n.off.called&&(delete n.off.called,this._removeEventListener(r,o[e].callback)),!n.stop.called);e++);}if(this._delegations){const t=this._delegations.get(r),i=this._delegations.get("*");t&&m(t,n,e),i&&m(i,n,e)}return n.return}catch(t){a.default.rethrowUnexpectedError(t,this)}},delegate(...t){return{to:(e,n)=>{this._delegations||(this._delegations=new Map),t.forEach((t=>{const i=this._delegations.get(t);i?i.set(e,n):this._delegations.set(t,new Map([[e,n]]))}))}}},stopDelegating(t,e){if(this._delegations)if(t)if(e){const n=this._delegations.get(t);n&&n.delete(e)}else this._delegations.delete(t);else this._delegations.clear()},_addEventListener(t,e,n){!function(t,e){const n=f(t);if(n[e])return;let i=e,r=null;const o=[];for(;""!==i&&!n[i];)n[i]={callbacks:[],childEvents:[]},o.push(n[i]),r&&n[i].childEvents.push(r),r=i,i=i.substr(0,i.lastIndexOf(":"));if(""!==i){for(const t of o)t.callbacks=n[i].callbacks.slice();n[i].childEvents.push(r)}}(this,t);const i=p(this,t),r=o.Z.get(n.priority),a={callback:e,priority:r};for(const t of i){let e=!1;for(let n=0;n<t.length;n++)if(t[n].priority<r){t.splice(n,0,a),e=!0;break}e||t.push(a)}},_removeEventListener(t,e){const n=p(this,t);for(const t of n)for(let n=0;n<t.length;n++)t[n].callback==e&&(t.splice(n,1),n--)}};function c(t,e){return t[s]&&t[s][e]?t[s][e].emitter:null}function d(t,e){t[u]||(t[u]=e||(0,r.Z)())}function h(t){return t[u]}function f(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function p(t,e){const n=f(t)[e];if(!n)return[];let i=[n.callbacks];for(let e=0;e<n.childEvents.length;e++){const r=p(t,n.childEvents[e]);i=i.concat(r)}return i}function g(t,e){let n;return t._events&&(n=t._events[e])&&n.callbacks.length?n.callbacks:e.indexOf(":")>-1?g(t,e.substr(0,e.lastIndexOf(":"))):null}function m(t,e,n){for(let[r,o]of t){o?"function"==typeof o&&(o=o(e.name)):o=e.name;const t=new i.Z(e.source,o);t.path=[...e.path],r.fire(t,...n)}}function v(t,e,n,i){e._removeEventListener?e._removeEventListener(n,i):t._removeEventListener.call(e,n,i)}},3950:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>o});const i=navigator.userAgent.toLowerCase(),r={isMac:function(t){return t.indexOf("macintosh")>-1}(i),isGecko:function(t){return!!t.match(/gecko\/\d+/)}(i),isSafari:function(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}(i),isAndroid:function(t){return t.indexOf("android")>-1}(i),isBlink:function(t){return t.indexOf("chrome/")>-1&&t.indexOf("edge/")<0}(i),features:{isRegExpUnicodePropertySupported:function(){let t=!1;try{t=0==="".search(new RegExp("[\\p{L}]","u"))}catch(t){}return t}()}},o=r},18483:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});class i{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=function t(){t.called=!0},this.off=function t(){t.called=!0}}}},64068:(t,e,n)=>{"use strict";function i(t,e,n,i=!1){n=n||function(t,e){return t===e},Array.isArray(t)||(t=Array.prototype.slice.call(t)),Array.isArray(e)||(e=Array.prototype.slice.call(e));const a=function(t,e,n){const i=r(t,e,n);if(-1===i)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const a=r(o(t,i),o(e,i),n);return{firstIndex:i,lastIndexOld:t.length-a,lastIndexNew:e.length-a}}(t,e,n);return i?function(t,e){const{firstIndex:n,lastIndexOld:i,lastIndexNew:r}=t;if(-1===n)return Array(e).fill("equal");let o=[];return n>0&&(o=o.concat(Array(n).fill("equal"))),r-n>0&&(o=o.concat(Array(r-n).fill("insert"))),i-n>0&&(o=o.concat(Array(i-n).fill("delete"))),r<e&&(o=o.concat(Array(e-r).fill("equal"))),o}(a,e.length):function(t,e){const n=[],{firstIndex:i,lastIndexOld:r,lastIndexNew:o}=e;return o-i>0&&n.push({index:i,type:"insert",values:t.slice(i,o)}),r-i>0&&n.push({index:i+(o-i),type:"delete",howMany:r-i}),n}(e,a)}function r(t,e,n){for(let i=0;i<Math.max(t.length,e.length);i++)if(void 0===t[i]||void 0===e[i]||!n(t[i],e[i]))return i;return-1}function o(t,e){return t.slice(e).reverse()}n.d(e,{Z:()=>i})},77246:(t,e,n)=>{"use strict";function i(t){const e=t.next();return e.done?null:e.value}n.r(e),n.d(e,{default:()=>i})},22073:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(91916),r=n(29110),o=n(78378),a=n(50131);class s{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(t){if(this._elements.has(t))throw new o.default("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",(()=>this._focus(t)),{useCapture:!0}),this.listenTo(t,"blur",(()=>this._blur()),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((()=>{this.focusedElement=null,this.isFocused=!1}),0)}}(0,a.default)(s,i.Z),(0,a.default)(s,r.default)},53759:(t,e,n)=>{"use strict";n.r(e),n.d(e,{CKEditorError:()=>u.default,Collection:()=>w.default,DomEmitterMixin:()=>d.Z,ElementReplacer:()=>l,EmitterMixin:()=>a.default,FocusTracker:()=>S.default,KeystrokeHandler:()=>E.default,Locale:()=>b.default,ObservableMixin:()=>s.default,Rect:()=>p.Z,ResizeObserver:()=>g.Z,createElement:()=>c.Z,diff:()=>r.Z,env:()=>i.ZP,first:()=>T.default,getCode:()=>y.Cq,getDataFromElement:()=>f,getEnvKeystrokeText:()=>y.XU,getLanguageDirection:()=>_.j,getLocalizedArrowKeyCodeDirection:()=>y.mA,global:()=>h.default,isArrowKeyCode:()=>y.dj,isForwardArrowKeyCode:()=>y.Zt,keyCodes:()=>y.Do,logError:()=>u.logError,logWarning:()=>u.logWarning,mix:()=>o.default,parseKeystroke:()=>y.Zz,priorities:()=>C.Z,setDataInElement:()=>m.default,toArray:()=>O.default,toMap:()=>P.Z,toUnit:()=>v.Z,uid:()=>A.Z,version:()=>k.Z});var i=n(3950),r=n(20327),o=n(50131),a=n(40669),s=n(29110),u=n(78378);class l{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach((({element:t,newElement:e})=>{t.style.display="",e&&e.remove()})),this._replacedElements=[]}}var c=n(22112),d=n(91916),h=n(62152);function f(t){return t instanceof HTMLTextAreaElement?t.value:t.innerHTML}var p=n(36224),g=n(10679),m=n(58236),v=n(92907),y=n(61147),_=n(28918),b=n(3386),w=n(4033),T=n(77246),S=n(22073),E=n(46550),O=n(73701),P=n(79047),C=n(4841),A=n(369),k=n(9807)},65838:(t,e,n)=>{"use strict";function i(t){return!(!t||!t[Symbol.iterator])}n.d(e,{Z:()=>i})},61147:(t,e,n)=>{"use strict";n.d(e,{Cq:()=>l,Do:()=>s,XU:()=>d,Zt:()=>p,Zz:()=>c,dj:()=>h,mA:()=>f});var i=n(78378),r=n(3950);const o={ctrl:"",cmd:"",alt:"",shift:""},a={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},s=function(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)t[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return t}(),u=Object.fromEntries(Object.entries(s).map((([t,e])=>[e,t.charAt(0).toUpperCase()+t.slice(1)])));function l(t){let e;if("string"==typeof t){if(e=s[t.toLowerCase()],!e)throw new i.default("keyboard-unknown-key",null,{key:t})}else e=t.keyCode+(t.altKey?s.alt:0)+(t.ctrlKey?s.ctrl:0)+(t.shiftKey?s.shift:0)+(t.metaKey?s.cmd:0);return e}function c(t){return"string"==typeof t&&(t=function(t){return t.split("+").map((t=>t.trim()))}(t)),t.map((t=>"string"==typeof t?function(t){if(t.endsWith("!"))return l(t.slice(0,-1));const e=l(t);return r.ZP.isMac&&e==s.ctrl?s.cmd:e}(t):t)).reduce(((t,e)=>e+t),0)}function d(t){let e=c(t);return Object.entries(r.ZP.isMac?o:a).reduce(((t,[n,i])=>(0!=(e&s[n])&&(e&=~s[n],t+=i),t)),"")+(e?u[e]:"")}function h(t){return t==s.arrowright||t==s.arrowleft||t==s.arrowup||t==s.arrowdown}function f(t,e){const n="ltr"===e;switch(t){case s.arrowleft:return n?"left":"right";case s.arrowright:return n?"right":"left";case s.arrowup:return"up";case s.arrowdown:return"down"}}function p(t,e){const n=f(t,e);return"down"===n||"right"===n}},46550:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var i=n(91916),r=n(61147);class o{constructor(){this._listener=Object.create(i.Z)}listenTo(t){this._listener.listenTo(t,"keydown",((t,e)=>{this._listener.fire("_keydown:"+(0,r.Cq)(e),e)}))}set(t,e,n={}){const i=(0,r.Zz)(t),o=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,((t,n)=>{e(n,(()=>{n.preventDefault(),n.stopPropagation(),t.stop()})),t.return=!0}),{priority:o})}press(t){return!!this._listener.fire("_keydown:"+(0,r.Cq)(t),t)}destroy(){this._listener.stopListening()}}},28918:(t,e,n)=>{"use strict";n.d(e,{j:()=>r});const i=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function r(t){return i.includes(t)?"rtl":"ltr"}},3386:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var i=n(73701),r=n(78378);window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var o=n(28918);class a{constructor(t={}){this.uiLanguage=t.uiLanguage||"en",this.contentLanguage=t.contentLanguage||this.uiLanguage,this.uiLanguageDirection=(0,o.j)(this.uiLanguage),this.contentLanguageDirection=(0,o.j)(this.contentLanguage),this.t=(t,e)=>this._t(t,e)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){e=(0,i.default)(e),"string"==typeof t&&(t={string:t});const n=t.plural?e[0]:1;return function(t,e){return t.replace(/%(\d+)/g,((t,n)=>n<e.length?e[n]:t))}(function(t,e,n=1){if("number"!=typeof n)throw new r.default("translation-service-quantity-not-a-number",null,{quantity:n});const i=Object.keys(window.CKEDITOR_TRANSLATIONS).length;1===i&&(t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);const o=e.id||e.string;if(0===i||!function(t,e){return!!window.CKEDITOR_TRANSLATIONS[t]&&!!window.CKEDITOR_TRANSLATIONS[t].dictionary[e]}(t,o))return 1!==n?e.plural:e.string;const a=window.CKEDITOR_TRANSLATIONS[t].dictionary,s=window.CKEDITOR_TRANSLATIONS[t].getPluralForm||(t=>1===t?0:1);if("string"==typeof a[o])return a[o];const u=Number(s(n));return a[o][u]}(this.uiLanguage,t,n),e)}}},50131:(t,e,n)=>{"use strict";function i(t,...e){e.forEach((e=>{Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach((n=>{if(n in t.prototype)return;const i=Object.getOwnPropertyDescriptor(e,n);i.enumerable=!1,Object.defineProperty(t.prototype,n,i)}))}))}n.r(e),n.d(e,{default:()=>i})},29110:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var i=n(40669),r=n(78378),o=n(77226),a=n(80207);const s=Symbol("observableProperties"),u=Symbol("boundObservables"),l=Symbol("boundProperties"),c=Symbol("decoratedMethods"),d=Symbol("decoratedOriginal"),h={set(t,e){if((0,o.Z)(t))return void Object.keys(t).forEach((e=>{this.set(e,t[e])}),this);p(this);const n=this[s];if(t in this&&!n.has(t))throw new r.default("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(e){const i=n.get(t);let r=this.fire("set:"+t,t,e,i);void 0===r&&(r=e),i===r&&n.has(t)||(n.set(t,r),this.fire("change:"+t,t,r,i))}}),this[t]=e},bind(...t){if(!t.length||!v(t))throw new r.default("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new r.default("observable-bind-duplicate-properties",this);p(this);const e=this[l];t.forEach((t=>{if(e.has(t))throw new r.default("observable-bind-rebind",this)}));const n=new Map;return t.forEach((t=>{const i={property:t,to:[]};e.set(t,i),n.set(t,i)})),{to:g,toMany:m,_observable:this,_bindProperties:t,_to:[],_bindings:n}},unbind(...t){if(!this[s])return;const e=this[l],n=this[u];if(t.length){if(!v(t))throw new r.default("observable-unbind-wrong-properties",this);t.forEach((t=>{const i=e.get(t);if(!i)return;let r,o,a,s;i.to.forEach((t=>{r=t[0],o=t[1],a=n.get(r),s=a[o],s.delete(i),s.size||delete a[o],Object.keys(a).length||(n.delete(r),this.stopListening(r,"change"))})),e.delete(t)}))}else n.forEach(((t,e)=>{this.stopListening(e,"change")})),n.clear(),e.clear()},decorate(t){const e=this[t];if(!e)throw new r.default("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,((t,n)=>{t.return=e.apply(this,n)})),this[t]=function(...e){return this.fire(t,e)},this[t][d]=e,this[c]||(this[c]=[]),this[c].push(t)}};(0,a.Z)(h,i.default),h.stopListening=function(t,e,n){if(!t&&this[c]){for(const t of this[c])this[t]=this[t][d];delete this[c]}i.default.stopListening.call(this,t,e,n)};const f=h;function p(t){t[s]||(Object.defineProperty(t,s,{value:new Map}),Object.defineProperty(t,u,{value:new Map}),Object.defineProperty(t,l,{value:new Map}))}function g(...t){const e=function(...t){if(!t.length)throw new r.default("observable-bind-to-parse-error",null);const e={to:[]};let n;return"function"==typeof t[t.length-1]&&(e.callback=t.pop()),t.forEach((t=>{if("string"==typeof t)n.properties.push(t);else{if("object"!=typeof t)throw new r.default("observable-bind-to-parse-error",null);n={observable:t,properties:[]},e.to.push(n)}})),e}(...t),n=Array.from(this._bindings.keys()),i=n.length;if(!e.callback&&e.to.length>1)throw new r.default("observable-bind-to-no-callback",this);if(i>1&&e.callback)throw new r.default("observable-bind-to-extra-callback",this);var o;e.to.forEach((t=>{if(t.properties.length&&t.properties.length!==i)throw new r.default("observable-bind-to-properties-length",this);t.properties.length||(t.properties=this._bindProperties)})),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),o=this._observable,this._to.forEach((t=>{const e=o[u];let n;e.get(t.observable)||o.listenTo(t.observable,"change",((i,r)=>{n=e.get(t.observable)[r],n&&n.forEach((t=>{y(o,t.property)}))}))})),function(t){let e;t._bindings.forEach(((n,i)=>{t._to.forEach((r=>{e=r.properties[n.callback?0:t._bindProperties.indexOf(i)],n.to.push([r.observable,e]),function(t,e,n,i){const r=t[u],o=r.get(n),a=o||{};a[i]||(a[i]=new Set),a[i].add(e),o||r.set(n,a)}(t._observable,n,r.observable,e)}))}))}(this),this._bindProperties.forEach((t=>{y(this._observable,t)}))}function m(t,e,n){if(this._bindings.size>1)throw new r.default("observable-bind-to-many-not-one-binding",this);this.to(...function(t,e){const n=t.map((t=>[t,e]));return Array.prototype.concat.apply([],n)}(t,e),n)}function v(t){return t.every((t=>"string"==typeof t))}function y(t,e){const n=t[l].get(e);let i;n.callback?i=n.callback.apply(t,n.to.map((t=>t[0][t[1]]))):(i=n.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(t,e)?t[e]=i:t.set(e,i)}},4841:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i={get(t){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5}},73701:(t,e,n)=>{"use strict";function i(t){return Array.isArray(t)?t:[t]}n.r(e),n.d(e,{default:()=>i})},79047:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(65838);function r(t){return(0,i.Z)(t)?new Map(t):function(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}(t)}},369:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const i=new Array(256).fill().map(((t,e)=>("0"+e.toString(16)).slice(-2)));function r(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+i[t>>0&255]+i[t>>8&255]+i[t>>16&255]+i[t>>24&255]+i[e>>0&255]+i[e>>8&255]+i[e>>16&255]+i[e>>24&255]+i[n>>0&255]+i[n>>8&255]+i[n>>16&255]+i[n>>24&255]+i[r>>0&255]+i[r>>8&255]+i[r>>16&255]+i[r>>24&255]}},6694:(t,e,n)=>{"use strict";function i(t,e){return!!(n=t.charAt(e-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e));var n}function r(t,e){return!!(n=t.charAt(e))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}n.d(e,{pp:()=>r,to:()=>i})},9807:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(78378);const r="29.2.0",o=r,a="object"==typeof window?window:n.g;if(a.CKEDITOR_VERSION)throw new i.default("ckeditor-duplicated-modules",null);a.CKEDITOR_VERSION=r},43629:(t,e,n)=>{"use strict";function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(t){return!!t&&!!t[Z]}function o(t){var e;return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===z}(t)||Array.isArray(t)||!!t[W]||!!(null===(e=t.constructor)||void 0===e?void 0:e[W])||h(t)||f(t))}function a(t){return r(t)||i(23,t),t[Z].t}function s(t,e,n){void 0===n&&(n=!1),0===u(t)?(n?Object.keys:q)(t).forEach((function(i){n&&"symbol"==typeof i||e(i,t[i],t)})):t.forEach((function(n,i){return e(i,n,t)}))}function u(t){var e=t[Z];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:h(t)?2:f(t)?3:0}function l(t,e){return 2===u(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function c(t,e,n){var i=u(t);2===i?t.set(e,n):3===i?(t.delete(e),t.add(n)):t[e]=n}function d(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function h(t){return U&&t instanceof Map}function f(t){return B&&t instanceof Set}function p(t){return t.o||t.t}function g(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=$(t);delete e[Z];for(var n=q(e),i=0;i<n.length;i++){var r=n[i],o=e[r];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[r]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[r]})}return Object.create(Object.getPrototypeOf(t),e)}function m(t,e){return void 0===e&&(e=!1),y(t)||r(t)||!o(t)||(u(t)>1&&(t.set=t.add=t.clear=t.delete=v),Object.freeze(t),e&&s(t,(function(t,e){return m(e,!0)}),!0)),t}function v(){i(2)}function y(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function _(t){var e=Y[t];return e||i(18,t),e}function b(){return F}function w(t,e){e&&(_("Patches"),t.u=[],t.s=[],t.v=e)}function T(t){S(t),t.p.forEach(O),t.p=null}function S(t){t===F&&(F=t.l)}function E(t){return F={p:[],l:F,h:t,m:!0,_:0}}function O(t){var e=t[Z];0===e.i||1===e.i?e.j():e.O=!0}function P(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.g||_("ES5").S(e,t,r),r?(n[Z].P&&(T(e),i(4)),o(t)&&(t=C(e,t),e.l||k(e,t)),e.u&&_("Patches").M(n[Z].t,t,e.u,e.s)):t=C(e,n,[]),T(e),e.u&&e.v(e.u,e.s),t!==G?t:void 0}function C(t,e,n){if(y(e))return e;var i=e[Z];if(!i)return s(e,(function(r,o){return A(t,i,e,r,o,n)}),!0),e;if(i.A!==t)return e;if(!i.P)return k(t,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var r=4===i.i||5===i.i?i.o=g(i.k):i.o;s(3===i.i?new Set(r):r,(function(e,o){return A(t,i,r,e,o,n)})),k(t,r,!1),n&&t.u&&_("Patches").N(i,n,t.u,t.s)}return i.o}function A(t,e,n,i,a,s){if(r(a)){var u=C(t,a,s&&e&&3!==e.i&&!l(e.R,i)?s.concat(i):void 0);if(c(n,i,u),!r(u))return;t.m=!1}if(o(a)&&!y(a)){if(!t.h.D&&t._<1)return;C(t,a),e&&e.A.l||k(t,a)}}function k(t,e,n){void 0===n&&(n=!1),t.h.D&&t.m&&m(e,n)}function x(t,e){var n=t[Z];return(n?p(n):t)[e]}function I(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function M(t){t.P||(t.P=!0,t.l&&M(t.l))}function R(t){t.o||(t.o=g(t.t))}function N(t,e,n){var i=h(e)?_("MapSet").F(e,n):f(e)?_("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),i={i:n?1:0,A:e?e.A:b(),P:!1,I:!1,R:{},l:e,t,k:null,o:null,j:null,C:!1},r=i,o=K;n&&(r=[i],o=X);var a=Proxy.revocable(r,o),s=a.revoke,u=a.proxy;return i.k=u,i.j=s,u}(e,n):_("ES5").J(e,n);return(n?n.A:b()).p.push(i),i}function D(t){return r(t)||i(22,t),function t(e){if(!o(e))return e;var n,i=e[Z],r=u(e);if(i){if(!i.P&&(i.i<4||!_("ES5").K(i)))return i.t;i.I=!0,n=L(e,r),i.I=!1}else n=L(e,r);return s(n,(function(e,r){i&&function(t,e){return 2===u(t)?t.get(e):t[e]}(i.t,e)===r||c(n,e,t(r))})),3===r?new Set(n):n}(t)}function L(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return g(t)}n.r(e),n.d(e,{MiddlewareArray:()=>Ht,SHOULD_AUTOBATCH:()=>sn,TaskAbortError:()=>Ve,__DO_NOT_USE__ActionTypes:()=>lt,addListener:()=>Qe,applyMiddleware:()=>mt,autoBatchEnhancer:()=>hn,bindActionCreators:()=>pt,clearAllListeners:()=>tn,combineReducers:()=>ht,compose:()=>gt,configureStore:()=>Xt,createAction:()=>Jt,createAsyncThunk:()=>ge,createDraftSafeSelector:()=>Vt,createEntityAdapter:()=>le,createImmutableStateInvariantMiddleware:()=>Zt,createListenerMiddleware:()=>on,createNextState:()=>et,createReducer:()=>ne,createSelector:()=>wt,createSerializableStateInvariantMiddleware:()=>$t,createSlice:()=>ie,createStore:()=>ct,current:()=>D,findNonSerializableValue:()=>qt,freeze:()=>m,getDefaultMiddleware:()=>Yt,getType:()=>te,isAllOf:()=>_e,isAnyOf:()=>ye,isAsyncThunkAction:()=>Pe,isDraft:()=>r,isFulfilled:()=>Oe,isImmutableDefault:()=>Wt,isPending:()=>Te,isPlain:()=>zt,isPlainObject:()=>Bt,isRejected:()=>Se,isRejectedWithValue:()=>Ee,legacy_createStore:()=>dt,miniSerializeError:()=>pe,nanoid:()=>ce,original:()=>a,prepareAutoBatched:()=>un,removeListener:()=>en,unwrapResult:()=>me});var j,F,V="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),U="undefined"!=typeof Map,B="undefined"!=typeof Set,H="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,G=V?Symbol.for("immer-nothing"):((j={})["immer-nothing"]=!0,j),W=V?Symbol.for("immer-draftable"):"__$immer_draftable",Z=V?Symbol.for("immer-state"):"__$immer_state",z=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),q="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,$=Object.getOwnPropertyDescriptors||function(t){var e={};return q(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},Y={},K={get:function(t,e){if(e===Z)return t;var n=p(t);if(!l(n,e))return function(t,e,n){var i,r=I(e,n);return r?"value"in r?r.value:null===(i=r.get)||void 0===i?void 0:i.call(t.k):void 0}(t,n,e);var i=n[e];return t.I||!o(i)?i:i===x(t.t,e)?(R(t),t.o[e]=N(t.A.h,i,t)):i},has:function(t,e){return e in p(t)},ownKeys:function(t){return Reflect.ownKeys(p(t))},set:function(t,e,n){var i=I(p(t),e);if(null==i?void 0:i.set)return i.set.call(t.k,n),!0;if(!t.P){var r=x(p(t),e),o=null==r?void 0:r[Z];if(o&&o.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(d(n,r)&&(void 0!==n||l(t.t,e)))return!0;R(t),M(t)}return t.o[e]===n&&(void 0!==n||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return void 0!==x(t.t,e)||e in t.t?(t.R[e]=!1,R(t),M(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=p(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:i.enumerable,value:n[e]}:i},defineProperty:function(){i(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){i(12)}},X={};s(K,(function(t,e){X[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),X.deleteProperty=function(t,e){return X.set.call(this,t,e,void 0)},X.set=function(t,e,n){return K.set.call(this,t[0],e,n,t[0])};var J=function(){function t(t){var e=this;this.g=H,this.D=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var a=n;n=t;var s=e;return function(t){var e=this;void 0===t&&(t=a);for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return s.produce(t,(function(t){var i;return(i=n).call.apply(i,[e,t].concat(r))}))}}var u;if("function"!=typeof n&&i(6),void 0!==r&&"function"!=typeof r&&i(7),o(t)){var l=E(e),c=N(e,t,void 0),d=!0;try{u=n(c),d=!1}finally{d?T(l):S(l)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(t){return w(l,r),P(t,l)}),(function(t){throw T(l),t})):(w(l,r),P(u,l))}if(!t||"object"!=typeof t){if(void 0===(u=n(t))&&(u=t),u===G&&(u=void 0),e.D&&m(u,!0),r){var h=[],f=[];_("Patches").M(t,u,h,f),r(h,f)}return u}i(21,t)},this.produceWithPatches=function(t,n){if("function"==typeof t)return function(n){for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(r))}))};var i,r,o=e.produce(t,n,(function(t,e){i=t,r=e}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(t){return[t,i,r]})):[o,i,r]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){o(t)||i(8),r(t)&&(t=D(t));var e=E(this),n=N(this,t,void 0);return n[Z].C=!0,S(e),n},e.finishDraft=function(t,e){var n=(t&&t[Z]).A;return w(n,e),P(void 0,n)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!H&&i(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var i=e[n];if(0===i.path.length&&"replace"===i.op){t=i.value;break}}n>-1&&(e=e.slice(n+1));var o=_("Patches").$;return r(t)?o(t,e):this.produce(t,(function(t){return o(t,e)}))},t}(),Q=new J,tt=Q.produce;Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q),Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q),Q.createDraft.bind(Q),Q.finishDraft.bind(Q);const et=tt;function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function it(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==nt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==nt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===nt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){it(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function at(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var st="function"==typeof Symbol&&Symbol.observable||"@@observable",ut=function(){return Math.random().toString(36).substring(7).split("").join(".")},lt={INIT:"@@redux/INIT"+ut(),REPLACE:"@@redux/REPLACE"+ut(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ut()}};function ct(t,e,n){var i;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(at(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(at(1));return n(ct)(t,e)}if("function"!=typeof t)throw new Error(at(2));var r=t,o=e,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function c(){if(u)throw new Error(at(3));return o}function d(t){if("function"!=typeof t)throw new Error(at(4));if(u)throw new Error(at(5));var e=!0;return l(),s.push(t),function(){if(e){if(u)throw new Error(at(6));e=!1,l();var n=s.indexOf(t);s.splice(n,1),a=null}}}function h(t){if(!function(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(t))throw new Error(at(7));if(void 0===t.type)throw new Error(at(8));if(u)throw new Error(at(9));try{u=!0,o=r(o,t)}finally{u=!1}for(var e=a=s,n=0;n<e.length;n++)(0,e[n])();return t}return h({type:lt.INIT}),(i={dispatch:h,subscribe:d,getState:c,replaceReducer:function(t){if("function"!=typeof t)throw new Error(at(10));r=t,h({type:lt.REPLACE})}})[st]=function(){var t,e=d;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(at(11));function n(){t.next&&t.next(c())}return n(),{unsubscribe:e(n)}}})[st]=function(){return this},t},i}var dt=ct;function ht(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var r=e[i];"function"==typeof t[r]&&(n[r]=t[r])}var o,a=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:lt.INIT}))throw new Error(at(12));if(void 0===n(void 0,{type:lt.PROBE_UNKNOWN_ACTION()}))throw new Error(at(13))}))}(n)}catch(t){o=t}return function(t,e){if(void 0===t&&(t={}),o)throw o;for(var i=!1,r={},s=0;s<a.length;s++){var u=a[s],l=n[u],c=t[u],d=l(c,e);if(void 0===d)throw e&&e.type,new Error(at(14));r[u]=d,i=i||d!==c}return(i=i||a.length!==Object.keys(t).length)?r:t}}function ft(t,e){return function(){return e(t.apply(this,arguments))}}function pt(t,e){if("function"==typeof t)return ft(t,e);if("object"!=typeof t||null===t)throw new Error(at(16));var n={};for(var i in t){var r=t[i];"function"==typeof r&&(n[i]=ft(r,e))}return n}function gt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function mt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),i=function(){throw new Error(at(15))},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=e.map((function(t){return t(r)}));return i=gt.apply(void 0,o)(n.dispatch),ot(ot({},n),{},{dispatch:i})}}}var vt="NOT_FOUND",yt=function(t,e){return t===e};function _t(t,e){var n,i,r="object"==typeof e?e:{equalityCheck:e},o=r.equalityCheck,a=void 0===o?yt:o,s=r.maxSize,u=void 0===s?1:s,l=r.resultEqualityCheck,c=function(t){return function(e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var i=e.length,r=0;r<i;r++)if(!t(e[r],n[r]))return!1;return!0}}(a),d=1===u?(n=c,{get:function(t){return i&&n(i.key,t)?i.value:vt},put:function(t,e){i={key:t,value:e}},getEntries:function(){return i?[i]:[]},clear:function(){i=void 0}}):function(t,e){var n=[];function i(t){var i=n.findIndex((function(n){return e(t,n.key)}));if(i>-1){var r=n[i];return i>0&&(n.splice(i,1),n.unshift(r)),r.value}return vt}return{get:i,put:function(e,r){i(e)===vt&&(n.unshift({key:e,value:r}),n.length>t&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(u,c);function h(){var e=d.get(arguments);if(e===vt){if(e=t.apply(null,arguments),l){var n=d.getEntries().find((function(t){return l(t.value,e)}));n&&(e=n.value)}d.put(arguments,e)}return e}return h.clearCache=function(){return d.clear()},h}function bt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];var o,a=0,s={memoizeOptions:void 0},u=i.pop();if("object"==typeof u&&(s=u,u=i.pop()),"function"!=typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var l=s.memoizeOptions,c=void 0===l?n:l,d=Array.isArray(c)?c:[c],h=function(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var n=e.map((function(t){return"function"==typeof t?"function "+(t.name||"unnamed")+"()":typeof t})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}(i),f=t.apply(void 0,[function(){return a++,u.apply(null,arguments)}].concat(d)),p=t((function(){for(var t=[],e=h.length,n=0;n<e;n++)t.push(h[n].apply(null,arguments));return o=f.apply(null,t)}));return Object.assign(p,{resultFunc:u,memoizedResultFunc:f,dependencies:h,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),p}}var wt=bt(_t);function Tt(t){return function(e){var n=e.dispatch,i=e.getState;return function(e){return function(r){return"function"==typeof r?r(n,i,t):e(r)}}}}var St=Tt();St.withExtraArgument=Tt;const Et=St;var Ot,Pt=(Ot=function(t,e){return Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Ot(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ot(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ct=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},At=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t},kt=Object.defineProperty,xt=Object.defineProperties,It=Object.getOwnPropertyDescriptors,Mt=Object.getOwnPropertySymbols,Rt=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,Dt=function(t,e,n){return e in t?kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Lt=function(t,e){for(var n in e||(e={}))Rt.call(e,n)&&Dt(t,n,e[n]);if(Mt)for(var i=0,r=Mt(e);i<r.length;i++)n=r[i],Nt.call(e,n)&&Dt(t,n,e[n]);return t},jt=function(t,e){return xt(t,It(e))},Ft=function(t,e,n){return new Promise((function(i,r){var o=function(t){try{s(n.next(t))}catch(t){r(t)}},a=function(t){try{s(n.throw(t))}catch(t){r(t)}},s=function(t){return t.done?i(t.value):Promise.resolve(t.value).then(o,a)};s((n=n.apply(t,e)).next())}))},Vt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=wt.apply(void 0,t);return function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return n.apply(void 0,At([r(t)?D(t):t],e))}},Ut="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?gt:gt.apply(null,arguments)};function Bt(t){if("object"!=typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return e===n}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Ht=function(t){function e(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=t.apply(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return Pt(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,At([void 0],t[0].concat(this)))):new(e.bind.apply(e,At([void 0],t.concat(this))))},e}(Array);function Gt(t){return o(t)?et(t,(function(){})):t}function Wt(t){return"object"!=typeof t||null==t||Object.isFrozen(t)}function Zt(t){return void 0===t&&(t={}),function(){return function(t){return function(e){return t(e)}}}}function zt(t){var e=typeof t;return null==t||"string"===e||"boolean"===e||"number"===e||Array.isArray(t)||Bt(t)}function qt(t,e,n,i,r){var o;if(void 0===e&&(e=""),void 0===n&&(n=zt),void 0===r&&(r=[]),!n(t))return{keyPath:e||"<root>",value:t};if("object"!=typeof t||null===t)return!1;for(var a=null!=i?i(t):Object.entries(t),s=r.length>0,u=0,l=a;u<l.length;u++){var c=l[u],d=c[0],h=c[1],f=e?e+"."+d:d;if(!(s&&r.indexOf(f)>=0)){if(!n(h))return{keyPath:f,value:h};if("object"==typeof h&&(o=qt(h,f,n,i,r)))return o}}return!1}function $t(t){return void 0===t&&(t={}),function(){return function(t){return function(e){return t(e)}}}}function Yt(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,i=(t.immutableCheck,t.serializableCheck,new Ht);return n&&(function(t){return"boolean"==typeof t}(n)?i.push(Et):i.push(Et.withExtraArgument(n.extraArgument))),i}var Kt=!0;function Xt(t){var e,n=function(t){return Yt(t)},i=t||{},r=i.reducer,o=void 0===r?void 0:r,a=i.middleware,s=void 0===a?n():a,u=i.devTools,l=void 0===u||u,c=i.preloadedState,d=void 0===c?void 0:c,h=i.enhancers,f=void 0===h?void 0:h;if("function"==typeof o)e=o;else{if(!Bt(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=ht(o)}var p=s;if("function"==typeof p&&(p=p(n),!Kt&&!Array.isArray(p)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!Kt&&p.some((function(t){return"function"!=typeof t})))throw new Error("each middleware provided to configureStore must be a function");var g=mt.apply(void 0,p),m=gt;l&&(m=Ut(Lt({trace:!Kt},"object"==typeof l&&l)));var v=[g];return Array.isArray(f)?v=At([g],f):"function"==typeof f&&(v=f(v)),ct(e,d,m.apply(void 0,v))}function Jt(t,e){function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var r=e.apply(void 0,n);if(!r)throw new Error("prepareAction did not return an object");return Lt(Lt({type:t,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function Qt(t){return["type","payload","error","meta"].indexOf(t)>-1}function te(t){return""+t}function ee(t){var e,n={},i=[],r={addCase:function(t,e){var i="string"==typeof t?t:t.type;if(i in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[i]=e,r},addMatcher:function(t,e){return i.push({matcher:t,reducer:e}),r},addDefaultCase:function(t){return e=t,r}};return t(r),[n,i,e]}function ne(t,e,n,i){void 0===n&&(n=[]);var a,s="function"==typeof e?ee(e):[e,n,i],u=s[0],l=s[1],c=s[2];if(function(t){return"function"==typeof t}(t))a=function(){return Gt(t())};else{var d=Gt(t);a=function(){return d}}function h(t,e){void 0===t&&(t=a());var n=At([u[e.type]],l.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[c]),n.reduce((function(t,n){if(n){var i;if(r(t))return void 0===(i=n(t,e))?t:i;if(o(t))return et(t,(function(t){return n(t,e)}));if(void 0===(i=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return i}return t}),t)}return h.getInitialState=a,h}function ie(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n,i="function"==typeof t.initialState?t.initialState:Gt(t.initialState),r=t.reducers||{},o=Object.keys(r),a={},s={},u={};function l(){var e="function"==typeof t.extraReducers?ee(t.extraReducers):[t.extraReducers],n=e[0],r=void 0===n?{}:n,o=e[1],a=void 0===o?[]:o,u=e[2],l=void 0===u?void 0:u,c=Lt(Lt({},r),s);return ne(i,(function(t){for(var e in c)t.addCase(e,c[e]);for(var n=0,i=a;n<i.length;n++){var r=i[n];t.addMatcher(r.matcher,r.reducer)}l&&t.addDefaultCase(l)}))}return o.forEach((function(t){var n,i,o=r[t],l=e+"/"+t;"reducer"in o?(n=o.reducer,i=o.prepare):n=o,a[t]=n,s[l]=n,u[t]=i?Jt(l,i):Jt(l)})),{name:e,reducer:function(t,e){return n||(n=l()),n(t,e)},actions:u,caseReducers:a,getInitialState:function(){return n||(n=l()),n.getInitialState()}}}function re(t){return function(e,n){var i=function(e){var i;Bt(i=n)&&"string"==typeof i.type&&Object.keys(i).every(Qt)?t(n.payload,e):t(n,e)};return r(e)?(i(e),e):et(e,i)}}function oe(t,e){return e(t)}function ae(t){return Array.isArray(t)||(t=Object.values(t)),t}function se(t,e,n){for(var i=[],r=[],o=0,a=t=ae(t);o<a.length;o++){var s=a[o],u=oe(s,e);u in n.entities?r.push({id:u,changes:s}):i.push(s)}return[i,r]}function ue(t){function e(e,n){var i=oe(e,t);i in n.entities||(n.ids.push(i),n.entities[i]=e)}function n(t,n){for(var i=0,r=t=ae(t);i<r.length;i++)e(r[i],n)}function i(e,n){var i=oe(e,t);i in n.entities||n.ids.push(i),n.entities[i]=e}function r(t,e){var n=!1;t.forEach((function(t){t in e.entities&&(delete e.entities[t],n=!0)})),n&&(e.ids=e.ids.filter((function(t){return t in e.entities})))}function o(e,n){var i={},r={};if(e.forEach((function(t){t.id in n.entities&&(r[t.id]={id:t.id,changes:Lt(Lt({},r[t.id]?r[t.id].changes:null),t.changes)})})),(e=Object.values(r)).length>0){var o=e.filter((function(e){return function(e,n,i){var r=i.entities[n.id],o=Object.assign({},r,n.changes),a=oe(o,t),s=a!==n.id;return s&&(e[n.id]=a,delete i.entities[n.id]),i.entities[a]=o,s}(i,e,n)})).length>0;o&&(n.ids=Object.keys(n.entities))}}function a(e,i){var r=se(e,t,i),a=r[0];o(r[1],i),n(a,i)}return{removeAll:(s=function(t){Object.assign(t,{ids:[],entities:{}})},u=re((function(t,e){return s(e)})),function(t){return u(t,void 0)}),addOne:re(e),addMany:re(n),setOne:re(i),setMany:re((function(t,e){for(var n=0,r=t=ae(t);n<r.length;n++)i(r[n],e)})),setAll:re((function(t,e){t=ae(t),e.ids=[],e.entities={},n(t,e)})),updateOne:re((function(t,e){return o([t],e)})),updateMany:re(o),upsertOne:re((function(t,e){return a([t],e)})),upsertMany:re(a),removeOne:re((function(t,e){return r([t],e)})),removeMany:re(r)};var s,u}function le(t){void 0===t&&(t={});var e=Lt({sortComparer:!1,selectId:function(t){return t.id}},t),n=e.selectId,i=e.sortComparer,r={getInitialState:function(t){return void 0===t&&(t={}),Object.assign({ids:[],entities:{}},t)}},o={getSelectors:function(t){var e=function(t){return t.ids},n=function(t){return t.entities},i=Vt(e,n,(function(t,e){return t.map((function(t){return e[t]}))})),r=function(t,e){return e},o=function(t,e){return t[e]},a=Vt(e,(function(t){return t.length}));if(!t)return{selectIds:e,selectEntities:n,selectAll:i,selectTotal:a,selectById:Vt(n,r,o)};var s=Vt(t,n);return{selectIds:Vt(t,e),selectEntities:s,selectAll:Vt(t,i),selectTotal:Vt(t,a),selectById:Vt(s,r,o)}}},a=i?function(t,e){var n=ue(t);function i(e,n){var i=(e=ae(e)).filter((function(e){return!(oe(e,t)in n.entities)}));0!==i.length&&s(i,n)}function r(t,e){0!==(t=ae(t)).length&&s(t,e)}function o(e,n){for(var i=!1,r=0,o=e;r<o.length;r++){var a=o[r],s=n.entities[a.id];if(s){i=!0,Object.assign(s,a.changes);var l=t(s);a.id!==l&&(delete n.entities[a.id],n.entities[l]=s)}}i&&u(n)}function a(e,n){var r=se(e,t,n),a=r[0];o(r[1],n),i(a,n)}function s(e,n){e.forEach((function(e){n.entities[t(e)]=e})),u(n)}function u(n){var i=Object.values(n.entities);i.sort(e);var r=i.map(t);(function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(t[n]!==e[n])return!1;return!0})(n.ids,r)||(n.ids=r)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:re((function(t,e){return i([t],e)})),updateOne:re((function(t,e){return o([t],e)})),upsertOne:re((function(t,e){return a([t],e)})),setOne:re((function(t,e){return r([t],e)})),setMany:re(r),setAll:re((function(t,e){t=ae(t),e.entities={},e.ids=[],i(t,e)})),addMany:re(i),updateMany:re(o),upsertMany:re(a)}}(n,i):ue(n);return Lt(Lt(Lt({selectId:n,sortComparer:i},r),o),a)}var ce=function(t){void 0===t&&(t=21);for(var e="",n=t;n--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},de=["name","message","stack","code"],he=function(t,e){this.payload=t,this.meta=e},fe=function(t,e){this.payload=t,this.meta=e},pe=function(t){if("object"==typeof t&&null!==t){for(var e={},n=0,i=de;n<i.length;n++){var r=i[n];"string"==typeof t[r]&&(e[r]=t[r])}return e}return{message:String(t)}},ge=function(){function t(t,e,n){var i=Jt(t+"/fulfilled",(function(t,e,n,i){return{payload:t,meta:jt(Lt({},i||{}),{arg:n,requestId:e,requestStatus:"fulfilled"})}})),r=Jt(t+"/pending",(function(t,e,n){return{payload:void 0,meta:jt(Lt({},n||{}),{arg:e,requestId:t,requestStatus:"pending"})}})),o=Jt(t+"/rejected",(function(t,e,i,r,o){return{payload:r,error:(n&&n.serializeError||pe)(t||"Rejected"),meta:jt(Lt({},o||{}),{arg:i,requestId:e,rejectedWithValue:!!r,requestStatus:"rejected",aborted:"AbortError"===(null==t?void 0:t.name),condition:"ConditionError"===(null==t?void 0:t.name)})}})),a="undefined"!=typeof AbortController?AbortController:function(){function t(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return t.prototype.abort=function(){},t}();return Object.assign((function(t){return function(s,u,l){var c,d=(null==n?void 0:n.idGenerator)?n.idGenerator(t):ce(),h=new a;function f(t){c=t,h.abort()}var p=function(){return Ft(this,null,(function(){var a,p,g,m,v,y;return Ct(this,(function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),null===(b=m=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,t,{getState:u,extra:l}))||"object"!=typeof b||"function"!=typeof b.then?[3,2]:[4,m];case 1:m=_.sent(),_.label=2;case 2:if(!1===m||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return v=new Promise((function(t,e){return h.signal.addEventListener("abort",(function(){return e({name:"AbortError",message:c||"Aborted"})}))})),s(r(d,t,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:d,arg:t},{getState:u,extra:l}))),[4,Promise.race([v,Promise.resolve(e(t,{dispatch:s,getState:u,extra:l,requestId:d,signal:h.signal,abort:f,rejectWithValue:function(t,e){return new he(t,e)},fulfillWithValue:function(t,e){return new fe(t,e)}})).then((function(e){if(e instanceof he)throw e;return e instanceof fe?i(e.payload,d,t,e.meta):i(e,d,t)}))])];case 3:return g=_.sent(),[3,5];case 4:return y=_.sent(),g=y instanceof he?o(null,d,t,y.payload,y.meta):o(y,d,t),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(g)&&g.meta.condition||s(g),[2,g]}var b}))}))}();return Object.assign(p,{abort:f,requestId:d,arg:t,unwrap:function(){return p.then(me)}})}}),{pending:r,rejected:o,fulfilled:i,typePrefix:t})}return t.withTypes=function(){return t},t}();function me(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}var ve=function(t,e){return function(t){return t&&"function"==typeof t.match}(t)?t.match(e):t(e)};function ye(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.some((function(t){return ve(t,e)}))}}function _e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.every((function(t){return ve(t,e)}))}}function be(t,e){if(!t||!t.meta)return!1;var n="string"==typeof t.meta.requestId,i=e.indexOf(t.meta.requestStatus)>-1;return n&&i}function we(t){return"function"==typeof t[0]&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function Te(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?function(t){return be(t,["pending"])}:we(t)?function(e){var n=t.map((function(t){return t.pending}));return ye.apply(void 0,n)(e)}:Te()(t[0])}function Se(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?function(t){return be(t,["rejected"])}:we(t)?function(e){var n=t.map((function(t){return t.rejected}));return ye.apply(void 0,n)(e)}:Se()(t[0])}function Ee(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(t){return t&&t.meta&&t.meta.rejectedWithValue};return 0===t.length||we(t)?function(e){return _e(Se.apply(void 0,t),n)(e)}:Ee()(t[0])}function Oe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?function(t){return be(t,["fulfilled"])}:we(t)?function(e){var n=t.map((function(t){return t.fulfilled}));return ye.apply(void 0,n)(e)}:Oe()(t[0])}function Pe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?function(t){return be(t,["pending","fulfilled","rejected"])}:we(t)?function(e){for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i];n.push(o.pending,o.rejected,o.fulfilled)}return ye.apply(void 0,n)(e)}:Pe()(t[0])}var Ce=function(t,e){if("function"!=typeof t)throw new TypeError(e+" is not a function")},Ae=function(){},ke=function(t,e){return void 0===e&&(e=Ae),t.catch(e),t},xe=function(t,e){t.addEventListener("abort",e,{once:!0})},Ie=function(t,e){var n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Me="listener",Re="completed",Ne="cancelled",De="task-"+Ne,Le="task-"+Re,je=Me+"-"+Ne,Fe=Me+"-"+Re,Ve=function(t){this.code=t,this.name="TaskAbortError",this.message="task "+Ne+" (reason: "+t+")"},Ue=function(t){if(t.aborted)throw new Ve(t.reason)},Be=function(t){return ke(new Promise((function(e,n){var i=function(){return n(new Ve(t.reason))};t.aborted?i():xe(t,i)})))},He=function(t){return function(e){return ke(Promise.race([Be(t),e]).then((function(e){return Ue(t),e})))}},Ge=function(t){var e=He(t);return function(t){return e(new Promise((function(e){return setTimeout(e,t)})))}},We=Object.assign,Ze={},ze="listenerMiddleware",qe=function(t){return function(e){Ce(e,"taskExecutor");var n,i=new AbortController;n=i,xe(t,(function(){return Ie(n,t.reason)}));var r,o,a=(r=function(){return Ft(void 0,null,(function(){var n;return Ct(this,(function(r){switch(r.label){case 0:return Ue(t),Ue(i.signal),[4,e({pause:He(i.signal),delay:Ge(i.signal),signal:i.signal})];case 1:return n=r.sent(),Ue(i.signal),[2,n]}}))}))},o=function(){return Ie(i,Le)},Ft(void 0,null,(function(){var t;return Ct(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return e.sent(),[4,r()];case 2:return[2,{status:"ok",value:e.sent()}];case 3:return[2,{status:(t=e.sent())instanceof Ve?"cancelled":"rejected",error:t}];case 4:return null==o||o(),[7];case 5:return[2]}}))})));return{result:He(t)(a),cancel:function(){Ie(i,De)}}}},$e=function(t,e){return function(n,i){return ke(function(n,i){return Ft(void 0,null,(function(){var r,o,a,s;return Ct(this,(function(u){switch(u.label){case 0:Ue(e),r=function(){},o=new Promise((function(e){r=t({predicate:n,effect:function(t,n){n.unsubscribe(),e([t,n.getState(),n.getOriginalState()])}})})),a=[Be(e),o],null!=i&&a.push(new Promise((function(t){return setTimeout(t,i,null)}))),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,Promise.race(a)];case 2:return s=u.sent(),Ue(e),[2,s];case 3:return r(),[7];case 4:return[2]}}))}))}(n,i))}},Ye=function(t){var e=t.type,n=t.actionCreator,i=t.matcher,r=t.predicate,o=t.effect;if(e)r=Jt(e).match;else if(n)e=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return Ce(o,"options.listener"),{predicate:r,type:e,effect:o}},Ke=function(t){var e=Ye(t),n=e.type,i=e.predicate,r=e.effect;return{id:ce(),effect:r,type:n,predicate:i,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}}},Xe=function(t){return function(){t.forEach(rn),t.clear()}},Je=function(t,e,n){try{t(e,n)}catch(t){setTimeout((function(){throw t}),0)}},Qe=Jt(ze+"/add"),tn=Jt(ze+"/removeAll"),en=Jt(ze+"/remove"),nn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.error.apply(console,At([ze+"/error"],t))},rn=function(t){t.pending.forEach((function(t){Ie(t,je)}))};function on(t){var e=this;void 0===t&&(t={});var n=new Map,i=t.extra,r=t.onError,o=void 0===r?nn:r;Ce(o,"onError");var a=function(t){for(var e=0,i=Array.from(n.values());e<i.length;e++){var r=i[e];if(t(r))return r}},s=function(t){var e=a((function(e){return e.effect===t.effect}));return e||(e=Ke(t)),function(t){return t.unsubscribe=function(){return n.delete(t.id)},n.set(t.id,t),function(e){t.unsubscribe(),(null==e?void 0:e.cancelActive)&&rn(t)}}(e)},u=function(t){var e=Ye(t),n=e.type,i=e.effect,r=e.predicate,o=a((function(t){return("string"==typeof n?t.type===n:t.predicate===r)&&t.effect===i}));return o&&(o.unsubscribe(),t.cancelActive&&rn(o)),!!o},l=function(t,r,a,u){return Ft(e,null,(function(){var e,l,c;return Ct(this,(function(d){switch(d.label){case 0:e=new AbortController,l=$e(s,e.signal),d.label=1;case 1:return d.trys.push([1,3,4,5]),t.pending.add(e),[4,Promise.resolve(t.effect(r,We({},a,{getOriginalState:u,condition:function(t,e){return l(t,e).then(Boolean)},take:l,delay:Ge(e.signal),pause:He(e.signal),extra:i,signal:e.signal,fork:qe(e.signal),unsubscribe:t.unsubscribe,subscribe:function(){n.set(t.id,t)},cancelActiveListeners:function(){t.pending.forEach((function(t,n,i){t!==e&&(Ie(t,je),i.delete(t))}))}})))];case 2:return d.sent(),[3,5];case 3:return(c=d.sent())instanceof Ve||Je(o,c,{raisedBy:"effect"}),[3,5];case 4:return Ie(e,Fe),t.pending.delete(e),[7];case 5:return[2]}}))}))},c=Xe(n);return{middleware:function(t){return function(e){return function(i){if(Qe.match(i))return s(i.payload);if(!tn.match(i)){if(en.match(i))return u(i.payload);var r,a=t.getState(),d=function(){if(a===Ze)throw new Error(ze+": getOriginalState can only be called synchronously");return a};try{if(r=e(i),n.size>0)for(var h=t.getState(),f=Array.from(n.values()),p=0,g=f;p<g.length;p++){var m=g[p],v=!1;try{v=m.predicate(i,h,a)}catch(t){v=!1,Je(o,t,{raisedBy:"predicate"})}v&&l(m,i,t,d)}}finally{a=Ze}return r}c()}}},startListening:s,stopListening:u,clearListeners:c}}var an,sn="RTK_autoBatch",un=function(){return function(t){var e;return{payload:t,meta:(e={},e[sn]=!0,e)}}},ln="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:void 0!==n.g?n.g:globalThis):function(t){return(an||(an=Promise.resolve())).then(t).catch((function(t){return setTimeout((function(){throw t}),0)}))},cn=function(t){return function(e){setTimeout(e,t)}},dn="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:cn(10),hn=function(t){return void 0===t&&(t={type:"raf"}),function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.apply(void 0,n),o=!0,a=!1,s=!1,u=new Set,l="tick"===t.type?ln:"raf"===t.type?dn:"callback"===t.type?t.queueNotification:cn(t.timeout),c=function(){s=!1,a&&(a=!1,u.forEach((function(t){return t()})))};return Object.assign({},r,{subscribe:function(t){var e=r.subscribe((function(){return o&&t()}));return u.add(t),function(){e(),u.delete(t)}},dispatch:function(t){var e;try{return o=!(null==(e=null==t?void 0:t.meta)?void 0:e[sn]),(a=!o)&&(s||(s=!0,l(c))),r.dispatch(t)}finally{o=!0}}})}}};!function(){function t(t,e){var n=o[t];return n?n.enumerable=e:o[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[Z];return K.get(e,t)},set:function(e){var n=this[Z];K.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var r=t[e][Z];if(!r.P)switch(r.i){case 5:i(r)&&M(r);break;case 4:n(r)&&M(r)}}}function n(t){for(var e=t.t,n=t.k,i=q(n),r=i.length-1;r>=0;r--){var o=i[r];if(o!==Z){var a=e[o];if(void 0===a&&!l(e,o))return!0;var s=n[o],u=s&&s[Z];if(u?u.t!==a:!d(s,a))return!0}}var c=!!e[Z];return i.length!==q(e).length+(c?0:1)}function i(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);if(n&&!n.get)return!0;for(var i=0;i<e.length;i++)if(!e.hasOwnProperty(i))return!0;return!1}var o={};!function(t,e){Y[t]||(Y[t]=e)}("ES5",{J:function(e,n){var i=Array.isArray(e),r=function(e,n){if(e){for(var i=Array(n.length),r=0;r<n.length;r++)Object.defineProperty(i,""+r,t(r,!0));return i}var o=$(n);delete o[Z];for(var a=q(o),s=0;s<a.length;s++){var u=a[s];o[u]=t(u,e||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(i,e),o={i:i?5:4,A:n?n.A:b(),P:!1,I:!1,R:{},l:n,t:e,k:r,o:null,O:!1,C:!1};return Object.defineProperty(r,Z,{value:o,writable:!0}),r},S:function(t,n,o){o?r(n)&&n[Z].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[Z];if(n){var r=n.t,o=n.k,a=n.R,u=n.i;if(4===u)s(o,(function(e){e!==Z&&(void 0!==r[e]||l(r,e)?a[e]||t(o[e]):(a[e]=!0,M(n)))})),s(r,(function(t){void 0!==o[t]||l(o,t)||(a[t]=!1,M(n))}));else if(5===u){if(i(n)&&(M(n),a.length=!0),o.length<r.length)for(var c=o.length;c<r.length;c++)a[c]=!1;else for(var d=r.length;d<o.length;d++)a[d]=!0;for(var h=Math.min(o.length,r.length),f=0;f<h;f++)o.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&t(o[f])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):i(t)}})}()},9669:(t,e,n)=>{t.exports=n(51609)},55448:(t,e,n)=>{"use strict";var i=n(64867),r=n(36026),o=n(4372),a=n(15327),s=n(94097),u=n(84109),l=n(67985),c=n(85061),d=n(45655),h=n(65263);t.exports=function(t){return new Promise((function(e,n){var f,p=t.data,g=t.headers,m=t.responseType;function v(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}i.isFormData(p)&&delete g["Content-Type"];var y=new XMLHttpRequest;if(t.auth){var _=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";g.Authorization="Basic "+btoa(_+":"+b)}var w=s(t.baseURL,t.url);function T(){if(y){var i="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,o={data:m&&"text"!==m&&"json"!==m?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:i,config:t,request:y};r((function(t){e(t),v()}),(function(t){n(t),v()}),o),y=null}}if(y.open(t.method.toUpperCase(),a(w,t.params,t.paramsSerializer),!0),y.timeout=t.timeout,"onloadend"in y?y.onloadend=T:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(T)},y.onabort=function(){y&&(n(c("Request aborted",t,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(c("Network Error",t,null,y)),y=null},y.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded",i=t.transitional||d.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(c(e,t,i.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},i.isStandardBrowserEnv()){var S=(t.withCredentials||l(w))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;S&&(g[t.xsrfHeaderName]=S)}"setRequestHeader"in y&&i.forEach(g,(function(t,e){void 0===p&&"content-type"===e.toLowerCase()?delete g[e]:y.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),m&&"json"!==m&&(y.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&y.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(f=function(t){y&&(n(!t||t&&t.type?new h("canceled"):t),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f))),p||(p=null),y.send(p)}))}},51609:(t,e,n)=>{"use strict";var i=n(64867),r=n(91849),o=n(30321),a=n(47185),s=function t(e){var n=new o(e),s=r(o.prototype.request,n);return i.extend(s,o.prototype,n),i.extend(s,n),s.create=function(n){return t(a(e,n))},s}(n(45655));s.Axios=o,s.Cancel=n(65263),s.CancelToken=n(14972),s.isCancel=n(26502),s.VERSION=n(97288).version,s.all=function(t){return Promise.all(t)},s.spread=n(8713),s.isAxiosError=n(16268),t.exports=s,t.exports.default=s},65263:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},14972:(t,e,n)=>{"use strict";var i=n(65263);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,i=n._listeners.length;for(e=0;e<i;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,i=new Promise((function(t){n.subscribe(t),e=t})).then(t);return i.cancel=function(){n.unsubscribe(e)},i},t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},r.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},r.source=function(){var t;return{token:new r((function(e){t=e})),cancel:t}},t.exports=r},26502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},30321:(t,e,n)=>{"use strict";var i=n(64867),r=n(15327),o=n(80782),a=n(13572),s=n(47185),u=n(54875),l=u.validators;function c(t){this.defaults=t,this.interceptors={request:new o,response:new o}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&u.assertOptions(e,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var r,o=[];if(this.interceptors.response.forEach((function(t){o.push(t.fulfilled,t.rejected)})),!i){var c=[a,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(o),r=Promise.resolve(t);c.length;)r=r.then(c.shift(),c.shift());return r}for(var d=t;n.length;){var h=n.shift(),f=n.shift();try{d=h(d)}catch(t){f(t);break}}try{r=a(d)}catch(t){return Promise.reject(t)}for(;o.length;)r=r.then(o.shift(),o.shift());return r},c.prototype.getUri=function(t){return t=s(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,n,i){return this.request(s(i||{},{method:t,url:e,data:n}))}})),t.exports=c},80782:(t,e,n)=>{"use strict";var i=n(64867);function r(){this.handlers=[]}r.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},94097:(t,e,n)=>{"use strict";var i=n(91793),r=n(7303);t.exports=function(t,e){return t&&!i(e)?r(t,e):e}},85061:(t,e,n)=>{"use strict";var i=n(80481);t.exports=function(t,e,n,r,o){var a=new Error(t);return i(a,e,n,r,o)}},13572:(t,e,n)=>{"use strict";var i=n(64867),r=n(18527),o=n(26502),a=n(45655),s=n(65263);function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s("canceled")}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=r.call(t,t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return u(t),e.data=r.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(u(t),e&&e.response&&(e.response.data=r.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},80481:t=>{"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},47185:(t,e,n)=>{"use strict";var i=n(64867);t.exports=function(t,e){e=e||{};var n={};function r(t,e){return i.isPlainObject(t)&&i.isPlainObject(e)?i.merge(t,e):i.isPlainObject(e)?i.merge({},e):i.isArray(e)?e.slice():e}function o(n){return i.isUndefined(e[n])?i.isUndefined(t[n])?void 0:r(void 0,t[n]):r(t[n],e[n])}function a(t){if(!i.isUndefined(e[t]))return r(void 0,e[t])}function s(n){return i.isUndefined(e[n])?i.isUndefined(t[n])?void 0:r(void 0,t[n]):r(void 0,e[n])}function u(n){return n in e?r(t[n],e[n]):n in t?r(void 0,t[n]):void 0}var l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return i.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=l[t]||o,r=e(t);i.isUndefined(r)&&e!==u||(n[t]=r)})),n}},36026:(t,e,n)=>{"use strict";var i=n(85061);t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},18527:(t,e,n)=>{"use strict";var i=n(64867),r=n(45655);t.exports=function(t,e,n){var o=this||r;return i.forEach(n,(function(n){t=n.call(o,t,e)})),t}},45655:(t,e,n)=>{"use strict";var i=n(64867),r=n(16016),o=n(80481),a={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var u,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(55448)),u),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)||e&&"application/json"===e["Content-Type"]?(s(e,"application/json"),function(t,e,n){if(i.isString(t))try{return(0,JSON.parse)(t),i.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||l.transitional,n=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||r&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(a){if("SyntaxError"===t.name)throw o(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){l.headers[t]=i.merge(a)})),t.exports=l},97288:t=>{t.exports={version:"0.22.0"}},91849:t=>{"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},15327:(t,e,n)=>{"use strict";var i=n(64867);function r(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var a=[];i.forEach(e,(function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+"="+r(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},7303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:(t,e,n)=>{"use strict";var i=n(64867);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},16268:t=>{"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},67985:(t,e,n)=>{"use strict";var i=n(64867);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},16016:(t,e,n)=>{"use strict";var i=n(64867);t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},84109:(t,e,n)=>{"use strict";var i=n(64867),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(i.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(a[e]&&r.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},8713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},54875:(t,e,n)=>{"use strict";var i=n(97288).version,r={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){r[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var o={};r.transitional=function(t,e,n){function r(t,e){return"[Axios v"+i+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,i,a){if(!1===t)throw new Error(r(i," has been removed"+(e?" in "+e:"")));return e&&!o[i]&&(o[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,a)}},t.exports={assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var i=Object.keys(t),r=i.length;r-- >0;){var o=i[r],a=e[o];if(a){var s=t[o],u=void 0===s||a(s,o,t);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:r}},64867:(t,e,n)=>{"use strict";var i=n(91849),r=Object.prototype.toString;function o(t){return"[object Array]"===r.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function u(t){if("[object Object]"!==r.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function l(t){return"[object Function]"===r.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:l,isStream:function(t){return s(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,i){u(e[i])&&u(n)?e[i]=t(e[i],n):u(n)?e[i]=t({},n):o(n)?e[i]=n.slice():e[i]=n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return e},extend:function(t,e,n){return c(e,(function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},87114:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var i=n(23645),r=n.n(i)()(!0);r.push([t.id,"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/*\n * Note: This file should contain the wireframe styles only. But since there are no such styles,\n * it acts as a message to the builder telling that it should look for the corresponding styles\n * **in the theme** when compiling the editor.\n */\n","",{version:3,sources:["listdropdown.css"],names:[],mappings:"AAAA;;;EAGE;;AAEF;;;;EAIE",file:"listdropdown.css",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/*\n * Note: This file should contain the wireframe styles only. But since there are no such styles,\n * it acts as a message to the builder telling that it should look for the corresponding styles\n * **in the theme** when compiling the editor.\n */\n"]}]);const o=r},53070:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var i=n(23645),r=n.n(i)()(!0);r.push([t.id,"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/*\n * Note: This file should contain the wireframe styles only. But since there are no such styles,\n * it acts as a message to the builder telling that it should look for the corresponding styles\n * **in the theme** when compiling the editor.\n */\n","",{version:3,sources:["editorui.css"],names:[],mappings:"AAAA;;;EAGE;;AAEF;;;;EAIE",file:"editorui.css",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/*\n * Note: This file should contain the wireframe styles only. But since there are no such styles,\n * it acts as a message to the builder telling that it should look for the corresponding styles\n * **in the theme** when compiling the editor.\n */\n"]}]);const o=r},79938:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var i=n(23645),r=n.n(i)()(!0);r.push([t.id,"/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/*\n * Note: This file should contain the wireframe styles only. But since there are no such styles,\n * it acts as a message to the builder telling that it should look for the corresponding styles\n * **in the theme** when compiling the editor.\n */\n","",{version:3,sources:["inputtext.css"],names:[],mappings:"AAAA;;;EAGE;;AAEF;;;;EAIE",file:"inputtext.css",sourcesContent:["/*\n * Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/*\n * Note: This file should contain the wireframe styles only. But since there are no such styles,\n * it acts as a message to the builder telling that it should look for the corresponding styles\n * **in the theme** when compiling the editor.\n */\n"]}]);const o=r},23645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,i,r,o=t[1]||"",a=t[3];if(!a)return o;if(e&&"function"==typeof btoa){var s=(n=a,i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(r," */")),u=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[o].concat(u).concat([s]).join("\n")}return[o].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);i&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},62705:(t,e,n)=>{var i=n(55639).Symbol;t.exports=i},44239:(t,e,n)=>{var i=n(62705),r=n(89607),o=n(2333),a=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?r(t):o(t)}},27561:(t,e,n)=>{var i=n(67990),r=/^\s+/;t.exports=function(t){return t?t.slice(0,i(t)+1).replace(r,""):t}},31957:(t,e,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=i},89607:(t,e,n)=>{var i=n(62705),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var r=a.call(t);return i&&(e?t[s]=n:delete t[s]),r}},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},55639:(t,e,n)=>{var i=n(31957),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},67990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},23279:(t,e,n)=>{var i=n(13218),r=n(7771),o=n(14841),a=Math.max,s=Math.min;t.exports=function(t,e,n){var u,l,c,d,h,f,p=0,g=!1,m=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=u,i=l;return u=l=void 0,p=e,d=t.apply(i,n)}function _(t){var n=t-f;return void 0===f||n>=e||n<0||m&&t-p>=c}function b(){var t=r();if(_(t))return w(t);h=setTimeout(b,function(t){var n=e-(t-f);return m?s(n,c-(t-p)):n}(t))}function w(t){return h=void 0,v&&u?y(t):(u=l=void 0,d)}function T(){var t=r(),n=_(t);if(u=arguments,l=this,f=t,n){if(void 0===h)return function(t){return p=t,h=setTimeout(b,e),g?y(t):d}(f);if(m)return clearTimeout(h),h=setTimeout(b,e),y(f)}return void 0===h&&(h=setTimeout(b,e)),d}return e=o(e)||0,i(n)&&(g=!!n.leading,c=(m="maxWait"in n)?a(o(n.maxWait)||0,e):c,v="trailing"in n?!!n.trailing:v),T.cancel=function(){void 0!==h&&clearTimeout(h),p=0,u=f=l=h=void 0},T.flush=function(){return void 0===h?d:w(r())},T}},13218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},37005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},33448:(t,e,n)=>{var i=n(44239),r=n(37005);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==i(t)}},96486:function(t,e,n){var i;t=n.nmd(t),function(){var r,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=32,l=128,c=1/0,d=9007199254740991,h=NaN,f=4294967295,p=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],g="[object Arguments]",m="[object Array]",v="[object Boolean]",y="[object Date]",_="[object Error]",b="[object Function]",w="[object GeneratorFunction]",T="[object Map]",S="[object Number]",E="[object Object]",O="[object Promise]",P="[object RegExp]",C="[object Set]",A="[object String]",k="[object Symbol]",x="[object WeakMap]",I="[object ArrayBuffer]",M="[object DataView]",R="[object Float32Array]",N="[object Float64Array]",D="[object Int8Array]",L="[object Int16Array]",j="[object Int32Array]",F="[object Uint8Array]",V="[object Uint8ClampedArray]",U="[object Uint16Array]",B="[object Uint32Array]",H=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Z=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,q=RegExp(Z.source),$=RegExp(z.source),Y=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),it=/^\s+/,rt=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,at=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,ct=/\\(\\)?/g,dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ht=/\w*$/,ft=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,vt=/^(?:0|[1-9]\d*)$/,yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,wt="\\ud800-\\udfff",Tt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",St="\\u2700-\\u27bf",Et="a-z\\xdf-\\xf6\\xf8-\\xff",Ot="A-Z\\xc0-\\xd6\\xd8-\\xde",Pt="\\ufe0e\\ufe0f",Ct="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",At="["+wt+"]",kt="["+Ct+"]",xt="["+Tt+"]",It="\\d+",Mt="["+St+"]",Rt="["+Et+"]",Nt="[^"+wt+Ct+It+St+Et+Ot+"]",Dt="\\ud83c[\\udffb-\\udfff]",Lt="[^"+wt+"]",jt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",Vt="["+Ot+"]",Ut="\\u200d",Bt="(?:"+Rt+"|"+Nt+")",Ht="(?:"+Vt+"|"+Nt+")",Gt="(?:['](?:d|ll|m|re|s|t|ve))?",Wt="(?:['](?:D|LL|M|RE|S|T|VE))?",Zt="(?:"+xt+"|"+Dt+")?",zt="["+Pt+"]?",qt=zt+Zt+"(?:"+Ut+"(?:"+[Lt,jt,Ft].join("|")+")"+zt+Zt+")*",$t="(?:"+[Mt,jt,Ft].join("|")+")"+qt,Yt="(?:"+[Lt+xt+"?",xt,jt,Ft,At].join("|")+")",Kt=RegExp("[']","g"),Xt=RegExp(xt,"g"),Jt=RegExp(Dt+"(?="+Dt+")|"+Yt+qt,"g"),Qt=RegExp([Vt+"?"+Rt+"+"+Gt+"(?="+[kt,Vt,"$"].join("|")+")",Ht+"+"+Wt+"(?="+[kt,Vt+Bt,"$"].join("|")+")",Vt+"?"+Bt+"+"+Gt,Vt+"+"+Wt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",It,$t].join("|"),"g"),te=RegExp("["+Ut+wt+Tt+Pt+"]"),ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ie=-1,re={};re[R]=re[N]=re[D]=re[L]=re[j]=re[F]=re[V]=re[U]=re[B]=!0,re[g]=re[m]=re[I]=re[v]=re[M]=re[y]=re[_]=re[b]=re[T]=re[S]=re[E]=re[P]=re[C]=re[A]=re[x]=!1;var oe={};oe[g]=oe[m]=oe[I]=oe[M]=oe[v]=oe[y]=oe[R]=oe[N]=oe[D]=oe[L]=oe[j]=oe[T]=oe[S]=oe[E]=oe[P]=oe[C]=oe[A]=oe[k]=oe[F]=oe[V]=oe[U]=oe[B]=!0,oe[_]=oe[b]=oe[x]=!1;var ae={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},se=parseFloat,ue=parseInt,le="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ce="object"==typeof self&&self&&self.Object===Object&&self,de=le||ce||Function("return this")(),he=e&&!e.nodeType&&e,fe=he&&t&&!t.nodeType&&t,pe=fe&&fe.exports===he,ge=pe&&le.process,me=function(){try{return fe&&fe.require&&fe.require("util").types||ge&&ge.binding&&ge.binding("util")}catch(t){}}(),ve=me&&me.isArrayBuffer,ye=me&&me.isDate,_e=me&&me.isMap,be=me&&me.isRegExp,we=me&&me.isSet,Te=me&&me.isTypedArray;function Se(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ee(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function Oe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Pe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ce(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Ae(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function ke(t,e){return!(null==t||!t.length)&&Ve(t,e,0)>-1}function xe(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Ie(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function Me(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function Re(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function Ne(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function De(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var Le=Ge("length");function je(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function Fe(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function Ve(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):Fe(t,Be,n)}function Ue(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function Be(t){return t!=t}function He(t,e){var n=null==t?0:t.length;return n?ze(t,e)/n:h}function Ge(t){return function(e){return null==e?r:e[t]}}function We(t){return function(e){return null==t?r:t[e]}}function Ze(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function ze(t,e){for(var n,i=-1,o=t.length;++i<o;){var a=e(t[i]);a!==r&&(n=n===r?a:n+a)}return n}function qe(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function $e(t){return t?t.slice(0,hn(t)+1).replace(it,""):t}function Ye(t){return function(e){return t(e)}}function Ke(t,e){return Ie(e,(function(e){return t[e]}))}function Xe(t,e){return t.has(e)}function Je(t,e){for(var n=-1,i=t.length;++n<i&&Ve(e,t[n],0)>-1;);return n}function Qe(t,e){for(var n=t.length;n--&&Ve(e,t[n],0)>-1;);return n}var tn=We({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),en=We({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(t){return"\\"+ae[t]}function rn(t){return te.test(t)}function on(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function an(t,e){return function(n){return t(e(n))}}function sn(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==s||(t[n]=s,o[r++]=n)}return o}function un(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function cn(t){return rn(t)?function(t){for(var e=Jt.lastIndex=0;Jt.test(t);)++e;return e}(t):Le(t)}function dn(t){return rn(t)?function(t){return t.match(Jt)||[]}(t):function(t){return t.split("")}(t)}function hn(t){for(var e=t.length;e--&&rt.test(t.charAt(e)););return e}var fn=We({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function t(e){var n,i=(e=null==e?de:pn.defaults(de.Object(),e,pn.pick(de,ne))).Array,rt=e.Date,wt=e.Error,Tt=e.Function,St=e.Math,Et=e.Object,Ot=e.RegExp,Pt=e.String,Ct=e.TypeError,At=i.prototype,kt=Tt.prototype,xt=Et.prototype,It=e["__core-js_shared__"],Mt=kt.toString,Rt=xt.hasOwnProperty,Nt=0,Dt=(n=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Lt=xt.toString,jt=Mt.call(Et),Ft=de._,Vt=Ot("^"+Mt.call(Rt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=pe?e.Buffer:r,Bt=e.Symbol,Ht=e.Uint8Array,Gt=Ut?Ut.allocUnsafe:r,Wt=an(Et.getPrototypeOf,Et),Zt=Et.create,zt=xt.propertyIsEnumerable,qt=At.splice,$t=Bt?Bt.isConcatSpreadable:r,Yt=Bt?Bt.iterator:r,Jt=Bt?Bt.toStringTag:r,te=function(){try{var t=uo(Et,"defineProperty");return t({},"",{}),t}catch(t){}}(),ae=e.clearTimeout!==de.clearTimeout&&e.clearTimeout,le=rt&&rt.now!==de.Date.now&&rt.now,ce=e.setTimeout!==de.setTimeout&&e.setTimeout,he=St.ceil,fe=St.floor,ge=Et.getOwnPropertySymbols,me=Ut?Ut.isBuffer:r,Le=e.isFinite,We=At.join,gn=an(Et.keys,Et),mn=St.max,vn=St.min,yn=rt.now,_n=e.parseInt,bn=St.random,wn=At.reverse,Tn=uo(e,"DataView"),Sn=uo(e,"Map"),En=uo(e,"Promise"),On=uo(e,"Set"),Pn=uo(e,"WeakMap"),Cn=uo(Et,"create"),An=Pn&&new Pn,kn={},xn=jo(Tn),In=jo(Sn),Mn=jo(En),Rn=jo(On),Nn=jo(Pn),Dn=Bt?Bt.prototype:r,Ln=Dn?Dn.valueOf:r,jn=Dn?Dn.toString:r;function Fn(t){if(ts(t)&&!Ga(t)&&!(t instanceof Hn)){if(t instanceof Bn)return t;if(Rt.call(t,"__wrapped__"))return Fo(t)}return new Bn(t)}var Vn=function(){function t(){}return function(e){if(!Qa(e))return{};if(Zt)return Zt(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Un(){}function Bn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function zn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Zn;++e<n;)this.add(t[e])}function qn(t){var e=this.__data__=new Wn(t);this.size=e.size}function $n(t,e){var n=Ga(t),i=!n&&Ha(t),r=!n&&!i&&qa(t),o=!n&&!i&&!r&&us(t),a=n||i||r||o,s=a?qe(t.length,Pt):[],u=s.length;for(var l in t)!e&&!Rt.call(t,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||mo(l,u))||s.push(l);return s}function Yn(t){var e=t.length;return e?t[Zi(0,e-1)]:r}function Kn(t,e){return Mo(Pr(t),oi(e,0,t.length))}function Xn(t){return Mo(Pr(t))}function Jn(t,e,n){(n!==r&&!Va(t[e],n)||n===r&&!(e in t))&&ii(t,e,n)}function Qn(t,e,n){var i=t[e];Rt.call(t,e)&&Va(i,n)&&(n!==r||e in t)||ii(t,e,n)}function ti(t,e){for(var n=t.length;n--;)if(Va(t[n][0],e))return n;return-1}function ei(t,e,n,i){return ci(t,(function(t,r,o){e(i,t,n(t),o)})),i}function ni(t,e){return t&&Cr(e,xs(e),t)}function ii(t,e,n){"__proto__"==e&&te?te(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ri(t,e){for(var n=-1,o=e.length,a=i(o),s=null==t;++n<o;)a[n]=s?r:Os(t,e[n]);return a}function oi(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function ai(t,e,n,i,o,a){var s,u=1&e,l=2&e,c=4&e;if(n&&(s=o?n(t,i,o,a):n(t)),s!==r)return s;if(!Qa(t))return t;var d=Ga(t);if(d){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Rt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return Pr(t,s)}else{var h=ho(t),f=h==b||h==w;if(qa(t))return br(t,u);if(h==E||h==g||f&&!o){if(s=l||f?{}:po(t),!u)return l?function(t,e){return Cr(t,co(t),e)}(t,function(t,e){return t&&Cr(e,Is(e),t)}(s,t)):function(t,e){return Cr(t,lo(t),e)}(t,ni(s,t))}else{if(!oe[h])return o?t:{};s=function(t,e,n){var i,r=t.constructor;switch(e){case I:return wr(t);case v:case y:return new r(+t);case M:return function(t,e){var n=e?wr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case R:case N:case D:case L:case j:case F:case V:case U:case B:return Tr(t,n);case T:return new r;case S:case A:return new r(t);case P:return function(t){var e=new t.constructor(t.source,ht.exec(t));return e.lastIndex=t.lastIndex,e}(t);case C:return new r;case k:return i=t,Ln?Et(Ln.call(i)):{}}}(t,h,u)}}a||(a=new qn);var p=a.get(t);if(p)return p;a.set(t,s),os(t)?t.forEach((function(i){s.add(ai(i,e,n,i,t,a))})):es(t)&&t.forEach((function(i,r){s.set(r,ai(i,e,n,r,t,a))}));var m=d?r:(c?l?eo:to:l?Is:xs)(t);return Oe(m||t,(function(i,r){m&&(i=t[r=i]),Qn(s,r,ai(i,e,n,r,t,a))})),s}function si(t,e,n){var i=n.length;if(null==t)return!i;for(t=Et(t);i--;){var o=n[i],a=e[o],s=t[o];if(s===r&&!(o in t)||!a(s))return!1}return!0}function ui(t,e,n){if("function"!=typeof t)throw new Ct(o);return Ao((function(){t.apply(r,n)}),e)}function li(t,e,n,i){var r=-1,o=ke,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=Ie(e,Ye(n))),i?(o=xe,a=!1):e.length>=200&&(o=Xe,a=!1,e=new zn(e));t:for(;++r<s;){var c=t[r],d=null==n?c:n(c);if(c=i||0!==c?c:0,a&&d==d){for(var h=l;h--;)if(e[h]===d)continue t;u.push(c)}else o(e,d,i)||u.push(c)}return u}Fn.templateSettings={escape:Y,evaluate:K,interpolate:X,variable:"",imports:{_:Fn}},Fn.prototype=Un.prototype,Fn.prototype.constructor=Fn,Bn.prototype=Vn(Un.prototype),Bn.prototype.constructor=Bn,Hn.prototype=Vn(Un.prototype),Hn.prototype.constructor=Hn,Gn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Gn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Gn.prototype.get=function(t){var e=this.__data__;if(Cn){var n=e[t];return n===a?r:n}return Rt.call(e,t)?e[t]:r},Gn.prototype.has=function(t){var e=this.__data__;return Cn?e[t]!==r:Rt.call(e,t)},Gn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Cn&&e===r?a:e,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(t){var e=this.__data__,n=ti(e,t);return!(n<0||(n==e.length-1?e.pop():qt.call(e,n,1),--this.size,0))},Wn.prototype.get=function(t){var e=this.__data__,n=ti(e,t);return n<0?r:e[n][1]},Wn.prototype.has=function(t){return ti(this.__data__,t)>-1},Wn.prototype.set=function(t,e){var n=this.__data__,i=ti(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Zn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Sn||Wn),string:new Gn}},Zn.prototype.delete=function(t){var e=ao(this,t).delete(t);return this.size-=e?1:0,e},Zn.prototype.get=function(t){return ao(this,t).get(t)},Zn.prototype.has=function(t){return ao(this,t).has(t)},Zn.prototype.set=function(t,e){var n=ao(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},zn.prototype.add=zn.prototype.push=function(t){return this.__data__.set(t,a),this},zn.prototype.has=function(t){return this.__data__.has(t)},qn.prototype.clear=function(){this.__data__=new Wn,this.size=0},qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},qn.prototype.get=function(t){return this.__data__.get(t)},qn.prototype.has=function(t){return this.__data__.has(t)},qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Wn){var i=n.__data__;if(!Sn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Zn(i)}return n.set(t,e),this.size=n.size,this};var ci=xr(yi),di=xr(_i,!0);function hi(t,e){var n=!0;return ci(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function fi(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(u===r?s==s&&!ss(s):n(s,u)))var u=s,l=a}return l}function pi(t,e){var n=[];return ci(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function gi(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=go),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?gi(s,e-1,n,i,r):Me(r,s):i||(r[r.length]=s)}return r}var mi=Ir(),vi=Ir(!0);function yi(t,e){return t&&mi(t,e,xs)}function _i(t,e){return t&&vi(t,e,xs)}function bi(t,e){return Ae(e,(function(e){return Ka(t[e])}))}function wi(t,e){for(var n=0,i=(e=mr(e,t)).length;null!=t&&n<i;)t=t[Lo(e[n++])];return n&&n==i?t:r}function Ti(t,e,n){var i=e(t);return Ga(t)?i:Me(i,n(t))}function Si(t){return null==t?t===r?"[object Undefined]":"[object Null]":Jt&&Jt in Et(t)?function(t){var e=Rt.call(t,Jt),n=t[Jt];try{t[Jt]=r;var i=!0}catch(t){}var o=Lt.call(t);return i&&(e?t[Jt]=n:delete t[Jt]),o}(t):function(t){return Lt.call(t)}(t)}function Ei(t,e){return t>e}function Oi(t,e){return null!=t&&Rt.call(t,e)}function Pi(t,e){return null!=t&&e in Et(t)}function Ci(t,e,n){for(var o=n?xe:ke,a=t[0].length,s=t.length,u=s,l=i(s),c=1/0,d=[];u--;){var h=t[u];u&&e&&(h=Ie(h,Ye(e))),c=vn(h.length,c),l[u]=!n&&(e||a>=120&&h.length>=120)?new zn(u&&h):r}h=t[0];var f=-1,p=l[0];t:for(;++f<a&&d.length<c;){var g=h[f],m=e?e(g):g;if(g=n||0!==g?g:0,!(p?Xe(p,m):o(d,m,n))){for(u=s;--u;){var v=l[u];if(!(v?Xe(v,m):o(t[u],m,n)))continue t}p&&p.push(m),d.push(g)}}return d}function Ai(t,e,n){var i=null==(t=Oo(t,e=mr(e,t)))?t:t[Lo(Yo(e))];return null==i?r:Se(i,t,n)}function ki(t){return ts(t)&&Si(t)==g}function xi(t,e,n,i,o){return t===e||(null==t||null==e||!ts(t)&&!ts(e)?t!=t&&e!=e:function(t,e,n,i,o,a){var s=Ga(t),u=Ga(e),l=s?m:ho(t),c=u?m:ho(e),d=(l=l==g?E:l)==E,h=(c=c==g?E:c)==E,f=l==c;if(f&&qa(t)){if(!qa(e))return!1;s=!0,d=!1}if(f&&!d)return a||(a=new qn),s||us(t)?Jr(t,e,n,i,o,a):function(t,e,n,i,r,o,a){switch(n){case M:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case I:return!(t.byteLength!=e.byteLength||!o(new Ht(t),new Ht(e)));case v:case y:case S:return Va(+t,+e);case _:return t.name==e.name&&t.message==e.message;case P:case A:return t==e+"";case T:var s=on;case C:var u=1&i;if(s||(s=un),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;i|=2,a.set(t,e);var c=Jr(s(t),s(e),i,r,o,a);return a.delete(t),c;case k:if(Ln)return Ln.call(t)==Ln.call(e)}return!1}(t,e,l,n,i,o,a);if(!(1&n)){var p=d&&Rt.call(t,"__wrapped__"),b=h&&Rt.call(e,"__wrapped__");if(p||b){var w=p?t.value():t,O=b?e.value():e;return a||(a=new qn),o(w,O,n,i,a)}}return!!f&&(a||(a=new qn),function(t,e,n,i,o,a){var s=1&n,u=to(t),l=u.length;if(l!=to(e).length&&!s)return!1;for(var c=l;c--;){var d=u[c];if(!(s?d in e:Rt.call(e,d)))return!1}var h=a.get(t),f=a.get(e);if(h&&f)return h==e&&f==t;var p=!0;a.set(t,e),a.set(e,t);for(var g=s;++c<l;){var m=t[d=u[c]],v=e[d];if(i)var y=s?i(v,m,d,e,t,a):i(m,v,d,t,e,a);if(!(y===r?m===v||o(m,v,n,i,a):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var _=t.constructor,b=e.constructor;_==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(t),a.delete(e),p}(t,e,n,i,o,a))}(t,e,n,i,xi,o))}function Ii(t,e,n,i){var o=n.length,a=o,s=!i;if(null==t)return!a;for(t=Et(t);o--;){var u=n[o];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<a;){var l=(u=n[o])[0],c=t[l],d=u[1];if(s&&u[2]){if(c===r&&!(l in t))return!1}else{var h=new qn;if(i)var f=i(c,d,l,t,e,h);if(!(f===r?xi(d,c,3,i,h):f))return!1}}return!0}function Mi(t){return!(!Qa(t)||(e=t,Dt&&Dt in e))&&(Ka(t)?Vt:gt).test(jo(t));var e}function Ri(t){return"function"==typeof t?t:null==t?nu:"object"==typeof t?Ga(t)?Fi(t[0],t[1]):ji(t):du(t)}function Ni(t){if(!wo(t))return gn(t);var e=[];for(var n in Et(t))Rt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Di(t,e){return t<e}function Li(t,e){var n=-1,r=Za(t)?i(t.length):[];return ci(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function ji(t){var e=so(t);return 1==e.length&&e[0][2]?So(e[0][0],e[0][1]):function(n){return n===t||Ii(n,t,e)}}function Fi(t,e){return yo(t)&&To(e)?So(Lo(t),e):function(n){var i=Os(n,t);return i===r&&i===e?Ps(n,t):xi(e,i,3)}}function Vi(t,e,n,i,o){t!==e&&mi(e,(function(a,s){if(o||(o=new qn),Qa(a))!function(t,e,n,i,o,a,s){var u=Po(t,n),l=Po(e,n),c=s.get(l);if(c)Jn(t,n,c);else{var d=a?a(u,l,n+"",t,e,s):r,h=d===r;if(h){var f=Ga(l),p=!f&&qa(l),g=!f&&!p&&us(l);d=l,f||p||g?Ga(u)?d=u:za(u)?d=Pr(u):p?(h=!1,d=br(l,!0)):g?(h=!1,d=Tr(l,!0)):d=[]:is(l)||Ha(l)?(d=u,Ha(u)?d=ms(u):Qa(u)&&!Ka(u)||(d=po(l))):h=!1}h&&(s.set(l,d),o(d,l,i,a,s),s.delete(l)),Jn(t,n,d)}}(t,e,s,n,Vi,i,o);else{var u=i?i(Po(t,s),a,s+"",t,e,o):r;u===r&&(u=a),Jn(t,s,u)}}),Is)}function Ui(t,e){var n=t.length;if(n)return mo(e+=e<0?n:0,n)?t[e]:r}function Bi(t,e,n){e=e.length?Ie(e,(function(t){return Ga(t)?function(e){return wi(e,1===t.length?t[0]:t)}:t})):[nu];var i=-1;e=Ie(e,Ye(oo()));var r=Li(t,(function(t,n,r){var o=Ie(e,(function(e){return e(t)}));return{criteria:o,index:++i,value:t}}));return function(t,e){var i=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var u=Sr(r[i],o[i]);if(u)return i>=s?u:u*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}));i--;)t[i]=t[i].value;return t}(r)}function Hi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=wi(t,a);n(s,a)&&Ki(o,mr(a,t),s)}return o}function Gi(t,e,n,i){var r=i?Ue:Ve,o=-1,a=e.length,s=t;for(t===e&&(e=Pr(e)),n&&(s=Ie(t,Ye(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=r(s,c,u,i))>-1;)s!==t&&qt.call(s,u,1),qt.call(t,u,1);return t}function Wi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;mo(r)?qt.call(t,r,1):ur(t,r)}}return t}function Zi(t,e){return t+fe(bn()*(e-t+1))}function zi(t,e){var n="";if(!t||e<1||e>d)return n;do{e%2&&(n+=t),(e=fe(e/2))&&(t+=t)}while(e);return n}function qi(t,e){return ko(Eo(t,e,nu),t+"")}function $i(t){return Yn(Vs(t))}function Yi(t,e){var n=Vs(t);return Mo(n,oi(e,0,n.length))}function Ki(t,e,n,i){if(!Qa(t))return t;for(var o=-1,a=(e=mr(e,t)).length,s=a-1,u=t;null!=u&&++o<a;){var l=Lo(e[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=s){var d=u[l];(c=i?i(d,l,u):r)===r&&(c=Qa(d)?d:mo(e[o+1])?[]:{})}Qn(u,l,c),u=u[l]}return t}var Xi=An?function(t,e){return An.set(t,e),t}:nu,Ji=te?function(t,e){return te(t,"toString",{configurable:!0,enumerable:!1,value:Qs(e),writable:!0})}:nu;function Qi(t){return Mo(Vs(t))}function tr(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=i(o);++r<o;)a[r]=t[r+e];return a}function er(t,e){var n;return ci(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function nr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!ss(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return ir(t,e,nu,n)}function ir(t,e,n,i){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,u=null===e,l=ss(e),c=e===r;o<a;){var d=fe((o+a)/2),h=n(t[d]),f=h!==r,p=null===h,g=h==h,m=ss(h);if(s)var v=i||g;else v=c?g&&(i||f):u?g&&f&&(i||!p):l?g&&f&&!p&&(i||!m):!p&&!m&&(i?h<=e:h<e);v?o=d+1:a=d}return vn(a,4294967294)}function rr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Va(s,u)){var u=s;o[r++]=0===a?0:a}}return o}function or(t){return"number"==typeof t?t:ss(t)?h:+t}function ar(t){if("string"==typeof t)return t;if(Ga(t))return Ie(t,ar)+"";if(ss(t))return jn?jn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function sr(t,e,n){var i=-1,r=ke,o=t.length,a=!0,s=[],u=s;if(n)a=!1,r=xe;else if(o>=200){var l=e?null:zr(t);if(l)return un(l);a=!1,r=Xe,u=new zn}else u=e?[]:s;t:for(;++i<o;){var c=t[i],d=e?e(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var h=u.length;h--;)if(u[h]===d)continue t;e&&u.push(d),s.push(c)}else r(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}function ur(t,e){return null==(t=Oo(t,e=mr(e,t)))||delete t[Lo(Yo(e))]}function lr(t,e,n,i){return Ki(t,e,n(wi(t,e)),i)}function cr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?tr(t,i?0:o,i?o+1:r):tr(t,i?o+1:0,i?r:o)}function dr(t,e){var n=t;return n instanceof Hn&&(n=n.value()),Re(e,(function(t,e){return e.func.apply(e.thisArg,Me([t],e.args))}),n)}function hr(t,e,n){var r=t.length;if(r<2)return r?sr(t[0]):[];for(var o=-1,a=i(r);++o<r;)for(var s=t[o],u=-1;++u<r;)u!=o&&(a[o]=li(a[o]||s,t[u],e,n));return sr(gi(a,1),e,n)}function fr(t,e,n){for(var i=-1,o=t.length,a=e.length,s={};++i<o;){var u=i<a?e[i]:r;n(s,t[i],u)}return s}function pr(t){return za(t)?t:[]}function gr(t){return"function"==typeof t?t:nu}function mr(t,e){return Ga(t)?t:yo(t,e)?[t]:Do(vs(t))}var vr=qi;function yr(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:tr(t,e,n)}var _r=ae||function(t){return de.clearTimeout(t)};function br(t,e){if(e)return t.slice();var n=t.length,i=Gt?Gt(n):new t.constructor(n);return t.copy(i),i}function wr(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function Tr(t,e){var n=e?wr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Sr(t,e){if(t!==e){var n=t!==r,i=null===t,o=t==t,a=ss(t),s=e!==r,u=null===e,l=e==e,c=ss(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||i&&s&&l||!n&&l||!o)return 1;if(!i&&!a&&!c&&t<e||c&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!l)return-1}return 0}function Er(t,e,n,r){for(var o=-1,a=t.length,s=n.length,u=-1,l=e.length,c=mn(a-s,0),d=i(l+c),h=!r;++u<l;)d[u]=e[u];for(;++o<s;)(h||o<a)&&(d[n[o]]=t[o]);for(;c--;)d[u++]=t[o++];return d}function Or(t,e,n,r){for(var o=-1,a=t.length,s=-1,u=n.length,l=-1,c=e.length,d=mn(a-u,0),h=i(d+c),f=!r;++o<d;)h[o]=t[o];for(var p=o;++l<c;)h[p+l]=e[l];for(;++s<u;)(f||o<a)&&(h[p+n[s]]=t[o++]);return h}function Pr(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function Cr(t,e,n,i){var o=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],l=i?i(n[u],t[u],u,n,t):r;l===r&&(l=t[u]),o?ii(n,u,l):Qn(n,u,l)}return n}function Ar(t,e){return function(n,i){var r=Ga(n)?Ee:ei,o=e?e():{};return r(n,t,oo(i,2),o)}}function kr(t){return qi((function(e,n){var i=-1,o=n.length,a=o>1?n[o-1]:r,s=o>2?n[2]:r;for(a=t.length>3&&"function"==typeof a?(o--,a):r,s&&vo(n[0],n[1],s)&&(a=o<3?r:a,o=1),e=Et(e);++i<o;){var u=n[i];u&&t(e,u,i,a)}return e}))}function xr(t,e){return function(n,i){if(null==n)return n;if(!Za(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=Et(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Ir(t){return function(e,n,i){for(var r=-1,o=Et(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===n(o[u],u,o))break}return e}}function Mr(t){return function(e){var n=rn(e=vs(e))?dn(e):r,i=n?n[0]:e.charAt(0),o=n?yr(n,1).join(""):e.slice(1);return i[t]()+o}}function Rr(t){return function(e){return Re(Ks(Hs(e).replace(Kt,"")),t,"")}}function Nr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Vn(t.prototype),i=t.apply(n,e);return Qa(i)?i:n}}function Dr(t){return function(e,n,i){var o=Et(e);if(!Za(e)){var a=oo(n,3);e=xs(e),n=function(t){return a(o[t],t,o)}}var s=t(e,n,i);return s>-1?o[a?e[s]:s]:r}}function Lr(t){return Qr((function(e){var n=e.length,i=n,a=Bn.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new Ct(o);if(a&&!u&&"wrapper"==io(s))var u=new Bn([],!0)}for(i=u?i:n;++i<n;){var l=io(s=e[i]),c="wrapper"==l?no(s):r;u=c&&_o(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[io(c[0])].apply(u,c[3]):1==s.length&&_o(s)?u[l]():u.thru(s)}return function(){var t=arguments,i=t[0];if(u&&1==t.length&&Ga(i))return u.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))}function jr(t,e,n,o,a,s,u,c,d,h){var f=e&l,p=1&e,g=2&e,m=24&e,v=512&e,y=g?r:Nr(t);return function l(){for(var _=arguments.length,b=i(_),w=_;w--;)b[w]=arguments[w];if(m)var T=ro(l),S=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(b,T);if(o&&(b=Er(b,o,a,m)),s&&(b=Or(b,s,u,m)),_-=S,m&&_<h){var E=sn(b,T);return Wr(t,e,jr,l.placeholder,n,b,E,c,d,h-_)}var O=p?n:this,P=g?O[t]:t;return _=b.length,c?b=function(t,e){for(var n=t.length,i=vn(e.length,n),o=Pr(t);i--;){var a=e[i];t[i]=mo(a,n)?o[a]:r}return t}(b,c):v&&_>1&&b.reverse(),f&&d<_&&(b.length=d),this&&this!==de&&this instanceof l&&(P=y||Nr(P)),P.apply(O,b)}}function Fr(t,e){return function(n,i){return function(t,e,n,i){return yi(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function Vr(t,e){return function(n,i){var o;if(n===r&&i===r)return e;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=ar(n),i=ar(i)):(n=or(n),i=or(i)),o=t(n,i)}return o}}function Ur(t){return Qr((function(e){return e=Ie(e,Ye(oo())),qi((function(n){var i=this;return t(e,(function(t){return Se(t,i,n)}))}))}))}function Br(t,e){var n=(e=e===r?" ":ar(e)).length;if(n<2)return n?zi(e,t):e;var i=zi(e,he(t/cn(e)));return rn(e)?yr(dn(i),0,t).join(""):i.slice(0,t)}function Hr(t){return function(e,n,o){return o&&"number"!=typeof o&&vo(e,n,o)&&(n=o=r),e=hs(e),n===r?(n=e,e=0):n=hs(n),function(t,e,n,r){for(var o=-1,a=mn(he((e-t)/(n||1)),0),s=i(a);a--;)s[r?a:++o]=t,t+=n;return s}(e,n,o=o===r?e<n?1:-1:hs(o),t)}}function Gr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=gs(e),n=gs(n)),t(e,n)}}function Wr(t,e,n,i,o,a,s,l,c,d){var h=8&e;e|=h?u:64,4&(e&=~(h?64:u))||(e&=-4);var f=[t,e,o,h?a:r,h?s:r,h?r:a,h?r:s,l,c,d],p=n.apply(r,f);return _o(t)&&Co(p,f),p.placeholder=i,xo(p,t,e)}function Zr(t){var e=St[t];return function(t,n){if(t=gs(t),(n=null==n?0:vn(fs(n),292))&&Le(t)){var i=(vs(t)+"e").split("e");return+((i=(vs(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var zr=On&&1/un(new On([,-0]))[1]==c?function(t){return new On(t)}:su;function qr(t){return function(e){var n=ho(e);return n==T?on(e):n==C?ln(e):function(t,e){return Ie(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function $r(t,e,n,a,c,d,h,f){var p=2&e;if(!p&&"function"!=typeof t)throw new Ct(o);var g=a?a.length:0;if(g||(e&=-97,a=c=r),h=h===r?h:mn(fs(h),0),f=f===r?f:fs(f),g-=c?c.length:0,64&e){var m=a,v=c;a=c=r}var y=p?r:no(t),_=[t,e,n,a,c,m,v,d,h,f];if(y&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,a=i==l&&8==n||i==l&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?Er(c,u,e[4]):u,t[4]=c?sn(t[3],s):e[4]}(u=e[5])&&(c=t[5],t[5]=c?Or(c,u,e[6]):u,t[6]=c?sn(t[5],s):e[6]),(u=e[7])&&(t[7]=u),i&l&&(t[8]=null==t[8]?e[8]:vn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(_,y),t=_[0],e=_[1],n=_[2],a=_[3],c=_[4],!(f=_[9]=_[9]===r?p?0:t.length:mn(_[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,n){var o=Nr(t);return function a(){for(var s=arguments.length,u=i(s),l=s,c=ro(a);l--;)u[l]=arguments[l];var d=s<3&&u[0]!==c&&u[s-1]!==c?[]:sn(u,c);return(s-=d.length)<n?Wr(t,e,jr,a.placeholder,r,u,d,r,r,n-s):Se(this&&this!==de&&this instanceof a?o:t,this,u)}}(t,e,f):e!=u&&33!=e||c.length?jr.apply(r,_):function(t,e,n,r){var o=1&e,a=Nr(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=r.length,d=i(c+u),h=this&&this!==de&&this instanceof e?a:t;++l<c;)d[l]=r[l];for(;u--;)d[l++]=arguments[++s];return Se(h,o?n:this,d)}}(t,e,n,a);else var b=function(t,e,n){var i=1&e,r=Nr(t);return function e(){return(this&&this!==de&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return xo((y?Xi:Co)(b,_),t,e)}function Yr(t,e,n,i){return t===r||Va(t,xt[n])&&!Rt.call(i,n)?e:t}function Kr(t,e,n,i,o,a){return Qa(t)&&Qa(e)&&(a.set(e,t),Vi(t,e,r,Kr,a),a.delete(e)),t}function Xr(t){return is(t)?r:t}function Jr(t,e,n,i,o,a){var s=1&n,u=t.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(t),d=a.get(e);if(c&&d)return c==e&&d==t;var h=-1,f=!0,p=2&n?new zn:r;for(a.set(t,e),a.set(e,t);++h<u;){var g=t[h],m=e[h];if(i)var v=s?i(m,g,h,e,t,a):i(g,m,h,t,e,a);if(v!==r){if(v)continue;f=!1;break}if(p){if(!De(e,(function(t,e){if(!Xe(p,e)&&(g===t||o(g,t,n,i,a)))return p.push(e)}))){f=!1;break}}else if(g!==m&&!o(g,m,n,i,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function Qr(t){return ko(Eo(t,r,Wo),t+"")}function to(t){return Ti(t,xs,lo)}function eo(t){return Ti(t,Is,co)}var no=An?function(t){return An.get(t)}:su;function io(t){for(var e=t.name+"",n=kn[e],i=Rt.call(kn,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function ro(t){return(Rt.call(Fn,"placeholder")?Fn:t).placeholder}function oo(){var t=Fn.iteratee||iu;return t=t===iu?Ri:t,arguments.length?t(arguments[0],arguments[1]):t}function ao(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function so(t){for(var e=xs(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,To(r)]}return e}function uo(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return Mi(n)?n:r}var lo=ge?function(t){return null==t?[]:(t=Et(t),Ae(ge(t),(function(e){return zt.call(t,e)})))}:pu,co=ge?function(t){for(var e=[];t;)Me(e,lo(t)),t=Wt(t);return e}:pu,ho=Si;function fo(t,e,n){for(var i=-1,r=(e=mr(e,t)).length,o=!1;++i<r;){var a=Lo(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Ja(r)&&mo(a,r)&&(Ga(t)||Ha(t))}function po(t){return"function"!=typeof t.constructor||wo(t)?{}:Vn(Wt(t))}function go(t){return Ga(t)||Ha(t)||!!($t&&t&&t[$t])}function mo(t,e){var n=typeof t;return!!(e=null==e?d:e)&&("number"==n||"symbol"!=n&&vt.test(t))&&t>-1&&t%1==0&&t<e}function vo(t,e,n){if(!Qa(n))return!1;var i=typeof e;return!!("number"==i?Za(n)&&mo(e,n.length):"string"==i&&e in n)&&Va(n[e],t)}function yo(t,e){if(Ga(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ss(t))||Q.test(t)||!J.test(t)||null!=e&&t in Et(e)}function _o(t){var e=io(t),n=Fn[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var i=no(n);return!!i&&t===i[0]}(Tn&&ho(new Tn(new ArrayBuffer(1)))!=M||Sn&&ho(new Sn)!=T||En&&ho(En.resolve())!=O||On&&ho(new On)!=C||Pn&&ho(new Pn)!=x)&&(ho=function(t){var e=Si(t),n=e==E?t.constructor:r,i=n?jo(n):"";if(i)switch(i){case xn:return M;case In:return T;case Mn:return O;case Rn:return C;case Nn:return x}return e});var bo=It?Ka:gu;function wo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||xt)}function To(t){return t==t&&!Qa(t)}function So(t,e){return function(n){return null!=n&&n[t]===e&&(e!==r||t in Et(n))}}function Eo(t,e,n){return e=mn(e===r?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=mn(r.length-e,0),s=i(a);++o<a;)s[o]=r[e+o];o=-1;for(var u=i(e+1);++o<e;)u[o]=r[o];return u[e]=n(s),Se(t,this,u)}}function Oo(t,e){return e.length<2?t:wi(t,tr(e,0,-1))}function Po(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Co=Io(Xi),Ao=ce||function(t,e){return de.setTimeout(t,e)},ko=Io(Ji);function xo(t,e,n){var i=e+"";return ko(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Oe(p,(function(n){var i="_."+n[0];e&n[1]&&!ke(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(at);return e?e[1].split(st):[]}(i),n)))}function Io(t){var e=0,n=0;return function(){var i=yn(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Mo(t,e){var n=-1,i=t.length,o=i-1;for(e=e===r?i:e;++n<e;){var a=Zi(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var Ro,No,Do=(Ro=Ra((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,i,r){e.push(i?r.replace(ct,"$1"):n||t)})),e}),(function(t){return 500===No.size&&No.clear(),t})),No=Ro.cache,Ro);function Lo(t){if("string"==typeof t||ss(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jo(t){if(null!=t){try{return Mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Fo(t){if(t instanceof Hn)return t.clone();var e=new Bn(t.__wrapped__,t.__chain__);return e.__actions__=Pr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Vo=qi((function(t,e){return za(t)?li(t,gi(e,1,za,!0)):[]})),Uo=qi((function(t,e){var n=Yo(e);return za(n)&&(n=r),za(t)?li(t,gi(e,1,za,!0),oo(n,2)):[]})),Bo=qi((function(t,e){var n=Yo(e);return za(n)&&(n=r),za(t)?li(t,gi(e,1,za,!0),r,n):[]}));function Ho(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:fs(n);return r<0&&(r=mn(i+r,0)),Fe(t,oo(e,3),r)}function Go(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==r&&(o=fs(n),o=n<0?mn(i+o,0):vn(o,i-1)),Fe(t,oo(e,3),o,!0)}function Wo(t){return null!=t&&t.length?gi(t,1):[]}function Zo(t){return t&&t.length?t[0]:r}var zo=qi((function(t){var e=Ie(t,pr);return e.length&&e[0]===t[0]?Ci(e):[]})),qo=qi((function(t){var e=Yo(t),n=Ie(t,pr);return e===Yo(n)?e=r:n.pop(),n.length&&n[0]===t[0]?Ci(n,oo(e,2)):[]})),$o=qi((function(t){var e=Yo(t),n=Ie(t,pr);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?Ci(n,r,e):[]}));function Yo(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Ko=qi(Xo);function Xo(t,e){return t&&t.length&&e&&e.length?Gi(t,e):t}var Jo=Qr((function(t,e){var n=null==t?0:t.length,i=ri(t,e);return Wi(t,Ie(e,(function(t){return mo(t,n)?+t:t})).sort(Sr)),i}));function Qo(t){return null==t?t:wn.call(t)}var ta=qi((function(t){return sr(gi(t,1,za,!0))})),ea=qi((function(t){var e=Yo(t);return za(e)&&(e=r),sr(gi(t,1,za,!0),oo(e,2))})),na=qi((function(t){var e=Yo(t);return e="function"==typeof e?e:r,sr(gi(t,1,za,!0),r,e)}));function ia(t){if(!t||!t.length)return[];var e=0;return t=Ae(t,(function(t){if(za(t))return e=mn(t.length,e),!0})),qe(e,(function(e){return Ie(t,Ge(e))}))}function ra(t,e){if(!t||!t.length)return[];var n=ia(t);return null==e?n:Ie(n,(function(t){return Se(e,r,t)}))}var oa=qi((function(t,e){return za(t)?li(t,e):[]})),aa=qi((function(t){return hr(Ae(t,za))})),sa=qi((function(t){var e=Yo(t);return za(e)&&(e=r),hr(Ae(t,za),oo(e,2))})),ua=qi((function(t){var e=Yo(t);return e="function"==typeof e?e:r,hr(Ae(t,za),r,e)})),la=qi(ia),ca=qi((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,ra(t,n)}));function da(t){var e=Fn(t);return e.__chain__=!0,e}function ha(t,e){return e(t)}var fa=Qr((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return ri(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Hn&&mo(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:ha,args:[o],thisArg:r}),new Bn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(o)})),pa=Ar((function(t,e,n){Rt.call(t,n)?++t[n]:ii(t,n,1)})),ga=Dr(Ho),ma=Dr(Go);function va(t,e){return(Ga(t)?Oe:ci)(t,oo(e,3))}function ya(t,e){return(Ga(t)?Pe:di)(t,oo(e,3))}var _a=Ar((function(t,e,n){Rt.call(t,n)?t[n].push(e):ii(t,n,[e])})),ba=qi((function(t,e,n){var r=-1,o="function"==typeof e,a=Za(t)?i(t.length):[];return ci(t,(function(t){a[++r]=o?Se(e,t,n):Ai(t,e,n)})),a})),wa=Ar((function(t,e,n){ii(t,n,e)}));function Ta(t,e){return(Ga(t)?Ie:Li)(t,oo(e,3))}var Sa=Ar((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Ea=qi((function(t,e){if(null==t)return[];var n=e.length;return n>1&&vo(t,e[0],e[1])?e=[]:n>2&&vo(e[0],e[1],e[2])&&(e=[e[0]]),Bi(t,gi(e,1),[])})),Oa=le||function(){return de.Date.now()};function Pa(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,$r(t,l,r,r,r,r,e)}function Ca(t,e){var n;if("function"!=typeof e)throw new Ct(o);return t=fs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Aa=qi((function(t,e,n){var i=1;if(n.length){var r=sn(n,ro(Aa));i|=u}return $r(t,i,e,n,r)})),ka=qi((function(t,e,n){var i=3;if(n.length){var r=sn(n,ro(ka));i|=u}return $r(e,i,t,n,r)}));function xa(t,e,n){var i,a,s,u,l,c,d=0,h=!1,f=!1,p=!0;if("function"!=typeof t)throw new Ct(o);function g(e){var n=i,o=a;return i=a=r,d=e,u=t.apply(o,n)}function m(t){var n=t-c;return c===r||n>=e||n<0||f&&t-d>=s}function v(){var t=Oa();if(m(t))return y(t);l=Ao(v,function(t){var n=e-(t-c);return f?vn(n,s-(t-d)):n}(t))}function y(t){return l=r,p&&i?g(t):(i=a=r,u)}function _(){var t=Oa(),n=m(t);if(i=arguments,a=this,c=t,n){if(l===r)return function(t){return d=t,l=Ao(v,e),h?g(t):u}(c);if(f)return _r(l),l=Ao(v,e),g(c)}return l===r&&(l=Ao(v,e)),u}return e=gs(e)||0,Qa(n)&&(h=!!n.leading,s=(f="maxWait"in n)?mn(gs(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),_.cancel=function(){l!==r&&_r(l),d=0,i=c=a=l=r},_.flush=function(){return l===r?u:y(Oa())},_}var Ia=qi((function(t,e){return ui(t,1,e)})),Ma=qi((function(t,e,n){return ui(t,gs(e)||0,n)}));function Ra(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ct(o);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Ra.Cache||Zn),n}function Na(t){if("function"!=typeof t)throw new Ct(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ra.Cache=Zn;var Da=vr((function(t,e){var n=(e=1==e.length&&Ga(e[0])?Ie(e[0],Ye(oo())):Ie(gi(e,1),Ye(oo()))).length;return qi((function(i){for(var r=-1,o=vn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return Se(t,this,i)}))})),La=qi((function(t,e){var n=sn(e,ro(La));return $r(t,u,r,e,n)})),ja=qi((function(t,e){var n=sn(e,ro(ja));return $r(t,64,r,e,n)})),Fa=Qr((function(t,e){return $r(t,256,r,r,r,e)}));function Va(t,e){return t===e||t!=t&&e!=e}var Ua=Gr(Ei),Ba=Gr((function(t,e){return t>=e})),Ha=ki(function(){return arguments}())?ki:function(t){return ts(t)&&Rt.call(t,"callee")&&!zt.call(t,"callee")},Ga=i.isArray,Wa=ve?Ye(ve):function(t){return ts(t)&&Si(t)==I};function Za(t){return null!=t&&Ja(t.length)&&!Ka(t)}function za(t){return ts(t)&&Za(t)}var qa=me||gu,$a=ye?Ye(ye):function(t){return ts(t)&&Si(t)==y};function Ya(t){if(!ts(t))return!1;var e=Si(t);return e==_||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!is(t)}function Ka(t){if(!Qa(t))return!1;var e=Si(t);return e==b||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Xa(t){return"number"==typeof t&&t==fs(t)}function Ja(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=d}function Qa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ts(t){return null!=t&&"object"==typeof t}var es=_e?Ye(_e):function(t){return ts(t)&&ho(t)==T};function ns(t){return"number"==typeof t||ts(t)&&Si(t)==S}function is(t){if(!ts(t)||Si(t)!=E)return!1;var e=Wt(t);if(null===e)return!0;var n=Rt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Mt.call(n)==jt}var rs=be?Ye(be):function(t){return ts(t)&&Si(t)==P},os=we?Ye(we):function(t){return ts(t)&&ho(t)==C};function as(t){return"string"==typeof t||!Ga(t)&&ts(t)&&Si(t)==A}function ss(t){return"symbol"==typeof t||ts(t)&&Si(t)==k}var us=Te?Ye(Te):function(t){return ts(t)&&Ja(t.length)&&!!re[Si(t)]},ls=Gr(Di),cs=Gr((function(t,e){return t<=e}));function ds(t){if(!t)return[];if(Za(t))return as(t)?dn(t):Pr(t);if(Yt&&t[Yt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Yt]());var e=ho(t);return(e==T?on:e==C?un:Vs)(t)}function hs(t){return t?(t=gs(t))===c||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function fs(t){var e=hs(t),n=e%1;return e==e?n?e-n:e:0}function ps(t){return t?oi(fs(t),0,f):0}function gs(t){if("number"==typeof t)return t;if(ss(t))return h;if(Qa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Qa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=$e(t);var n=pt.test(t);return n||mt.test(t)?ue(t.slice(2),n?2:8):ft.test(t)?h:+t}function ms(t){return Cr(t,Is(t))}function vs(t){return null==t?"":ar(t)}var ys=kr((function(t,e){if(wo(e)||Za(e))Cr(e,xs(e),t);else for(var n in e)Rt.call(e,n)&&Qn(t,n,e[n])})),_s=kr((function(t,e){Cr(e,Is(e),t)})),bs=kr((function(t,e,n,i){Cr(e,Is(e),t,i)})),ws=kr((function(t,e,n,i){Cr(e,xs(e),t,i)})),Ts=Qr(ri),Ss=qi((function(t,e){t=Et(t);var n=-1,i=e.length,o=i>2?e[2]:r;for(o&&vo(e[0],e[1],o)&&(i=1);++n<i;)for(var a=e[n],s=Is(a),u=-1,l=s.length;++u<l;){var c=s[u],d=t[c];(d===r||Va(d,xt[c])&&!Rt.call(t,c))&&(t[c]=a[c])}return t})),Es=qi((function(t){return t.push(r,Kr),Se(Rs,r,t)}));function Os(t,e,n){var i=null==t?r:wi(t,e);return i===r?n:i}function Ps(t,e){return null!=t&&fo(t,e,Pi)}var Cs=Fr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),t[e]=n}),Qs(nu)),As=Fr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),Rt.call(t,e)?t[e].push(n):t[e]=[n]}),oo),ks=qi(Ai);function xs(t){return Za(t)?$n(t):Ni(t)}function Is(t){return Za(t)?$n(t,!0):function(t){if(!Qa(t))return function(t){var e=[];if(null!=t)for(var n in Et(t))e.push(n);return e}(t);var e=wo(t),n=[];for(var i in t)("constructor"!=i||!e&&Rt.call(t,i))&&n.push(i);return n}(t)}var Ms=kr((function(t,e,n){Vi(t,e,n)})),Rs=kr((function(t,e,n,i){Vi(t,e,n,i)})),Ns=Qr((function(t,e){var n={};if(null==t)return n;var i=!1;e=Ie(e,(function(e){return e=mr(e,t),i||(i=e.length>1),e})),Cr(t,eo(t),n),i&&(n=ai(n,7,Xr));for(var r=e.length;r--;)ur(n,e[r]);return n})),Ds=Qr((function(t,e){return null==t?{}:function(t,e){return Hi(t,e,(function(e,n){return Ps(t,n)}))}(t,e)}));function Ls(t,e){if(null==t)return{};var n=Ie(eo(t),(function(t){return[t]}));return e=oo(e),Hi(t,n,(function(t,n){return e(t,n[0])}))}var js=qr(xs),Fs=qr(Is);function Vs(t){return null==t?[]:Ke(t,xs(t))}var Us=Rr((function(t,e,n){return e=e.toLowerCase(),t+(n?Bs(e):e)}));function Bs(t){return Ys(vs(t).toLowerCase())}function Hs(t){return(t=vs(t))&&t.replace(yt,tn).replace(Xt,"")}var Gs=Rr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ws=Rr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Zs=Mr("toLowerCase"),zs=Rr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),qs=Rr((function(t,e,n){return t+(n?" ":"")+Ys(e)})),$s=Rr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ys=Mr("toUpperCase");function Ks(t,e,n){return t=vs(t),(e=n?r:e)===r?function(t){return ee.test(t)}(t)?function(t){return t.match(Qt)||[]}(t):function(t){return t.match(ut)||[]}(t):t.match(e)||[]}var Xs=qi((function(t,e){try{return Se(t,r,e)}catch(t){return Ya(t)?t:new wt(t)}})),Js=Qr((function(t,e){return Oe(e,(function(e){e=Lo(e),ii(t,e,Aa(t[e],t))})),t}));function Qs(t){return function(){return t}}var tu=Lr(),eu=Lr(!0);function nu(t){return t}function iu(t){return Ri("function"==typeof t?t:ai(t,1))}var ru=qi((function(t,e){return function(n){return Ai(n,t,e)}})),ou=qi((function(t,e){return function(n){return Ai(t,n,e)}}));function au(t,e,n){var i=xs(e),r=bi(e,i);null!=n||Qa(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=bi(e,xs(e)));var o=!(Qa(n)&&"chain"in n&&!n.chain),a=Ka(t);return Oe(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Pr(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,Me([this.value()],arguments))})})),t}function su(){}var uu=Ur(Ie),lu=Ur(Ce),cu=Ur(De);function du(t){return yo(t)?Ge(Lo(t)):function(t){return function(e){return wi(e,t)}}(t)}var hu=Hr(),fu=Hr(!0);function pu(){return[]}function gu(){return!1}var mu,vu=Vr((function(t,e){return t+e}),0),yu=Zr("ceil"),_u=Vr((function(t,e){return t/e}),1),bu=Zr("floor"),wu=Vr((function(t,e){return t*e}),1),Tu=Zr("round"),Su=Vr((function(t,e){return t-e}),0);return Fn.after=function(t,e){if("function"!=typeof e)throw new Ct(o);return t=fs(t),function(){if(--t<1)return e.apply(this,arguments)}},Fn.ary=Pa,Fn.assign=ys,Fn.assignIn=_s,Fn.assignInWith=bs,Fn.assignWith=ws,Fn.at=Ts,Fn.before=Ca,Fn.bind=Aa,Fn.bindAll=Js,Fn.bindKey=ka,Fn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ga(t)?t:[t]},Fn.chain=da,Fn.chunk=function(t,e,n){e=(n?vo(t,e,n):e===r)?1:mn(fs(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,s=0,u=i(he(o/e));a<o;)u[s++]=tr(t,a,a+=e);return u},Fn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},Fn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Me(Ga(n)?Pr(n):[n],gi(e,1))},Fn.cond=function(t){var e=null==t?0:t.length,n=oo();return t=e?Ie(t,(function(t){if("function"!=typeof t[1])throw new Ct(o);return[n(t[0]),t[1]]})):[],qi((function(n){for(var i=-1;++i<e;){var r=t[i];if(Se(r[0],this,n))return Se(r[1],this,n)}}))},Fn.conforms=function(t){return function(t){var e=xs(t);return function(n){return si(n,t,e)}}(ai(t,1))},Fn.constant=Qs,Fn.countBy=pa,Fn.create=function(t,e){var n=Vn(t);return null==e?n:ni(n,e)},Fn.curry=function t(e,n,i){var o=$r(e,8,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},Fn.curryRight=function t(e,n,i){var o=$r(e,16,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},Fn.debounce=xa,Fn.defaults=Ss,Fn.defaultsDeep=Es,Fn.defer=Ia,Fn.delay=Ma,Fn.difference=Vo,Fn.differenceBy=Uo,Fn.differenceWith=Bo,Fn.drop=function(t,e,n){var i=null==t?0:t.length;return i?tr(t,(e=n||e===r?1:fs(e))<0?0:e,i):[]},Fn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?tr(t,0,(e=i-(e=n||e===r?1:fs(e)))<0?0:e):[]},Fn.dropRightWhile=function(t,e){return t&&t.length?cr(t,oo(e,3),!0,!0):[]},Fn.dropWhile=function(t,e){return t&&t.length?cr(t,oo(e,3),!0):[]},Fn.fill=function(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&vo(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=fs(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:fs(i))<0&&(i+=o),i=n>i?0:ps(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Fn.filter=function(t,e){return(Ga(t)?Ae:pi)(t,oo(e,3))},Fn.flatMap=function(t,e){return gi(Ta(t,e),1)},Fn.flatMapDeep=function(t,e){return gi(Ta(t,e),c)},Fn.flatMapDepth=function(t,e,n){return n=n===r?1:fs(n),gi(Ta(t,e),n)},Fn.flatten=Wo,Fn.flattenDeep=function(t){return null!=t&&t.length?gi(t,c):[]},Fn.flattenDepth=function(t,e){return null!=t&&t.length?gi(t,e=e===r?1:fs(e)):[]},Fn.flip=function(t){return $r(t,512)},Fn.flow=tu,Fn.flowRight=eu,Fn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Fn.functions=function(t){return null==t?[]:bi(t,xs(t))},Fn.functionsIn=function(t){return null==t?[]:bi(t,Is(t))},Fn.groupBy=_a,Fn.initial=function(t){return null!=t&&t.length?tr(t,0,-1):[]},Fn.intersection=zo,Fn.intersectionBy=qo,Fn.intersectionWith=$o,Fn.invert=Cs,Fn.invertBy=As,Fn.invokeMap=ba,Fn.iteratee=iu,Fn.keyBy=wa,Fn.keys=xs,Fn.keysIn=Is,Fn.map=Ta,Fn.mapKeys=function(t,e){var n={};return e=oo(e,3),yi(t,(function(t,i,r){ii(n,e(t,i,r),t)})),n},Fn.mapValues=function(t,e){var n={};return e=oo(e,3),yi(t,(function(t,i,r){ii(n,i,e(t,i,r))})),n},Fn.matches=function(t){return ji(ai(t,1))},Fn.matchesProperty=function(t,e){return Fi(t,ai(e,1))},Fn.memoize=Ra,Fn.merge=Ms,Fn.mergeWith=Rs,Fn.method=ru,Fn.methodOf=ou,Fn.mixin=au,Fn.negate=Na,Fn.nthArg=function(t){return t=fs(t),qi((function(e){return Ui(e,t)}))},Fn.omit=Ns,Fn.omitBy=function(t,e){return Ls(t,Na(oo(e)))},Fn.once=function(t){return Ca(2,t)},Fn.orderBy=function(t,e,n,i){return null==t?[]:(Ga(e)||(e=null==e?[]:[e]),Ga(n=i?r:n)||(n=null==n?[]:[n]),Bi(t,e,n))},Fn.over=uu,Fn.overArgs=Da,Fn.overEvery=lu,Fn.overSome=cu,Fn.partial=La,Fn.partialRight=ja,Fn.partition=Sa,Fn.pick=Ds,Fn.pickBy=Ls,Fn.property=du,Fn.propertyOf=function(t){return function(e){return null==t?r:wi(t,e)}},Fn.pull=Ko,Fn.pullAll=Xo,Fn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Gi(t,e,oo(n,2)):t},Fn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Gi(t,e,r,n):t},Fn.pullAt=Jo,Fn.range=hu,Fn.rangeRight=fu,Fn.rearg=Fa,Fn.reject=function(t,e){return(Ga(t)?Ae:pi)(t,Na(oo(e,3)))},Fn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=oo(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Wi(t,r),n},Fn.rest=function(t,e){if("function"!=typeof t)throw new Ct(o);return qi(t,e=e===r?e:fs(e))},Fn.reverse=Qo,Fn.sampleSize=function(t,e,n){return e=(n?vo(t,e,n):e===r)?1:fs(e),(Ga(t)?Kn:Yi)(t,e)},Fn.set=function(t,e,n){return null==t?t:Ki(t,e,n)},Fn.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Ki(t,e,n,i)},Fn.shuffle=function(t){return(Ga(t)?Xn:Qi)(t)},Fn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&vo(t,e,n)?(e=0,n=i):(e=null==e?0:fs(e),n=n===r?i:fs(n)),tr(t,e,n)):[]},Fn.sortBy=Ea,Fn.sortedUniq=function(t){return t&&t.length?rr(t):[]},Fn.sortedUniqBy=function(t,e){return t&&t.length?rr(t,oo(e,2)):[]},Fn.split=function(t,e,n){return n&&"number"!=typeof n&&vo(t,e,n)&&(e=n=r),(n=n===r?f:n>>>0)?(t=vs(t))&&("string"==typeof e||null!=e&&!rs(e))&&!(e=ar(e))&&rn(t)?yr(dn(t),0,n):t.split(e,n):[]},Fn.spread=function(t,e){if("function"!=typeof t)throw new Ct(o);return e=null==e?0:mn(fs(e),0),qi((function(n){var i=n[e],r=yr(n,0,e);return i&&Me(r,i),Se(t,this,r)}))},Fn.tail=function(t){var e=null==t?0:t.length;return e?tr(t,1,e):[]},Fn.take=function(t,e,n){return t&&t.length?tr(t,0,(e=n||e===r?1:fs(e))<0?0:e):[]},Fn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?tr(t,(e=i-(e=n||e===r?1:fs(e)))<0?0:e,i):[]},Fn.takeRightWhile=function(t,e){return t&&t.length?cr(t,oo(e,3),!1,!0):[]},Fn.takeWhile=function(t,e){return t&&t.length?cr(t,oo(e,3)):[]},Fn.tap=function(t,e){return e(t),t},Fn.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Ct(o);return Qa(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),xa(t,e,{leading:i,maxWait:e,trailing:r})},Fn.thru=ha,Fn.toArray=ds,Fn.toPairs=js,Fn.toPairsIn=Fs,Fn.toPath=function(t){return Ga(t)?Ie(t,Lo):ss(t)?[t]:Pr(Do(vs(t)))},Fn.toPlainObject=ms,Fn.transform=function(t,e,n){var i=Ga(t),r=i||qa(t)||us(t);if(e=oo(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Qa(t)&&Ka(o)?Vn(Wt(t)):{}}return(r?Oe:yi)(t,(function(t,i,r){return e(n,t,i,r)})),n},Fn.unary=function(t){return Pa(t,1)},Fn.union=ta,Fn.unionBy=ea,Fn.unionWith=na,Fn.uniq=function(t){return t&&t.length?sr(t):[]},Fn.uniqBy=function(t,e){return t&&t.length?sr(t,oo(e,2)):[]},Fn.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?sr(t,r,e):[]},Fn.unset=function(t,e){return null==t||ur(t,e)},Fn.unzip=ia,Fn.unzipWith=ra,Fn.update=function(t,e,n){return null==t?t:lr(t,e,gr(n))},Fn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:lr(t,e,gr(n),i)},Fn.values=Vs,Fn.valuesIn=function(t){return null==t?[]:Ke(t,Is(t))},Fn.without=oa,Fn.words=Ks,Fn.wrap=function(t,e){return La(gr(e),t)},Fn.xor=aa,Fn.xorBy=sa,Fn.xorWith=ua,Fn.zip=la,Fn.zipObject=function(t,e){return fr(t||[],e||[],Qn)},Fn.zipObjectDeep=function(t,e){return fr(t||[],e||[],Ki)},Fn.zipWith=ca,Fn.entries=js,Fn.entriesIn=Fs,Fn.extend=_s,Fn.extendWith=bs,au(Fn,Fn),Fn.add=vu,Fn.attempt=Xs,Fn.camelCase=Us,Fn.capitalize=Bs,Fn.ceil=yu,Fn.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=gs(n))==n?n:0),e!==r&&(e=(e=gs(e))==e?e:0),oi(gs(t),e,n)},Fn.clone=function(t){return ai(t,4)},Fn.cloneDeep=function(t){return ai(t,5)},Fn.cloneDeepWith=function(t,e){return ai(t,5,e="function"==typeof e?e:r)},Fn.cloneWith=function(t,e){return ai(t,4,e="function"==typeof e?e:r)},Fn.conformsTo=function(t,e){return null==e||si(t,e,xs(e))},Fn.deburr=Hs,Fn.defaultTo=function(t,e){return null==t||t!=t?e:t},Fn.divide=_u,Fn.endsWith=function(t,e,n){t=vs(t),e=ar(e);var i=t.length,o=n=n===r?i:oi(fs(n),0,i);return(n-=e.length)>=0&&t.slice(n,o)==e},Fn.eq=Va,Fn.escape=function(t){return(t=vs(t))&&$.test(t)?t.replace(z,en):t},Fn.escapeRegExp=function(t){return(t=vs(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Fn.every=function(t,e,n){var i=Ga(t)?Ce:hi;return n&&vo(t,e,n)&&(e=r),i(t,oo(e,3))},Fn.find=ga,Fn.findIndex=Ho,Fn.findKey=function(t,e){return je(t,oo(e,3),yi)},Fn.findLast=ma,Fn.findLastIndex=Go,Fn.findLastKey=function(t,e){return je(t,oo(e,3),_i)},Fn.floor=bu,Fn.forEach=va,Fn.forEachRight=ya,Fn.forIn=function(t,e){return null==t?t:mi(t,oo(e,3),Is)},Fn.forInRight=function(t,e){return null==t?t:vi(t,oo(e,3),Is)},Fn.forOwn=function(t,e){return t&&yi(t,oo(e,3))},Fn.forOwnRight=function(t,e){return t&&_i(t,oo(e,3))},Fn.get=Os,Fn.gt=Ua,Fn.gte=Ba,Fn.has=function(t,e){return null!=t&&fo(t,e,Oi)},Fn.hasIn=Ps,Fn.head=Zo,Fn.identity=nu,Fn.includes=function(t,e,n,i){t=Za(t)?t:Vs(t),n=n&&!i?fs(n):0;var r=t.length;return n<0&&(n=mn(r+n,0)),as(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Ve(t,e,n)>-1},Fn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:fs(n);return r<0&&(r=mn(i+r,0)),Ve(t,e,r)},Fn.inRange=function(t,e,n){return e=hs(e),n===r?(n=e,e=0):n=hs(n),function(t,e,n){return t>=vn(e,n)&&t<mn(e,n)}(t=gs(t),e,n)},Fn.invoke=ks,Fn.isArguments=Ha,Fn.isArray=Ga,Fn.isArrayBuffer=Wa,Fn.isArrayLike=Za,Fn.isArrayLikeObject=za,Fn.isBoolean=function(t){return!0===t||!1===t||ts(t)&&Si(t)==v},Fn.isBuffer=qa,Fn.isDate=$a,Fn.isElement=function(t){return ts(t)&&1===t.nodeType&&!is(t)},Fn.isEmpty=function(t){if(null==t)return!0;if(Za(t)&&(Ga(t)||"string"==typeof t||"function"==typeof t.splice||qa(t)||us(t)||Ha(t)))return!t.length;var e=ho(t);if(e==T||e==C)return!t.size;if(wo(t))return!Ni(t).length;for(var n in t)if(Rt.call(t,n))return!1;return!0},Fn.isEqual=function(t,e){return xi(t,e)},Fn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?xi(t,e,r,n):!!i},Fn.isError=Ya,Fn.isFinite=function(t){return"number"==typeof t&&Le(t)},Fn.isFunction=Ka,Fn.isInteger=Xa,Fn.isLength=Ja,Fn.isMap=es,Fn.isMatch=function(t,e){return t===e||Ii(t,e,so(e))},Fn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,Ii(t,e,so(e),n)},Fn.isNaN=function(t){return ns(t)&&t!=+t},Fn.isNative=function(t){if(bo(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mi(t)},Fn.isNil=function(t){return null==t},Fn.isNull=function(t){return null===t},Fn.isNumber=ns,Fn.isObject=Qa,Fn.isObjectLike=ts,Fn.isPlainObject=is,Fn.isRegExp=rs,Fn.isSafeInteger=function(t){return Xa(t)&&t>=-9007199254740991&&t<=d},Fn.isSet=os,Fn.isString=as,Fn.isSymbol=ss,Fn.isTypedArray=us,Fn.isUndefined=function(t){return t===r},Fn.isWeakMap=function(t){return ts(t)&&ho(t)==x},Fn.isWeakSet=function(t){return ts(t)&&"[object WeakSet]"==Si(t)},Fn.join=function(t,e){return null==t?"":We.call(t,e)},Fn.kebabCase=Gs,Fn.last=Yo,Fn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=fs(n))<0?mn(i+o,0):vn(o,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,o):Fe(t,Be,o,!0)},Fn.lowerCase=Ws,Fn.lowerFirst=Zs,Fn.lt=ls,Fn.lte=cs,Fn.max=function(t){return t&&t.length?fi(t,nu,Ei):r},Fn.maxBy=function(t,e){return t&&t.length?fi(t,oo(e,2),Ei):r},Fn.mean=function(t){return He(t,nu)},Fn.meanBy=function(t,e){return He(t,oo(e,2))},Fn.min=function(t){return t&&t.length?fi(t,nu,Di):r},Fn.minBy=function(t,e){return t&&t.length?fi(t,oo(e,2),Di):r},Fn.stubArray=pu,Fn.stubFalse=gu,Fn.stubObject=function(){return{}},Fn.stubString=function(){return""},Fn.stubTrue=function(){return!0},Fn.multiply=wu,Fn.nth=function(t,e){return t&&t.length?Ui(t,fs(e)):r},Fn.noConflict=function(){return de._===this&&(de._=Ft),this},Fn.noop=su,Fn.now=Oa,Fn.pad=function(t,e,n){t=vs(t);var i=(e=fs(e))?cn(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Br(fe(r),n)+t+Br(he(r),n)},Fn.padEnd=function(t,e,n){t=vs(t);var i=(e=fs(e))?cn(t):0;return e&&i<e?t+Br(e-i,n):t},Fn.padStart=function(t,e,n){t=vs(t);var i=(e=fs(e))?cn(t):0;return e&&i<e?Br(e-i,n)+t:t},Fn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),_n(vs(t).replace(it,""),e||0)},Fn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&vo(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=hs(t),e===r?(e=t,t=0):e=hs(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=bn();return vn(t+o*(e-t+se("1e-"+((o+"").length-1))),e)}return Zi(t,e)},Fn.reduce=function(t,e,n){var i=Ga(t)?Re:Ze,r=arguments.length<3;return i(t,oo(e,4),n,r,ci)},Fn.reduceRight=function(t,e,n){var i=Ga(t)?Ne:Ze,r=arguments.length<3;return i(t,oo(e,4),n,r,di)},Fn.repeat=function(t,e,n){return e=(n?vo(t,e,n):e===r)?1:fs(e),zi(vs(t),e)},Fn.replace=function(){var t=arguments,e=vs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Fn.result=function(t,e,n){var i=-1,o=(e=mr(e,t)).length;for(o||(o=1,t=r);++i<o;){var a=null==t?r:t[Lo(e[i])];a===r&&(i=o,a=n),t=Ka(a)?a.call(t):a}return t},Fn.round=Tu,Fn.runInContext=t,Fn.sample=function(t){return(Ga(t)?Yn:$i)(t)},Fn.size=function(t){if(null==t)return 0;if(Za(t))return as(t)?cn(t):t.length;var e=ho(t);return e==T||e==C?t.size:Ni(t).length},Fn.snakeCase=zs,Fn.some=function(t,e,n){var i=Ga(t)?De:er;return n&&vo(t,e,n)&&(e=r),i(t,oo(e,3))},Fn.sortedIndex=function(t,e){return nr(t,e)},Fn.sortedIndexBy=function(t,e,n){return ir(t,e,oo(n,2))},Fn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=nr(t,e);if(i<n&&Va(t[i],e))return i}return-1},Fn.sortedLastIndex=function(t,e){return nr(t,e,!0)},Fn.sortedLastIndexBy=function(t,e,n){return ir(t,e,oo(n,2),!0)},Fn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=nr(t,e,!0)-1;if(Va(t[n],e))return n}return-1},Fn.startCase=qs,Fn.startsWith=function(t,e,n){return t=vs(t),n=null==n?0:oi(fs(n),0,t.length),e=ar(e),t.slice(n,n+e.length)==e},Fn.subtract=Su,Fn.sum=function(t){return t&&t.length?ze(t,nu):0},Fn.sumBy=function(t,e){return t&&t.length?ze(t,oo(e,2)):0},Fn.template=function(t,e,n){var i=Fn.templateSettings;n&&vo(t,e,n)&&(e=r),t=vs(t),e=bs({},e,i,Yr);var o,a,s=bs({},e.imports,i.imports,Yr),u=xs(s),l=Ke(s,u),c=0,d=e.interpolate||_t,h="__p += '",f=Ot((e.escape||_t).source+"|"+d.source+"|"+(d===X?dt:_t).source+"|"+(e.evaluate||_t).source+"|$","g"),p="//# sourceURL="+(Rt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ie+"]")+"\n";t.replace(f,(function(e,n,i,r,s,u){return i||(i=r),h+=t.slice(c,u).replace(bt,nn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),h+="';\n";var g=Rt.call(e,"variable")&&e.variable;if(g){if(lt.test(g))throw new wt("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(H,""):h).replace(G,"$1").replace(W,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Xs((function(){return Tt(u,p+"return "+h).apply(r,l)}));if(m.source=h,Ya(m))throw m;return m},Fn.times=function(t,e){if((t=fs(t))<1||t>d)return[];var n=f,i=vn(t,f);e=oo(e),t-=f;for(var r=qe(i,e);++n<t;)e(n);return r},Fn.toFinite=hs,Fn.toInteger=fs,Fn.toLength=ps,Fn.toLower=function(t){return vs(t).toLowerCase()},Fn.toNumber=gs,Fn.toSafeInteger=function(t){return t?oi(fs(t),-9007199254740991,d):0===t?t:0},Fn.toString=vs,Fn.toUpper=function(t){return vs(t).toUpperCase()},Fn.trim=function(t,e,n){if((t=vs(t))&&(n||e===r))return $e(t);if(!t||!(e=ar(e)))return t;var i=dn(t),o=dn(e);return yr(i,Je(i,o),Qe(i,o)+1).join("")},Fn.trimEnd=function(t,e,n){if((t=vs(t))&&(n||e===r))return t.slice(0,hn(t)+1);if(!t||!(e=ar(e)))return t;var i=dn(t);return yr(i,0,Qe(i,dn(e))+1).join("")},Fn.trimStart=function(t,e,n){if((t=vs(t))&&(n||e===r))return t.replace(it,"");if(!t||!(e=ar(e)))return t;var i=dn(t);return yr(i,Je(i,dn(e))).join("")},Fn.truncate=function(t,e){var n=30,i="...";if(Qa(e)){var o="separator"in e?e.separator:o;n="length"in e?fs(e.length):n,i="omission"in e?ar(e.omission):i}var a=(t=vs(t)).length;if(rn(t)){var s=dn(t);a=s.length}if(n>=a)return t;var u=n-cn(i);if(u<1)return i;var l=s?yr(s,0,u).join(""):t.slice(0,u);if(o===r)return l+i;if(s&&(u+=l.length-u),rs(o)){if(t.slice(u).search(o)){var c,d=l;for(o.global||(o=Ot(o.source,vs(ht.exec(o))+"g")),o.lastIndex=0;c=o.exec(d);)var h=c.index;l=l.slice(0,h===r?u:h)}}else if(t.indexOf(ar(o),u)!=u){var f=l.lastIndexOf(o);f>-1&&(l=l.slice(0,f))}return l+i},Fn.unescape=function(t){return(t=vs(t))&&q.test(t)?t.replace(Z,fn):t},Fn.uniqueId=function(t){var e=++Nt;return vs(t)+e},Fn.upperCase=$s,Fn.upperFirst=Ys,Fn.each=va,Fn.eachRight=ya,Fn.first=Zo,au(Fn,(mu={},yi(Fn,(function(t,e){Rt.call(Fn.prototype,e)||(mu[e]=t)})),mu),{chain:!1}),Fn.VERSION="4.17.21",Oe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Fn[t].placeholder=Fn})),Oe(["drop","take"],(function(t,e){Hn.prototype[t]=function(n){n=n===r?1:mn(fs(n),0);var i=this.__filtered__&&!e?new Hn(this):this.clone();return i.__filtered__?i.__takeCount__=vn(n,i.__takeCount__):i.__views__.push({size:vn(n,f),type:t+(i.__dir__<0?"Right":"")}),i},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Oe(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:oo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),Oe(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}})),Oe(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(nu)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=qi((function(t,e){return"function"==typeof t?new Hn(this):this.map((function(n){return Ai(n,t,e)}))})),Hn.prototype.reject=function(t){return this.filter(Na(oo(t)))},Hn.prototype.slice=function(t,e){t=fs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=fs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(f)},yi(Hn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=Fn[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(Fn.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,u=e instanceof Hn,l=s[0],c=u||Ga(e),d=function(t){var e=o.apply(Fn,Me([t],s));return i&&h?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=this.__chain__,f=!!this.__actions__.length,p=a&&!h,g=u&&!f;if(!a&&c){e=g?e:new Hn(this);var m=t.apply(e,s);return m.__actions__.push({func:ha,args:[d],thisArg:r}),new Bn(m,h)}return p&&g?t.apply(this,s):(m=this.thru(d),p?i?m.value()[0]:m.value():m)})})),Oe(["pop","push","shift","sort","splice","unshift"],(function(t){var e=At[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Fn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(Ga(r)?r:[],t)}return this[n]((function(n){return e.apply(Ga(n)?n:[],t)}))}})),yi(Hn.prototype,(function(t,e){var n=Fn[e];if(n){var i=n.name+"";Rt.call(kn,i)||(kn[i]=[]),kn[i].push({name:e,func:n})}})),kn[jr(r,2).name]=[{name:"wrapper",func:r}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=Pr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Pr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Pr(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ga(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=vn(e,t+a);break;case"takeRight":t=mn(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,u=s-a,l=i?s:a-1,c=this.__iteratees__,d=c.length,h=0,f=vn(u,this.__takeCount__);if(!n||!i&&r==u&&f==u)return dr(t,this.__actions__);var p=[];t:for(;u--&&h<f;){for(var g=-1,m=t[l+=e];++g<d;){var v=c[g],y=v.iteratee,_=v.type,b=y(m);if(2==_)m=b;else if(!b){if(1==_)continue t;break t}}p[h++]=m}return p},Fn.prototype.at=fa,Fn.prototype.chain=function(){return da(this)},Fn.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},Fn.prototype.next=function(){this.__values__===r&&(this.__values__=ds(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},Fn.prototype.plant=function(t){for(var e,n=this;n instanceof Un;){var i=Fo(n);i.__index__=0,i.__values__=r,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},Fn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:ha,args:[Qo],thisArg:r}),new Bn(e,this.__chain__)}return this.thru(Qo)},Fn.prototype.toJSON=Fn.prototype.valueOf=Fn.prototype.value=function(){return dr(this.__wrapped__,this.__actions__)},Fn.prototype.first=Fn.prototype.head,Yt&&(Fn.prototype[Yt]=function(){return this}),Fn}();de._=pn,(i=function(){return pn}.call(e,n,e,t))===r||(t.exports=i)}.call(this)},7771:(t,e,n)=>{var i=n(55639);t.exports=function(){return i.Date.now()}},14841:(t,e,n)=>{var i=n(27561),r=n(13218),o=n(33448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=i(t);var n=s.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):a.test(t)?NaN:+t}},19258:function(t){var e;e=function(){return function(){var t={"./packages/@logrocket/arson/src/index.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.encode=function(t){return JSON.stringify(function(t){var e=[],n="function"==typeof Map&&new Map;function i(t){switch((0,r.default)(t)){case"undefined":return o;case"number":if(isNaN(t))return s;if(!isFinite(t))return t<0?l:u}var i;return n?void 0===(i=n.get(t))&&(i=e.push(t)-1,n.set(t,i)):(i=e.indexOf(t))<0&&(i=e.push(t)-1),i}function d(t){var e=t;if(t&&"object"===(0,r.default)(t)){var n=Object.keys(t);if(function(t){return!!(t&&"object"===(0,r.default)(t))&&(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__)===Object.prototype}(t))e={};else{if(!Array.isArray(t)){for(var o in c){var s=c[o].deconstruct(t);if(s){for(l=0;l<s.length;++l)s[l]=i(s[l]);return s.unshift(o),s}}return{}.toString.call(t)}e=Array(t.length);var u=t.length;if(u>n.length)for(var l=0;l<u;++l)e[l]=a}n.forEach((function(n){e[n]=i(t[n])}))}return e}var h=i(t);if(h<0)return h;for(var f=[],p=0;p<e.length;++p)f[p]=d(e[p]);return f}(t))},e.decode=function(t){return function(t){if("number"==typeof t&&t<0)return i(t);var e=new Array(t.length);function n(t){return t in e?e[t]:e[t]=i(t)}function i(e){if(e<0){if(e===o)return;if(e===a)return;if(e===s)return NaN;if(e===u)return 1/0;if(e===l)return-1/0;throw new Error("invalid ARSON index: "+e)}var i=t[e];if(i&&"object"===(0,r.default)(i)){if(Array.isArray(i)){var f=i[0];if("string"==typeof f&&f in c){var p=c[f].reconstruct,g=p();return g&&d.push({reconstruct:p,empty:g,argIndexes:i.slice(1)}),t[e]=g||p(i.slice(1).map(n))}}h.push(i)}return i}var d=[],h=[];return t.forEach((function(t,e){n(e)})),d.forEach((function(t){t.args=t.argIndexes.map(n)})),h.forEach((function(e){Object.keys(e).forEach((function(i){var r=e[i];if("number"==typeof r)if(r<0){if(r===a)return void delete e[i];e[i]=n(r)}else e[i]=t[r]}))})),d.forEach((function(t){t.reconstruct.call(t.empty,t.args)})),t[0]}(JSON.parse(t))};var r=i(n("./node_modules/@babel/runtime/helpers/typeof.js")),o=-1,a=-2,s=-3,u=-4,l=-5,c=Object.create(null),d=function(t,e){function n(n){if("function"!=typeof e[n])throw new Error("second argument to ARSON.registerType("+JSON.stringify(t)+", ...) must be an object with a "+n+" method")}n("deconstruct"),n("reconstruct"),c[t]=e},h=Object.prototype.toString;"function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&d("Buffer",{deconstruct:function(t){return Buffer.isBuffer(t)&&[t.toString("base64"),"base64"]},reconstruct:function(t){return t&&Buffer.from(t[0],t[1])}}),d("Date",{deconstruct:function(t){return"[object Date]"===h.call(t)&&[t.toJSON()]},reconstruct:function(t){return t&&new Date(t[0])}}),d("RegExp",{deconstruct:function(t){if("[object RegExp]"===h.call(t)){var e=[t.source],n="";return t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.global&&(n+="g"),n&&e.push(n),e}},reconstruct:function(t){return t&&new RegExp(t[0],t[1])}}),"function"==typeof Set&&"function"==typeof Array.from&&d("Set",{deconstruct:function(t){if("[object Set]"===h.call(t))return Array.from(t)},reconstruct:function(t){if(!t)return new Set;t.forEach(this.add,this)}}),"function"==typeof Map&&"function"==typeof Array.from&&d("Map",{deconstruct:function(t){if("[object Map]"===h.call(t))return Array.from(t)},reconstruct:function(t){if(!t)return new Map;t.forEach((function(t){this.set(t[0],t[1])}),this)}})},"./packages/@logrocket/console/src/index.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("./packages/@logrocket/console/src/registerConsole.js")).default;e.default=r},"./packages/@logrocket/console/src/registerConsole.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=[];return["log","warn","info","error","debug"].forEach((function(n){e.push((0,o.default)(console,n,(function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];t.addEvent("lr.core.LogEvent",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.isEnabled;return"object"===(0,r.default)(o)&&!1===o[n]||!1===o?null:("error"===n&&e.shouldAggregateConsoleErrors&&a.Capture.captureMessage(t,i[0],i,{},!0),{logLevel:n.toUpperCase(),args:i})}))})))})),function(){e.forEach((function(t){return t()}))}};var r=i(n("./node_modules/@babel/runtime/helpers/typeof.js")),o=i(n("./packages/@logrocket/utils/src/enhanceFunc.js")),a=n("./packages/@logrocket/exceptions/src/index.js")},"./packages/@logrocket/exceptions/src/Capture.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.captureMessage=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={exceptionType:arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"CONSOLE":"MESSAGE",message:e,messageArgs:n,browserHref:window.location?window.location.href:""};(0,r.scrubException)(o,i),t.addEvent("lr.core.Exception",(function(){return o}))},e.captureException=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)||o.default.computeStackTrace(e),s={exceptionType:"WINDOW",errorType:i.name,message:i.message,browserHref:window.location?window.location.href:""};(0,r.scrubException)(s,n);var u={_stackTrace:(0,a.default)(i)};t.addEvent("lr.core.Exception",(function(){return s}),u)};var r=n("./packages/@logrocket/utils/src/index.ts"),o=i(n("./packages/@logrocket/utils/src/TraceKit.js")),a=i(n("./packages/@logrocket/exceptions/src/stackTraceFromError.js"))},"./packages/@logrocket/exceptions/src/index.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"registerExceptions",{enumerable:!0,get:function(){return o.default}}),e.Capture=void 0;var o=i(n("./packages/@logrocket/exceptions/src/registerExceptions.js")),a=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n("./packages/@logrocket/exceptions/src/Capture.js"));function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}e.Capture=a},"./packages/@logrocket/exceptions/src/raven/raven.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=i(n("./node_modules/@babel/runtime/helpers/createClass.js")),a=i(n("./packages/@logrocket/utils/src/TraceKit.js")),s=Object.prototype;function u(t){return"function"==typeof t}function l(t,e,n,i){var r=t[e];t[e]=n(r),i&&i.push([t,e,r])}var c="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},d=(c.document,function(){function t(e){var n=e.captureException;(0,r.default)(this,t),this._errorHandler=this._errorHandler.bind(this),this._ignoreOnError=0,this._wrappedBuiltIns=[],this.captureException=n,a.default.report.subscribe(this._errorHandler),this._instrumentTryCatch()}return(0,o.default)(t,[{key:"uninstall",value:function(){var t;for(a.default.report.unsubscribe(this._errorHandler);this._wrappedBuiltIns.length;){var e=(t=this._wrappedBuiltIns.shift())[0],n=t[1],i=t[2];e[n]=i}}},{key:"_errorHandler",value:function(t){this._ignoreOnError||this.captureException(t)}},{key:"_ignoreNextOnError",value:function(){var t=this;this._ignoreOnError+=1,setTimeout((function(){t._ignoreOnError-=1}))}},{key:"context",value:function(t,e,n){return u(t)&&(n=e||[],e=t,t=void 0),this.wrap(t,e).apply(this,n)}},{key:"wrap",value:function(t,e,n){var i,r,o=this;if(void 0===e&&!u(t))return t;if(u(t)&&(e=t,t=void 0),!u(e))return e;try{if(e.__lr__)return e;if(e.__lr_wrapper__)return e.__lr_wrapper__;if(!Object.isExtensible(e))return e}catch(t){return e}function l(){var i=[],r=arguments.length,s=!t||t&&!1!==t.deep;for(n&&u(n)&&n.apply(this,arguments);r--;)i[r]=s?o.wrap(t,arguments[r]):arguments[r];try{return e.apply(this,i)}catch(e){throw o._ignoreNextOnError(),o.captureException(a.default.computeStackTrace(e),t),e}}for(var c in e)i=e,r=c,s.hasOwnProperty.call(i,r)&&(l[c]=e[c]);return l.prototype=e.prototype,e.__lr_wrapper__=l,l.__lr__=!0,l.__inner__=e,l}},{key:"_instrumentTryCatch",value:function(){var t=this,e=t._wrappedBuiltIns;function n(e){return function(n,i){for(var r=new Array(arguments.length),o=0;o<r.length;++o)r[o]=arguments[o];var a=r[0];return u(a)&&(r[0]=t.wrap(a)),e.apply?e.apply(this,r):e(r[0],r[1])}}function i(n){var i=c[n]&&c[n].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(l(i,"addEventListener",(function(e){return function(n,i,r,o){try{i&&i.handleEvent&&(i.handleEvent=t.wrap(i.handleEvent))}catch(t){}return e.call(this,n,t.wrap(i,void 0,void 0),r,o)}}),e),l(i,"removeEventListener",(function(t){return function(e,n,i,r){try{n=n&&(n.__lr_wrapper__?n.__lr_wrapper__:n)}catch(t){}return t.call(this,e,n,i,r)}}),e))}l(c,"setTimeout",n,e),l(c,"setInterval",n,e),c.requestAnimationFrame&&l(c,"requestAnimationFrame",(function(e){return function(n){return e(t.wrap(n))}}),e);for(var r=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],o=0;o<r.length;o++)i(r[o]);var a=c.jQuery||c.$;a&&a.fn&&a.fn.ready&&l(a.fn,"ready",(function(e){return function(n){return e.call(this,t.wrap(n))}}),e)}}]),t}());e.default=d},"./packages/@logrocket/exceptions/src/registerExceptions.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=new o.default({captureException:function(e){a.captureException(t,null,null,e)}}),n=function(e){t.addEvent("lr.core.Exception",(function(){return{exceptionType:"UNHANDLED_REJECTION",message:e.reason||"Unhandled Promise rejection"}}))};return window.addEventListener("unhandledrejection",n),function(){window.removeEventListener("unhandledrejection",n),e.uninstall()}};var o=i(n("./packages/@logrocket/exceptions/src/raven/raven.js")),a=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=s(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var u=o?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}(n("./packages/@logrocket/exceptions/src/Capture.js"));function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(s=function(t){return t?n:e})(t)}},"./packages/@logrocket/exceptions/src/stackTraceFromError.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(t){return null===t?void 0:t}return t.stack?t.stack.map((function(t){return{lineNumber:e(t.line),columnNumber:e(t.column),fileName:e(t.url),functionName:e(t.func)}})):void 0}},"./packages/@logrocket/network/src/fetchIntercept.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),o=n("./packages/@logrocket/network/src/registerXHR.js"),a=[];function s(t,e){for(var n=a.reduce((function(t,e){return[e].concat(t)}),[]),i=arguments.length,s=new Array(i>2?i-2:0),u=2;u<i;u++)s[u-2]=arguments[u];var l=Promise.resolve(s);return n.forEach((function(t){var n=t.request,i=t.requestError;(n||i)&&(l=l.then((function(t){return n.apply(void 0,[e].concat((0,r.default)(t)))}),(function(t){return i.apply(void 0,[e].concat((0,r.default)(t)))})))})),l=l.then((function(e){var n,i;(0,o.setActive)(!1);try{n=t.apply(void 0,(0,r.default)(e))}catch(t){i=t}if((0,o.setActive)(!0),i)throw i;return n})),n.forEach((function(t){var n=t.response,i=t.responseError;(n||i)&&(l=l.then((function(t){return n(e,t)}),(function(t){return i&&i(e,t)})))})),l}function u(t){if(t.fetch&&t.Promise){var e=t.fetch.polyfill;t.fetch=function(t){var e=0;return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return s.apply(void 0,[t,e++].concat(i))}}(t.fetch),e&&(t.fetch.polyfill=e)}}var l=!1,c={register:function(t){return l||(l=!0,u(window)),a.push(t),function(){var e=a.indexOf(t);e>=0&&a.splice(e,1)}},clear:function(){a=[]}};e.default=c},"./packages/@logrocket/network/src/index.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isReactNative:!1},n=e.isReactNative,i=e.shouldAugmentNPS,r=e.shouldParseXHRBlob,d={},f=function(t){var e=t;if("object"===(0,o.default)(t)&&null!=t){var n=Object.getPrototypeOf(t);n!==Object.prototype&&null!==n||(e=JSON.stringify(t))}if(e&&e.length&&e.length>4096e3&&"string"==typeof e){var i=e.substring(0,1e3);return"".concat(i," ... LogRocket truncating to first 1000 characters.\n      Keep data under 4MB to prevent truncation. https://docs.logrocket.com/reference/network")}return t},p=function(e,n){var i=n.method;t.addEvent("lr.network.RequestEvent",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.isEnabled,o=void 0===r||r,a=t.requestSanitizer,s=void 0===a?function(t){return t}:a;if(!o)return null;var u=null;try{u=s(h(h({},n),{},{reqId:e}))}catch(t){console.error(t)}if(u){var l=u.url;if("undefined"!=typeof document&&"function"==typeof document.createElement){var p=document.createElement("a");p.href=u.url,l=p.href}return{reqId:e,url:l,headers:(0,c.default)(u.headers,(function(t){return"".concat(t)})),body:f(u.body),method:i,referrer:u.referrer||void 0,mode:u.mode||void 0,credentials:u.credentials||void 0}}return d[e]=!0,null}))},g=function(e,n){var i=n.method,r=n.status;t.addEvent("lr.network.ResponseEvent",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.isEnabled,a=void 0===o||o,s=t.responseSanitizer,u=void 0===s?function(t){return t}:s;if(!a)return null;if(d[e])return delete d[e],null;var l=null;try{l=u(h(h({},n),{},{reqId:e}))}catch(t){console.error(t)}return l?{reqId:e,status:l.status,headers:(0,c.default)(l.headers,(function(t){return"".concat(t)})),body:f(l.body),method:i}:{reqId:e,status:r,headers:{},body:null,method:i}}))},m=function(e){return t.isDisabled||!0===d[e]},v=(0,a.default)({addRequest:p,addResponse:g,isIgnored:m}),y=(0,l.default)({addRequest:p,addResponse:g,isIgnored:m,logger:t,shouldAugmentNPS:i,shouldParseXHRBlob:r}),_=(0,s.registerIonic)({addRequest:p,addResponse:g,isIgnored:m}),b=n?function(){}:(0,u.default)(t);return function(){b(),v(),y(),_()}};var r=i(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=i(n("./node_modules/@babel/runtime/helpers/typeof.js")),a=i(n("./packages/@logrocket/network/src/registerFetch.js")),s=n("./packages/@logrocket/network/src/registerIonic.ts"),u=i(n("./packages/@logrocket/network/src/registerNetworkInformation.js")),l=i(n("./packages/@logrocket/network/src/registerXHR.js")),c=i(n("./packages/@logrocket/utils/src/mapValues.js"));function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},"./packages/@logrocket/network/src/registerFetch.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.addRequest,n=t.addResponse,i=t.isIgnored,r="fetch-",o={},s=a.default.register({request:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var s;if("undefined"!=typeof Request&&i[0]instanceof Request){var l;try{l=i[0].clone().text()}catch(t){l=Promise.resolve("LogRocket fetch error: ".concat(t.message))}s=l.then((function(t){return u(u({},c(i[0])),{},{body:t})}),(function(t){return u(u({},c(i[0])),{},{body:"LogRocket fetch error: ".concat(t.message)})}))}else s=Promise.resolve(u(u({},c(i[1])),{},{url:"".concat(i[0]),body:(i[1]||{}).body}));return s.then((function(n){return o[t]=n.method,e("".concat(r).concat(t),n),i}))},requestError:function(t,e){return Promise.reject(e)},response:function(t,e){var a,s;if(i("".concat(r).concat(t)))return e;if("text/event-stream"===e.headers.get("content-type"))s=Promise.resolve("LogRocket skipped consuming an event-stream body.");else{try{a=e.clone()}catch(i){var u={url:e.url,status:e.status,headers:l(e.headers),body:"LogRocket fetch error: ".concat(i.message),method:o[t]};return delete o[t],n("".concat(r).concat(t),u),e}try{if(window.TextDecoder&&a.body){var c=a.body.getReader(),d=new window.TextDecoder("utf-8"),h="";s=c.read().then((function t(e){var n=e.done,i=e.value;if(n)return h;var r=i?d.decode(i,{stream:!0}):"";return h+=r,c.read().then(t)}))}else s=a.text()}catch(t){s=Promise.resolve("LogRocket error reading body: ".concat(t.message))}}return s.catch((function(t){if(!("AbortError"===t.name&&t instanceof DOMException))return"LogRocket error reading body: ".concat(t.message)})).then((function(i){var a={url:e.url,status:e.status,headers:l(e.headers),body:i,method:o[t]};delete o[t],n("".concat(r).concat(t),a)})),e},responseError:function(t,e){var i={url:void 0,status:0,headers:{},body:"".concat(e)};return n("".concat(r).concat(t),i),Promise.reject(e)}});return s};var r=i(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=i(n("./packages/@logrocket/utils/src/mapValues.js")),a=i(n("./packages/@logrocket/network/src/fetchIntercept.js"));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=function(t){return(0,o.default)(function(t){if(null==t||"function"!=typeof t.forEach)return t;var e={};return t.forEach((function(t,n){e[n]?e[n]="".concat(e[n],",").concat(t):e[n]="".concat(t)})),e}(t),(function(t){return"".concat(t)}))};function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{url:t.url,headers:l(t.headers),method:t.method&&t.method.toUpperCase(),referrer:t.referrer||void 0,mode:t.mode||void 0,credentials:t.credentials||void 0}}},"./packages/@logrocket/network/src/registerIonic.ts":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.mergeHeaders=S,e.serializeQueryParams=function(t,e){return C("",t,e)},e.appendQueryParamsString=A,e.processData=k,e.registerIonic=function(t){var e,n,i,r=t.addRequest,o=t.addResponse,a=t.isIgnored,u=null===(e=window.cordova)||void 0===e||null===(n=e.plugin)||void 0===n?void 0:n.http,l={},c=!1;if(void 0===u)return function(){};var m=null===(i=window.ionic)||void 0===i?void 0:i.platforms;if(void 0!==m&&"function"==typeof m.some&&m.some((function(t){return g.has(t)})))return function(){};var v=u.sendRequest,b=(0,s.default)((function(t,e,n){if(!a("".concat(p).concat(n)))try{var i={url:t.url||"",status:t.status<600&&t.status>=100?t.status:0,headers:t.headers||{},body:e?t.data:t.error,method:l[n].toUpperCase()};o("".concat(p).concat(n),i)}catch(e){var r={url:t.url||"",status:t.status<600&&t.status>=100?t.status:0,headers:t.headers||{},body:"LogRocket fetch error: ".concat(e.message),method:l[n].toUpperCase()};o("".concat(p).concat(n),r)}}));return u.sendRequest=function(t,e,n,i){var o=++x;if(!c)try{var a=function(t,e){var n,i=(t=t||{}).data;try{n=w(h,t.serializer||e.getDataSerializer(),"serializer / data payload type")}catch(r){n=w(f,t.serializer||e.getDataSerializer(),"serializer / data payload type"),i={}}return{data:i,filePath:t.filePath,followRedirect:t.followRedirect,headers:T(t.headers||{},y,"Invalid header type, must be string"),method:w(d,t.method||d[0],"method"),name:t.name,params:T(t.params||{},_,"Invalid param, must be of type string or array"),responseType:t.responseType,serializer:n,connectTimeout:t.connectTimeout,readTimeout:t.readTimeout,timeout:t.timeout}}(e,u),s=A(t,C("",a.params,!0)),g=function(t,e,n){var i=n.getHeaders("*")||{},r=function(t,e){var n=new URL(t).host;return e.getHeaders(n)||null}(t,n)||{};return S(S(i,r),e)}(t,a.headers,u),m=a.method||"get";l[o]=m;var E={url:s,method:m.toUpperCase(),headers:g||{},body:k(a.data||{},a.serializer)};r("".concat(p).concat(o),E)}catch(n){var O={url:t,method:(e.method||"get").toUpperCase(),headers:{},body:"LogRocket fetch error: ".concat(n.message)};r("".concat(p).concat(o),O)}return v(t,e,(function(t){c||(b(t,!0,o),delete l[o]),n(t)}),(function(t){c||(b(t,!1,o),delete l[o]),i(t)}))},function(){c=!0,u.sendRequest=v,l={}}};var r=i(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=i(n("./node_modules/@babel/runtime/helpers/typeof.js")),a=i(n("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),s=i(n("./packages/@logrocket/utils/src/protectFunc.js"));function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d=new Set(["get","put","post","patch","head","delete","options","upload","download"]),h=new Set(["urlencoded","json","utf8"]),f=new Set(["raw","multipart"]),p="ionic-",g=new Set(["desktop","mobileweb","pwa"]),m=new Set(["FormData"]),v=new Set,y=new Set(["string"]),_=new Set(["string","array"]),b={utf8:y,urlencoded:new Set(["object"]),json:new Set(["array","object"]),raw:new Set(["Uint8Array","ArrayBuffer"]),default:v};function w(t,e,n){if("string"!=typeof e)throw new Error("".concat(n," must be one of: ").concat((0,a.default)(t).join(", ")));if(e=e.trim().toLowerCase(),!t.has(e))throw new Error("".concat(n," must be one of: ").concat((0,a.default)(t).join(", ")));return e}function T(t,e,n){if("object"!==(0,o.default)(t))throw new Error(n);for(var i=0,r=Object.keys(t);i<r.length;i++){var a=r[i];if(!e.has((0,o.default)(t[a])))throw new Error(n)}return t}function S(t,e){return c(c({},t),e)}function E(t,e){return e?encodeURIComponent(t):t}function O(t,e,n){return t.length?n?"".concat(encodeURIComponent(t),"[").concat(encodeURIComponent(e),"]"):"".concat(t,"[").concat(e,"]"):n?encodeURIComponent(e):e}function P(t,e,n){var i,r=[],a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;Array.isArray(s)?r.push(P("".concat(t,"[]"),s,n)):"object"!==(0,o.default)(s)?r.push("".concat(O(t,"",n),"=").concat(E(s,n))):r.push(C("".concat(t,"[]").concat(s),n,void 0))}}catch(t){a.e(t)}finally{a.f()}return r.join("&")}function C(t,e,n){var i=[];for(var r in e)if(e.hasOwnProperty(r)){var a=t.length?"".concat(t,"[").concat(r,"]"):r;Array.isArray(e[r])?i.push(P(a,e[r],n)):"object"!==(0,o.default)(e[r])||null===e[r]?i.push("".concat(O(t,r,n),"=").concat(E(e[r],n))):i.push(C(a,e[r],n))}return i.join("&")}function A(t,e){if(!t.length||!e.length)return t;var n=new URL(t),i=n.host,r=n.pathname,o=n.search,a=n.hash,s=n.protocol;return"".concat(s,"//").concat(i).concat(r).concat(o.length?"".concat(o,"&").concat(e):"?".concat(e)).concat(a)}function k(t,e){var i=(0,o.default)(t),r=function(t){return b[t]||b.default}(e),s=function(t){return"multipart"===t?m:v}(e);if(s.size>0){var u=!1;if(s.forEach((function(e){n.g[e]&&t instanceof n.g[e]&&(u=!0)})),!u)throw new Error("INSTANCE_TYPE_MISMATCH_DATA ".concat((0,a.default)(s).join(", ")))}if(0===s.size&&!r.has(i))throw new Error("TYPE_MISMATCH_DATA ".concat((0,a.default)(r).join(", ")));return"utf8"===e?t:JSON.stringify(t,void 0,2)}var x=0},"./packages/@logrocket/network/src/registerNetworkInformation.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=void 0;function i(){var i={online:window.navigator.onLine,effectiveType:"UNKOWN"};window.navigator.onLine?window.navigator.connection&&window.navigator.connection.effectiveType&&(i.effectiveType=n[window.navigator.connection.effectiveType]||"UNKNOWN"):i.effectiveType="NONE",e&&i.online===e.online&&i.effectiveType===e.effectiveType||(e=i,t.addEvent("lr.network.NetworkStatusEvent",(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isEnabled;return void 0===t||t?i:null})))}return setTimeout(i),window.navigator.connection&&"function"==typeof window.navigator.connection.addEventListener&&window.navigator.connection.addEventListener("change",i),window.addEventListener("online",i),window.addEventListener("offline",i),function(){window.removeEventListener("offline",i),window.removeEventListener("online",i),window.navigator.connection&&"function"==typeof window.navigator.connection.removeEventListener&&window.navigator.connection.removeEventListener("change",i)}};var n={"slow-2g":"SLOW2G","2g":"TWOG","3g":"THREEG","4g":"FOURG"}},"./packages/@logrocket/network/src/registerXHR.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.setActive=function(t){u=t},e.default=function(t){var e=t.addRequest,n=t.addResponse,i=t.isIgnored,c=t.logger,d=t.shouldAugmentNPS,h=void 0===d||d,f=t.shouldParseXHRBlob,p=void 0!==f&&f,g=XMLHttpRequest,m=new WeakMap,v=!1,y="xhr-";return window._lrXMLHttpRequest=XMLHttpRequest,XMLHttpRequest=function(t,d){var f=new g(t,d);if(!u)return f;m.set(f,{xhrId:++l,headers:{}});var _=f.open,b=f.send;h&&(f.open=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];try{var i=e[1];if(window.URL&&"function"==typeof window.URL&&0===i.search(s.WOOTRIC_RESPONSES_REGEX)){var r=new window.URL(c.recordingURL);r.searchParams.set("nps","wootric");var o=new window.URL(i),a=o.searchParams.get("response[text]"),u=a?"".concat(a,"\n\n"):"";o.searchParams.set("response[text]","".concat(u,"<").concat(r.href,"|View LogRocket session>")),e[1]=o.href}}catch(t){}return _.apply(this,e)},f.send=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];try{var i=m.get(f);if(window.URL&&"function"==typeof window.URL&&i&&i.url&&0===i.url.search(s.DELIGHTED_RESPONSES_REGEX)&&e.length&&-1!==e[0].indexOf(s.DELIGHTED_FEEDBACK_PREFIX)){var r=new window.URL(c.recordingURL);r.searchParams.set("nps","delighted");var o=encodeURIComponent(r.href),u=e[0].split("&").map((function(t){if((0,a.default)(t,s.DELIGHTED_FEEDBACK_PREFIX)){var e=t===s.DELIGHTED_FEEDBACK_PREFIX;return"".concat(t).concat(e?"":"\n\n","<").concat(o,"|View LogRocket session>")}return t})).join("&");e[0]=u}}catch(t){}return b.apply(this,e)}),(0,o.default)(f,"open",(function(t,e){if(!v){var n=m.get(f);n.method=t,n.url=e}})),(0,o.default)(f,"send",(function(t){if(!v){var n=m.get(f);if(n){var i={url:n.url,method:n.method&&n.method.toUpperCase(),headers:(0,r.default)(n.headers||{},(function(t){return t.join(", ")})),body:t};e("".concat(y).concat(n.xhrId),i)}}})),(0,o.default)(f,"setRequestHeader",(function(t,e){if(!v){var n=m.get(f);n&&(n.headers=n.headers||{},n.headers[t]=n.headers[t]||[],n.headers[t].push(e))}}));var w={readystatechange:function(){if(!v&&4===f.readyState){var t=m.get(f);if(!t)return;if(i("".concat(y).concat(t.xhrId)))return;var e,r=(f.getAllResponseHeaders()||"").split(/[\r\n]+/).reduce((function(t,e){var n=t,i=e.split(": ");if(i.length>0){var r=i.shift(),o=i.join(": ");t[r]?n[r]+=", ".concat(o):n[r]=o}return n}),{});try{switch(f.responseType){case"json":e=c._shouldCloneResponse?JSON.parse(JSON.stringify(f.response)):f.response;break;case"arraybuffer":case"blob":e=f.response;break;case"document":e=f.responseXML;break;case"text":case"":e=f.responseText;break;default:e=""}}catch(t){e="LogRocket: Error accessing response."}var o={url:t.url,status:f.status,headers:r,body:e,method:(t.method||"").toUpperCase()};if(p&&o.body instanceof Blob){var a=new FileReader;a.readAsText(o.body),a.onload=function(){try{o.body=JSON.parse(a.result)}catch(t){}n("".concat(y).concat(t.xhrId),o)}}else n("".concat(y).concat(t.xhrId),o)}}};return Object.keys(w).forEach((function(t){f.addEventListener(t,w[t])})),f},XMLHttpRequest.prototype=g.prototype,["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"].forEach((function(t){XMLHttpRequest[t]=g[t]})),function(){v=!0,XMLHttpRequest=g}};var r=i(n("./packages/@logrocket/utils/src/mapValues.js")),o=i(n("./packages/@logrocket/utils/src/enhanceFunc.js")),a=i(n("./packages/@logrocket/utils/src/startsWith.js")),s=n("./packages/@logrocket/utils/src/constants/nps.js"),u=!0,l=0},"./packages/@logrocket/now/src/index.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Date.now.bind(Date),i=n(),r="undefined"!=typeof performance&&performance.now?performance.now.bind(performance):function(){return n()-i};e.default=r},"./packages/@logrocket/redux/src/createEnhancer.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.stateSanitizer,i=void 0===n?function(t){return t}:n,r=e.actionSanitizer,a=void 0===r?function(t){return t}:r;return function(e){return function(n,r,l){var c=e(n,r,l),d=c.dispatch,h=u++;return t.addEvent("lr.redux.InitialState",(function(){var t;try{t=i(c.getState())}catch(t){console.error(t.toString())}return{state:t,storeId:h}})),s(s({},c),{},{dispatch:function(e){var n,r,s=(0,o.default)();try{r=d(e)}catch(t){n=t}finally{var u=(0,o.default)()-s;t.addEvent("lr.redux.ReduxAction",(function(){var t=null,n=null;try{t=i(c.getState()),n=a(e)}catch(t){console.error(t.toString())}return t&&n?{storeId:h,action:n,duration:u,stateDelta:t}:null}))}if(n)throw n;return r}})}}};var r=i(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=i(n("./packages/@logrocket/now/src/index.js"));function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u=0},"./packages/@logrocket/redux/src/createMiddleware.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.stateSanitizer,i=void 0===n?function(t){return t}:n,a=e.actionSanitizer,s=void 0===a?function(t){return t}:a;return function(e){var n=o++;return t.addEvent("lr.redux.InitialState",(function(){var t;try{t=i(e.getState())}catch(t){console.error(t.toString())}return{state:t,storeId:n}})),function(o){return function(a){var u,l,c=(0,r.default)();try{l=o(a)}catch(t){u=t}finally{var d=(0,r.default)()-c;t.addEvent("lr.redux.ReduxAction",(function(){var t=null,r=null;try{t=i(e.getState()),r=s(a)}catch(t){console.error(t.toString())}return t&&r?{storeId:n,action:r,duration:d,stateDelta:t}:null}))}if(u)throw u;return l}}}};var r=i(n("./packages/@logrocket/now/src/index.js")),o=0},"./packages/@logrocket/redux/src/index.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"createEnhancer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"createMiddleware",{enumerable:!0,get:function(){return o.default}});var r=i(n("./packages/@logrocket/redux/src/createEnhancer.js")),o=i(n("./packages/@logrocket/redux/src/createMiddleware.js"))},"./packages/@logrocket/utils/src/TraceKit.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={collectWindowErrors:!0,debug:!1},r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},o=[].slice,a="?",s=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;function u(){return"undefined"==typeof document||void 0===document.location?"":document.location.href}i.report=function(){var t,e,n=[],l=null,c=null,d=null;function h(t,e){var r=null;if(!e||i.collectWindowErrors){for(var a in n)if(n.hasOwnProperty(a))try{n[a].apply(null,[t].concat(o.call(arguments,2)))}catch(t){r=t}if(r)throw r}}function f(e,n,r,o,l){if(d)i.computeStackTrace.augmentStackTraceWithInitialElement(d,n,r,e),p();else if(l)h(i.computeStackTrace(l),!0);else{var c,f={url:n,line:r,column:o},g=void 0,m=e;"[object String]"==={}.toString.call(e)&&(c=e.match(s))&&(g=c[1],m=c[2]),f.func=a,h({name:g,message:m,url:u(),stack:[f]},!0)}return!!t&&t.apply(this,arguments)}function p(){var t=d,e=l;l=null,d=null,c=null,h.apply(null,[t,!1].concat(e))}function g(t,e){var n=o.call(arguments,1);if(d){if(c===t)return;p()}var r=i.computeStackTrace(t);if(d=r,c=t,l=n,setTimeout((function(){c===t&&p()}),r.incomplete?2e3:0),!1!==e)throw t}return g.subscribe=function(i){e||(t=r.onerror,r.onerror=f,e=!0),n.push(i)},g.unsubscribe=function(t){for(var e=n.length-1;e>=0;--e)n[e]===t&&n.splice(e,1)},g.uninstall=function(){e&&(r.onerror=t,e=!1,t=void 0),n=[]},g}(),i.computeStackTrace=function(){function t(t){if(void 0!==t.stack&&t.stack){for(var e,n,i=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,r=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=t.stack.split("\n"),l=[],c=(/^(.*) is undefined$/.exec(t.message),0),d=s.length;c<d;++c){if(e=i.exec(s[c])){var h=e[2]&&-1!==e[2].indexOf("native");n={url:h?null:e[2],func:e[1]||a,args:h?[e[2]]:[],line:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}else if(e=o.exec(s[c]))n={url:e[2],func:e[1]||a,args:[],line:+e[3],column:e[4]?+e[4]:null};else{if(!(e=r.exec(s[c])))continue;n={url:e[3],func:e[1]||a,args:e[2]?e[2].split(","):[],line:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}!n.func&&n.line&&(n.func=a),l.push(n)}return l.length?(l[0].column||void 0===t.columnNumber||(l[0].column=t.columnNumber+1),{name:t.name,message:t.message,url:u(),stack:l}):null}}function e(t,e,n,i){var r={url:e,line:n};if(r.url&&r.line){if(t.incomplete=!1,r.func||(r.func=a),t.stack.length>0&&t.stack[0].url===r.url){if(t.stack[0].line===r.line)return!1;if(!t.stack[0].line&&t.stack[0].func===r.func)return t.stack[0].line=r.line,!1}return t.stack.unshift(r),t.partial=!0,!0}return t.incomplete=!0,!1}function n(t,o){for(var s,l,c=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,d=[],h={},f=!1,p=n.caller;p&&!f;p=p.caller)if(p!==r&&p!==i.report){if(l={url:null,func:a,line:null,column:null},p.name?l.func=p.name:(s=c.exec(p.toString()))&&(l.func=s[1]),void 0===l.func)try{l.func=s.input.substring(0,s.input.indexOf("{"))}catch(t){}h[""+p]?f=!0:h[""+p]=!0,d.push(l)}o&&d.splice(0,o);var g={name:t.name,message:t.message,url:u(),stack:d};return e(g,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),g}function r(e,r){var o=null;r=null==r?0:+r;try{if(o=t(e))return o}catch(t){if(i.debug)throw t}try{if(o=n(e,r+1))return o}catch(t){if(i.debug)throw t}return{name:e.name,message:e.message,url:u()}}return r.augmentStackTraceWithInitialElement=e,r.computeStackTraceFromStackProp=t,r}();var l=i;e.default=l},"./packages/@logrocket/utils/src/addListener.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,i=e;return n.addEventListener(t,(function(){i&&i.apply(void 0,arguments)}),{capture:!0,passive:!0}),function(){i=null}}},"./packages/@logrocket/utils/src/adjustOsVersion.ts":function(t,e){"use strict";function n(t,e){var n=e;return e&&t.toLowerCase().replace(/\s/g,"").indexOf("macos")>-1&&(n=e.replace("10.15.7","10.15.7+")),n}Object.defineProperty(e,"__esModule",{value:!0}),e.adjustOsVersion=n,e.adjustOs=function(t){return n(t,t)}},"./packages/@logrocket/utils/src/applyUrlSanitizer.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n=t.logger,i=t.url,r=void 0===i?"":i,o=(n.getConfig("lr.browser")||{}).urlSanitizer,a=void 0===o?function(t){return t}:o;try{e=a(r)}catch(t){console.error(t)}return"string"==typeof e?e:""}},"./packages/@logrocket/utils/src/browserUtils.js":function(t,e){"use strict";function n(t){return"#document-fragment"===t.nodeName&&"open"===t.mode?"$shadow-root":t.nodeName?t.nodeName.toLowerCase():""}Object.defineProperty(e,"__esModule",{value:!0}),e.getNodeName=n,e.getTargetForEvent=function(t){return"function"==typeof t.composedPath&&t.composed?t.composedPath()[0]:t.path?t.path[0]:t.target},e.getNodePath=function(t){for(var e=t,r=[],o=0;e&&(e.parentNode||e.host);){var a=n(e);if("body"===a)break;var s={nodeName:a},u=s.nodeName.length;if(e.id&&e.id.length>0&&(s.id=e.id,u+=e.id.length),e.classList&&e.classList.length>0){s.classList=Array.prototype.slice.call(e.classList,0);var l=Array.prototype.join.call(e.classList,"");l&&(u+=l.length)}if(o+u>i)break;if(e.parentNode&&e.parentNode.children)try{var c=0,d=e;do{c+=1,d=d.previousElementSibling}while(d);s.nthChild=c}catch(t){}o+=u,r.push(s),e=e.parentNode||e.host}return r};var i=1e3},"./packages/@logrocket/utils/src/constants/issues.ts":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.ES_ISSUE_TYPE_BASE_FILTER=e.ES_ISSUE_TYPES=e.ISSUE_GROUP_TYPE=e.ISSUE_TYPE=void 0;var r,o=i(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),a={EXCEPTION:"EXCEPTION",NETWORK_ERROR:"NETWORK_ERROR",RAGE_CLICK:"RAGE_CLICK",DEAD_CLICK:"DEAD_CLICK",FRUSTRATING_NETWORK:"FRUSTRATING_NETWORK",ERROR_STATE:"ERROR_STATE"};e.ISSUE_TYPE=a,e.ISSUE_GROUP_TYPE={ENCODED_FILTER:"ENCODED_FILTER",SENTRY:"SENTRY",TROYTOWN:"TROYTOWN"};var s=[a.RAGE_CLICK,a.DEAD_CLICK,a.FRUSTRATING_NETWORK,a.ERROR_STATE];e.ES_ISSUE_TYPES=s;var u=(r={},(0,o.default)(r,a.RAGE_CLICK,{rageClicked:{operator:"TEXT_IS",strings:[]}}),(0,o.default)(r,a.DEAD_CLICK,{deadClicked:{operator:"TEXT_IS",strings:[]}}),r);e.ES_ISSUE_TYPE_BASE_FILTER=u},"./packages/@logrocket/utils/src/constants/logTypes.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.LOG_FILTER_TYPES=e.LOG_TYPES=void 0;var r,o=i(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),a={LOG:"LOG",WARN:"WARN",ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO",REDUX:"REDUX",LIFECYCLE:"LIFECYCLE",NAVIGATION:"NAVIGATION",NETWORK:"NETWORK",PREV_SESSION:"PREV_SESSION",NEXT_SESSION:"NEXT_SESSION",LOAD_MORE:"LOAD_MORE",EXCEPTION:"EXCEPTION"};e.LOG_TYPES=a;var s=(r={},(0,o.default)(r,a.LOG,{label:"Logs",filterLabel:"Log",types:[a.LOG]}),(0,o.default)(r,a.WARN,{label:"Warnings",filterLabel:"Warning",types:[a.WARN]}),(0,o.default)(r,a.ERROR,{label:"Errors",filterLabel:"Error",types:[a.ERROR,a.EXCEPTION]}),(0,o.default)(r,a.INFO,{label:"Info",filterLabel:"Info",types:[a.INFO]}),(0,o.default)(r,a.DEBUG,{label:"Debug",filterLabel:"Debug",types:[a.DEBUG]}),(0,o.default)(r,a.REDUX,{label:"Redux",types:[a.REDUX]}),(0,o.default)(r,a.NAVIGATION,{label:"Navigation",types:[a.NAVIGATION,a.LIFECYCLE]}),r);e.LOG_FILTER_TYPES=s},"./packages/@logrocket/utils/src/constants/metrics.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_INSIGHTS_HEATMAP_FOR_URL_OPERATOR=e.DEFAULT_HEATMAP_FOR_URL_OPERATOR=e.nextSortDirection=e.SORT_DIRECTION=e.FEEDBACK_SORT_COLUMN=e.HEATMAP_FOR_URL_OPERATOR=e.METRIC_RETENTION_TYPE=e.METRIC_TIMESERIES_TYPE=void 0,e.METRIC_TIMESERIES_TYPE={SESSION_COUNT:"SESSION_COUNT",PERCENTILE:"PERCENTILE",CONVERSION_RATE:"CONVERSION_RATE",SESSION_PERCENTAGE:"SESSION_PERCENTAGE",ACTIVE_USERS:"ACTIVE_USERS",EVENT_COUNT:"EVENT_COUNT"},e.METRIC_RETENTION_TYPE={USER_PERCENTAGE:"USER_PERCENTAGE"};var n={IS:"IS",CONTAINS:"CONTAINS",LIKE:"LIKE",HREF_LIKE:"HREF_LIKE"};e.HEATMAP_FOR_URL_OPERATOR=n,e.FEEDBACK_SORT_COLUMN={RATING:"RATING",SUBMISSION_DATE:"SUBMISSION_DATE"};var i={UNSET:"UNSET",ASC:"ASC",DESC:"DESC"};e.SORT_DIRECTION=i,e.nextSortDirection=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).reverse,n=i.UNSET,r=i.ASC,o=i.DESC,a=[n,o,r];void 0!==e&&e&&(a=[n,r,o]);var s=a.indexOf(t);return a[(s+1)%a.length]};var r=n.IS;e.DEFAULT_HEATMAP_FOR_URL_OPERATOR=r;var o=n.HREF_LIKE;e.DEFAULT_INSIGHTS_HEATMAP_FOR_URL_OPERATOR=o},"./packages/@logrocket/utils/src/constants/mobile.ts":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MAXIMUM_SUPPORTED_VERSION=e.MINIMUM_SUPPORTED_VERSION=e.IOS_VERSION=e.ANDROID_VERSION=void 0,e.ANDROID_VERSION="1.26.2",e.IOS_VERSION="1.26.2",e.MINIMUM_SUPPORTED_VERSION="1.0.0",e.MAXIMUM_SUPPORTED_VERSION="1.27.0"},"./packages/@logrocket/utils/src/constants/nps.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DELIGHTED_FEEDBACK_PREFIX=e.DELIGHTED_RESPONSES_REGEX=e.WOOTRIC_RESPONSES_REGEX=void 0,e.WOOTRIC_RESPONSES_REGEX=/^https:\/\/production.wootric.com\/responses/,e.DELIGHTED_RESPONSES_REGEX=/^https:\/\/web.delighted.com\/e\/[a-zA-Z-]*\/c/,e.DELIGHTED_FEEDBACK_PREFIX="comment="},"./packages/@logrocket/utils/src/constants/replayTypes.ts":function(t,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.REPLAY_TYPE=void 0,e.REPLAY_TYPE=n,function(t){t.SKIA="SKIA",t.DOM="DOM"}(n||(e.REPLAY_TYPE=n={}))},"./packages/@logrocket/utils/src/constants/sdkTypes.ts":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.SESSION_TYPE_TO_DISPLAY=e.SDK_REPLAY_TYPE=e.SDK_TYPE_TO_DISPLAY=e.SDK_TYPE=void 0;var r,o,a,s=i(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=n("./packages/@logrocket/utils/src/constants/replayTypes.ts");e.SDK_TYPE=a,function(t){t.WEB="web",t.MOBILE="mobile",t.UNKNOWN="unknown"}(a||(e.SDK_TYPE=a={}));var l=(r={},(0,s.default)(r,a.WEB,"Web"),(0,s.default)(r,a.MOBILE,"Mobile"),r);e.SDK_TYPE_TO_DISPLAY=l;var c=(o={},(0,s.default)(o,a.WEB,u.REPLAY_TYPE.DOM),(0,s.default)(o,a.MOBILE,u.REPLAY_TYPE.SKIA),o);e.SDK_REPLAY_TYPE=c;var d=l;e.SESSION_TYPE_TO_DISPLAY=d},"./packages/@logrocket/utils/src/constants/statusCodes.ts":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getStatusText=function(t){return n[String(t)]},e.STATUS_CODES=void 0;var n={0:"",100:"Continue",101:"Switching Protocol",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"unused",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};e.STATUS_CODES=n},"./packages/@logrocket/utils/src/contains.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t&&e&&t.indexOf(e)>-1}},"./packages/@logrocket/utils/src/deepArsonify.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return{arson:r.encode(t)}};var r=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(r,s,u):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}(n("./packages/@logrocket/arson/src/index.js"));function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}},"./packages/@logrocket/utils/src/deepDearsonify.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t?r.decode(t.arson):t};var r=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var n=o(e);if(n&&n.has(t))return n.get(t);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(r,s,u):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}(n("./packages/@logrocket/arson/src/index.js"));function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(o=function(t){return t?n:e})(t)}},"./packages/@logrocket/utils/src/endsWith.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t&&e&&t.substring(t.length-e.length)===e}},"./packages/@logrocket/utils/src/enhanceFunc.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var i=t[e];return t[e]=function(){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i&&(t=i.apply(this,r)),n.apply(this,r),t},function(){t[e]=i}}},"./packages/@logrocket/utils/src/find.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}},"./packages/@logrocket/utils/src/findIndex.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}},"./packages/@logrocket/utils/src/findKeyFrames.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).sdkThrottle,i=void 0===n?500:n;if(!t.length)return null;var o=(0,r.default)(t,{time:e},"time"),a=t[o]||t[o-1],s=t[o-1]||a,u=Math.min(a.time-s.time,i),l=Math.max(e-(a.time-u),0);return{prev:s,next:a,ratio:0===u?1:Math.min(l/u,1)}};var r=i(n("./packages/@logrocket/utils/node_modules/lodash/sortedLastIndexBy.js"))},"./packages/@logrocket/utils/src/flatten.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.concat(e)}},"./packages/@logrocket/utils/src/getCssRules.ts":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCssRule=e.getCssRules=void 0;var n=function(t){try{var e=t.cssRules;return!e&&t instanceof CSSStyleSheet?t.rules:e}catch(t){return null}};e.getCssRules=n,e.getCssRule=function(t,e){var i=n(t);return!i||e>=i.length?null:i.item(e)}},"./packages/@logrocket/utils/src/getGraphQLOperation.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(t)try{var e=("string"==typeof t?JSON.parse(t):t).query.trim().match(/(query|mutation) ([a-z_-]+)/i);return e?{operationType:e[1],operationName:e[2]}:{}}catch(t){return{}}return{}}},"./packages/@logrocket/utils/src/getNodeSelector.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=(0,i(n("./packages/@logrocket/utils/src/protectFunc.js")).default)((function(t){var e={nodeName:t.nodeName?t.nodeName.toLowerCase():""};return t.id&&t.id.length>0&&(e.id=t.id),t.classList&&t.classList.length>0&&(e.classList=Array.prototype.slice.call(t.classList,0)),e}));e.default=r},"./packages/@logrocket/utils/src/hashString.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.combineHashes=e.hashString=void 0;var r=i(n("./packages/@logrocket/utils/src/protectFunc.js")),o=n("./packages/@logrocket/utils/src/sendTelemetryData.js");function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var s=(0,r.default)((function(t){try{var e=0;if("string"==typeof t&&t.length)for(var n=0;n<t.length;n++)e=31*e+t.charCodeAt(n),e|=0;return e}catch(e){return(0,o.sendTelemetry)("Failed to hash string",{extra:{str:t}}),null}}));e.hashString=s,e.combineHashes=function(t){var e,n=t.shift()||0,i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}(t);try{for(i.s();!(e=i.n()).done;)n^=e.value+2654435769+(n<<6)+(n>>2)}catch(t){i.e(t)}finally{i.f()}return n}},"./packages/@logrocket/utils/src/identityStatus.ts":function(t,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.parseIdentityStatus=function(t){if(!t)return n.Unknown;switch(parseInt(t,10)){case n.Anonymous:return n.Anonymous;case n.Identified:return n.Identified;default:return n.Unknown}},e.IdentityStatus=void 0,e.IdentityStatus=n,function(t){t[t.Unknown=0]="Unknown",t[t.Anonymous=1]="Anonymous",t[t.Identified=2]="Identified"}(n||(e.IdentityStatus=n={}))},"./packages/@logrocket/utils/src/index.ts":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(e,"__esModule",{value:!0});var o={enhanceFunc:!0,shallowArsonify:!0,shallowDearsonify:!0,deepArsonify:!0,deepDearsonify:!0,addListener:!0,protectFunc:!0,findIndex:!0,find:!0,flatten:!0,selectorMatches:!0,parseSelectorForMatch:!0,querySelectorWithShadowDom:!0,sendErrorTelemetry:!0,sendTelemetry:!0,sanitizeValue:!0,adjustOs:!0,adjustOsVersion:!0,selectorFromNodePath:!0,startsWith:!0,endsWith:!0,contains:!0,uuid:!0,randomInt:!0,getCssRules:!0,getCssRule:!0,getNodeSelector:!0,getGraphQLOperation:!0,isSessionEvent:!0,isActivityEvent:!0,parseIntFromHex:!0,isRecordingSampled:!0,makeRecordingID:!0,setFromArray:!0,setToArray:!0,applyUrlSanitizer:!0,maybeCleanSwiftUIClassName:!0,LOG_FILTER_TYPES:!0,LOG_TYPES:!0,METRIC_TIMESERIES_TYPE:!0,HEATMAP_FOR_URL_OPERATOR:!0,DEFAULT_HEATMAP_FOR_URL_OPERATOR:!0,DEFAULT_INSIGHTS_HEATMAP_FOR_URL_OPERATOR:!0,SORT_DIRECTION:!0,FEEDBACK_SORT_COLUMN:!0,METRIC_RETENTION_TYPE:!0,ISSUE_TYPE:!0,ISSUE_GROUP_TYPE:!0,ES_ISSUE_TYPE_BASE_FILTER:!0,ES_ISSUE_TYPES:!0,findKeyFrames:!0,interpolate:!0,interpolateMobile:!0,removeOutdated:!0,DELIGHTED_RESPONSES_REGEX:!0,WOOTRIC_RESPONSES_REGEX:!0,REPLAY_TYPE:!0,ReplayType:!0,SDK_REPLAY_TYPE:!0,SDK_TYPE:!0,SDK_TYPE_TO_DISPLAY:!0,SESSION_TYPE_TO_DISPLAY:!0,STATUS_CODES:!0,getStatusText:!0,parseQueryString:!0,likeOperator:!0,scrollMapHistogramToPercent:!0,combineHashes:!0,hashString:!0,encodeUserTraitString:!0,parseUserTraitString:!0,IdentityStatus:!0,parseIdentityStatus:!0,scrubException:!0,MobileConstants:!0};Object.defineProperty(e,"enhanceFunc",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"shallowArsonify",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"shallowDearsonify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"deepArsonify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"deepDearsonify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"addListener",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"protectFunc",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"find",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"flatten",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"selectorMatches",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"parseSelectorForMatch",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"querySelectorWithShadowDom",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"sendErrorTelemetry",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"sendTelemetry",{enumerable:!0,get:function(){return _.sendTelemetry}}),Object.defineProperty(e,"sanitizeValue",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"adjustOs",{enumerable:!0,get:function(){return w.adjustOs}}),Object.defineProperty(e,"adjustOsVersion",{enumerable:!0,get:function(){return w.adjustOsVersion}}),Object.defineProperty(e,"selectorFromNodePath",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"startsWith",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"endsWith",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"contains",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"uuid",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"randomInt",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"getCssRules",{enumerable:!0,get:function(){return A.getCssRules}}),Object.defineProperty(e,"getCssRule",{enumerable:!0,get:function(){return A.getCssRule}}),Object.defineProperty(e,"getNodeSelector",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"getGraphQLOperation",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"isSessionEvent",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"isActivityEvent",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(e,"parseIntFromHex",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(e,"isRecordingSampled",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(e,"makeRecordingID",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(e,"setFromArray",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(e,"setToArray",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"applyUrlSanitizer",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(e,"maybeCleanSwiftUIClassName",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(e,"LOG_FILTER_TYPES",{enumerable:!0,get:function(){return U.LOG_FILTER_TYPES}}),Object.defineProperty(e,"LOG_TYPES",{enumerable:!0,get:function(){return U.LOG_TYPES}}),Object.defineProperty(e,"METRIC_TIMESERIES_TYPE",{enumerable:!0,get:function(){return B.METRIC_TIMESERIES_TYPE}}),Object.defineProperty(e,"HEATMAP_FOR_URL_OPERATOR",{enumerable:!0,get:function(){return B.HEATMAP_FOR_URL_OPERATOR}}),Object.defineProperty(e,"DEFAULT_HEATMAP_FOR_URL_OPERATOR",{enumerable:!0,get:function(){return B.DEFAULT_HEATMAP_FOR_URL_OPERATOR}}),Object.defineProperty(e,"DEFAULT_INSIGHTS_HEATMAP_FOR_URL_OPERATOR",{enumerable:!0,get:function(){return B.DEFAULT_INSIGHTS_HEATMAP_FOR_URL_OPERATOR}}),Object.defineProperty(e,"SORT_DIRECTION",{enumerable:!0,get:function(){return B.SORT_DIRECTION}}),Object.defineProperty(e,"FEEDBACK_SORT_COLUMN",{enumerable:!0,get:function(){return B.FEEDBACK_SORT_COLUMN}}),Object.defineProperty(e,"METRIC_RETENTION_TYPE",{enumerable:!0,get:function(){return B.METRIC_RETENTION_TYPE}}),Object.defineProperty(e,"ISSUE_TYPE",{enumerable:!0,get:function(){return H.ISSUE_TYPE}}),Object.defineProperty(e,"ISSUE_GROUP_TYPE",{enumerable:!0,get:function(){return H.ISSUE_GROUP_TYPE}}),Object.defineProperty(e,"ES_ISSUE_TYPE_BASE_FILTER",{enumerable:!0,get:function(){return H.ES_ISSUE_TYPE_BASE_FILTER}}),Object.defineProperty(e,"ES_ISSUE_TYPES",{enumerable:!0,get:function(){return H.ES_ISSUE_TYPES}}),Object.defineProperty(e,"findKeyFrames",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(e,"interpolate",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(e,"interpolateMobile",{enumerable:!0,get:function(){return W.interpolateMobile}}),Object.defineProperty(e,"removeOutdated",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(e,"DELIGHTED_RESPONSES_REGEX",{enumerable:!0,get:function(){return z.DELIGHTED_RESPONSES_REGEX}}),Object.defineProperty(e,"WOOTRIC_RESPONSES_REGEX",{enumerable:!0,get:function(){return z.WOOTRIC_RESPONSES_REGEX}}),Object.defineProperty(e,"REPLAY_TYPE",{enumerable:!0,get:function(){return q.REPLAY_TYPE}}),Object.defineProperty(e,"ReplayType",{enumerable:!0,get:function(){return q.ReplayType}}),Object.defineProperty(e,"SDK_REPLAY_TYPE",{enumerable:!0,get:function(){return $.SDK_REPLAY_TYPE}}),Object.defineProperty(e,"SDK_TYPE",{enumerable:!0,get:function(){return $.SDK_TYPE}}),Object.defineProperty(e,"SDK_TYPE_TO_DISPLAY",{enumerable:!0,get:function(){return $.SDK_TYPE_TO_DISPLAY}}),Object.defineProperty(e,"SESSION_TYPE_TO_DISPLAY",{enumerable:!0,get:function(){return $.SESSION_TYPE_TO_DISPLAY}}),Object.defineProperty(e,"STATUS_CODES",{enumerable:!0,get:function(){return Y.STATUS_CODES}}),Object.defineProperty(e,"getStatusText",{enumerable:!0,get:function(){return Y.getStatusText}}),Object.defineProperty(e,"parseQueryString",{enumerable:!0,get:function(){return K.parseQueryString}}),Object.defineProperty(e,"likeOperator",{enumerable:!0,get:function(){return X.likeOperator}}),Object.defineProperty(e,"scrollMapHistogramToPercent",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(e,"combineHashes",{enumerable:!0,get:function(){return Q.combineHashes}}),Object.defineProperty(e,"hashString",{enumerable:!0,get:function(){return Q.hashString}}),Object.defineProperty(e,"encodeUserTraitString",{enumerable:!0,get:function(){return tt.encodeUserTraitString}}),Object.defineProperty(e,"parseUserTraitString",{enumerable:!0,get:function(){return tt.parseUserTraitString}}),Object.defineProperty(e,"IdentityStatus",{enumerable:!0,get:function(){return et.IdentityStatus}}),Object.defineProperty(e,"parseIdentityStatus",{enumerable:!0,get:function(){return et.parseIdentityStatus}}),Object.defineProperty(e,"scrubException",{enumerable:!0,get:function(){return nt.scrubException}}),e.MobileConstants=void 0;var a=i(n("./packages/@logrocket/utils/src/enhanceFunc.js")),s=i(n("./packages/@logrocket/utils/src/shallowArsonify.js")),u=i(n("./packages/@logrocket/utils/src/shallowDearsonify.js")),l=i(n("./packages/@logrocket/utils/src/deepArsonify.js")),c=i(n("./packages/@logrocket/utils/src/deepDearsonify.js")),d=i(n("./packages/@logrocket/utils/src/addListener.js")),h=i(n("./packages/@logrocket/utils/src/protectFunc.js")),f=i(n("./packages/@logrocket/utils/src/findIndex.js")),p=i(n("./packages/@logrocket/utils/src/find.js")),g=i(n("./packages/@logrocket/utils/src/flatten.js")),m=i(n("./packages/@logrocket/utils/src/selectorMatches.js")),v=i(n("./packages/@logrocket/utils/src/parseSelectorForMatch.js")),y=i(n("./packages/@logrocket/utils/src/querySelectorWithShadowDom.js")),_=lt(n("./packages/@logrocket/utils/src/sendTelemetryData.js")),b=i(n("./packages/@logrocket/utils/src/sanitizeValue.js")),w=n("./packages/@logrocket/utils/src/adjustOsVersion.ts"),T=i(n("./packages/@logrocket/utils/src/selectorFromNodePath.js")),S=i(n("./packages/@logrocket/utils/src/startsWith.js")),E=i(n("./packages/@logrocket/utils/src/endsWith.js")),O=i(n("./packages/@logrocket/utils/src/contains.js")),P=i(n("./packages/@logrocket/utils/src/uuid.js")),C=i(n("./packages/@logrocket/utils/src/randomInt.js")),A=n("./packages/@logrocket/utils/src/getCssRules.ts"),k=i(n("./packages/@logrocket/utils/src/getNodeSelector.js")),x=i(n("./packages/@logrocket/utils/src/getGraphQLOperation.js")),I=i(n("./packages/@logrocket/utils/src/isSessionEvent.js")),M=i(n("./packages/@logrocket/utils/src/isActivityEvent.js")),R=i(n("./packages/@logrocket/utils/src/parseIntFromHex.js")),N=i(n("./packages/@logrocket/utils/src/isRecordingSampled.js")),D=i(n("./packages/@logrocket/utils/src/makeRecordingID.js")),L=i(n("./packages/@logrocket/utils/src/setFromArray.js")),j=i(n("./packages/@logrocket/utils/src/setToArray.js")),F=i(n("./packages/@logrocket/utils/src/applyUrlSanitizer.js")),V=i(n("./packages/@logrocket/utils/src/maybeCleanSwiftUIClassName.ts")),U=n("./packages/@logrocket/utils/src/constants/logTypes.js"),B=n("./packages/@logrocket/utils/src/constants/metrics.js"),H=n("./packages/@logrocket/utils/src/constants/issues.ts"),G=i(n("./packages/@logrocket/utils/src/findKeyFrames.js")),W=lt(n("./packages/@logrocket/utils/src/interpolate.js")),Z=i(n("./packages/@logrocket/utils/src/removeOutdated.js")),z=n("./packages/@logrocket/utils/src/constants/nps.js"),q=n("./packages/@logrocket/utils/src/constants/replayTypes.ts"),$=n("./packages/@logrocket/utils/src/constants/sdkTypes.ts"),Y=n("./packages/@logrocket/utils/src/constants/statusCodes.ts"),K=n("./packages/@logrocket/utils/src/parseQueryString.js"),X=n("./packages/@logrocket/utils/src/likeOperator.js"),J=i(n("./packages/@logrocket/utils/src/scrollMapHistogramToPercent.js")),Q=n("./packages/@logrocket/utils/src/hashString.js"),tt=n("./packages/@logrocket/utils/src/userTraitStrings.ts"),et=n("./packages/@logrocket/utils/src/identityStatus.ts"),nt=n("./packages/@logrocket/utils/src/scrubException.ts"),it=lt(n("./packages/@logrocket/utils/src/constants/mobile.ts"));e.MobileConstants=it;var rt=n("./packages/@logrocket/utils/src/browserUtils.js");Object.keys(rt).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===rt[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return rt[t]}}))}));var ot=n("./packages/@logrocket/utils/src/isValidAppID.ts");Object.keys(ot).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===ot[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return ot[t]}}))}));var at=n("./packages/@logrocket/utils/src/requireValue.ts");Object.keys(at).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===at[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return at[t]}}))}));var st=n("./packages/@logrocket/utils/src/types.ts");function ut(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(ut=function(t){return t?n:e})(t)}function lt(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var n=ut(e);if(n&&n.has(t))return n.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}Object.keys(st).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||t in e&&e[t]===st[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return st[t]}}))}))},"./packages/@logrocket/utils/src/interpolate.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=s,e.interpolateMobile=function(t,e,n){if(!t)return{};var i=t.prev,r=t.next;return"MOVE"===r.type?s(t,e):i===r&&Math.abs(n-r.time)>500?null:r};var r=i(n("./node_modules/@babel/runtime/helpers/defineProperty.js"));function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t,e){if(!t)return{};var n,i=t.prev,s=t.next,u=t.ratio,l=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},s),c=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(e);try{for(c.s();!(n=c.n()).done;){var d=n.value;l[d]=i[d]+(s[d]-i[d])*u}}catch(t){c.e(t)}finally{c.f()}return l}},"./packages/@logrocket/utils/src/isActivityEvent.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return["lr.browser.MouseEvent","lr.browser.ScrollEvent","lr.browser.InputEvent","lr.browser.InputChangeEvent","lr.android.TouchEvent","lr.android.InputChangeEvent","lr.ios.TouchEvent","lr.ios.InputChangeEvent"].indexOf(t)>-1}},"./packages/@logrocket/utils/src/isRecordingSampled.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e<=0)return!1;var n=Math.floor(e*o);return(0,r.default)(t)%o<=n};var r=i(n("./packages/@logrocket/utils/src/parseIntFromHex.js")),o=1e4},"./packages/@logrocket/utils/src/isSessionEvent.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n.indexOf(t.type)>-1||"CLICK"===t.data.eventType};var n=["lr.browser.NavigationEvent","lr.browser.InputChangeEvent","lr.browser.InputEvent"]},"./packages/@logrocket/utils/src/isValidAppID.ts":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidAppID=function(t){return"string"==typeof t&&n.test(t)};var n=/^[a-z0-9_-]+\/[a-z0-9_-]+$/},"./packages/@logrocket/utils/src/likeOperator.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.likeOperator=function(t,e){var n=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\\\*/g,".*").replace(/\\\?/g,".");return new RegExp("^".concat(n,"$")).test(t)}},"./packages/@logrocket/utils/src/logError.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n="undefined"!=typeof console&&console.error&&console.error.bind?console.error.bind(console):function(){};e.default=n},"./packages/@logrocket/utils/src/makeRecordingID.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).prefix;return"".concat(void 0===t?5:t,"-").concat((0,r.default)())};var r=i(n("./packages/@logrocket/utils/src/uuid.js"))},"./packages/@logrocket/utils/src/mapValues.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(null==t)return{};var n={};return Object.keys(t).forEach((function(i){n[i]=e(t[i])})),n}},"./packages/@logrocket/utils/src/maybeCleanSwiftUIClassName.ts":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.replace(/</g,"%3c").replace(/>/g,"%3e").replace(/\s/g,"")}},"./packages/@logrocket/utils/src/parseIntFromHex.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.replace(/[^0-9a-f]/g,"");return parseInt("0x".concat(e),16)||0}},"./packages/@logrocket/utils/src/parseQueryString.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.parseQueryString=void 0;var r=i(n("./node_modules/@babel/runtime/helpers/slicedToArray.js"));e.parseQueryString=function(t){var e,n,i=t.indexOf("?");return-1===i?{}:(e=t.substring(i+1),n={},e.split("&").forEach((function(t){var e=t.split("=").map((function(t){return t.replace(/\+/g," ")})).map(decodeURIComponent),i=(0,r.default)(e,2),o=i[0],a=i[1];n[o]=a})),n)}},"./packages/@logrocket/utils/src/parseSelectorForMatch.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.replace(/\s*>\s*|:nth-child\(([1-9][0-9]*|odd|even)\)|\s+/gi,(function(t){return t.indexOf(">")>-1?" >":0===t.trim().length?" ":"".concat(s).concat(t.slice(u.length))})).split(/\s+/).map((function(t){var e={},n=t;if(">"===n.charAt(0)&&(e.directDesc=!0,n=n.slice(1)),(n=n.replace(/^([a-z0-9-_]+)/gi,(function(t){return e.nodeName=t,""}))).charAt(0)===s){var i=n.slice(1).split(")"),u=(0,o.default)(i,2),l=u[0],c=u[1];e.nthChild=l,n=c}return n.replace(/\.|#/gi,(function(t){return" ".concat(t)})).trim().split(" ").forEach((function(t){if((0,a.default)(t,".")){var n=t.slice(1);e.classList=e.classList?[].concat((0,r.default)(e.classList),[n]):[n]}else(0,a.default)(t,"#")&&(e.id=t.slice(1))})),e}))};var r=i(n("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),o=i(n("./node_modules/@babel/runtime/helpers/slicedToArray.js")),a=i(n("./packages/@logrocket/utils/src/startsWith.js")),s="~",u=":nth-child("},"./packages/@logrocket/utils/src/protectFunc.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(){var n;try{n=t.apply(void 0,arguments)}catch(t){if("undefined"!=typeof window&&window._lrdebug)throw t;var i=e(t);(0,o.default)("LogRocket",t),(0,r.default)(t,i)}return n}};var r=i(n("./packages/@logrocket/utils/src/sendTelemetryData.js")),o=i(n("./packages/@logrocket/utils/src/logError.js"))},"./packages/@logrocket/utils/src/querySelectorWithShadowDom.js":function(t,e){"use strict";function n(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e.startsWith("$shadow-root >"))throw new Error("Malformed selector '".concat(e,"': should not start with $shadow-root"));e.endsWith("> $shadow-root")&&(e=e.slice(0,e.length-14));for(var n,i=t,r=e.split("> $shadow-root >"),a=0;a<r.length;a++)if((n=o(i,r[a]))&&a<r.length-1){if(!n.shadowRoot)throw new Error("Missing shadowRoot for selector '".concat(e,"' at depth ").concat(a));i=n.shadowRoot}return{root:i,node:n}},e.caseInsensitiveQuerySelector=void 0;var r=function(t){var e,i=t.root,r=t.selectorList,o=t.directDesc,a=r[0].split(/(?=\.)|(?=#)/),s=a.shift(),u="",l=[];a.forEach((function(t){"#"===t[0]&&(u=t.toLowerCase().substring(1).trim()),"."===t[0]&&l.push(t.toLowerCase().substring(1).trim())})),e=o?[i.querySelector(":scope > ".concat(s))]:i.querySelectorAll(s);var c,d=[],h=n(e);try{var f=function(){var t=c.value;if(!t||u!==t.id.toLowerCase())return"continue";var e=Array.from(t.classList.values()).map((function(t){return t.toLowerCase()})).filter((function(t){return""!==t&&":"!==t[0]}));if(!l.every((function(t){return e.indexOf(t)>-1})))return"continue";d.push(t)};for(h.s();!(c=h.n()).done;)f()}catch(t){h.e(t)}finally{h.f()}return d},o=function(t,e){if(!e.length)return null;var i;if(!(i=t.host?t:t.querySelector("body")))return null;for(var o=[{matches:[i],selectorList:e.split(" > "),directDesc:!1}];o.length;){var a,s=o.shift(),u=s.matches,l=s.selectorList,c=s.directDesc,d=n(u);try{for(d.s();!(a=d.n()).done;){var h=a.value,f=r({root:h,selectorList:l,directDesc:c});if(f.length&&1===l.length)return f[0];f.length&&o.push({matches:f,selectorList:l.slice(1),directDesc:!0})}}catch(t){d.e(t)}finally{d.f()}}return null};e.caseInsensitiveQuerySelector=o},"./packages/@logrocket/utils/src/randomInt.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=Math.ceil(t),i=Math.floor(e);return Math.floor(Math.random()*(i-n))+n}},"./packages/@logrocket/utils/src/removeOutdated.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(0===t.length)return t;var n=(0,r.default)(t,{time:e.time-o},"time")-1,i=t[n];return i&&e.time-i.time>o&&n>0?t.slice(n):t};var r=i(n("./packages/@logrocket/utils/node_modules/lodash/sortedLastIndexBy.js")),o=5e3},"./packages/@logrocket/utils/src/requireValue.ts":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.requireValue=void 0,e.requireValue=function(t){if(void 0===t)throw new Error("Value must not be undefined.");return t}},"./packages/@logrocket/utils/src/sanitizeValue.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i=String(t);return"lipsum"===String(e).toLowerCase()?n(i):""};var n=function(t){for(var e=Math.ceil(t.length/232),n="";e>0;)n+="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. ",e--;return n.slice(0,t.length)}},"./packages/@logrocket/utils/src/scrollMapHistogramToPercent.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){for(var n=[],i=t.reduce((function(t,e){return t+e.count}),0),r=0,o=1;o<=100;o++){var a=e*(.01*o);r>=t.length?n.push(0):(n.push(i),a>t[r].maxScroll&&(i-=t[r].count,r++))}return n}},"./packages/@logrocket/utils/src/scrubException.ts":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.scrubException=function(t,e){if(e){var n,i=o(u);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=e[r];s(a)&&(t[r]=a.toString())}}catch(t){i.e(t)}finally{i.f()}var c,d=o(l);try{for(d.s();!(c=d.n()).done;){for(var h=c.value,f=e[h]||{},p={},g=0,m=Object.keys(f);g<m.length;g++){var v=m[g],y=f[v];s(y)&&(p[v.toString()]=y.toString())}t[h]=p}}catch(t){d.e(t)}finally{d.f()}}};var r=i(n("./node_modules/@babel/runtime/helpers/typeof.js"));function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t){return/boolean|number|string/.test((0,r.default)(t))}var u=["level","logger"],l=["tags","extra"]},"./packages/@logrocket/utils/src/selectorFromNodePath.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}((0,r.default)(e).reverse());try{var a=function(){var e=t.value,i=e.nodeName,o=e.id,a=e.nthChild,s=e.classList,u=[],l=[];a&&l.push("nth-child(".concat(a,")")),i&&(u.push(i),l.sort().map((function(t){return u.push(":".concat(t))}))),o&&u.push("#".concat(o)),s&&s.length&&(s=s.map((function(t){return t.toLowerCase()})).sort(),u=[].concat((0,r.default)(u),(0,r.default)(s.map((function(t){return".".concat(t)}))))),u.length&&n.push(u.join(" "))};for(i.s();!(t=i.n()).done;)a()}catch(t){i.e(t)}finally{i.f()}return n.join(" > ")};var r=i(n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"));function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}},"./packages/@logrocket/utils/src/selectorMatches.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i,l=t.slice(0).reverse(),c=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(e);try{var d=function(){var t=i.value;return t.directDesc?u.apply(void 0,[t].concat((0,r.default)(l.splice(0,1))))?"continue":{v:!1}:-1===(n=(0,a.default)(l,(function(e){return u(t,e)})))?{v:!1}:void l.splice(0,n+1)};for(c.s();!(i=c.n()).done;){var h=d();if("continue"!==h&&"object"===(0,o.default)(h))return h.v}}catch(t){c.e(t)}finally{c.f()}return!0};var r=i(n("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),o=i(n("./node_modules/@babel/runtime/helpers/typeof.js")),a=i(n("./packages/@logrocket/utils/src/findIndex.js"));function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){if(!t||!e)return!1;if(t.id&&t.id!==e.id)return!1;if(t.nodeName&&t.nodeName!==e.nodeName)return!1;if(t.classList&&(!e.classList||t.classList.map((function(t){return t.toLowerCase()})).some((function(t){return-1===e.classList.map((function(t){return t.toLowerCase()})).indexOf(t)}))))return!1;if(t.nthChild){var n=parseInt(t.nthChild,10);return isNaN(n)?Math.abs(e.nthChild%2)===("odd"===t.nthChild?1:0):n===e.nthChild}return!0}},"./packages/@logrocket/utils/src/sendTelemetryData.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.sendTelemetry=function(t,e){"undefined"!=typeof window&&window._lrdebug?(0,o.default)(t):e&&e.extra&&e.extra.appID&&"function"==typeof e.extra.appID.indexOf&&0===e.extra.appID.indexOf("au2drp/")&&Math.random()>=.25||c(u({message:t},e))},e.default=function(t,e){try{var n,i,r=t.message;try{n=JSON.stringify(e).slice(0,1e3)}catch(t){try{n="Could not stringify payload: ".concat(Object.prototype.toString.call(e))}catch(t){}}try{i=a.default.computeStackTrace(t).stack.map((function(t){return{filename:t.url,lineno:t.line,colno:t.column,function:t.func||"?"}}))}catch(t){}c({message:r,extra:{stringPayload:n},exception:{values:[{type:t.type,value:r,stacktrace:{frames:i}}]}})}catch(t){(0,o.default)("Failed to send",t)}};var r=i(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),o=i(n("./packages/@logrocket/utils/src/logError.js")),a=i(n("./packages/@logrocket/utils/src/TraceKit.js"));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l="26d51ca97d2fb189a318cbb9cfdf64c796cae88a";function c(t){var e=window._lrXMLHttpRequest||XMLHttpRequest;try{var n=new e,i=t.message;n.open("POST","https://e.logrocket.com/api/3/store/?sentry_version=7&sentry_client=http%2F3.8.0&sentry_key=b64162b4187a4c5caae8a68a7e291793"),n.send(JSON.stringify(u({message:i,logger:"javascript",platform:"javascript",request:{headers:{"User-Agent":"undefined"!=typeof navigator&&navigator.userAgent},url:"undefined"!=typeof location&&location.href},release:l,environment:"test"},t)))}catch(t){(0,o.default)("Failed to send",t)}}},"./packages/@logrocket/utils/src/setFromArray.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=new Set;return t.forEach((function(t){return e.add(t)})),e}},"./packages/@logrocket/utils/src/setToArray.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e}},"./packages/@logrocket/utils/src/shallowArsonify.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e={}.toString.call(t);switch(e){case"[object Undefined]":return{undefined:{}};case"[object Null]":return{null:{}};case"[object Boolean]":return{boolean:{bool:t}};case"[object Number]":return{number:{double:t}};case"[object String]":return{string:{string:t}};case"[object Object]":return{object:{map:t}};case"[object Array]":return{array:{map:t}};case"[object Date]":return{date:{double:t.getTime()}};case"[object Error]":return{string:{string:"".concat(t.name,": ").concat(t.message)}};default:return{unsupported:{type:e}}}}},"./packages/@logrocket/utils/src/shallowDearsonify.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){switch(t.type||Object.keys(t)[0]){case"undefined":return;case"null":return null;case"boolean":return t.boolean.bool;case"number":return t.number.double;case"string":return t.string.string;case"object":return t.object.map;case"array":return Object.keys(t.array.map).reduce((function(e,n){return e[n]=t.array.map[n],e}),[]);case"date":return new Date(t.date.double);case"unsupported":return t.unsupported.type;default:throw new TypeError("Unexpected value in shallowDearsonify: ".concat(t))}}},"./packages/@logrocket/utils/src/startsWith.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t&&e&&t.substring(n,n+e.length)===e}},"./packages/@logrocket/utils/src/types.ts":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},"./packages/@logrocket/utils/src/userTraitStrings.ts":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseUserTraitString=e.encodeUserTraitString=void 0;var n=":",i=String.fromCharCode(26);e.encodeUserTraitString=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.map((function(t){return t.replace(new RegExp(n,"g"),i)})).join(n)},e.parseUserTraitString=function(t){return(t||n).split(n).map((function(t){return t.replace(new RegExp(i,"g"),n)}))}},"./packages/@logrocket/utils/src/uuid.js":function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}},"./packages/logrocket/src/LogRocket.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.MAX_QUEUE_SIZE=void 0;var r=i(n("./node_modules/@babel/runtime/helpers/classCallCheck.js")),o=i(n("./node_modules/@babel/runtime/helpers/createClass.js")),a=i(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),s=i(n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),u=i(n("./packages/@logrocket/network/src/index.js")),l=n("./packages/@logrocket/exceptions/src/index.js"),c=i(n("./packages/@logrocket/console/src/index.js")),d=n("./packages/@logrocket/redux/src/index.js");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){(0,a.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.MAX_QUEUE_SIZE=1e3;var p=function(){function t(){var e=this;(0,r.default)(this,t),this._buffer=[],["log","info","warn","error","debug"].forEach((function(t){e[t]=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.addEvent("lr.core.LogEvent",(function(){return"error"===t&&(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).shouldAggregateConsoleErrors&&l.Capture.captureMessage(e,i[0],i,{},!0),{logLevel:t.toUpperCase(),args:i}}),{shouldCaptureStackTrace:!0})}})),this._isInitialized=!1,this._installed=[],window._lr_surl_cb=this.getSessionURL.bind(this)}return(0,o.default)(t,[{key:"addEvent",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Date.now();this._run((function(r){r.addEvent(t,e,f(f({},n),{},{timeOverride:i}))}))}},{key:"onLogger",value:function(t){for(this._logger=t;this._buffer.length>0;)this._buffer.shift()(this._logger)}},{key:"_run",value:function(t){if(!this._isDisabled)if(this._logger)t(this._logger);else{if(this._buffer.length>=1e3)return this._isDisabled=!0,console.warn("LogRocket: script did not load. Check that you have a valid network connection."),void this.uninstall();this._buffer.push(t.bind(this))}}},{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._isInitialized){var n=e.shouldAugmentNPS,i=void 0===n||n,r=e.shouldParseXHRBlob,o=void 0!==r&&r,a=e.shouldDetectExceptions;(void 0===a||a)&&this._installed.push((0,l.registerExceptions)(this)),this._installed.push((0,u.default)(this,{shouldAugmentNPS:!!i,shouldParseXHRBlob:!!o})),this._installed.push((0,c.default)(this)),this._isInitialized=!0,this._run((function(n){n.init(t,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ingestServer,n=(0,s.default)(t,["ingestServer"]);return e?f({serverURL:"".concat(e,"/i"),statsURL:"".concat(e,"/s")},n):n}(e))}))}}},{key:"start",value:function(){this._run((function(t){t.start()}))}},{key:"uninstall",value:function(){this._installed.forEach((function(t){return t()})),this._buffer=[],this._run((function(t){t.uninstall()}))}},{key:"identify",value:function(t,e){this._run((function(n){n.identify(t,e)}))}},{key:"startNewSession",value:function(){this._run((function(t){t.startNewSession()}))}},{key:"track",value:function(t,e){this._run((function(n){n.track(t,e)}))}},{key:"getSessionURL",value:function(t){if("function"!=typeof t)throw new Error("LogRocket: must pass callback to getSessionURL()");this._run((function(e){e.getSessionURL?e.getSessionURL(t):t(e.recordingURL)}))}},{key:"getVersion",value:function(t){this._run((function(e){t(e.version)}))}},{key:"captureMessage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.Capture.captureMessage(this,t,[t],e)}},{key:"captureException",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.Capture.captureException(this,t,e)}},{key:"version",get:function(){return this._logger&&this._logger.version}},{key:"sessionURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingID",get:function(){return this._logger&&this._logger.recordingID}},{key:"threadID",get:function(){return this._logger&&this._logger.threadID}},{key:"tabID",get:function(){return this._logger&&this._logger.tabID}},{key:"reduxEnhancer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,d.createEnhancer)(this,t)}},{key:"reduxMiddleware",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,d.createMiddleware)(this,t)}},{key:"isDisabled",get:function(){return!!(this._isDisabled||this._logger&&this._logger._isDisabled)}}]),t}();e.default=p},"./packages/logrocket/src/makeLogRocket.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if("undefined"!=typeof navigator&&"ReactNative"===navigator.product)throw new Error(o);if("undefined"!=typeof window){if(window._disableLogRocket)return a();if(window.MutationObserver&&window.WeakMap){window._lrMutationObserver=window.MutationObserver;var e=new r.default;return t(e),e}}return a()};var r=i(n("./packages/logrocket/src/LogRocket.js")),o="LogRocket does not yet support React Native.",a=function(){return{init:function(){},uninstall:function(){},log:function(){},info:function(){},warn:function(){},error:function(){},debug:function(){},addEvent:function(){},identify:function(){},start:function(){},get threadID(){return null},get recordingID(){return null},get recordingURL(){return null},reduxEnhancer:function(){return function(t){return function(){return t.apply(void 0,arguments)}}},reduxMiddleware:function(){return function(){return function(t){return function(e){return t(e)}}}},track:function(){},getSessionURL:function(){},getVersion:function(){},startNewSession:function(){},onLogger:function(){},setClock:function(){},captureMessage:function(){},captureException:function(){}}}},"./packages/logrocket/src/setup.js":function(t,e,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.enterpriseServer,i=e.sdkVersion,s=void 0===i?"7.0.0":i,u=(0,r.default)(e,["enterpriseServer","sdkVersion"]),l="https://cdn.logrocket.io";if("script"===s)try{var c=document.currentScript.src.match(/^(https?:\/\/([^\\]+))\/.+$/),d=c&&c[2];d&&a[d]&&(l=c&&c[1],t=a[d])}catch(t){}else l="https://cdn.intake-lr.com",t="https://r.intake-lr.com";var h=u.sdkServer||n,f=u.ingestServer||n||t,p=(0,o.default)((function(){var t=document.createElement("script");f&&(void 0===window.__SDKCONFIG__&&(window.__SDKCONFIG__={}),window.__SDKCONFIG__.serverURL="".concat(f,"/i"),window.__SDKCONFIG__.statsURL="".concat(f,"/s")),h?t.src="".concat(h,"/logger.min.js"):window.__SDKCONFIG__&&window.__SDKCONFIG__.loggerURL?t.src=window.__SDKCONFIG__.loggerURL:window._lrAsyncScript?t.src=window._lrAsyncScript:t.src="".concat(l,"/logger-1.min.js"),t.async=!0,document.head.appendChild(t),t.onload=function(){"function"==typeof window._LRLogger?p.onLogger(new window._LRLogger({sdkVersion:s})):(console.warn("LogRocket: script execution has been blocked by a product or service."),p.uninstall())},t.onerror=function(){console.warn("LogRocket: script could not load. Check that you have a valid network connection."),p.uninstall()}}));return p};var r=i(n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),o=i(n("./packages/logrocket/src/makeLogRocket.js")),a={"cdn.logrocket.io":"https://r.logrocket.io","cdn.lr-ingest.io":"https://r.lr-ingest.io","cdn.lr-in.com":"https://r.lr-in.com","cdn.lr-in-prod.com":"https://r.lr-in-prod.com","cdn.lr-ingest.com":"https://r.lr-ingest.com","cdn.ingest-lr.com":"https://r.ingest-lr.com","cdn.lr-intake.com":"https://r.lr-intake.com","cdn.intake-lr.com":"https://r.intake-lr.com","cdn-staging.logrocket.io":"https://staging-i.logrocket.io","cdn-staging.lr-ingest.io":"https://staging-i.lr-ingest.io","cdn-staging.lr-in.com":"https://staging-i.lr-in.com","cdn-staging.lr-in-prod.com":"https://staging-i.lr-in-prod.com","cdn-staging.lr-ingest.com":"https://staging-i.lr-ingest.com","cdn-staging.ingest-lr.com":"https://staging-i.ingest-lr.com","cdn-staging.lr-intake.com":"https://staging-i.lr-intake.com","cdn-staging.intake-lr.com":"https://staging-i.intake-lr.com"}},"./packages/@logrocket/utils/node_modules/lodash/_DataView.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_getNative.js")(n("./packages/@logrocket/utils/node_modules/lodash/_root.js"),"DataView");t.exports=i},"./packages/@logrocket/utils/node_modules/lodash/_Hash.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_hashClear.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_hashDelete.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_hashGet.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/_hashHas.js"),s=n("./packages/@logrocket/utils/node_modules/lodash/_hashSet.js");function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=r,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},"./packages/@logrocket/utils/node_modules/lodash/_ListCache.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_listCacheClear.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_listCacheDelete.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_listCacheGet.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/_listCacheHas.js"),s=n("./packages/@logrocket/utils/node_modules/lodash/_listCacheSet.js");function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=r,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},"./packages/@logrocket/utils/node_modules/lodash/_Map.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_getNative.js")(n("./packages/@logrocket/utils/node_modules/lodash/_root.js"),"Map");t.exports=i},"./packages/@logrocket/utils/node_modules/lodash/_MapCache.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_mapCacheClear.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_mapCacheDelete.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_mapCacheGet.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/_mapCacheHas.js"),s=n("./packages/@logrocket/utils/node_modules/lodash/_mapCacheSet.js");function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}u.prototype.clear=i,u.prototype.delete=r,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},"./packages/@logrocket/utils/node_modules/lodash/_Promise.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_getNative.js")(n("./packages/@logrocket/utils/node_modules/lodash/_root.js"),"Promise");t.exports=i},"./packages/@logrocket/utils/node_modules/lodash/_Set.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_getNative.js")(n("./packages/@logrocket/utils/node_modules/lodash/_root.js"),"Set");t.exports=i},"./packages/@logrocket/utils/node_modules/lodash/_SetCache.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_MapCache.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_setCacheAdd.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_setCacheHas.js");function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=r,a.prototype.has=o,t.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_Stack.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_ListCache.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_stackClear.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_stackDelete.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/_stackGet.js"),s=n("./packages/@logrocket/utils/node_modules/lodash/_stackHas.js"),u=n("./packages/@logrocket/utils/node_modules/lodash/_stackSet.js");function l(t){var e=this.__data__=new i(t);this.size=e.size}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},"./packages/@logrocket/utils/node_modules/lodash/_Symbol.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_root.js").Symbol;t.exports=i},"./packages/@logrocket/utils/node_modules/lodash/_Uint8Array.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_root.js").Uint8Array;t.exports=i},"./packages/@logrocket/utils/node_modules/lodash/_WeakMap.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_getNative.js")(n("./packages/@logrocket/utils/node_modules/lodash/_root.js"),"WeakMap");t.exports=i},"./packages/@logrocket/utils/node_modules/lodash/_arrayFilter.js":function(t){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}},"./packages/@logrocket/utils/node_modules/lodash/_arrayLikeKeys.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseTimes.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/isArguments.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/isArray.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/isBuffer.js"),s=n("./packages/@logrocket/utils/node_modules/lodash/_isIndex.js"),u=n("./packages/@logrocket/utils/node_modules/lodash/isTypedArray.js"),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&r(t),d=!n&&!c&&a(t),h=!n&&!c&&!d&&u(t),f=n||c||d||h,p=f?i(t.length,String):[],g=p.length;for(var m in t)!e&&!l.call(t,m)||f&&("length"==m||d&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},"./packages/@logrocket/utils/node_modules/lodash/_arrayMap.js":function(t){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}},"./packages/@logrocket/utils/node_modules/lodash/_arrayPush.js":function(t){t.exports=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}},"./packages/@logrocket/utils/node_modules/lodash/_arraySome.js":function(t){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}},"./packages/@logrocket/utils/node_modules/lodash/_assocIndexOf.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/eq.js");t.exports=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},"./packages/@logrocket/utils/node_modules/lodash/_baseGet.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_castPath.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_toKey.js");t.exports=function(t,e){for(var n=0,o=(e=i(e,t)).length;null!=t&&n<o;)t=t[r(e[n++])];return n&&n==o?t:void 0}},"./packages/@logrocket/utils/node_modules/lodash/_baseGetAllKeys.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_arrayPush.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/isArray.js");t.exports=function(t,e,n){var o=e(t);return r(t)?o:i(o,n(t))}},"./packages/@logrocket/utils/node_modules/lodash/_baseGetTag.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_Symbol.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_getRawTag.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_objectToString.js"),a=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?r(t):o(t)}},"./packages/@logrocket/utils/node_modules/lodash/_baseHasIn.js":function(t){t.exports=function(t,e){return null!=t&&e in Object(t)}},"./packages/@logrocket/utils/node_modules/lodash/_baseIsArguments.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseGetTag.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/isObjectLike.js");t.exports=function(t){return r(t)&&"[object Arguments]"==i(t)}},"./packages/@logrocket/utils/node_modules/lodash/_baseIsEqual.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseIsEqualDeep.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/isObjectLike.js");t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!r(e)&&!r(n)?e!=e&&n!=n:i(e,n,o,a,t,s))}},"./packages/@logrocket/utils/node_modules/lodash/_baseIsEqualDeep.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_Stack.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_equalArrays.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_equalByTag.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/_equalObjects.js"),s=n("./packages/@logrocket/utils/node_modules/lodash/_getTag.js"),u=n("./packages/@logrocket/utils/node_modules/lodash/isArray.js"),l=n("./packages/@logrocket/utils/node_modules/lodash/isBuffer.js"),c=n("./packages/@logrocket/utils/node_modules/lodash/isTypedArray.js"),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,m,v){var y=u(t),_=u(e),b=y?h:s(t),w=_?h:s(e),T=(b=b==d?f:b)==f,S=(w=w==d?f:w)==f,E=b==w;if(E&&l(t)){if(!l(e))return!1;y=!0,T=!1}if(E&&!T)return v||(v=new i),y||c(t)?r(t,e,n,g,m,v):o(t,e,b,n,g,m,v);if(!(1&n)){var O=T&&p.call(t,"__wrapped__"),P=S&&p.call(e,"__wrapped__");if(O||P){var C=O?t.value():t,A=P?e.value():e;return v||(v=new i),m(C,A,n,g,v)}}return!!E&&(v||(v=new i),a(t,e,n,g,m,v))}},"./packages/@logrocket/utils/node_modules/lodash/_baseIsMatch.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_Stack.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_baseIsEqual.js");t.exports=function(t,e,n,o){var a=n.length,s=a,u=!o;if(null==t)return!s;for(t=Object(t);a--;){var l=n[a];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){var c=(l=n[a])[0],d=t[c],h=l[1];if(u&&l[2]){if(void 0===d&&!(c in t))return!1}else{var f=new i;if(o)var p=o(d,h,c,t,e,f);if(!(void 0===p?r(h,d,3,o,f):p))return!1}}return!0}},"./packages/@logrocket/utils/node_modules/lodash/_baseIsNative.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/isFunction.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_isMasked.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/isObject.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/_toSource.js"),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,d=l.hasOwnProperty,h=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||r(t))&&(i(t)?h:s).test(a(t))}},"./packages/@logrocket/utils/node_modules/lodash/_baseIsTypedArray.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseGetTag.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/isLength.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/isObjectLike.js"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&r(t.length)&&!!a[i(t)]}},"./packages/@logrocket/utils/node_modules/lodash/_baseIteratee.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseMatches.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_baseMatchesProperty.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/identity.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/isArray.js"),s=n("./packages/@logrocket/utils/node_modules/lodash/property.js");t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?r(t[0],t[1]):i(t):s(t)}},"./packages/@logrocket/utils/node_modules/lodash/_baseKeys.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_isPrototype.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_nativeKeys.js"),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return r(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},"./packages/@logrocket/utils/node_modules/lodash/_baseMatches.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseIsMatch.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_getMatchData.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_matchesStrictComparable.js");t.exports=function(t){var e=r(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}},"./packages/@logrocket/utils/node_modules/lodash/_baseMatchesProperty.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseIsEqual.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/get.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/hasIn.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/_isKey.js"),s=n("./packages/@logrocket/utils/node_modules/lodash/_isStrictComparable.js"),u=n("./packages/@logrocket/utils/node_modules/lodash/_matchesStrictComparable.js"),l=n("./packages/@logrocket/utils/node_modules/lodash/_toKey.js");t.exports=function(t,e){return a(t)&&s(e)?u(l(t),e):function(n){var a=r(n,t);return void 0===a&&a===e?o(n,t):i(e,a,3)}}},"./packages/@logrocket/utils/node_modules/lodash/_baseProperty.js":function(t){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},"./packages/@logrocket/utils/node_modules/lodash/_basePropertyDeep.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseGet.js");t.exports=function(t){return function(e){return i(e,t)}}},"./packages/@logrocket/utils/node_modules/lodash/_baseSortedIndexBy.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/isSymbol.js"),r=Math.floor,o=Math.min;t.exports=function(t,e,n,a){var s=0,u=null==t?0:t.length;if(0===u)return 0;for(var l=(e=n(e))!=e,c=null===e,d=i(e),h=void 0===e;s<u;){var f=r((s+u)/2),p=n(t[f]),g=void 0!==p,m=null===p,v=p==p,y=i(p);if(l)var _=a||v;else _=h?v&&(a||g):c?v&&g&&(a||!m):d?v&&g&&!m&&(a||!y):!m&&!y&&(a?p<=e:p<e);_?s=f+1:u=f}return o(u,4294967294)}},"./packages/@logrocket/utils/node_modules/lodash/_baseTimes.js":function(t){t.exports=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}},"./packages/@logrocket/utils/node_modules/lodash/_baseToString.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_Symbol.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_arrayMap.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/isArray.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/isSymbol.js"),s=i?i.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return r(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},"./packages/@logrocket/utils/node_modules/lodash/_baseUnary.js":function(t){t.exports=function(t){return function(e){return t(e)}}},"./packages/@logrocket/utils/node_modules/lodash/_cacheHas.js":function(t){t.exports=function(t,e){return t.has(e)}},"./packages/@logrocket/utils/node_modules/lodash/_castPath.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/isArray.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_isKey.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_stringToPath.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/toString.js");t.exports=function(t,e){return i(t)?t:r(t,e)?[t]:o(a(t))}},"./packages/@logrocket/utils/node_modules/lodash/_coreJsData.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_root.js")["__core-js_shared__"];t.exports=i},"./packages/@logrocket/utils/node_modules/lodash/_equalArrays.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_SetCache.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_arraySome.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_cacheHas.js");t.exports=function(t,e,n,a,s,u){var l=1&n,c=t.length,d=e.length;if(c!=d&&!(l&&d>c))return!1;var h=u.get(t),f=u.get(e);if(h&&f)return h==e&&f==t;var p=-1,g=!0,m=2&n?new i:void 0;for(u.set(t,e),u.set(e,t);++p<c;){var v=t[p],y=e[p];if(a)var _=l?a(y,v,p,e,t,u):a(v,y,p,t,e,u);if(void 0!==_){if(_)continue;g=!1;break}if(m){if(!r(e,(function(t,e){if(!o(m,e)&&(v===t||s(v,t,n,a,u)))return m.push(e)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,a,u)){g=!1;break}}return u.delete(t),u.delete(e),g}},"./packages/@logrocket/utils/node_modules/lodash/_equalByTag.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_Symbol.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_Uint8Array.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/eq.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/_equalArrays.js"),s=n("./packages/@logrocket/utils/node_modules/lodash/_mapToArray.js"),u=n("./packages/@logrocket/utils/node_modules/lodash/_setToArray.js"),l=i?i.prototype:void 0,c=l?l.valueOf:void 0;t.exports=function(t,e,n,i,l,d,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!d(new r(t),new r(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=s;case"[object Set]":var p=1&i;if(f||(f=u),t.size!=e.size&&!p)return!1;var g=h.get(t);if(g)return g==e;i|=2,h.set(t,e);var m=a(f(t),f(e),i,l,d,h);return h.delete(t),m;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},"./packages/@logrocket/utils/node_modules/lodash/_equalObjects.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_getAllKeys.js"),r=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var u=1&n,l=i(t),c=l.length;if(c!=i(e).length&&!u)return!1;for(var d=c;d--;){var h=l[d];if(!(u?h in e:r.call(e,h)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var g=!0;s.set(t,e),s.set(e,t);for(var m=u;++d<c;){var v=t[h=l[d]],y=e[h];if(o)var _=u?o(y,v,h,e,t,s):o(v,y,h,t,e,s);if(!(void 0===_?v===y||a(v,y,n,o,s):_)){g=!1;break}m||(m="constructor"==h)}if(g&&!m){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(t),s.delete(e),g}},"./packages/@logrocket/utils/node_modules/lodash/_freeGlobal.js":function(t,e,n){var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=i},"./packages/@logrocket/utils/node_modules/lodash/_getAllKeys.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseGetAllKeys.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_getSymbols.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/keys.js");t.exports=function(t){return i(t,o,r)}},"./packages/@logrocket/utils/node_modules/lodash/_getMapData.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_isKeyable.js");t.exports=function(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}},"./packages/@logrocket/utils/node_modules/lodash/_getMatchData.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_isStrictComparable.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/keys.js");t.exports=function(t){for(var e=r(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,i(a)]}return e}},"./packages/@logrocket/utils/node_modules/lodash/_getNative.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseIsNative.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_getValue.js");t.exports=function(t,e){var n=r(t,e);return i(n)?n:void 0}},"./packages/@logrocket/utils/node_modules/lodash/_getRawTag.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_Symbol.js"),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var r=a.call(t);return i&&(e?t[s]=n:delete t[s]),r}},"./packages/@logrocket/utils/node_modules/lodash/_getSymbols.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_arrayFilter.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/stubArray.js"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),i(a(t),(function(e){return o.call(t,e)})))}:r;t.exports=s},"./packages/@logrocket/utils/node_modules/lodash/_getTag.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_DataView.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_Map.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_Promise.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/_Set.js"),s=n("./packages/@logrocket/utils/node_modules/lodash/_WeakMap.js"),u=n("./packages/@logrocket/utils/node_modules/lodash/_baseGetTag.js"),l=n("./packages/@logrocket/utils/node_modules/lodash/_toSource.js"),c="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",g=l(i),m=l(r),v=l(o),y=l(a),_=l(s),b=u;(i&&b(new i(new ArrayBuffer(1)))!=p||r&&b(new r)!=c||o&&b(o.resolve())!=d||a&&b(new a)!=h||s&&b(new s)!=f)&&(b=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,i=n?l(n):"";if(i)switch(i){case g:return p;case m:return c;case v:return d;case y:return h;case _:return f}return e}),t.exports=b},"./packages/@logrocket/utils/node_modules/lodash/_getValue.js":function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},"./packages/@logrocket/utils/node_modules/lodash/_hasPath.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_castPath.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/isArguments.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/isArray.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/_isIndex.js"),s=n("./packages/@logrocket/utils/node_modules/lodash/isLength.js"),u=n("./packages/@logrocket/utils/node_modules/lodash/_toKey.js");t.exports=function(t,e,n){for(var l=-1,c=(e=i(e,t)).length,d=!1;++l<c;){var h=u(e[l]);if(!(d=null!=t&&n(t,h)))break;t=t[h]}return d||++l!=c?d:!!(c=null==t?0:t.length)&&s(c)&&a(h,c)&&(o(t)||r(t))}},"./packages/@logrocket/utils/node_modules/lodash/_hashClear.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_nativeCreate.js");t.exports=function(){this.__data__=i?i(null):{},this.size=0}},"./packages/@logrocket/utils/node_modules/lodash/_hashDelete.js":function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},"./packages/@logrocket/utils/node_modules/lodash/_hashGet.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_nativeCreate.js"),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(i){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(e,t)?e[t]:void 0}},"./packages/@logrocket/utils/node_modules/lodash/_hashHas.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_nativeCreate.js"),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:r.call(e,t)}},"./packages/@logrocket/utils/node_modules/lodash/_hashSet.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_nativeCreate.js");t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this}},"./packages/@logrocket/utils/node_modules/lodash/_isIndex.js":function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var i=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&e.test(t))&&t>-1&&t%1==0&&t<n}},"./packages/@logrocket/utils/node_modules/lodash/_isKey.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/isArray.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/isSymbol.js"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!r(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},"./packages/@logrocket/utils/node_modules/lodash/_isKeyable.js":function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},"./packages/@logrocket/utils/node_modules/lodash/_isMasked.js":function(t,e,n){var i,r=n("./packages/@logrocket/utils/node_modules/lodash/_coreJsData.js"),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";t.exports=function(t){return!!o&&o in t}},"./packages/@logrocket/utils/node_modules/lodash/_isPrototype.js":function(t){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},"./packages/@logrocket/utils/node_modules/lodash/_isStrictComparable.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/isObject.js");t.exports=function(t){return t==t&&!i(t)}},"./packages/@logrocket/utils/node_modules/lodash/_listCacheClear.js":function(t){t.exports=function(){this.__data__=[],this.size=0}},"./packages/@logrocket/utils/node_modules/lodash/_listCacheDelete.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_assocIndexOf.js"),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():r.call(e,n,1),--this.size,0))}},"./packages/@logrocket/utils/node_modules/lodash/_listCacheGet.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_assocIndexOf.js");t.exports=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}},"./packages/@logrocket/utils/node_modules/lodash/_listCacheHas.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_assocIndexOf.js");t.exports=function(t){return i(this.__data__,t)>-1}},"./packages/@logrocket/utils/node_modules/lodash/_listCacheSet.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_assocIndexOf.js");t.exports=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},"./packages/@logrocket/utils/node_modules/lodash/_mapCacheClear.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_Hash.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_ListCache.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_Map.js");t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},"./packages/@logrocket/utils/node_modules/lodash/_mapCacheDelete.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_getMapData.js");t.exports=function(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},"./packages/@logrocket/utils/node_modules/lodash/_mapCacheGet.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_getMapData.js");t.exports=function(t){return i(this,t).get(t)}},"./packages/@logrocket/utils/node_modules/lodash/_mapCacheHas.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_getMapData.js");t.exports=function(t){return i(this,t).has(t)}},"./packages/@logrocket/utils/node_modules/lodash/_mapCacheSet.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_getMapData.js");t.exports=function(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},"./packages/@logrocket/utils/node_modules/lodash/_mapToArray.js":function(t){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}},"./packages/@logrocket/utils/node_modules/lodash/_matchesStrictComparable.js":function(t){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},"./packages/@logrocket/utils/node_modules/lodash/_memoizeCapped.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/memoize.js");t.exports=function(t){var e=i(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},"./packages/@logrocket/utils/node_modules/lodash/_nativeCreate.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_getNative.js")(Object,"create");t.exports=i},"./packages/@logrocket/utils/node_modules/lodash/_nativeKeys.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_overArg.js")(Object.keys,Object);t.exports=i},"./packages/@logrocket/utils/node_modules/lodash/_nodeUtil.js":function(t,e,n){t=n.nmd(t);var i=n("./packages/@logrocket/utils/node_modules/lodash/_freeGlobal.js"),r=e&&!e.nodeType&&e,o=r&&t&&!t.nodeType&&t,a=o&&o.exports===r&&i.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},"./packages/@logrocket/utils/node_modules/lodash/_objectToString.js":function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},"./packages/@logrocket/utils/node_modules/lodash/_overArg.js":function(t){t.exports=function(t,e){return function(n){return t(e(n))}}},"./packages/@logrocket/utils/node_modules/lodash/_root.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_freeGlobal.js"),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},"./packages/@logrocket/utils/node_modules/lodash/_setCacheAdd.js":function(t){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},"./packages/@logrocket/utils/node_modules/lodash/_setCacheHas.js":function(t){t.exports=function(t){return this.__data__.has(t)}},"./packages/@logrocket/utils/node_modules/lodash/_setToArray.js":function(t){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},"./packages/@logrocket/utils/node_modules/lodash/_stackClear.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_ListCache.js");t.exports=function(){this.__data__=new i,this.size=0}},"./packages/@logrocket/utils/node_modules/lodash/_stackDelete.js":function(t){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},"./packages/@logrocket/utils/node_modules/lodash/_stackGet.js":function(t){t.exports=function(t){return this.__data__.get(t)}},"./packages/@logrocket/utils/node_modules/lodash/_stackHas.js":function(t){t.exports=function(t){return this.__data__.has(t)}},"./packages/@logrocket/utils/node_modules/lodash/_stackSet.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_ListCache.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_Map.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_MapCache.js");t.exports=function(t,e){var n=this.__data__;if(n instanceof i){var a=n.__data__;if(!r||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},"./packages/@logrocket/utils/node_modules/lodash/_stringToPath.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_memoizeCapped.js"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=i((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,(function(t,n,i,r){e.push(i?r.replace(o,"$1"):n||t)})),e}));t.exports=a},"./packages/@logrocket/utils/node_modules/lodash/_toKey.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/isSymbol.js");t.exports=function(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},"./packages/@logrocket/utils/node_modules/lodash/_toSource.js":function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},"./packages/@logrocket/utils/node_modules/lodash/eq.js":function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},"./packages/@logrocket/utils/node_modules/lodash/get.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseGet.js");t.exports=function(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}},"./packages/@logrocket/utils/node_modules/lodash/hasIn.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseHasIn.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_hasPath.js");t.exports=function(t,e){return null!=t&&r(t,e,i)}},"./packages/@logrocket/utils/node_modules/lodash/identity.js":function(t){t.exports=function(t){return t}},"./packages/@logrocket/utils/node_modules/lodash/isArguments.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseIsArguments.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/isObjectLike.js"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=i(function(){return arguments}())?i:function(t){return r(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},"./packages/@logrocket/utils/node_modules/lodash/isArray.js":function(t){var e=Array.isArray;t.exports=e},"./packages/@logrocket/utils/node_modules/lodash/isArrayLike.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/isFunction.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/isLength.js");t.exports=function(t){return null!=t&&r(t.length)&&!i(t)}},"./packages/@logrocket/utils/node_modules/lodash/isBuffer.js":function(t,e,n){t=n.nmd(t);var i=n("./packages/@logrocket/utils/node_modules/lodash/_root.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/stubFalse.js"),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?i.Buffer:void 0,u=(s?s.isBuffer:void 0)||r;t.exports=u},"./packages/@logrocket/utils/node_modules/lodash/isFunction.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseGetTag.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/isObject.js");t.exports=function(t){if(!r(t))return!1;var e=i(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},"./packages/@logrocket/utils/node_modules/lodash/isLength.js":function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},"./packages/@logrocket/utils/node_modules/lodash/isObject.js":function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},"./packages/@logrocket/utils/node_modules/lodash/isObjectLike.js":function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},"./packages/@logrocket/utils/node_modules/lodash/isSymbol.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseGetTag.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/isObjectLike.js");t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==i(t)}},"./packages/@logrocket/utils/node_modules/lodash/isTypedArray.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseIsTypedArray.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_baseUnary.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_nodeUtil.js"),a=o&&o.isTypedArray,s=a?r(a):i;t.exports=s},"./packages/@logrocket/utils/node_modules/lodash/keys.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_arrayLikeKeys.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_baseKeys.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/isArrayLike.js");t.exports=function(t){return o(t)?i(t):r(t)}},"./packages/@logrocket/utils/node_modules/lodash/memoize.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_MapCache.js");function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(r.Cache||i),n}r.Cache=i,t.exports=r},"./packages/@logrocket/utils/node_modules/lodash/property.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseProperty.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_basePropertyDeep.js"),o=n("./packages/@logrocket/utils/node_modules/lodash/_isKey.js"),a=n("./packages/@logrocket/utils/node_modules/lodash/_toKey.js");t.exports=function(t){return o(t)?i(a(t)):r(t)}},"./packages/@logrocket/utils/node_modules/lodash/sortedLastIndexBy.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseIteratee.js"),r=n("./packages/@logrocket/utils/node_modules/lodash/_baseSortedIndexBy.js");t.exports=function(t,e,n){return r(t,e,i(n,2),!0)}},"./packages/@logrocket/utils/node_modules/lodash/stubArray.js":function(t){t.exports=function(){return[]}},"./packages/@logrocket/utils/node_modules/lodash/stubFalse.js":function(t){t.exports=function(){return!1}},"./packages/@logrocket/utils/node_modules/lodash/toString.js":function(t,e,n){var i=n("./packages/@logrocket/utils/node_modules/lodash/_baseToString.js");t.exports=function(t){return null==t?"":i(t)}},"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/arrayWithHoles.js":function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(t,e,n){var i=n("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");t.exports=function(t){if(Array.isArray(t))return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/createClass.js":function(t,e,n){var i=n("./node_modules/@babel/runtime/helpers/toPropertyKey.js");function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(t,e,n){var i=n("./node_modules/@babel/runtime/helpers/toPropertyKey.js");t.exports=function(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/iterableToArray.js":function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":function(t){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=o.call(n)).done)&&(s.push(i.value),s.length!==e);u=!0);}catch(t){l=!0,r=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/nonIterableRest.js":function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":function(t,e,n){var i=n("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");t.exports=function(t,e){if(null==t)return{};var n,r,o=i(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":function(t){t.exports=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/slicedToArray.js":function(t,e,n){var i=n("./node_modules/@babel/runtime/helpers/arrayWithHoles.js"),r=n("./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js"),o=n("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),a=n("./node_modules/@babel/runtime/helpers/nonIterableRest.js");t.exports=function(t,e){return i(t)||r(t,e)||o(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(t,e,n){var i=n("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),r=n("./node_modules/@babel/runtime/helpers/iterableToArray.js"),o=n("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),a=n("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");t.exports=function(t){return i(t)||r(t)||o(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/toPrimitive.js":function(t,e,n){var i=n("./node_modules/@babel/runtime/helpers/typeof.js").default;t.exports=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/toPropertyKey.js":function(t,e,n){var i=n("./node_modules/@babel/runtime/helpers/typeof.js").default,r=n("./node_modules/@babel/runtime/helpers/toPrimitive.js");t.exports=function(t){var e=r(t,"string");return"symbol"===i(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/typeof.js":function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":function(t,e,n){var i=n("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={id:i,loaded:!1,exports:{}};return t[i](o,o.exports,n),o.loaded=!0,o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t};var i={};return function(){"use strict";var t=i,e=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,e(n("./packages/logrocket/src/setup.js")).default)();t.default=r}(),i.default}()},t.exports=e()},54241:(t,e,n)=>{"use strict";n.r(e)},8891:t=>{"use strict";var e,n={DEBUG:!1,LIB_VERSION:"2.47.0"};if("undefined"==typeof window){var i={hostname:""};e={navigator:{userAgent:""},document:{location:i,referrer:""},screen:{width:0,height:0},location:i}}else e=window;var r,o,a,s,u,l,c,d,h,f,p,g=Array.prototype,m=Function.prototype,v=Object.prototype,y=g.slice,_=v.toString,b=v.hasOwnProperty,w=e.console,T=e.navigator,S=e.document,E=e.opera,O=e.screen,P=T.userAgent,C=m.bind,A=g.forEach,k=g.indexOf,x=g.map,I=Array.isArray,M={},R={trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},N={log:function(){if(n.DEBUG&&!R.isUndefined(w)&&w)try{w.log.apply(w,arguments)}catch(t){R.each(arguments,(function(t){w.log(t)}))}},warn:function(){if(n.DEBUG&&!R.isUndefined(w)&&w){var t=["Mixpanel warning:"].concat(R.toArray(arguments));try{w.warn.apply(w,t)}catch(e){R.each(t,(function(t){w.warn(t)}))}}},error:function(){if(n.DEBUG&&!R.isUndefined(w)&&w){var t=["Mixpanel error:"].concat(R.toArray(arguments));try{w.error.apply(w,t)}catch(e){R.each(t,(function(t){w.error(t)}))}}},critical:function(){if(!R.isUndefined(w)&&w){var t=["Mixpanel error:"].concat(R.toArray(arguments));try{w.error.apply(w,t)}catch(e){R.each(t,(function(t){w.error(t)}))}}}},D=function(t,e){return function(){return arguments[0]="["+e+"] "+arguments[0],t.apply(N,arguments)}},L=function(t){return{log:D(N.log,t),error:D(N.error,t),critical:D(N.critical,t)}};R.bind=function(t,e){var n,i;if(C&&t.bind===C)return C.apply(t,y.call(arguments,1));if(!R.isFunction(t))throw new TypeError;return n=y.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(y.call(arguments)));var r={};r.prototype=t.prototype;var o=new r;r.prototype=null;var a=t.apply(o,n.concat(y.call(arguments)));return Object(a)===a?a:o},i},R.each=function(t,e,n){if(null!=t)if(A&&t.forEach===A)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,r=t.length;i<r;i++)if(i in t&&e.call(n,t[i],i,t)===M)return}else for(var o in t)if(b.call(t,o)&&e.call(n,t[o],o,t)===M)return},R.extend=function(t){return R.each(y.call(arguments,1),(function(e){for(var n in e)void 0!==e[n]&&(t[n]=e[n])})),t},R.isArray=I||function(t){return"[object Array]"===_.call(t)},R.isFunction=function(t){try{return/^\s*\bfunction\b/.test(t)}catch(t){return!1}},R.isArguments=function(t){return!(!t||!b.call(t,"callee"))},R.toArray=function(t){return t?t.toArray?t.toArray():R.isArray(t)||R.isArguments(t)?y.call(t):R.values(t):[]},R.map=function(t,e,n){if(x&&t.map===x)return t.map(e,n);var i=[];return R.each(t,(function(t){i.push(e.call(n,t))})),i},R.keys=function(t){var e=[];return null===t||R.each(t,(function(t,n){e[e.length]=n})),e},R.values=function(t){var e=[];return null===t||R.each(t,(function(t){e[e.length]=t})),e},R.include=function(t,e){var n=!1;return null===t?n:k&&t.indexOf===k?-1!=t.indexOf(e):(R.each(t,(function(t){if(n||(n=t===e))return M})),n)},R.includes=function(t,e){return-1!==t.indexOf(e)},R.inherit=function(t,e){return t.prototype=new e,t.prototype.constructor=t,t.superclass=e.prototype,t},R.isObject=function(t){return t===Object(t)&&!R.isArray(t)},R.isEmptyObject=function(t){if(R.isObject(t)){for(var e in t)if(b.call(t,e))return!1;return!0}return!1},R.isUndefined=function(t){return void 0===t},R.isString=function(t){return"[object String]"==_.call(t)},R.isDate=function(t){return"[object Date]"==_.call(t)},R.isNumber=function(t){return"[object Number]"==_.call(t)},R.isElement=function(t){return!(!t||1!==t.nodeType)},R.encodeDates=function(t){return R.each(t,(function(e,n){R.isDate(e)?t[n]=R.formatDate(e):R.isObject(e)&&(t[n]=R.encodeDates(e))})),t},R.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},R.formatDate=function(t){function e(t){return t<10?"0"+t:t}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())},R.strip_empty_properties=function(t){var e={};return R.each(t,(function(t,n){R.isString(t)&&t.length>0&&(e[n]=t)})),e},R.truncate=function(t,e){var n;return"string"==typeof t?n=t.slice(0,e):R.isArray(t)?(n=[],R.each(t,(function(t){n.push(R.truncate(t,e))}))):R.isObject(t)?(n={},R.each(t,(function(t,i){n[i]=R.truncate(t,e)}))):n=t,n},R.JSONEncode=function(t){var e=function(t){var e=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return e.lastIndex=0,e.test(t)?'"'+t.replace(e,(function(t){var e=n[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'},n=function(t,i){var r="",o=0,a="",s="",u=0,l=r,c=[],d=i[t];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(t)),typeof d){case"string":return e(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(r+="    ",c=[],"[object Array]"===_.apply(d)){for(u=d.length,o=0;o<u;o+=1)c[o]=n(o,d)||"null";return s=0===c.length?"[]":r?"[\n"+r+c.join(",\n"+r)+"\n"+l+"]":"["+c.join(",")+"]",r=l,s}for(a in d)b.call(d,a)&&(s=n(a,d))&&c.push(e(a)+(r?": ":":")+s);return s=0===c.length?"{}":r?"{"+c.join(",")+l+"}":"{"+c.join(",")+"}",r=l,s}};return n("",{"":t})},R.JSONDecode=(u={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},l=function(t){var e=new SyntaxError(t);throw e.at=r,e.text=a,e},c=function(t){return t&&t!==o&&l("Expected '"+t+"' instead of '"+o+"'"),o=a.charAt(r),r+=1,o},d=function(){var t,e="";for("-"===o&&(e="-",c("-"));o>="0"&&o<="9";)e+=o,c();if("."===o)for(e+=".";c()&&o>="0"&&o<="9";)e+=o;if("e"===o||"E"===o)for(e+=o,c(),"-"!==o&&"+"!==o||(e+=o,c());o>="0"&&o<="9";)e+=o,c();if(t=+e,isFinite(t))return t;l("Bad number")},h=function(){var t,e,n,i="";if('"'===o)for(;c();){if('"'===o)return c(),i;if("\\"===o)if(c(),"u"===o){for(n=0,e=0;e<4&&(t=parseInt(c(),16),isFinite(t));e+=1)n=16*n+t;i+=String.fromCharCode(n)}else{if("string"!=typeof u[o])break;i+=u[o]}else i+=o}l("Bad string")},f=function(){for(;o&&o<=" ";)c()},s=function(){switch(f(),o){case"{":return function(){var t,e={};if("{"===o){if(c("{"),f(),"}"===o)return c("}"),e;for(;o;){if(t=h(),f(),c(":"),Object.hasOwnProperty.call(e,t)&&l('Duplicate key "'+t+'"'),e[t]=s(),f(),"}"===o)return c("}"),e;c(","),f()}}l("Bad object")}();case"[":return function(){var t=[];if("["===o){if(c("["),f(),"]"===o)return c("]"),t;for(;o;){if(t.push(s()),f(),"]"===o)return c("]"),t;c(","),f()}}l("Bad array")}();case'"':return h();case"-":return d();default:return o>="0"&&o<="9"?d():function(){switch(o){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null}l('Unexpected "'+o+'"')}()}},function(t){var e;return a=t,r=0,o=" ",e=s(),f(),o&&l("Syntax error"),e}),R.base64Encode=function(t){var e,n,i,r,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,u=0,l="",c=[];if(!t)return t;t=R.utf8Encode(t);do{e=(o=t.charCodeAt(s++)<<16|t.charCodeAt(s++)<<8|t.charCodeAt(s++))>>18&63,n=o>>12&63,i=o>>6&63,r=63&o,c[u++]=a.charAt(e)+a.charAt(n)+a.charAt(i)+a.charAt(r)}while(s<t.length);switch(l=c.join(""),t.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l},R.utf8Encode=function(t){var e,n,i,r,o="";for(e=n=0,i=(t=(t+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,r=0;r<i;r++){var a=t.charCodeAt(r),s=null;a<128?n++:s=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),null!==s&&(n>e&&(o+=t.substring(e,n)),o+=s,e=n=r+1)}return n>e&&(o+=t.substring(e,t.length)),o},R.UUID=(p=function(){var t,n=1*new Date;if(e.performance&&e.performance.now)t=e.performance.now();else for(t=0;n==1*new Date;)t++;return n.toString(16)+Math.floor(t).toString(16)},function(){var t=(O.height*O.width).toString(16);return p()+"-"+Math.random().toString(16).replace(".","")+"-"+function(){var t,e,n=P,i=[],r=0;function o(t,e){var n,r=0;for(n=0;n<e.length;n++)r|=i[n]<<8*n;return t^r}for(t=0;t<n.length;t++)e=n.charCodeAt(t),i.unshift(255&e),i.length>=4&&(r=o(r,i),i=[]);return i.length>0&&(r=o(r,i)),r.toString(16)}()+"-"+t+"-"+p()});var j=["ahrefsbot","baiduspider","bingbot","bingpreview","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];R.isBlockedUA=function(t){var e;for(t=t.toLowerCase(),e=0;e<j.length;e++)if(-1!==t.indexOf(j[e]))return!0;return!1},R.HTTPBuildQuery=function(t,e){var n,i,r=[];return R.isUndefined(e)&&(e="&"),R.each(t,(function(t,e){n=encodeURIComponent(t.toString()),i=encodeURIComponent(e),r[r.length]=i+"="+n})),r.join(e)},R.getQueryParam=function(t,e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);if(null===n||n&&"string"!=typeof n[1]&&n[1].length)return"";var i=n[1];try{i=decodeURIComponent(i)}catch(t){N.error("Skipping decoding for malformed query param: "+i)}return i.replace(/\+/g," ")},R.cookie={get:function(t){for(var e=t+"=",n=S.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return decodeURIComponent(r.substring(e.length,r.length))}return null},parse:function(t){var e;try{e=R.JSONDecode(R.cookie.get(t))||{}}catch(t){}return e},set_seconds:function(t,e,n,i,r,o,a){var s="",u="",l="";if(a)s="; domain="+a;else if(i){var c=z(S.location.hostname);s=c?"; domain=."+c:""}if(n){var d=new Date;d.setTime(d.getTime()+1e3*n),u="; expires="+d.toGMTString()}o&&(r=!0,l="; SameSite=None"),r&&(l+="; secure"),S.cookie=t+"="+encodeURIComponent(e)+u+"; path=/"+s+l},set:function(t,e,n,i,r,o,a){var s="",u="",l="";if(a)s="; domain="+a;else if(i){var c=z(S.location.hostname);s=c?"; domain=."+c:""}if(n){var d=new Date;d.setTime(d.getTime()+24*n*60*60*1e3),u="; expires="+d.toGMTString()}o&&(r=!0,l="; SameSite=None"),r&&(l+="; secure");var h=t+"="+encodeURIComponent(e)+u+"; path=/"+s+l;return S.cookie=h,h},remove:function(t,e,n){R.cookie.set(t,"",-1,e,!1,!1,n)}};var F=null,V=function(t,e){if(null!==F&&!e)return F;var n=!0;try{t=t||window.localStorage;var i="__mplss_"+G(8);t.setItem(i,"xyz"),"xyz"!==t.getItem(i)&&(n=!1),t.removeItem(i)}catch(t){n=!1}return F=n,n};R.localStorage={is_supported:function(t){var e=V(null,t);return e||N.error("localStorage unsupported; falling back to cookie store"),e},error:function(t){N.error("localStorage error: "+t)},get:function(t){try{return window.localStorage.getItem(t)}catch(t){R.localStorage.error(t)}return null},parse:function(t){try{return R.JSONDecode(R.localStorage.get(t))||{}}catch(t){}return null},set:function(t,e){try{window.localStorage.setItem(t,e)}catch(t){R.localStorage.error(t)}},remove:function(t){try{window.localStorage.removeItem(t)}catch(t){R.localStorage.error(t)}}},R.register_event=function(){function t(e){return e&&(e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation),e}return t.preventDefault=function(){this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0},function(e,n,i,r,o){if(e)if(e.addEventListener&&!r)e.addEventListener(n,i,!!o);else{var a="on"+n,s=e[a];e[a]=function(e,n,i){return function(r){if(r=r||t(window.event)){var o,a,s=!0;return R.isFunction(i)&&(o=i(r)),a=n.call(e,r),!1!==o&&!1!==a||(s=!1),s}}}(e,i,s)}else N.error("No valid element provided to register_event")}}();var U=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');R.dom_query=function(){function t(t){return t.all?t.all:t.getElementsByTagName("*")}var e=/[\t\r\n]/g;function n(t,n){var i=" "+n+" ";return(" "+t.className+" ").replace(e," ").indexOf(i)>=0}function i(e){if(!S.getElementsByTagName)return[];var i,r,o,a,s,u,l,c,d,h,f=e.split(" "),p=[S];for(u=0;u<f.length;u++)if((i=f[u].replace(/^\s+/,"").replace(/\s+$/,"")).indexOf("#")>-1){o=(r=i.split("#"))[0];var g=r[1],m=S.getElementById(g);if(!m||o&&m.nodeName.toLowerCase()!=o)return[];p=[m]}else if(i.indexOf(".")>-1){o=(r=i.split("."))[0];var v=r[1];for(o||(o="*"),a=[],s=0,l=0;l<p.length;l++)for(d="*"==o?t(p[l]):p[l].getElementsByTagName(o),c=0;c<d.length;c++)a[s++]=d[c];for(p=[],h=0,l=0;l<a.length;l++)a[l].className&&R.isString(a[l].className)&&n(a[l],v)&&(p[h++]=a[l])}else{var y=i.match(U);if(y){o=y[1];var _,b=y[2],w=y[3],T=y[4];for(o||(o="*"),a=[],s=0,l=0;l<p.length;l++)for(d="*"==o?t(p[l]):p[l].getElementsByTagName(o),c=0;c<d.length;c++)a[s++]=d[c];switch(p=[],h=0,w){case"=":_=function(t){return t.getAttribute(b)==T};break;case"~":_=function(t){return t.getAttribute(b).match(new RegExp("\\b"+T+"\\b"))};break;case"|":_=function(t){return t.getAttribute(b).match(new RegExp("^"+T+"-?"))};break;case"^":_=function(t){return 0===t.getAttribute(b).indexOf(T)};break;case"$":_=function(t){return t.getAttribute(b).lastIndexOf(T)==t.getAttribute(b).length-T.length};break;case"*":_=function(t){return t.getAttribute(b).indexOf(T)>-1};break;default:_=function(t){return t.getAttribute(b)}}for(p=[],h=0,l=0;l<a.length;l++)_(a[l])&&(p[h++]=a[l])}else{for(o=i,a=[],s=0,l=0;l<p.length;l++)for(d=p[l].getElementsByTagName(o),c=0;c<d.length;c++)a[s++]=d[c];p=a}}return p}return function(t){return R.isElement(t)?[t]:R.isObject(t)&&!R.isUndefined(t.length)?t:i.call(this,t)}}();var B=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],H=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","ttclid","twclid","wbraid"];R.info={campaignParams:function(t){var e="",n={};return R.each(B,(function(i){(e=R.getQueryParam(S.URL,i)).length?n[i]=e:void 0!==t&&(n[i]=t)})),n},clickParams:function(){var t="",e={};return R.each(H,(function(n){(t=R.getQueryParam(S.URL,n)).length&&(e[n]=t)})),e},marketingParams:function(){return R.extend(R.info.campaignParams(),R.info.clickParams())},searchEngine:function(t){return 0===t.search("https?://(.*)google.([^/?]*)")?"google":0===t.search("https?://(.*)bing.com")?"bing":0===t.search("https?://(.*)yahoo.com")?"yahoo":0===t.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(t){var e=R.info.searchEngine(t),n="yahoo"!=e?"q":"p",i={};if(null!==e){i.$search_engine=e;var r=R.getQueryParam(t,n);r.length&&(i.mp_keyword=r)}return i},browser:function(t,e,n){return e=e||"",n||R.includes(t," OPR/")?R.includes(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":R.includes(t,"IEMobile")||R.includes(t,"WPDesktop")?"Internet Explorer Mobile":R.includes(t,"SamsungBrowser/")?"Samsung Internet":R.includes(t,"Edge")||R.includes(t,"Edg/")?"Microsoft Edge":R.includes(t,"FBIOS")?"Facebook Mobile":R.includes(t,"Chrome")?"Chrome":R.includes(t,"CriOS")?"Chrome iOS":R.includes(t,"UCWEB")||R.includes(t,"UCBrowser")?"UC Browser":R.includes(t,"FxiOS")?"Firefox iOS":R.includes(e,"Apple")?R.includes(t,"Mobile")?"Mobile Safari":"Safari":R.includes(t,"Android")?"Android Mobile":R.includes(t,"Konqueror")?"Konqueror":R.includes(t,"Firefox")?"Firefox":R.includes(t,"MSIE")||R.includes(t,"Trident/")?"Internet Explorer":R.includes(t,"Gecko")?"Mozilla":""},browserVersion:function(t,e,n){var i={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[R.info.browser(t,e,n)];if(void 0===i)return null;var r=t.match(i);return r?parseFloat(r[r.length-2]):null},os:function(){var t=P;return/Windows/i.test(t)?/Phone/.test(t)||/WPDesktop/.test(t)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(t)?"iOS":/Android/.test(t)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Mac/i.test(t)?"Mac OS X":/Linux/.test(t)?"Linux":/CrOS/.test(t)?"Chrome OS":""},device:function(t){return/Windows Phone/i.test(t)||/WPDesktop/.test(t)?"Windows Phone":/iPad/.test(t)?"iPad":/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Android/.test(t)?"Android":""},referringDomain:function(t){var e=t.split("/");return e.length>=3?e[2]:""},properties:function(){return R.extend(R.strip_empty_properties({$os:R.info.os(),$browser:R.info.browser(P,T.vendor,E),$referrer:S.referrer,$referring_domain:R.info.referringDomain(S.referrer),$device:R.info.device(P)}),{$current_url:e.location.href,$browser_version:R.info.browserVersion(P,T.vendor,E),$screen_height:O.height,$screen_width:O.width,mp_lib:"web",$lib_version:n.LIB_VERSION,$insert_id:G(),time:R.timestamp()/1e3})},people_properties:function(){return R.extend(R.strip_empty_properties({$os:R.info.os(),$browser:R.info.browser(P,T.vendor,E)}),{$browser_version:R.info.browserVersion(P,T.vendor,E)})},mpPageViewProperties:function(){return R.strip_empty_properties({current_page_title:S.title,current_domain:e.location.hostname,current_url_path:e.location.pathname,current_url_protocol:e.location.protocol,current_url_search:e.location.search})}};var G=function(t){var e=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return t?e.substring(0,t):e},W=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,Z=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,z=function(t){var e=Z,n=t.split("."),i=n[n.length-1];(i.length>4||"com"===i||"org"===i)&&(e=W);var r=t.match(e);return r?r[0]:""},q=null,$=null;"undefined"!=typeof JSON&&(q=JSON.stringify,$=JSON.parse),q=q||R.JSONEncode,$=$||R.JSONDecode,R.toArray=R.toArray,R.isObject=R.isObject,R.JSONEncode=R.JSONEncode,R.JSONDecode=R.JSONDecode,R.isBlockedUA=R.isBlockedUA,R.isEmptyObject=R.isEmptyObject,R.info=R.info,R.info.device=R.info.device,R.info.browser=R.info.browser,R.info.browserVersion=R.info.browserVersion,R.info.properties=R.info.properties;var Y=function(){};Y.prototype.create_properties=function(){},Y.prototype.event_handler=function(){},Y.prototype.after_track_handler=function(){},Y.prototype.init=function(t){return this.mp=t,this},Y.prototype.track=function(t,e,n,i){var r=this,o=R.dom_query(t);if(0!==o.length)return R.each(o,(function(t){R.register_event(t,this.override_event,(function(t){var o={},a=r.create_properties(n,this),s=r.mp.get_config("track_links_timeout");r.event_handler(t,this,o),window.setTimeout(r.track_callback(i,a,o,!0),s),r.mp.track(e,a,r.track_callback(i,a,o))}))}),this),!0;N.error("The DOM query ("+t+") returned 0 elements")},Y.prototype.track_callback=function(t,e,n,i){i=i||!1;var r=this;return function(){n.callback_fired||(n.callback_fired=!0,t&&!1===t(i,e)||r.after_track_handler(e,n,i))}},Y.prototype.create_properties=function(t,e){return"function"==typeof t?t(e):R.extend({},t)};var K=function(){this.override_event="click"};R.inherit(K,Y),K.prototype.create_properties=function(t,e){var n=K.superclass.create_properties.apply(this,arguments);return e.href&&(n.url=e.href),n},K.prototype.event_handler=function(t,e,n){n.new_tab=2===t.which||t.metaKey||t.ctrlKey||"_blank"===e.target,n.href=e.href,n.new_tab||t.preventDefault()},K.prototype.after_track_handler=function(t,e){e.new_tab||setTimeout((function(){window.location=e.href}),0)};var X=function(){this.override_event="submit"};R.inherit(X,Y),X.prototype.event_handler=function(t,e,n){n.element=e,t.preventDefault()},X.prototype.after_track_handler=function(t,e){setTimeout((function(){e.element.submit()}),0)};var J=L("lock"),Q=function(t,e){e=e||{},this.storageKey=t,this.storage=e.storage||window.localStorage,this.pollIntervalMS=e.pollIntervalMS||100,this.timeoutMS=e.timeoutMS||2e3};Q.prototype.withLock=function(t,e,n){n||"function"==typeof e||(n=e,e=null);var i=n||(new Date).getTime()+"|"+Math.random(),r=(new Date).getTime(),o=this.storageKey,a=this.pollIntervalMS,s=this.timeoutMS,u=this.storage,l=o+":X",c=o+":Y",d=o+":Z",h=function(t){e&&e(t)},f=function(t){if((new Date).getTime()-r>s)return J.error("Timeout waiting for mutex on "+o+"; clearing lock. ["+i+"]"),u.removeItem(d),u.removeItem(c),void m();setTimeout((function(){try{t()}catch(t){h(t)}}),a*(Math.random()+.1))},p=function(t,e){t()?e():f((function(){p(t,e)}))},g=function(){var t=u.getItem(c);if(t&&t!==i)return!1;if(u.setItem(c,i),u.getItem(c)===i)return!0;if(!V(u,!0))throw new Error("localStorage support dropped while acquiring lock");return!1},m=function(){u.setItem(l,i),p(g,(function(){u.getItem(l)!==i?f((function(){u.getItem(c)===i?p((function(){return!u.getItem(d)}),v):m()})):v()}))},v=function(){u.setItem(d,"1");try{t()}finally{u.removeItem(d),u.getItem(c)===i&&u.removeItem(c),u.getItem(l)===i&&u.removeItem(l)}};try{if(!V(u,!0))throw new Error("localStorage support check failed");m()}catch(t){h(t)}};var tt=L("batch"),et=function(t,e){e=e||{},this.storageKey=t,this.storage=e.storage||window.localStorage,this.reportError=e.errorReporter||R.bind(tt.error,tt),this.lock=new Q(t,{storage:this.storage}),this.pid=e.pid||null,this.memQueue=[]};et.prototype.enqueue=function(t,e,n){var i={id:G(),flushAfter:(new Date).getTime()+2*e,payload:t};this.lock.withLock(R.bind((function(){var e;try{var r=this.readFromStorage();r.push(i),(e=this.saveToStorage(r))&&this.memQueue.push(i)}catch(n){this.reportError("Error enqueueing item",t),e=!1}n&&n(e)}),this),R.bind((function(t){this.reportError("Error acquiring storage lock",t),n&&n(!1)}),this),this.pid)},et.prototype.fillBatch=function(t){var e=this.memQueue.slice(0,t);if(e.length<t){var n=this.readFromStorage();if(n.length){var i={};R.each(e,(function(t){i[t.id]=!0}));for(var r=0;r<n.length;r++){var o=n[r];if((new Date).getTime()>o.flushAfter&&!i[o.id]&&(o.orphaned=!0,e.push(o),e.length>=t))break}}}return e};var nt=function(t,e){var n=[];return R.each(t,(function(t){t.id&&!e[t.id]&&n.push(t)})),n};et.prototype.removeItemsByID=function(t,e){var n={};R.each(t,(function(t){n[t]=!0})),this.memQueue=nt(this.memQueue,n);var i=R.bind((function(){var e;try{var i=this.readFromStorage();if(i=nt(i,n),e=this.saveToStorage(i)){i=this.readFromStorage();for(var r=0;r<i.length;r++){var o=i[r];if(o.id&&n[o.id])return this.reportError("Item not removed from storage"),!1}}}catch(n){this.reportError("Error removing items",t),e=!1}return e}),this);this.lock.withLock((function(){var t=i();e&&e(t)}),R.bind((function(t){var n=!1;if(this.reportError("Error acquiring storage lock",t),!V(this.storage,!0)&&!(n=i()))try{this.storage.removeItem(this.storageKey)}catch(t){this.reportError("Error clearing queue",t)}e&&e(n)}),this),this.pid)};var it=function(t,e){var n=[];return R.each(t,(function(t){var i=t.id;if(i in e){var r=e[i];null!==r&&(t.payload=r,n.push(t))}else n.push(t)})),n};et.prototype.updatePayloads=function(t,e){this.memQueue=it(this.memQueue,t),this.lock.withLock(R.bind((function(){var n;try{var i=this.readFromStorage();i=it(i,t),n=this.saveToStorage(i)}catch(e){this.reportError("Error updating items",t),n=!1}e&&e(n)}),this),R.bind((function(t){this.reportError("Error acquiring storage lock",t),e&&e(!1)}),this),this.pid)},et.prototype.readFromStorage=function(){var t;try{(t=this.storage.getItem(this.storageKey))&&(t=$(t),R.isArray(t)||(this.reportError("Invalid storage entry:",t),t=null))}catch(e){this.reportError("Error retrieving queue",e),t=null}return t||[]},et.prototype.saveToStorage=function(t){try{return this.storage.setItem(this.storageKey,q(t)),!0}catch(t){return this.reportError("Error saving queue",t),!1}},et.prototype.clear=function(){this.memQueue=[],this.storage.removeItem(this.storageKey)};var rt=L("batch"),ot=function(t,e){this.errorReporter=e.errorReporter,this.queue=new et(t,{errorReporter:R.bind(this.reportError,this),storage:e.storage}),this.libConfig=e.libConfig,this.sendRequest=e.sendRequestFunc,this.beforeSendHook=e.beforeSendHook,this.stopAllBatching=e.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={}};ot.prototype.enqueue=function(t,e){this.queue.enqueue(t,this.flushInterval,e)},ot.prototype.start=function(){this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()},ot.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},ot.prototype.clear=function(){this.queue.clear()},ot.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size},ot.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)},ot.prototype.scheduleFlush=function(t){this.flushInterval=t,this.stopped||(this.timeoutID=setTimeout(R.bind(this.flush,this),this.flushInterval))},ot.prototype.flush=function(t){try{if(this.requestInProgress)return void rt.log("Flush: Request already in progress");t=t||{};var e=this.libConfig.batch_request_timeout_ms,i=(new Date).getTime(),r=this.batchSize,o=this.queue.fillBatch(r),a=[],s={};if(R.each(o,(function(t){var e=t.payload;if(this.beforeSendHook&&!t.orphaned&&(e=this.beforeSendHook(e)),e){e.event&&e.properties&&(e.properties=R.extend({},e.properties,{mp_sent_by_lib_version:n.LIB_VERSION}));var i=!0,r=t.id;r?(this.itemIdsSentSuccessfully[r]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:t,batchSize:o.length,timesSent:this.itemIdsSentSuccessfully[r]}),i=!1):this.reportError("[dupe] found item with no ID",{item:t}),i&&a.push(e)}s[t.id]=e}),this),a.length<1)return void this.resetFlush();this.requestInProgress=!0;var u=R.bind((function(n){this.requestInProgress=!1;try{var a=!1;if(t.unloading)this.queue.updatePayloads(s);else if(R.isObject(n)&&"timeout"===n.error&&(new Date).getTime()-i>=e)this.reportError("Network timeout; retrying"),this.flush();else if(R.isObject(n)&&n.xhr_req&&(n.xhr_req.status>=500||429===n.xhr_req.status||"timeout"===n.error)){var u=2*this.flushInterval,l=n.xhr_req.responseHeaders;if(l){var c=l["Retry-After"];c&&(u=1e3*parseInt(c,10)||u)}u=Math.min(6e5,u),this.reportError("Error; retry in "+u+" ms"),this.scheduleFlush(u)}else if(R.isObject(n)&&n.xhr_req&&413===n.xhr_req.status)if(o.length>1){var d=Math.max(1,Math.floor(r/2));this.batchSize=Math.min(this.batchSize,d,o.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else this.reportError("Single-event request too large; dropping",o),this.resetBatchSize(),a=!0;else a=!0;a&&(this.queue.removeItemsByID(R.map(o,(function(t){return t.id})),R.bind((function(t){t?(this.consecutiveRemovalFailures=0,this.flush()):(this.reportError("Failed to remove items from queue"),++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush())}),this)),R.each(o,R.bind((function(t){var e=t.id;e?(this.itemIdsSentSuccessfully[e]=this.itemIdsSentSuccessfully[e]||0,this.itemIdsSentSuccessfully[e]++,this.itemIdsSentSuccessfully[e]>5&&this.reportError("[dupe] item ID sent too many times",{item:t,batchSize:o.length,timesSent:this.itemIdsSentSuccessfully[e]})):this.reportError("[dupe] found item with no ID while removing",{item:t})}),this)))}catch(t){this.reportError("Error handling API response",t),this.resetFlush()}}),this),l={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:e};t.unloading&&(l.transport="sendBeacon"),rt.log("MIXPANEL REQUEST:",a),this.sendRequest(a,l,u)}catch(t){this.reportError("Error flushing request queue",t),this.resetFlush()}},ot.prototype.reportError=function(t,e){if(rt.error.apply(rt.error,arguments),this.errorReporter)try{e instanceof Error||(e=new Error(t)),this.errorReporter(t,e)}catch(e){rt.error(e)}};var at="__mp_opt_in_out_";function st(t,e){yt(!0,t,e)}function ut(t,e){yt(!1,t,e)}function lt(t,e){return"1"===vt(t,e)}function ct(t,n){if(function(t){if(t&&t.ignoreDnt)return!1;var n=t&&t.window||e,i=n.navigator||{},r=!1;return R.each([i.doNotTrack,i.msDoNotTrack,n.doNotTrack],(function(t){R.includes([!0,1,"1","yes"],t)&&(r=!0)})),r}(n))return N.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var i="0"===vt(t,n);return i&&N.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),i}function dt(t){return _t(t,(function(t){return this.get_config(t)}))}function ht(t){return _t(t,(function(t){return this._get_config(t)}))}function ft(t){return _t(t,(function(t){return this._get_config(t)}))}function pt(t,e){gt(e=e||{}).remove(mt(t,e),!!e.crossSubdomainCookie,e.cookieDomain)}function gt(t){return"localStorage"===(t=t||{}).persistenceType?R.localStorage:R.cookie}function mt(t,e){return((e=e||{}).persistencePrefix||at)+t}function vt(t,e){return gt(e).get(mt(t,e))}function yt(t,e,n){R.isString(e)&&e.length?(gt(n=n||{}).set(mt(e,n),t?1:0,R.isNumber(n.cookieExpiration)?n.cookieExpiration:null,!!n.crossSubdomainCookie,!!n.secureCookie,!!n.crossSiteCookie,n.cookieDomain),n.track&&t&&n.track(n.trackEventName||"$opt_in",n.trackProperties,{send_immediately:!0})):N.error("gdpr."+(t?"optIn":"optOut")+" called with an invalid token")}function _t(t,e){return function(){var n=!1;try{var i=e.call(this,"token"),r=e.call(this,"ignore_dnt"),o=e.call(this,"opt_out_tracking_persistence_type"),a=e.call(this,"opt_out_tracking_cookie_prefix"),s=e.call(this,"window");i&&(n=ct(i,{ignoreDnt:r,persistenceType:o,persistencePrefix:a,window:s}))}catch(t){N.error("Unexpected error when checking tracking opt-out status: "+t)}if(!n)return t.apply(this,arguments);var u=arguments[arguments.length-1];"function"==typeof u&&u(0)}}var bt="$set",wt="$set_once",Tt="$unset",St="$add",Et="$append",Ot="$union",Pt="$remove",Ct={set_action:function(t,e){var n={},i={};return R.isObject(t)?R.each(t,(function(t,e){this._is_reserved_property(e)||(i[e]=t)}),this):i[t]=e,n[bt]=i,n},unset_action:function(t){var e={},n=[];return R.isArray(t)||(t=[t]),R.each(t,(function(t){this._is_reserved_property(t)||n.push(t)}),this),e[Tt]=n,e},set_once_action:function(t,e){var n={},i={};return R.isObject(t)?R.each(t,(function(t,e){this._is_reserved_property(e)||(i[e]=t)}),this):i[t]=e,n[wt]=i,n},union_action:function(t,e){var n={},i={};return R.isObject(t)?R.each(t,(function(t,e){this._is_reserved_property(e)||(i[e]=R.isArray(t)?t:[t])}),this):i[t]=R.isArray(e)?e:[e],n[Ot]=i,n},append_action:function(t,e){var n={},i={};return R.isObject(t)?R.each(t,(function(t,e){this._is_reserved_property(e)||(i[e]=t)}),this):i[t]=e,n[Et]=i,n},remove_action:function(t,e){var n={},i={};return R.isObject(t)?R.each(t,(function(t,e){this._is_reserved_property(e)||(i[e]=t)}),this):i[t]=e,n[Pt]=i,n},delete_action:function(){return{$delete:""}}},At=function(){};R.extend(At.prototype,Ct),At.prototype._init=function(t,e,n){this._mixpanel=t,this._group_key=e,this._group_id=n},At.prototype.set=ft((function(t,e,n){var i=this.set_action(t,e);return R.isObject(t)&&(n=e),this._send_request(i,n)})),At.prototype.set_once=ft((function(t,e,n){var i=this.set_once_action(t,e);return R.isObject(t)&&(n=e),this._send_request(i,n)})),At.prototype.unset=ft((function(t,e){var n=this.unset_action(t);return this._send_request(n,e)})),At.prototype.union=ft((function(t,e,n){R.isObject(t)&&(n=e);var i=this.union_action(t,e);return this._send_request(i,n)})),At.prototype.delete=ft((function(t){var e=this.delete_action();return this._send_request(e,t)})),At.prototype.remove=ft((function(t,e,n){var i=this.remove_action(t,e);return this._send_request(i,n)})),At.prototype._send_request=function(t,e){t.$group_key=this._group_key,t.$group_id=this._group_id,t.$token=this._get_config("token");var n=R.encodeDates(t);return this._mixpanel._track_or_batch({type:"groups",data:n,endpoint:this._get_config("api_host")+"/groups/",batcher:this._mixpanel.request_batchers.groups},e)},At.prototype._is_reserved_property=function(t){return"$group_key"===t||"$group_id"===t},At.prototype._get_config=function(t){return this._mixpanel.get_config(t)},At.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id},At.prototype.remove=At.prototype.remove,At.prototype.set=At.prototype.set,At.prototype.set_once=At.prototype.set_once,At.prototype.union=At.prototype.union,At.prototype.unset=At.prototype.unset,At.prototype.toString=At.prototype.toString;var kt=function(){};R.extend(kt.prototype,Ct),kt.prototype._init=function(t){this._mixpanel=t},kt.prototype.set=ht((function(t,e,n){var i=this.set_action(t,e);return R.isObject(t)&&(n=e),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),i[bt]=R.extend({},R.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),i[bt]),this._send_request(i,n)})),kt.prototype.set_once=ht((function(t,e,n){var i=this.set_once_action(t,e);return R.isObject(t)&&(n=e),this._send_request(i,n)})),kt.prototype.unset=ht((function(t,e){var n=this.unset_action(t);return this._send_request(n,e)})),kt.prototype.increment=ht((function(t,e,n){var i={},r={};return R.isObject(t)?(R.each(t,(function(t,e){if(!this._is_reserved_property(e)){if(isNaN(parseFloat(t)))return void N.error("Invalid increment value passed to mixpanel.people.increment - must be a number");r[e]=t}}),this),n=e):(R.isUndefined(e)&&(e=1),r[t]=e),i[St]=r,this._send_request(i,n)})),kt.prototype.append=ht((function(t,e,n){R.isObject(t)&&(n=e);var i=this.append_action(t,e);return this._send_request(i,n)})),kt.prototype.remove=ht((function(t,e,n){R.isObject(t)&&(n=e);var i=this.remove_action(t,e);return this._send_request(i,n)})),kt.prototype.union=ht((function(t,e,n){R.isObject(t)&&(n=e);var i=this.union_action(t,e);return this._send_request(i,n)})),kt.prototype.track_charge=ht((function(t,e,n){if(R.isNumber(t)||(t=parseFloat(t),!isNaN(t)))return this.append("$transactions",R.extend({$amount:t},e),n);N.error("Invalid value passed to mixpanel.people.track_charge - must be a number")})),kt.prototype.clear_charges=function(t){return this.set("$transactions",[],t)},kt.prototype.delete_user=function(){if(this._identify_called()){var t={$delete:this._mixpanel.get_distinct_id()};return this._send_request(t)}N.error("mixpanel.people.delete_user() requires you to call identify() first")},kt.prototype.toString=function(){return this._mixpanel.toString()+".people"},kt.prototype._send_request=function(t,e){t.$token=this._get_config("token"),t.$distinct_id=this._mixpanel.get_distinct_id();var n=this._mixpanel.get_property("$device_id"),i=this._mixpanel.get_property("$user_id"),r=this._mixpanel.get_property("$had_persisted_distinct_id");n&&(t.$device_id=n),i&&(t.$user_id=i),r&&(t.$had_persisted_distinct_id=r);var o=R.encodeDates(t);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:o,endpoint:this._get_config("api_host")+"/engage/",batcher:this._mixpanel.request_batchers.people},e):(this._enqueue(t),R.isUndefined(e)||(this._get_config("verbose")?e({status:-1,error:null}):e(-1)),R.truncate(o,255))},kt.prototype._get_config=function(t){return this._mixpanel.get_config(t)},kt.prototype._identify_called=function(){return!0===this._mixpanel._flags.identify_called},kt.prototype._enqueue=function(t){bt in t?this._mixpanel.persistence._add_to_people_queue(bt,t):wt in t?this._mixpanel.persistence._add_to_people_queue(wt,t):Tt in t?this._mixpanel.persistence._add_to_people_queue(Tt,t):St in t?this._mixpanel.persistence._add_to_people_queue(St,t):Et in t?this._mixpanel.persistence._add_to_people_queue(Et,t):Pt in t?this._mixpanel.persistence._add_to_people_queue(Pt,t):Ot in t?this._mixpanel.persistence._add_to_people_queue(Ot,t):N.error("Invalid call to _enqueue():",t)},kt.prototype._flush_one_queue=function(t,e,n,i){var r=this,o=R.extend({},this._mixpanel.persistence._get_queue(t)),a=o;R.isUndefined(o)||!R.isObject(o)||R.isEmptyObject(o)||(r._mixpanel.persistence._pop_from_people_queue(t,o),i&&(a=i(o)),e.call(r,a,(function(e,i){0===e&&r._mixpanel.persistence._add_to_people_queue(t,o),R.isUndefined(n)||n(e,i)})))},kt.prototype._flush=function(t,e,n,i,r,o,a){var s=this,u=this._mixpanel.persistence._get_queue(Et),l=this._mixpanel.persistence._get_queue(Pt);if(this._flush_one_queue(bt,this.set,t),this._flush_one_queue(wt,this.set_once,i),this._flush_one_queue(Tt,this.unset,o,(function(t){return R.keys(t)})),this._flush_one_queue(St,this.increment,e),this._flush_one_queue(Ot,this.union,r),!R.isUndefined(u)&&R.isArray(u)&&u.length){for(var c,d=function(t,e){0===t&&s._mixpanel.persistence._add_to_people_queue(Et,c),R.isUndefined(n)||n(t,e)},h=u.length-1;h>=0;h--)c=u.pop(),R.isEmptyObject(c)||s.append(c,d);s._mixpanel.persistence.save()}if(!R.isUndefined(l)&&R.isArray(l)&&l.length){for(var f,p=function(t,e){0===t&&s._mixpanel.persistence._add_to_people_queue(Pt,f),R.isUndefined(a)||a(t,e)},g=l.length-1;g>=0;g--)f=l.pop(),R.isEmptyObject(f)||s.remove(f,p);s._mixpanel.persistence.save()}},kt.prototype._is_reserved_property=function(t){return"$distinct_id"===t||"$token"===t||"$device_id"===t||"$user_id"===t||"$had_persisted_distinct_id"===t},kt.prototype.set=kt.prototype.set,kt.prototype.set_once=kt.prototype.set_once,kt.prototype.unset=kt.prototype.unset,kt.prototype.increment=kt.prototype.increment,kt.prototype.append=kt.prototype.append,kt.prototype.remove=kt.prototype.remove,kt.prototype.union=kt.prototype.union,kt.prototype.track_charge=kt.prototype.track_charge,kt.prototype.clear_charges=kt.prototype.clear_charges,kt.prototype.delete_user=kt.prototype.delete_user,kt.prototype.toString=kt.prototype.toString;var xt,It,Mt="__mps",Rt="__mpso",Nt="__mpus",Dt="__mpa",Lt="__mpap",jt="__mpr",Ft="__mpu",Vt="$people_distinct_id",Ut="__alias",Bt="__timers",Ht=[Mt,Rt,Nt,Dt,Lt,jt,Ft,Vt,Ut,Bt],Gt=function(t){this.props={},this.campaign_params_saved=!1,t.persistence_name?this.name="mp_"+t.persistence_name:this.name="mp_"+t.token+"_mixpanel";var e=t.persistence;"cookie"!==e&&"localStorage"!==e&&(N.critical("Unknown persistence type "+e+"; falling back to cookie"),e=t.persistence="cookie"),"localStorage"===e&&R.localStorage.is_supported()?this.storage=R.localStorage:this.storage=R.cookie,this.load(),this.update_config(t),this.upgrade(t),this.save()};Gt.prototype.properties=function(){var t={};return R.each(this.props,(function(e,n){R.include(Ht,n)||(t[n]=e)})),t},Gt.prototype.load=function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=R.extend({},t))}},Gt.prototype.upgrade=function(t){var e,n,i=t.upgrade;i&&(e="mp_super_properties","string"==typeof i&&(e=i),n=this.storage.parse(e),this.storage.remove(e),this.storage.remove(e,!0),n&&(this.props=R.extend(this.props,n.all,n.events))),t.cookie_name||"mixpanel"===t.name||(e="mp_"+t.token+"_"+t.name,(n=this.storage.parse(e))&&(this.storage.remove(e),this.storage.remove(e,!0),this.register_once(n))),this.storage===R.localStorage&&(n=R.cookie.parse(this.name),R.cookie.remove(this.name),R.cookie.remove(this.name,!0),n&&this.register_once(n))},Gt.prototype.save=function(){this.disabled||this.storage.set(this.name,R.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)},Gt.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)},Gt.prototype.clear=function(){this.remove(),this.props={}},Gt.prototype.register_once=function(t,e,n){return!!R.isObject(t)&&(void 0===e&&(e="None"),this.expire_days=void 0===n?this.default_expiry:n,R.each(t,(function(t,n){this.props.hasOwnProperty(n)&&this.props[n]!==e||(this.props[n]=t)}),this),this.save(),!0)},Gt.prototype.register=function(t,e){return!!R.isObject(t)&&(this.expire_days=void 0===e?this.default_expiry:e,R.extend(this.props,t),this.save(),!0)},Gt.prototype.unregister=function(t){t in this.props&&(delete this.props[t],this.save())},Gt.prototype.update_search_keyword=function(t){this.register(R.info.searchInfo(t))},Gt.prototype.update_referrer_info=function(t){this.register_once({$initial_referrer:t||"$direct",$initial_referring_domain:R.info.referringDomain(t)||"$direct"},"")},Gt.prototype.get_referrer_info=function(){return R.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},Gt.prototype.safe_merge=function(t){return R.each(this.props,(function(e,n){n in t||(t[n]=e)})),t},Gt.prototype.update_config=function(t){this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cookie_domain(t.cookie_domain),this.set_cross_site(t.cross_site_cookie),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie)},Gt.prototype.set_disabled=function(t){this.disabled=t,this.disabled?this.remove():this.save()},Gt.prototype.set_cookie_domain=function(t){t!==this.cookie_domain&&(this.remove(),this.cookie_domain=t,this.save())},Gt.prototype.set_cross_site=function(t){t!==this.cross_site&&(this.cross_site=t,this.remove(),this.save())},Gt.prototype.set_cross_subdomain=function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())},Gt.prototype.get_cross_subdomain=function(){return this.cross_subdomain},Gt.prototype.set_secure=function(t){t!==this.secure&&(this.secure=!!t,this.remove(),this.save())},Gt.prototype._add_to_people_queue=function(t,e){var n=this._get_queue_key(t),i=e[t],r=this._get_or_create_queue(bt),o=this._get_or_create_queue(wt),a=this._get_or_create_queue(Tt),s=this._get_or_create_queue(St),u=this._get_or_create_queue(Ot),l=this._get_or_create_queue(Pt,[]),c=this._get_or_create_queue(Et,[]);n===Mt?(R.extend(r,i),this._pop_from_people_queue(St,i),this._pop_from_people_queue(Ot,i),this._pop_from_people_queue(Tt,i)):n===Rt?(R.each(i,(function(t,e){e in o||(o[e]=t)})),this._pop_from_people_queue(Tt,i)):n===Nt?R.each(i,(function(t){R.each([r,o,s,u],(function(e){t in e&&delete e[t]})),R.each(c,(function(e){t in e&&delete e[t]})),a[t]=!0})):n===Dt?(R.each(i,(function(t,e){e in r?r[e]+=t:(e in s||(s[e]=0),s[e]+=t)}),this),this._pop_from_people_queue(Tt,i)):n===Ft?(R.each(i,(function(t,e){R.isArray(t)&&(e in u||(u[e]=[]),u[e]=u[e].concat(t))})),this._pop_from_people_queue(Tt,i)):n===jt?(l.push(i),this._pop_from_people_queue(Et,i)):n===Lt&&(c.push(i),this._pop_from_people_queue(Tt,i)),N.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),N.log(e),this.save()},Gt.prototype._pop_from_people_queue=function(t,e){var n=this._get_queue(t);R.isUndefined(n)||(R.each(e,(function(e,i){t===Et||t===Pt?R.each(n,(function(t){t[i]===e&&delete t[i]})):delete n[i]}),this),this.save())},Gt.prototype._get_queue_key=function(t){return t===bt?Mt:t===wt?Rt:t===Tt?Nt:t===St?Dt:t===Et?Lt:t===Pt?jt:t===Ot?Ft:void N.error("Invalid queue:",t)},Gt.prototype._get_queue=function(t){return this.props[this._get_queue_key(t)]},Gt.prototype._get_or_create_queue=function(t,e){var n=this._get_queue_key(t);return e=R.isUndefined(e)?{}:e,this.props[n]||(this.props[n]=e)},Gt.prototype.set_event_timer=function(t,e){var n=this.props[Bt]||{};n[t]=e,this.props[Bt]=n,this.save()},Gt.prototype.remove_event_timer=function(t){var e=(this.props[Bt]||{})[t];return R.isUndefined(e)||(delete this.props[Bt][t],this.save()),e};var Wt=function(t){return t},Zt=function(){},zt="mixpanel",qt="base64",$t="$device:",Yt=e.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,Kt=!Yt&&-1===P.indexOf("MSIE")&&-1===P.indexOf("Mozilla"),Xt=null;T.sendBeacon&&(Xt=function(){return T.sendBeacon.apply(T,arguments)});var Jt={api_host:"https://api-js.mixpanel.com",api_method:"POST",api_transport:"XHR",api_payload_format:qt,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:Zt,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:Zt,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{}},Qt=!1,te=function(){},ee=function(t,e,i){var r,o=i===zt?It:It[i];if(o&&0===xt)r=o;else{if(o&&!R.isArray(o))return void N.error("You have already initialized "+i);r=new te}if(r._cached_groups={},r._init(t,e,i),r.people=new kt,r.people._init(r),!r.get_config("skip_first_touch_marketing")){var a=R.info.campaignParams(null),s={},u=!1;R.each(a,(function(t,e){s["initial_"+e]=t,t&&(u=!0)})),u&&r.people.set_once(s)}return n.DEBUG=n.DEBUG||r.get_config("debug"),!R.isUndefined(o)&&R.isArray(o)&&(r._execute_array.call(r.people,o.people),r._execute_array(o)),r};te.prototype.init=function(t,e,n){if(R.isUndefined(n))this.report_error("You must name your new library: init(token, config, name)");else{if(n!==zt){var i=ee(t,e,n);return It[n]=i,i._loaded(),i}this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet")}},te.prototype._init=function(t,n,i){n=n||{},this.__loaded=!0,this.config={};var r={};if("api_payload_format"in n||(n.api_host||Jt.api_host).match(/\.mixpanel\.com/)&&(r.api_payload_format="json"),this.set_config(R.extend({},Jt,r,n,{name:i,token:t,callback_fn:(i===zt?i:zt+"."+i)+"._jsc"})),this._jsc=Zt,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests)if(R.localStorage.is_supported(!0)&&Yt){if(this.init_batchers(),Xt&&e.addEventListener){var o=R.bind((function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})}),this);e.addEventListener("pagehide",(function(t){t.persisted&&o()})),e.addEventListener("visibilitychange",(function(){"hidden"===S.visibilityState&&o()}))}}else this._batch_requests=!1,N.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support");this.persistence=this.cookie=new Gt(this.config),this.unpersisted_superprops={},this._gdpr_init();var a=R.UUID();this.get_distinct_id()||this.register_once({distinct_id:$t+a,$device_id:a},""),this.get_config("track_pageview")&&this.track_pageview()},te.prototype._loaded=function(){this.get_config("loaded")(this),this._set_default_superprops()},te.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(S.referrer),this.get_config("store_google")&&this.register(R.info.campaignParams(),{persistent:!1}),this.get_config("save_referrer")&&this.persistence.update_referrer_info(S.referrer)},te.prototype._dom_loaded=function(){R.each(this.__dom_loaded_queue,(function(t){this._track_dom.apply(this,t)}),this),this.has_opted_out_tracking()||R.each(this.__request_queue,(function(t){this._send_request.apply(this,t)}),this),delete this.__dom_loaded_queue,delete this.__request_queue},te.prototype._track_dom=function(t,e){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!Qt)return this.__dom_loaded_queue.push([t,e]),!1;var n=(new t).init(this);return n.track.apply(n,e)},te.prototype._prepare_callback=function(t,e){if(R.isUndefined(t))return null;if(Yt)return function(n){t(n,e)};var n=this._jsc,i=""+Math.floor(1e8*Math.random()),r=this.get_config("callback_fn")+"["+i+"]";return n[i]=function(r){delete n[i],t(r,e)},r},te.prototype._send_request=function(t,e,n,i){var r=!0;if(Kt)return this.__request_queue.push(arguments),r;var o={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},a=null;i||!R.isFunction(n)&&"string"!=typeof n||(i=n,n=null),n=R.extend(o,n||{}),Yt||(n.method="GET");var s="POST"===n.method,u=Xt&&s&&"sendbeacon"===n.transport.toLowerCase(),l=n.verbose;e.verbose&&(l=!0),this.get_config("test")&&(e.test=1),l&&(e.verbose=1),this.get_config("img")&&(e.img=1),Yt||(i?e.callback=i:(l||this.get_config("test"))&&(e.callback="(function(){})")),e.ip=this.get_config("ip")?1:0,e._=(new Date).getTime().toString(),s&&(a="data="+encodeURIComponent(e.data),delete e.data),t+="?"+R.HTTPBuildQuery(e);var c=this;if("img"in e){var d=S.createElement("img");d.src=t,S.body.appendChild(d)}else if(u){try{r=Xt(t,a)}catch(t){c.report_error(t),r=!1}try{i&&i(r?1:0)}catch(t){c.report_error(t)}}else if(Yt)try{var h=new XMLHttpRequest;h.open(n.method,t,!0);var f=this.get_config("xhr_headers");if(s&&(f["Content-Type"]="application/x-www-form-urlencoded"),R.each(f,(function(t,e){h.setRequestHeader(e,t)})),n.timeout_ms&&void 0!==h.timeout){h.timeout=n.timeout_ms;var p=(new Date).getTime()}h.withCredentials=!0,h.onreadystatechange=function(){var t;if(4===h.readyState)if(200===h.status){if(i)if(l){var e;try{e=R.JSONDecode(h.responseText)}catch(t){if(c.report_error(t),!n.ignore_json_errors)return;e=h.responseText}i(e)}else i(Number(h.responseText))}else t=h.timeout&&!h.status&&(new Date).getTime()-p>=h.timeout?"timeout":"Bad HTTP status: "+h.status+" "+h.statusText,c.report_error(t),i&&i(l?{status:0,error:t,xhr_req:h}:0)},h.send(a)}catch(t){c.report_error(t),r=!1}else{var g=S.createElement("script");g.type="text/javascript",g.async=!0,g.defer=!0,g.src=t;var m=S.getElementsByTagName("script")[0];m.parentNode.insertBefore(g,m)}return r},te.prototype._execute_array=function(t){var e,n=[],i=[],r=[];R.each(t,(function(t){t&&(e=t[0],R.isArray(e)?r.push(t):"function"==typeof t?t.call(this):R.isArray(t)&&"alias"===e?n.push(t):R.isArray(t)&&-1!==e.indexOf("track")&&"function"==typeof this[e]?r.push(t):i.push(t))}),this);var o=function(t,e){R.each(t,(function(t){if(R.isArray(t[0])){var n=e;R.each(t,(function(t){n=n[t[0]].apply(n,t.slice(1))}))}else this[t[0]].apply(this,t.slice(1))}),e)};o(n,this),o(i,this),o(r,this)},te.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events},te.prototype.init_batchers=function(){var t=this.get_config("token");if(!this.are_batchers_initialized()){var e=R.bind((function(e){return new ot("__mpq_"+t+e.queue_suffix,{libConfig:this.config,sendRequestFunc:R.bind((function(t,n,i){this._send_request(this.get_config("api_host")+e.endpoint,this._encode_data_for_request(t),n,this._prepare_callback(i,t))}),this),beforeSendHook:R.bind((function(t){return this._run_hook("before_send_"+e.type,t)}),this),errorReporter:this.get_config("error_reporter"),stopAllBatchingFunc:R.bind(this.stop_batch_senders,this)})}),this);this.request_batchers={events:e({type:"events",endpoint:"/track/",queue_suffix:"_ev"}),people:e({type:"people",endpoint:"/engage/",queue_suffix:"_pp"}),groups:e({type:"groups",endpoint:"/groups/",queue_suffix:"_gr"})}}this.get_config("batch_autostart")&&this.start_batch_senders()},te.prototype.start_batch_senders=function(){this.are_batchers_initialized()&&(this._batch_requests=!0,R.each(this.request_batchers,(function(t){t.start()})))},te.prototype.stop_batch_senders=function(){this._batch_requests=!1,R.each(this.request_batchers,(function(t){t.stop(),t.clear()}))},te.prototype.push=function(t){this._execute_array([t])},te.prototype.disable=function(t){void 0===t?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(t)},te.prototype._encode_data_for_request=function(t){var e=R.JSONEncode(t);return this.get_config("api_payload_format")===qt&&(e=R.base64Encode(e)),{data:e}},te.prototype._track_or_batch=function(t,e){var n=R.truncate(t.data,255),i=t.endpoint,r=t.batcher,o=t.should_send_immediately,a=t.send_request_options||{};e=e||Zt;var s=!0,u=R.bind((function(){return a.skip_hooks||(n=this._run_hook("before_send_"+t.type,n)),n?(N.log("MIXPANEL REQUEST:"),N.log(n),this._send_request(i,this._encode_data_for_request(n),a,this._prepare_callback(e,n))):null}),this);return this._batch_requests&&!o?r.enqueue(n,(function(t){t?e(1,n):u()})):s=u(),s&&n},te.prototype.track=dt((function(t,e,n,i){i||"function"!=typeof n||(i=n,n=null);var r=(n=n||{}).transport;r&&(n.transport=r);var o=n.send_immediately;if("function"!=typeof i&&(i=Zt),R.isUndefined(t))this.report_error("No event name provided to mixpanel.track");else{if(!this._event_is_disabled(t)){(e=e||{}).token=this.get_config("token");var a=this.persistence.remove_event_timer(t);if(!R.isUndefined(a)){var s=(new Date).getTime()-a;e.$duration=parseFloat((s/1e3).toFixed(3))}this._set_default_superprops();var u=this.get_config("track_marketing")?R.info.marketingParams():{};e=R.extend({},R.info.properties(),u,this.persistence.properties(),this.unpersisted_superprops,e);var l=this.get_config("property_blacklist");R.isArray(l)?R.each(l,(function(t){delete e[t]})):this.report_error("Invalid value for property_blacklist config: "+l);var c={event:t,properties:e};return this._track_or_batch({type:"events",data:c,endpoint:this.get_config("api_host")+"/track/",batcher:this.request_batchers.events,should_send_immediately:o,send_request_options:n},i)}i(0)}})),te.prototype.set_group=dt((function(t,e,n){R.isArray(e)||(e=[e]);var i={};return i[t]=e,this.register(i),this.people.set(t,e,n)})),te.prototype.add_group=dt((function(t,e,n){var i=this.get_property(t);if(void 0===i){var r={};r[t]=[e],this.register(r)}else-1===i.indexOf(e)&&(i.push(e),this.register(r));return this.people.union(t,e,n)})),te.prototype.remove_group=dt((function(t,e,n){var i=this.get_property(t);if(void 0!==i){var r=i.indexOf(e);r>-1&&(i.splice(r,1),this.register({group_key:i})),0===i.length&&this.unregister(t)}return this.people.remove(t,e,n)})),te.prototype.track_with_groups=dt((function(t,e,n,i){var r=R.extend({},e||{});return R.each(n,(function(t,e){null!=t&&(r[e]=t)})),this.track(t,r,i)})),te.prototype._create_map_key=function(t,e){return t+"_"+JSON.stringify(e)},te.prototype._remove_group_from_cache=function(t,e){delete this._cached_groups[this._create_map_key(t,e)]},te.prototype.get_group=function(t,e){var n=this._create_map_key(t,e),i=this._cached_groups[n];return void 0!==i&&i._group_key===t&&i._group_id===e||((i=new At)._init(this,t,e),this._cached_groups[n]=i),i},te.prototype.track_pageview=dt((function(t,e){"object"!=typeof t&&(t={});var n=(e=e||{}).event_name||"$mp_web_page_view",i=R.extend(R.info.mpPageViewProperties(),R.info.campaignParams(),R.info.clickParams()),r=R.extend({},i,t);return this.track(n,r)})),te.prototype.track_links=function(){return this._track_dom.call(this,K,arguments)},te.prototype.track_forms=function(){return this._track_dom.call(this,X,arguments)},te.prototype.time_event=function(t){R.isUndefined(t)?this.report_error("No event name provided to mixpanel.time_event"):this._event_is_disabled(t)||this.persistence.set_event_timer(t,(new Date).getTime())};var ne={persistent:!0},ie=function(t){var e;return e=R.isObject(t)?t:R.isUndefined(t)?{}:{days:t},R.extend({},ne,e)};te.prototype.register=function(t,e){var n=ie(e);n.persistent?this.persistence.register(t,n.days):R.extend(this.unpersisted_superprops,t)},te.prototype.register_once=function(t,e,n){var i=ie(n);i.persistent?this.persistence.register_once(t,e,i.days):(void 0===e&&(e="None"),R.each(t,(function(t,n){this.unpersisted_superprops.hasOwnProperty(n)&&this.unpersisted_superprops[n]!==e||(this.unpersisted_superprops[n]=t)}),this))},te.prototype.unregister=function(t,e){(e=ie(e)).persistent?this.persistence.unregister(t):delete this.unpersisted_superprops[t]},te.prototype._register_single=function(t,e){var n={};n[t]=e,this.register(n)},te.prototype.identify=function(t,e,n,i,r,o,a,s){var u=this.get_distinct_id();if(t&&u!==t){if("string"==typeof t&&0===t.indexOf($t))return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:t})}if(!this.get_property("$device_id")){var l=u;this.register_once({$had_persisted_distinct_id:!0,$device_id:l},"")}t!==u&&t!==this.get_property(Ut)&&(this.unregister(Ut),this.register({distinct_id:t})),this._flags.identify_called=!0,this.people._flush(e,n,i,r,o,a,s),t!==u&&this.track("$identify",{distinct_id:t,$anon_distinct_id:u},{skip_hooks:!0})},te.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var t=R.UUID();this.register_once({distinct_id:$t+t,$device_id:t},"")},te.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},te.prototype.alias=function(t,e){if(t===this.get_property(Vt))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var n=this;return R.isUndefined(e)&&(e=this.get_distinct_id()),t!==e?(this._register_single(Ut,t),this.track("$create_alias",{alias:t,distinct_id:e},{skip_hooks:!0},(function(){n.identify(t)}))):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(t),-1)},te.prototype.name_tag=function(t){this._register_single("mp_name_tag",t)},te.prototype.set_config=function(t){R.isObject(t)&&(R.extend(this.config,t),t.batch_size&&R.each(this.request_batchers,(function(t){t.resetBatchSize()})),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),n.DEBUG=n.DEBUG||this.get_config("debug"))},te.prototype.get_config=function(t){return this.config[t]},te.prototype._run_hook=function(t){var e=(this.config.hooks[t]||Wt).apply(this,y.call(arguments,1));return void 0===e&&(this.report_error(t+" hook did not return a value"),e=null),e},te.prototype.get_property=function(t){return this.persistence.props[t]},te.prototype.toString=function(){var t=this.get_config("name");return t!==zt&&(t=zt+"."+t),t},te.prototype._event_is_disabled=function(t){return R.isBlockedUA(P)||this._flags.disable_all_events||R.include(this.__disabled_events,t)},te.prototype._gdpr_init=function(){"localStorage"===this.get_config("opt_out_tracking_persistence_type")&&R.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_tracking()||!this.get_config("opt_out_tracking_by_default")&&!R.cookie.get("mp_optout")||(R.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))},te.prototype._gdpr_update_persistence=function(t){var e;if(t&&t.clear_persistence)e=!0;else{if(!t||!t.enable_persistence)return;e=!1}this.get_config("disable_persistence")||this.persistence.disabled===e||this.persistence.set_disabled(e),e&&R.each(this.request_batchers,(function(t){t.clear()}))},te.prototype._gdpr_call_func=function(t,e){return e=R.extend({track:R.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},e),R.localStorage.is_supported()||(e.persistence_type="cookie"),t(this.get_config("token"),{track:e.track,trackEventName:e.track_event_name,trackProperties:e.track_properties,persistenceType:e.persistence_type,persistencePrefix:e.cookie_prefix,cookieDomain:e.cookie_domain,cookieExpiration:e.cookie_expiration,crossSiteCookie:e.cross_site_cookie,crossSubdomainCookie:e.cross_subdomain_cookie,secureCookie:e.secure_cookie,ignoreDnt:e.ignore_dnt})},te.prototype.opt_in_tracking=function(t){t=R.extend({enable_persistence:!0},t),this._gdpr_call_func(st,t),this._gdpr_update_persistence(t)},te.prototype.opt_out_tracking=function(t){(t=R.extend({clear_persistence:!0,delete_user:!0},t)).delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(ut,t),this._gdpr_update_persistence(t)},te.prototype.has_opted_in_tracking=function(t){return this._gdpr_call_func(lt,t)},te.prototype.has_opted_out_tracking=function(t){return this._gdpr_call_func(ct,t)},te.prototype.clear_opt_in_out_tracking=function(t){t=R.extend({enable_persistence:!0},t),this._gdpr_call_func(pt,t),this._gdpr_update_persistence(t)},te.prototype.report_error=function(t,e){N.error.apply(N.error,arguments);try{e||t instanceof Error||(t=new Error(t)),this.get_config("error_reporter")(t,e)}catch(e){N.error(e)}},te.prototype.init=te.prototype.init,te.prototype.reset=te.prototype.reset,te.prototype.disable=te.prototype.disable,te.prototype.time_event=te.prototype.time_event,te.prototype.track=te.prototype.track,te.prototype.track_links=te.prototype.track_links,te.prototype.track_forms=te.prototype.track_forms,te.prototype.track_pageview=te.prototype.track_pageview,te.prototype.register=te.prototype.register,te.prototype.register_once=te.prototype.register_once,te.prototype.unregister=te.prototype.unregister,te.prototype.identify=te.prototype.identify,te.prototype.alias=te.prototype.alias,te.prototype.name_tag=te.prototype.name_tag,te.prototype.set_config=te.prototype.set_config,te.prototype.get_config=te.prototype.get_config,te.prototype.get_property=te.prototype.get_property,te.prototype.get_distinct_id=te.prototype.get_distinct_id,te.prototype.toString=te.prototype.toString,te.prototype.opt_out_tracking=te.prototype.opt_out_tracking,te.prototype.opt_in_tracking=te.prototype.opt_in_tracking,te.prototype.has_opted_out_tracking=te.prototype.has_opted_out_tracking,te.prototype.has_opted_in_tracking=te.prototype.has_opted_in_tracking,te.prototype.clear_opt_in_out_tracking=te.prototype.clear_opt_in_out_tracking,te.prototype.get_group=te.prototype.get_group,te.prototype.set_group=te.prototype.set_group,te.prototype.add_group=te.prototype.add_group,te.prototype.remove_group=te.prototype.remove_group,te.prototype.track_with_groups=te.prototype.track_with_groups,te.prototype.start_batch_senders=te.prototype.start_batch_senders,te.prototype.stop_batch_senders=te.prototype.stop_batch_senders,Gt.prototype.properties=Gt.prototype.properties,Gt.prototype.update_search_keyword=Gt.prototype.update_search_keyword,Gt.prototype.update_referrer_info=Gt.prototype.update_referrer_info,Gt.prototype.get_cross_subdomain=Gt.prototype.get_cross_subdomain,Gt.prototype.clear=Gt.prototype.clear;var re={},oe=(xt=0,(It=new te).init=function(t,n,i){if(i)return It[i]||(It[i]=re[i]=ee(t,n,i),It[i]._loaded()),It[i];var r=It;re[zt]?r=re[zt]:t&&((r=ee(t,n,zt))._loaded(),re[zt]=r),It=r,1===xt&&(e[zt]=It),R.each(re,(function(t,e){e!==zt&&(It[e]=t)})),It._=R},It.init(),function(){function t(){t.done||(t.done=!0,Qt=!0,Kt=!1,R.each(re,(function(t){t._dom_loaded()})))}if(S.addEventListener)"complete"===S.readyState?t():S.addEventListener("DOMContentLoaded",t,!1);else if(S.attachEvent){S.attachEvent("onreadystatechange",t);var n=!1;try{n=null===e.frameElement}catch(t){}S.documentElement.doScroll&&n&&function e(){try{S.documentElement.doScroll("left")}catch(t){return void setTimeout(e,1)}t()}()}R.register_event(e,"load",t,!0)}(),It);t.exports=oe},60545:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<div>\n  <div id="textplus-hyperlink-popover-arrow" class="arrow"></div>\n  <div id="textplus-hyperlink-type-container"></div>\n  <div id="textplus-hyperlink-secondary-input-container"></div>\n  <div class="button-container">\n    <button id="textplus-hyperlink-delete-btn" class="button-passive hidden">Remove</button>\n    <button id="textplus-hyperlink-save-btn" class="button-active">Save</button>\n  </div>\n</div>\n'},34605:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<svg\n  id="{{componentId}}"\n  name="{{svgName}}"\n  overflow="visible"\n  xmlns="http://www.w3.org/2000/svg"\n  class="custom-path-component"\n  aria-hidden="true"\n>\n  <linearGradient id="{{gradientName}}">\n    <stop id="{{gradientStop0Name}}" offset="0%" style="stop-color:{{gradientStop0.color}};stop-opacity:1" />\n    <stop id="{{gradientStop1Name}}" offset="100%" style="stop-color:{{gradientStop1.color}};stop-opacity:1" />\n  </linearGradient>\n  {{{subview}}}\n</svg>\n'},21612:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<ellipse\n  cx="{{cx}}"\n  cy="{{cy}}"\n  rx="{{rx}}"\n  ry="{{ry}}"\n  filter="{{shadow}}"\n  fill="{{fill}}"\n  pointer-events="auto"\n  transform="{{transform}}"\n/>\n'},11073:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<path\n  d="{{path}}"\n  fill="{{fill}}"\n  stroke-linecap="butt"\n  stroke-linejoin="miter"\n  pointer-events="auto"\n  filter="{{shadow}}"\n  transform="{{transform}}"\n  >\n  </path>\n'},45049:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<path\n  d="{{path}}"\n  fill="{{fill}}"\n  stroke-linecap="butt"\n  stroke-linejoin="miter"\n  pointer-events="auto"\n  filter="{{shadow}}"\n  ></path>'},30636:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<polygon\n  points="{{points}}"\n  filter="{{shadow}}"\n  fill="{{fill}}"\n  pointer-events="auto"\n  transform="{{transform}}"\n/>\n'},97837:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<button id="zoom-out-button" title="Zoom Out" aria-label="Zoom Out">\n  <span class="ceros-icon ceros-minus-thin-icon"></span>\n</button>\n<div id="zoom-value-display" aria-live="assertive">{{zoomValue}}%</div>\n<button id="zoom-in-button" title="Zoom In" aria-label="Zoom In">\n  <span class="ceros-icon ceros-plus-icon"></span>\n</button>\n<style>\n  .zoom-controls {\n      font-family: \'Avenir Next\', \'Avenir Next LT\', Arial, Verdana, sans-serif;\n      background-color: {{backgroundColor}};\n      display: flex;\n  }\n\n  .zoom-controls > * {\n      color: {{textColor}}\n  }\n\n  .zoom-controls button:disabled {\n      color: {{disabledColor}}\n  }\n</style>\n'},52362:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<div class="dropdown-widget {{dropdownClassName}} {{#activated}}dropdown-active{{/activated}}">\n  {{#header}}<label>{{header}}</label>{{/header}}\n  <div class="dropdown-widget-content">\n    <div class="dropdown-widget-placeholder"></div>\n    <div class="dropdown-widget-options" data-direction="down"></div>\n  </div>\n</div>\n'},19340:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<ul>\n  {{#choices}} {{#option.isSectionHeader}} {{#option.isDivider}}\n  <div class="dropdown-divider"></div>\n  {{/option.isDivider}} {{^option.isDivider}}\n  <div class="dropdown-header">\n    <p class="dropdown-section-label">{{option.title}}</p>\n  </div>\n  {{/option.isDivider}} {{/option.isSectionHeader}} {{^option.isSectionHeader}}\n  <li\n    data-dropdown-option\n    data-dropdown-option-value="{{option.value}}"\n    class="{{#selected}}selected{{/selected}}"\n  >\n    <span class="dropdown-widget-option-tick"></span>\n    <span class="option-text" title="{{option.title}}">{{option.title}}</span>\n  </li>\n  {{/option.isSectionHeader}} {{/choices}}\n</ul>\n'},53076:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='{{! This is the default CSS for hubspot form components.\n    It comes from here: https://designers.hubspot.com/docs/cos/hubspot-form-markup#styling-forms\n   ========================================================================== }}\n.{{containerClassName}} .hs-button-reset,\n.{{containerClassName}} .hs-form .hs-button {\n    border: none;\n    font-family: Helvetica, Arial, sans-serif;\n    line-height: 1;\n    margin: 0;\n    outline: 0;\n    padding: 0\n}\n\n.{{containerClassName}} .base-hs-button-styles,\n.{{containerClassName}} .hs-form .hs-button {\n    text-decoration: none;\n    cursor: pointer;\n    display: inline-block;\n    font-size: 12px;\n    font-weight: 700;\n    line-height: 12px;\n    padding: 7px 18px 7px;\n    position: relative;\n    text-align: center\n}\n\n.{{containerClassName}} .base-hs-button-styles:hover,\n.{{containerClassName}} .hs-form .hs-button:hover {\n    text-decoration: none\n}\n\n.{{containerClassName}} input.hs-input[type=checkbox],\n.{{containerClassName}} input.hs-input[type=radio] {\n    cursor: pointer\n}\n\n.{{containerClassName}} input.hs-input,\n.{{containerClassName}} textarea.hs-input,\n.{{containerClassName}} select.hs-input {\n    display: inline-block;\n    width: 210px;\n    height: 18px;\n    padding: 4px;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 13px;\n    font-weight: normal;\n    line-height: 18px;\n    color: #666;\n    border: 1px solid #ccc;\n    -webkit-border-radius: 3px;\n    -moz-border-radius: 3px;\n    -ms-border-radius: 3px;\n    border-radius: 3px\n}\n\n.{{containerClassName}} textarea.hs-input {\n    padding-top: 5px\n}\n\n.{{containerClassName}} html.webkit textarea.hs-input {\n    padding-top: 6px;\n    padding-left: 5px\n}\n\n.{{containerClassName}} input.hs-input[type=checkbox],\n.{{containerClassName}} input.hs-input[type=radio] {\n    width: auto;\n    height: auto;\n    padding: 0;\n    margin: 3px 0;\n    line-height: normal;\n    border: none\n}\n\n.{{containerClassName}} input.hs-input[type=file] {\n    background-color: #fff;\n    padding: initial;\n    border: initial;\n    line-height: initial;\n    -webkit-box-shadow: none;\n    -moz-box-shadow: none;\n    box-shadow: none\n}\n\n.{{containerClassName}} input.hs-input[type=button],\n.{{containerClassName}} input.hs-input[type=reset],\n.{{containerClassName}} input.hs-input[type=submit] {\n    width: auto;\n    height: auto\n}\n\n.{{containerClassName}} input.hs-input[type=search] {\n    -webkit-border-radius: 16px;\n    -moz-border-radius: 16px;\n    -ms-border-radius: 16px;\n    border-radius: 16px;\n    background-image: url("/common_assets/static-2.158/img/form/search.png");\n    background-repeat: no-repeat;\n    padding-left: 26px;\n    padding-right: 6px;\n    padding-top: 5px;\n    padding-bottom: 3px;\n    background-position: 8px 8px\n}\n\n.{{containerClassName}} html.firefox input.hs-input[type=search] {\n    position: relative;\n    top: 1px\n}\n\n.{{containerClassName}} input.hs-input[type=search].transparent-image {\n    background-image: url("/common_assets/static-2.158/img/form/search-transparent.png")\n}\n\n.{{containerClassName}} input.hs-input[type="search"]::-webkit-search-decoration,\n.{{containerClassName}} input.hs-input[type="search"]::-webkit-search-cancel-button,\n.{{containerClassName}} input.hs-input[type="search"]::-webkit-search-results-button,\n.{{containerClassName}} input.hs-input[type="search"]::-webkit-search-results-decoration {\n    display: none\n}\n\n.{{containerClassName}} select.hs-input,\n.{{containerClassName}} input.hs-input[type=file] {\n    height: 27px\n}\n\n.{{containerClassName}} select[multiple].hs-input {\n    height: inherit\n}\n\n.{{containerClassName}} textarea.hs-input {\n    height: auto\n}\n\n.{{containerClassName}} .hs-input:-moz-placeholder {\n    color: #bfbfbf\n}\n\n.{{containerClassName}} .hs-input::-webkit-input-placeholder {\n    color: #bfbfbf\n}\n\n.{{containerClassName}} input.hs-input,\n.{{containerClassName}} textarea.hs-input {\n    -webkit-transition: border 0.2s linear, box-shadow 0.2s linear;\n    -moz-transition: border 0.2s linear, box-shadow 0.2s linear;\n    transition: border 0.2s linear, box-shadow 0.2s linear;\n    -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n    -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1)\n}\n\n.{{containerClassName}} input.hs-input:focus,\n.{{containerClassName}} textarea.hs-input:focus {\n    outline: none;\n    border-color: rgba(82, 168, 236, 0.8);\n    -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);\n    -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6)\n}\n\n.{{containerClassName}} input.hs-input.error,\n.{{containerClassName}} .hs-form div.field.error input,\n.{{containerClassName}} .hs-form div.field.error textarea,\n.{{containerClassName}} .hs-form div.field.error .chzn-choices,\n.{{containerClassName}} textarea.hs-input.error {\n    border-color: #c87872;\n    -webkit-box-shadow: 0 0 3px rgba(171, 41, 32, 0.25);\n    -moz-box-shadow: 0 0 3px rgba(171, 41, 32, 0.25);\n    box-shadow: 0 0 3px rgba(171, 41, 32, 0.25)\n}\n\n.{{containerClassName}} input.hs-input.error:focus,\n.{{containerClassName}} .hs-form div.field.error input:focus,\n.{{containerClassName}} .hs-form div.field.error textarea:focus,\n.{{containerClassName}} .hs-form div.field.error .chzn-choices:focus,\n.{{containerClassName}} textarea.hs-input.error:focus {\n    border-color: #b9554d;\n    -webkit-box-shadow: 0 0 6px rgba(171, 41, 32, 0.5);\n    -moz-box-shadow: 0 0 6px rgba(171, 41, 32, 0.5);\n    box-shadow: 0 0 6px rgba(171, 41, 32, 0.5)\n}\n\n.{{containerClassName}} .input-mini.hs-input,\n.{{containerClassName}} input.mini.hs-input,\n.{{containerClassName}} textarea.mini.hs-input,\n.{{containerClassName}} select.mini.hs-input {\n    width: 60px\n}\n\n.{{containerClassName}} .input-small.hs-input,\n.{{containerClassName}} input.small.hs-input,\n.{{containerClassName}} textarea.small.hs-input,\n.{{containerClassName}} select.small.hs-input {\n    width: 90px\n}\n\n.{{containerClassName}} .input-medium.hs-input,\n.{{containerClassName}} input.medium.hs-input,\n.{{containerClassName}} textarea.medium.hs-input,\n.{{containerClassName}} select.medium.hs-input {\n    width: 150px\n}\n\n.{{containerClassName}} .input-large.hs-input,\n.{{containerClassName}} input.large.hs-input,\n.{{containerClassName}} textarea.large.hs-input,\n.{{containerClassName}} select.large.hs-input {\n    width: 210px\n}\n\n.{{containerClassName}} .input-xlarge.hs-input,\n.{{containerClassName}} input.xlarge.hs-input,\n.{{containerClassName}} textarea.xlarge.hs-input,\n.{{containerClassName}} select.xlarge.hs-input {\n    width: 270px\n}\n\n.{{containerClassName}} .input-xxlarge.hs-input,\n.{{containerClassName}} input.xxlarge.hs-input,\n.{{containerClassName}} textarea.xxlarge.hs-input,\n.{{containerClassName}} select.xxlarge.hs-input {\n    width: 530px\n}\n\n.{{containerClassName}} .input-stretch.hs-input,\n.{{containerClassName}} input.stretch.hs-input,\n.{{containerClassName}} textarea.stretch.hs-input,\n.{{containerClassName}} select.stretch.hs-input {\n    box-sizing: border-box;\n    width: 100%\n}\n\n.{{containerClassName}} textarea.hs-input.xxlarge {\n    overflow-y: auto\n}\n\n.{{containerClassName}} input.hs-input.span1,\n.{{containerClassName}} textarea.hs-input.span1,\n.{{containerClassName}} select.hs-input.span1 {\n    display: inline-block;\n    float: none;\n    width: 30px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span2,\n.{{containerClassName}} textarea.hs-input.span2,\n.{{containerClassName}} select.hs-input.span2 {\n    display: inline-block;\n    float: none;\n    width: 90px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span3,\n.{{containerClassName}} textarea.hs-input.span3,\n.{{containerClassName}} select.hs-input.span3 {\n    display: inline-block;\n    float: none;\n    width: 150px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span4,\n.{{containerClassName}} textarea.hs-input.span4,\n.{{containerClassName}} select.hs-input.span4 {\n    display: inline-block;\n    float: none;\n    width: 210px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span5,\n.{{containerClassName}} textarea.hs-input.span5,\n.{{containerClassName}} select.hs-input.span5 {\n    display: inline-block;\n    float: none;\n    width: 270px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span6,\n.{{containerClassName}} textarea.hs-input.span6,\n.{{containerClassName}} select.hs-input.span6 {\n    display: inline-block;\n    float: none;\n    width: 330px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span7,\n.{{containerClassName}} textarea.hs-input.span7,\n.{{containerClassName}} select.hs-input.span7 {\n    display: inline-block;\n    float: none;\n    width: 390px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span8,\n.{{containerClassName}} textarea.hs-input.span8,\n.{{containerClassName}} select.hs-input.span8 {\n    display: inline-block;\n    float: none;\n    width: 450px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span9,\n.{{containerClassName}} textarea.hs-input.span9,\n.{{containerClassName}} select.hs-input.span9 {\n    display: inline-block;\n    float: none;\n    width: 510px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span10,\n.{{containerClassName}} textarea.hs-input.span10,\n.{{containerClassName}} select.hs-input.span10 {\n    display: inline-block;\n    float: none;\n    width: 570px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span11,\n.{{containerClassName}} textarea.hs-input.span11,\n.{{containerClassName}} select.hs-input.span11 {\n    display: inline-block;\n    float: none;\n    width: 630px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span12,\n.{{containerClassName}} textarea.hs-input.span12,\n.{{containerClassName}} select.hs-input.span12 {\n    display: inline-block;\n    float: none;\n    width: 690px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span13,\n.{{containerClassName}} textarea.hs-input.span13,\n.{{containerClassName}} select.hs-input.span13 {\n    display: inline-block;\n    float: none;\n    width: 750px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span14,\n.{{containerClassName}} textarea.hs-input.span14,\n.{{containerClassName}} select.hs-input.span14 {\n    display: inline-block;\n    float: none;\n    width: 810px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span15,\n.{{containerClassName}} textarea.hs-input.span15,\n.{{containerClassName}} select.hs-input.span15 {\n    display: inline-block;\n    float: none;\n    width: 870px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span16,\n.{{containerClassName}} textarea.hs-input.span16,\n.{{containerClassName}} select.hs-input.span16 {\n    display: inline-block;\n    float: none;\n    width: 930px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input[disabled],\n.{{containerClassName}} select.hs-input[disabled],\n.{{containerClassName}} textarea.hs-input[disabled] {\n    background-color: #f5f5f5;\n    border-color: #ddd;\n    cursor: not-allowed\n}\n\n.{{containerClassName}} .help-inline,\n.{{containerClassName}} .help-block {\n    font-size: 11px;\n    line-height: 18px;\n    color: #818181\n}\n\n.{{containerClassName}} .help-inline {\n    padding-left: 5px\n}\n\n.{{containerClassName}} .help-block {\n    display: block;\n    max-width: 600px\n}\n\n.{{containerClassName}} .inline-inputs {\n    color: #818181\n}\n\n.{{containerClassName}} .inline-inputs span,\n.{{containerClassName}} .inline-inputs input {\n    display: inline-block\n}\n\n.{{containerClassName}} .inline-inputs input.mini {\n    width: 60px\n}\n\n.{{containerClassName}} .inline-inputs input.small {\n    width: 90px\n}\n\n.{{containerClassName}} .inline-inputs span {\n    padding: 0 2px 0 1px\n}\n\n.{{containerClassName}} .input-prepend input,\n.{{containerClassName}} .input-append input {\n    -webkit-border-radius: 0 3px 3px 0;\n    -moz-border-radius: 0 3px 3px 0;\n    -ms-border-radius: 0 3px 3px 0;\n    border-radius: 0 3px 3px 0\n}\n\n.{{containerClassName}} .input-prepend .add-on,\n.{{containerClassName}} .input-append .add-on {\n    position: relative;\n    background: #f5f5f5;\n    border: 1px solid #ccc;\n    z-index: 2;\n    float: left;\n    display: block;\n    width: auto;\n    min-width: 16px;\n    height: 18px;\n    padding: 4px 4px 4px 5px;\n    margin-right: -1px;\n    font-weight: normal;\n    line-height: 18px;\n    color: #bfbfbf;\n    text-align: center;\n    text-shadow: 0 1px 0 #fff;\n    -webkit-border-radius: 3px 0 0 3px;\n    -moz-border-radius: 3px 0 0 3px;\n    -ms-border-radius: 3px 0 0 3px;\n    border-radius: 3px 0 0 3px\n}\n\n.{{containerClassName}} .input-prepend .active,\n.{{containerClassName}} .input-append .active {\n    background: #bfe0bf;\n    border-color: #59ad59\n}\n\n.{{containerClassName}} .input-append input {\n    float: left;\n    -webkit-border-radius: 3px 0 0 3px;\n    -moz-border-radius: 3px 0 0 3px;\n    -ms-border-radius: 3px 0 0 3px;\n    border-radius: 3px 0 0 3px\n}\n\n.{{containerClassName}} .input-append .add-on {\n    -webkit-border-radius: 0 3px 3px 0;\n    -moz-border-radius: 0 3px 3px 0;\n    -ms-border-radius: 0 3px 3px 0;\n    border-radius: 0 3px 3px 0;\n    margin-right: 0;\n    margin-left: -1px\n}\n\n.{{containerClassName}} .hs-form {\n    margin-bottom: 18px\n}\n\n.{{containerClassName}} .hs-form fieldset {\n    margin-bottom: 18px;\n    padding-top: 18px\n}\n\n.{{containerClassName}} .hs-form fieldset legend {\n    display: block;\n    margin-left: 150px;\n    font-size: 19.5px;\n    line-height: 1;\n    color: #414141\n}\n\n.{{containerClassName}} .hs-form .clearfix,\n.{{containerClassName}} .hs-form .field,\n.{{containerClassName}} .hs-form .hs-form-field {\n    margin-bottom: 18px\n}\n\n.{{containerClassName}} .hs-form .clearfix:after,\n.{{containerClassName}} .hs-form .field:after,\n.{{containerClassName}} .hs-form .hs-form-field:after {\n    content: "";\n    display: table;\n    clear: both\n}\n\n.{{containerClassName}} .hs-form label {\n    padding-top: 5px;\n    font-size: 13px;\n    line-height: 18px;\n    font-weight: bold;\n    float: left;\n    width: 130px;\n    text-align: right;\n    color: #414141\n}\n\n.{{containerClassName}} .hs-form .input {\n    margin-left: 150px\n}\n\n.{{containerClassName}} .hs-form div.field.error {\n    background: #fae5e3;\n    padding: 6px 0;\n    margin-bottom: 18px;\n    -webkit-border-radius: 4px;\n    -moz-border-radius: 4px;\n    -ms-border-radius: 4px;\n    border-radius: 4px\n}\n\n.{{containerClassName}} .hs-form div.field.error>label,\n.{{containerClassName}} .hs-form div.field.error span.help-inline,\n.{{containerClassName}} .hs-form div.field.error span.help-block {\n    color: #9d261d\n}\n\n.{{containerClassName}} .hs-form div.field.error .input-prepend span.add-on,\n.{{containerClassName}} .hs-form div.field.error .input-append span.add-on {\n    background: #f4c8c5;\n    border-color: #c87872;\n    color: #b9554d\n}\n\n.{{containerClassName}} .hs-form .hsErrMsgContainer ul {\n    margin-top: 6px;\n    margin-bottom: 0px;\n    margin-left: 7px;\n    list-style: none\n}\n\n.{{containerClassName}} .hs-form .hsErrMsgContainer ul li {\n    font-size: 12px;\n    color: #a44e47\n}\n\n.{{containerClassName}} .hs-form .hsErrMsgContainer .hs-block-message {\n    min-width: 200px;\n    width: 200px\n}\n\n.{{containerClassName}} .hs-form .hsErrMsgContainer .hs-block-message ul {\n    margin-top: 0px\n}\n\n.{{containerClassName}} .hs-form .actions {\n    background: #f5f5f5;\n    margin-top: 18px;\n    margin-bottom: 18px;\n    padding: 17px 20px 18px 150px;\n    border-top: 1px solid #ddd;\n    -webkit-border-radius: 0 0 3px 3px;\n    -moz-border-radius: 0 0 3px 3px;\n    -ms-border-radius: 0 0 3px 3px;\n    border-radius: 0 0 3px 3px\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action {\n    float: right\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action a {\n    line-height: 30px\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action a:hover {\n    text-decoration: underline\n}\n\n.{{containerClassName}} .hs-form .inputs-list {\n    margin: 0 0 5px;\n    width: 100%\n}\n\n.{{containerClassName}} .hs-form .inputs-list>li {\n    display: block;\n    padding: 0;\n    width: 100%\n}\n\n.{{containerClassName}} .hs-form .inputs-list label {\n    display: block;\n    float: none;\n    width: auto;\n    padding: 0;\n    line-height: 18px;\n    text-align: left;\n    white-space: normal;\n    font-weight: normal\n}\n\n.{{containerClassName}} .hs-form .inputs-list label strong {\n    color: #818181\n}\n\n.{{containerClassName}} .hs-form .inputs-list label small {\n    font-size: 11px;\n    font-weight: normal\n}\n\n.{{containerClassName}} .hs-form .inputs-list .inputs-list {\n    margin-left: 25px;\n    margin-bottom: 10px;\n    padding-top: 0\n}\n\n.{{containerClassName}} .hs-form .inputs-list:first-child {\n    padding-top: 6px\n}\n\n.{{containerClassName}} .hs-form .inputs-list>li+li {\n    padding-top: 2px\n}\n\n.{{containerClassName}} .hs-form .inputs-list input[type=radio],\n.{{containerClassName}} .hs-form .inputs-list input[type=checkbox] {\n    margin-bottom: 0\n}\n\n.{{containerClassName}} .hs-form.stacked {\n    padding-left: 20px\n}\n\n.{{containerClassName}} .hs-form.stacked fieldset {\n    padding-top: 9px\n}\n\n.{{containerClassName}} .hs-form.stacked legend {\n    margin-left: 0\n}\n\n.{{containerClassName}} .hs-form.stacked label {\n    display: block;\n    float: none;\n    width: auto;\n    font-weight: bold;\n    text-align: left;\n    line-height: 20px;\n    padding-top: 0;\n    margin-bottom: 4px\n}\n\n.{{containerClassName}} .hs-form.stacked .field {\n    margin-bottom: 18px\n}\n\n.{{containerClassName}} .hs-form.stacked .field div.input {\n    margin-left: 0\n}\n\n.{{containerClassName}} .hs-form.stacked .field div.input>input+a,\n.{{containerClassName}} .hs-form.stacked .field div.input select+a,\n.{{containerClassName}} .hs-form.stacked .field div.input textarea+a {\n    margin-top: 4px;\n    display: block\n}\n\n.{{containerClassName}} .hs-form.stacked .inputs-list {\n    margin-bottom: 0\n}\n\n.{{containerClassName}} .hs-form.stacked .inputs-list>li {\n    padding-top: 0\n}\n\n.{{containerClassName}} .hs-form.stacked .inputs-list>li label {\n    font-weight: normal;\n    padding-top: 0\n}\n\n.{{containerClassName}} .hs-form.stacked div.error {\n    padding: 3px 10px 6px;\n    margin-top: 0;\n    margin-left: -10px;\n    margin-bottom: 9px\n}\n\n.{{containerClassName}} .hs-form.stacked .actions {\n    margin-left: -20px;\n    padding-left: 20px\n}\n\n.{{containerClassName}} .hs-form {\n    padding-left: 0px\n}\n\n.{{containerClassName}} .hs-form.stacked {\n    padding-left: 0px\n}\n\n.{{containerClassName}} .hs-form.stacked fieldset {\n    padding: 0\n}\n\n.{{containerClassName}} .hs-form .hs-button {\n    color: #fff;\n    text-shadow: 0 -1px 0 #3574e3;\n    background-color: #3574e3;\n    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #7ec8f4), color-stop(100%, #3574e3));\n    background-image: -webkit-linear-gradient(top, #7ec8f4, #3574e3);\n    background-image: -moz-linear-gradient(top, #7ec8f4, #3574e3);\n    background-image: linear-gradient(top, #7ec8f4, #3574e3);\n    box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0.5);\n    border-top: 1px solid #64baf0;\n    border-bottom: 1px solid #1c4ed5;\n    border-right: 1px solid #468ee6;\n    border-left: 1px solid #468ee6;\n    border-radius: 4px;\n    -webkit-transition: opacity 0.15s linear;\n    -moz-transition: opacity 0.15s linear;\n    transition: opacity 0.15s linear;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none\n}\n\n.{{containerClassName}} .hs-form .hs-button:visited,\n.{{containerClassName}} .hs-form .hs-button:hover {\n    color: #fff\n}\n\n.{{containerClassName}} .hs-form .hs-button:hover:not(.inactive),\n.{{containerClassName}} .hs-form .hs-button:focus:not(.inactive),\n.{{containerClassName}} .hs-form .hs-button.hovered:not(.inactive) {\n    box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0.5), 0 0 5px #3574e3;\n    border-top: 1px solid #4db0ee;\n    border-bottom: 1px solid #1946be;\n    border-right: 1px solid #3080e3;\n    border-left: 1px solid #3080e3\n}\n\n.{{containerClassName}} .hs-form .hs-button:active:not(.inactive):not(.link),\n.{{containerClassName}} .hs-form .hs-button.depressed:not(.inactive):not(.link),\n.{{containerClassName}} .dropdown-open>.hs-form .hs-button:not(.inactive):not(.link) {\n    background-color: #599eeb;\n    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #3574e3), color-stop(100%, #599eeb));\n    background-image: -webkit-linear-gradient(top, #3574e3, #599eeb);\n    background-image: -moz-linear-gradient(top, #3574e3, #599eeb);\n    background-image: linear-gradient(top, #3574e3, #599eeb);\n    box-shadow: inset 0px 1px 2px rgba(0, 0, 0, 0.3), inset 0px -1px 0px rgba(255, 255, 255, 0.3);\n    border-top: 1px solid #1c4ed5;\n    border-bottom: 1px solid #4084e2;\n    border-right: 1px solid #468ee6;\n    border-left: 1px solid #468ee6\n}\n\n.{{containerClassName}} .dropdown-open>.hs-form .hs-button:not(.inactive):not(.link) {\n    box-shadow: inset 0px 1px 2px rgba(0, 0, 0, 0.3)\n}\n\n.{{containerClassName}} .hs-form .hs-button.disabled.disabled.disabled.disabled,\n.{{containerClassName}} .hs-form .hs-button[disabled][disabled][disabled] {\n    background-color: #6387c5;\n    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #88b1ce), color-stop(100%, #6387c5));\n    background-image: -webkit-linear-gradient(top, #88b1ce, #6387c5);\n    background-image: -moz-linear-gradient(top, #88b1ce, #6387c5);\n    background-image: linear-gradient(top, #88b1ce, #6387c5);\n    box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0);\n    border-top: 1px solid #7baacc;\n    border-bottom: 1px solid #5774be;\n    border-right: 1px solid #6c94c7;\n    border-left: 1px solid #6c94c7;\n    cursor: default;\n    color: #ededed;\n    text-shadow: none;\n    opacity: 0.6\n}\n\n.{{containerClassName}} .hs-form .hs-button.disabled.disabled.disabled.disabled.next:before,\n.{{containerClassName}} .hs-form .hs-button[disabled][disabled][disabled].next:before {\n    opacity: 0.5\n}\n\n.{{containerClassName}} .hs-form .hs-button.disabled.disabled.disabled.disabled.previous:before,\n.{{containerClassName}} .hs-form .hs-button[disabled][disabled][disabled].previous:before {\n    opacity: 0.5\n}\n\n.{{containerClassName}} .hs-form .hs-button.next:before,\n.{{containerClassName}} .hs-form .hs-button.previous:before {\n    background: url(/style_guide/static-8.319/img/hs-button-arrows.png) center 0 no-repeat;\n    display: block;\n    width: 16px;\n    height: 16px;\n    position: absolute;\n    top: 5px;\n    content: " ";\n    z-index: 99\n}\n\n.{{containerClassName}} .hs-form .hs-button.next {\n    padding-right: 32px\n}\n\n.{{containerClassName}} .hs-form .hs-button.next:before {\n    right: 9px\n}\n\n.{{containerClassName}} .hs-form .hs-button.previous {\n    padding-left: 32px\n}\n\n.{{containerClassName}} .hs-form .hs-button.previous:before {\n    background-position: center -16px;\n    left: 9px\n}\n\n.{{containerClassName}} .hs-form .hs-button.inactive {\n    cursor: default\n}\n\n.{{containerClassName}} .hs-form ul {\n    list-style: none\n}\n\n.{{containerClassName}} .hs-form label {\n    display: block;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif\n}\n\n.{{containerClassName}} .hs-form label.hidden {\n    display: none\n}\n\n.{{containerClassName}} .hs-form .hs-field-desc {\n    color: #aaa;\n    margin: 0px 0px 5px 150px;\n    font-size: 11px;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif\n}\n\n.{{containerClassName}} .hs-form .hs-form-required {\n    color: red\n}\n\n.{{containerClassName}} .hs-form .field {\n    margin-bottom: 9px\n}\n\n.{{containerClassName}} .hs-form .hs-richtext {\n    margin-bottom: 3px;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    line-height: 18px;\n    font-size: 14px;\n    color: #414141\n}\n\n.{{containerClassName}} .hs-form .hs-richtext hr {\n    text-align: left;\n    margin-left: 0;\n    width: 91%\n}\n\n.{{containerClassName}} .hs-form .email-correction,\n.{{containerClassName}} .hs-form .email-validation {\n    padding-top: 3px;\n    font-size: 12px;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif\n}\n\n.{{containerClassName}} .hs-form .email-correction a,\n.{{containerClassName}} .hs-form .email-validation a {\n    cursor: pointer\n}\n\n.{{containerClassName}} .hs-form .inputs-list {\n    padding-left: 5px;\n    list-style: none\n}\n\n.{{containerClassName}} .hs-form .inputs-list li input {\n    margin: 3px 5px 3px 0px\n}\n\n.{{containerClassName}} .hs-form input[type=checkbox],\n.{{containerClassName}} .hs-form input[type=radio] {\n    margin-right: 5px\n}\n\n.{{containerClassName}} .hs-form input:not([type="image"]),\n.{{containerClassName}} .hs-form textarea {\n    box-sizing: content-box\n}\n\n.{{containerClassName}} .hs-form.stacked .hs-field-desc {\n    margin: 0px 0px 2px 0px\n}\n\n.{{containerClassName}} .hs-form .hs-input,\n.{{containerClassName}} .hs-form textarea.hs-input {\n    box-sizing: border-box;\n    max-width: 500px;\n    width: 90%\n}\n\n.{{containerClassName}} .hs-form .hs-input:not[type=checkbox],\n.{{containerClassName}} .hs-form .hs-input:not[type=radio],\n.{{containerClassName}} .hs-form textarea.hs-input:not[type=checkbox],\n.{{containerClassName}} .hs-form textarea.hs-input:not[type=radio] {\n    min-height: 18px;\n    min-width: 100px\n}\n\n.{{containerClassName}} .hs-form .actions {\n    background: transparent;\n    margin-top: 18px;\n    margin-bottom: 18px;\n    padding: 17px 20px 18px 0px;\n    border-top: none;\n    -webkit-border-radius: 0 0 3px 3px;\n    -moz-border-radius: 0 0 3px 3px;\n    -ms-border-radius: 0 0 3px 3px;\n    border-radius: 0 0 3px 3px\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action {\n    float: right\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action a {\n    line-height: 30px\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action a:hover {\n    text-decoration: underline\n}\n\n.{{containerClassName}} .pika-single {\n    z-index: 9999;\n    display: block;\n    position: relative;\n    color: #333;\n    background: #fff;\n    border: 1px solid #ccc;\n    border-bottom-color: #bbb;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif\n}\n\n.{{containerClassName}} .pika-single.is-hidden {\n    display: none\n}\n\n.{{containerClassName}} .pika-single.is-bound {\n    position: absolute;\n    box-shadow: 0 5px 15px -5px rgba(0, 0, 0, 0.5)\n}\n\n.{{containerClassName}} .pika-single {\n    *zoom: 1\n}\n\n.{{containerClassName}} .pika-single:before,\n.{{containerClassName}} .pika-single:after {\n    content: " ";\n    display: table\n}\n\n.{{containerClassName}} .pika-single:after {\n    clear: both\n}\n\n.{{containerClassName}} .pika-lendar {\n    float: left;\n    width: 240px;\n    margin: 8px\n}\n\n.{{containerClassName}} .pika-title {\n    position: relative;\n    text-align: center\n}\n\n.{{containerClassName}} .pika-title select {\n    cursor: pointer;\n    position: absolute;\n    z-index: 9998;\n    margin: 0;\n    left: 0;\n    top: 5px;\n    filter: alpha(opacity=0);\n    opacity: 0\n}\n\n.{{containerClassName}} .pika-label {\n    display: inline-block;\n    *display: inline;\n    position: relative;\n    z-index: 9999;\n    overflow: hidden;\n    margin: 0;\n    padding: 5px 3px;\n    font-size: 14px;\n    line-height: 20px;\n    font-weight: bold;\n    background-color: #fff\n}\n\n.{{containerClassName}} .pika-prev,\n.{{containerClassName}} .pika-next {\n    display: block;\n    cursor: pointer;\n    position: relative;\n    outline: none;\n    border: 0;\n    padding: 0;\n    width: 20px;\n    height: 30px;\n    text-indent: 20px;\n    white-space: nowrap;\n    overflow: hidden;\n    background-color: transparent;\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: 75% 75%;\n    opacity: 0.5;\n    *position: absolute;\n    *top: 0\n}\n\n.{{containerClassName}} .pika-prev:hover,\n.{{containerClassName}} .pika-next:hover {\n    opacity: 1\n}\n\n.{{containerClassName}} .pika-prev.is-disabled,\n.{{containerClassName}} .pika-next.is-disabled {\n    cursor: default;\n    opacity: 0.2\n}\n\n.{{containerClassName}} .pika-prev,\n.{{containerClassName}} .is-rtl .pika-next {\n    float: left;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAUklEQVR42u3VMQoAIBADQf8Pgj+OD9hG2CtONJB2ymQkKe0HbwAP0xucDiQWARITIDEBEnMgMQ8S8+AqBIl6kKgHiXqQqAeJepBo/z38J/U0uAHlaBkBl9I4GwAAAABJRU5ErkJggg==");\n    *left: 0\n}\n\n.{{containerClassName}} .pika-next,\n.{{containerClassName}} .is-rtl .pika-prev {\n    float: right;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAU0lEQVR42u3VOwoAMAgE0dwfAnNjU26bYkBCFGwfiL9VVWoO+BJ4Gf3gtsEKKoFBNTCoCAYVwaAiGNQGMUHMkjGbgjk2mIONuXo0nC8XnCf1JXgArVIZAQh5TKYAAAAASUVORK5CYII=");\n    *right: 0\n}\n\n.{{containerClassName}} .pika-select {\n    display: inline-block;\n    *display: inline\n}\n\n.{{containerClassName}} .pika-table {\n    width: 100%;\n    border-collapse: collapse;\n    border-spacing: 0;\n    border: 0\n}\n\n.{{containerClassName}} .pika-table th,\n.{{containerClassName}} .pika-table td {\n    width: 14.28571%;\n    padding: 0\n}\n\n.{{containerClassName}} .pika-table th {\n    color: #999;\n    font-size: 12px;\n    line-height: 25px;\n    font-weight: bold;\n    text-align: center\n}\n\n.{{containerClassName}} .pika-table abbr {\n    border-bottom: none;\n    cursor: help\n}\n\n.{{containerClassName}} .pika-button {\n    cursor: pointer;\n    display: block;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    outline: none;\n    border: 0;\n    margin: 0;\n    width: 100%;\n    padding: 5px;\n    color: #666;\n    font-size: 12px;\n    line-height: 15px;\n    text-align: right;\n    background: #f5f5f5\n}\n\n.{{containerClassName}} .is-today .pika-button {\n    color: #3af;\n    font-weight: bold\n}\n\n.{{containerClassName}} .is-selected .pika-button {\n    color: #fff;\n    font-weight: bold;\n    background: #3af;\n    box-shadow: inset 0 1px 3px #178fe5;\n    border-radius: 3px\n}\n\n.{{containerClassName}} .is-disabled .pika-button {\n    pointer-events: none;\n    cursor: default;\n    color: #999;\n    opacity: 0.3\n}\n\n.{{containerClassName}} .pika-button:hover {\n    color: #fff !important;\n    background: #ff8000 !important;\n    box-shadow: none !important;\n    border-radius: 3px !important\n}\n\n.{{containerClassName}} .pika-week {\n    font-size: 11px;\n    color: #999\n}\n\n.{{containerClassName}} .hs-form fieldset {\n    border: 0;\n    padding: 0;\n    margin: 0;\n    max-width: 500px\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-1 .hs-input {\n    width: 95%\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-1 .input {\n    margin-right: 8px\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-1 input[type="checkbox"],\n.{{containerClassName}} .hs-form fieldset.form-columns-1 input[type="radio"] {\n    width: auto\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-2 .hs-form-field {\n    width: 50%;\n    float: left\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-2 .input {\n    margin-right: 8px\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-3 .hs-form-field {\n    width: 32.7%;\n    float: left\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-3 .input {\n    margin-right: 8px\n}\n\n.{{containerClassName}} .hs-form fieldset .hs-form-field.hidden-label {\n    margin-top: 24px\n}\n\n.{{containerClassName}} .hs-form .hs-social-login {\n    border-radius: 3px;\n    box-sizing: content-box;\n    width: 95%;\n    max-width: 480px;\n    height: 90px\n}\n\n.{{containerClassName}} .hsformerror {\n    margin: 0 0 2px;\n    padding: 2px 6px;\n    height: auto;\n    background-color: #fdd2d0;\n    font-size: 11px;\n    border: 1px solid #fcb3af;\n    padding: 4px 16px 4px 10px;\n    color: #000;\n    display: none;\n    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #fefefe), color-stop(100%, #fdd2d0));\n    background-image: -webkit-linear-gradient(#fefefe, #fdd2d0);\n    background-image: -moz-linear-gradient(#fefefe, #fdd2d0);\n    background-image: -o-linear-gradient(#fefefe, #fdd2d0);\n    background-image: linear-gradient(#fefefe, #fdd2d0);\n    -webkit-border-radius: 4px;\n    -moz-border-radius: 4px;\n    -ms-border-radius: 4px;\n    -o-border-radius: 4px;\n    border-radius: 4px;\n    -webkit-box-shadow: 0 0 6px #ddd;\n    -moz-box-shadow: 0 0 6px #ddd;\n    box-shadow: 0 0 6px #ddd;\n    z-index: 99999\n}\n\n.{{containerClassName}} .hsformerror em {\n    border: 10px solid;\n    border-color: #fdd2d0 transparent transparent;\n    bottom: -17px;\n    display: block;\n    height: 0;\n    left: 60px;\n    position: absolute;\n    width: 0\n}\n\n.{{containerClassName}} .hsformerror p {\n    font-family: Lucida Grande, Lucida Sans Unicode, bitstream vera sans, trebuchet ms, verdana, sans-serif;\n    margin: 0;\n    float: left;\n    margin-right: 8px\n}\n\n.{{containerClassName}} .hsformerror:hover {\n    cursor: default\n}\n\n.{{containerClassName}} .hsformerror .close-form-error {\n    float: right;\n    display: inline;\n    top: 3px;\n    position: absolute;\n    font-family: Verdana !important;\n    color: #b17c79 !important;\n    cursor: pointer !important;\n    font-size: 11px !important;\n    font-weight: normal !important\n}\n\n.{{containerClassName}} .hsformerror .close-form-error:hover {\n    color: #cc8884\n}\n\n@media (max-width: 400px),\n(min-device-width: 320px) and (max-device-width: 480px) {\n    form.hs-form .form-columns-2 .hs-form-field,\n    form.hs-form .form-columns-3 .hs-form-field {\n        float: none;\n        width: 100%\n    }\n    form.hs-form .form-columns-2 .hs-form-field .hs-input,\n    form.hs-form .form-columns-3 .hs-form-field .hs-input {\n        width: 95%\n    }\n}\n\n@media (max-width: 422px) {\n    .all-social-types {\n        height: 100px\n    }\n}\n\n@media (max-width: 342px) {\n    .hs-social-login {\n        height: 72px\n    }\n}\n'},41854:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<div>\n    <div class="modal-overlay"></div>\n    <div id="connection-lost-modal-content" class="studio-modal-content">\n        <div class="studio-modal-body">\n            <h3 class="no-body">Connection lost</h3>\n            <div>\n                <button id="reload" class="confirm-button">Reload now</button>\n            </div>\n        </div>\n    </div>\n</div>'},99771:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<div class="popover-inner">\n    <div class="titlebar">\n        <span></span>\n        <a class="ceros-icon ceros-x-icon close" title="Close"></a>\n    </div>\n    <div class="content"></div>\n    <div class="pointer"></div>\n</div>\n'},14288:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='\n    <a href="#" class="label"><span class="sr-only">Powered by Ceros</span></a>'},21844:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<nav id="chrome-menu">\n    <a href="#" class="title" title="Home"></a>\n    <div class="menu-buttons">\n        <div class="share button">\n            <button class="menu-button share-button" aria-controls="shareMenu"><span class="sr-only">Social Sharing Menu</span><span class="icon">&#xe000;</span></button>\n            <div class="arrow">\x3c!-- A dynamically rendered HTML5 canvas or VML element is inserted here --\x3e</div>\n        </div>\n        <div id="shareMenu" class="share-menu" style="display:none;" aria-expanded="false">\n            <ul>\n                <li><a href="#" data-share="facebook" title="Share on Facebook"><span class="sr-only">Share on Facebook</span><span class="icon ceros-facebook-icon"></span></a></li>\n                <li><a href="#" data-share="twitter" title="Share on Twitter"><span class="sr-only">Share on Twitter</span><span class="icon ceros-twitter-icon"></span></a></li>\n                <li><a href="#" data-share="linkedin" title="Share on LinkedIn"><span class="sr-only">Share on LinkedIn</span><span class="icon ceros-linkedin-icon"></span></a></li>\n                <li><a href="#" data-share="pinterest" title="Share on Pinterest"><span class="sr-only">Share on Pinterest</span><span class="icon ceros-pinterest-icon"></span></a></li>\n                <li><a href="#" data-share="email" title="Share via Email"><span class="sr-only">Share on Email</span><span class="icon ceros-email-icon"></span></a></li>\n            </ul>\n        </div>\n        <div class="cart button" aria-controls="cartModal">\n            <button class="menu-button" aria-controls="lightbox"><span class="sr-only">Open Cart</span><span class="icon">&#xe004;</span></button>\n        </div>\n    </div>\n</nav>\n'},70348:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<div id="float"></div>\n<div id="dialog">\n    <div id="content">\n        <div id="title">\n            {{title}}\n        </div>\n        <div id="image" {{#imageCssClass}}class="{{imageCssClass}}"{{/imageCssClass}}></div>\n        <div id="message">\n            {{{message}}}\n        </div>\n    </div>\n</div>'},57172:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<div class="container ceros-lightbox">\n    <button class="close"><span class="sr-only">Close modal</span></span>&#xE00B;</button>\n    <div class="scrolling">\n        <iframe src="about:blank" frameborder="0" allowfullscreen></iframe>\n    </div>\n</div>\n'},81433:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<div class="media-loading__media-type-icon {{#isImage}}-image{{/isImage}}{{^isImage}}-video{{/isImage}}"></div>\n<div class="media-loading__spinner"><div class="loader-spinner"></div></div>\n'},61652:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.2" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"\n\t y="0px" width="1000px" height="1000px" viewBox="0 0 1000 1000" xml:space="preserve">\n<g id="single-arrow" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M0,346.2l696.6,0V0L1000,500\n\t\tl-303.4,500V653.9L0,653.9V346.2z"/>\n</g>\n<g id="double-arrow" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M232.8,653.9V1000L0,500\n\t\tL232.8,0v346.1l534.5,0V0L1000,500l-232.8,500V653.9L232.8,653.9z"/>\n</g>\n<g id="rounded-square" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M1000,883.3\n\t\tc0,64.2-52.5,116.7-116.7,116.7H116.7C52.5,1000,0,947.5,0,883.3V116.7C0,52.5,52.5,0,116.7,0h766.7C947.5,0,1000,52.5,1000,116.7\n\t\tV883.3z"/>\n</g>\n<g id="triangle" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500,0L0,1000h1000L500,0"/>\n</g>\n<g id="right-triangle" display="none">\n\t<polygon display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" points="0.1,1000.5\n\t\t1000.5,1000.5 1000.5,0.1 \t"/>\n</g>\n<g id="single-arrow-fat" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M454.5,0L1000,500l-545.5,500\n\t\tV700H0V300h454.5V0z"/>\n</g>\n<g id="double-arrow-fat" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M517,680.3L517,680.3l-252,0\n\t\tV1000L0,500L265,0v319.6h218v0h252V0l265,500l-265,500V680.3H517z"/>\n</g>\n<g id="round-bubble" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M650.3,786.5\n\t\tC516.5,972.5,288.8,1000,288.8,1000c75.1-73.8,98.5-146,100.4-204.9C166.4,754.5,0,594.2,0,402.5C0,180.2,223.9,0,500,0\n\t\ts500,180.2,500,402.5C1000,582.6,853,735.1,650.3,786.5z"/>\n</g>\n<g id="square-bubble" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M796.5,800H648.4l-302.2,200\n\t\tl54.9-200H203.5C91.1,800,0,705.2,0,588.3V211.7C0,94.8,91.1,0,203.5,0h592.9C908.9,0,1000,94.8,1000,211.7v376.7\n\t\tC1000,705.2,908.9,800,796.5,800z"/>\n</g>\n<g id="star" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500,0l154.5,329.2L1000,382\n\t\tL750,638.2l59,361.8L500,829.2L191,1000l59-361.8L0,382l345.5-52.8L500,0z"/>\n</g>\n<g id="star2" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500.3,0l-98.1,410.7L0,382.3\n\t\tl339.8,225.2L191,999.6l308.1-270.4L808.7,1000L659,607.7l341-225.5l-402.3,28.2L500.3,0z"/>\n</g>\n<g id="pentagon" display="none">\n\t<path display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" d="M1000,382l-191,618H191L0,382L500,0L1000,382z"/>\n</g>\n<g id="circle" display="none">\n\t<circle display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" cx="500" cy="500" r="500"/>\n</g>\n<g id="square" display="none">\n\t<rect x="0" y="0" display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" width="1000" height="1000"/>\n</g>\n</svg>\n'},59410:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<div class="loading-container">\n    <div class="spinner"></div>\n    {{^whiteLabeling}}\n    <div class="branding-logo"></div>\n    {{/whiteLabeling}}\n    {{#showPreviewLabel}}\n    <div class="notice">REAL-TIME PREVIEW</div>\n    {{/showPreviewLabel}}\n</div>\n'},45303:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<div class="warning-modal unavailable overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n </div>\n<div class="warning-modal modal">\n    <div>\n        <div class="branding-logo"></div>\n        <span class="warning-icon no-entry-icon"></span>\n        <span class="notice important">This experience has been removed by the publisher</span>\n    <div>\n</div>\n'},47307:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<div class="warning-modal unavailable overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n </div>\n<div class="warning-modal unavailable modal">\n    <div>\n        <div class="branding-logo"></div>\n        <span class="warning-icon alert-icon"></span>\n        <span class="notice important">Your Ceros subscription expired</span>\n        <span class="notice">Get in touch with our helpful team who will rectify this in no time</span>\n        <button class="submit contact">Get in touch</button>\n    <div>\n</div>\n'},95950:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<div class="warning-modal embedded-previewer overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n</div>\n<div class="warning-modal embedded-previewer modal">\n    <div>\n        {{#showBranding}}<div class="branding-logo"></div>{{/showBranding}}\n        <span class="notice important">{{importantText}}</span>\n        <span class="notice">{{{descriptiveText}}}</span>\n        <button class="submit dismiss">{{buttonText}}</button>\n    </div>\n</div>\n'},52675:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"/>'},35666:t=>{var e=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function u(t,e,n,i){var r=e&&e.prototype instanceof g?e:g,o=Object.create(r.prototype),a=new C(i||[]);return o._invoke=function(t,e,n){var i=c;return function(r,o){if(i===h)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw o;return k()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===c)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var u=l(t,e,n);if("normal"===u.type){if(i=n.done?f:d,u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=f,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c="suspendedStart",d="suspendedYield",h="executing",f="completed",p={};function g(){}function m(){}function v(){}var y={};y[o]=function(){return this};var _=Object.getPrototypeOf,b=_&&_(_(A([])));b&&b!==n&&i.call(b,o)&&(y=b);var w=v.prototype=g.prototype=Object.create(y);function T(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function S(t,e){function n(r,o,a,s){var u=l(t[r],t,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var r;this._invoke=function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}}function E(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=l(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function A(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:k}}function k(){return{value:e,done:!0}}return m.prototype=w.constructor=v,v.constructor=m,v[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},T(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new S(u(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(w),w[s]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=A,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:A(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},33156:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.storageFactory=void 0,e.storageFactory=function(t){var e={};function n(){try{var e="__some_random_key_you_are_not_going_to_use__";return t().setItem(e,e),t().removeItem(e),!0}catch(t){return!1}}return{getItem:function(i){return n()?t().getItem(i):e.hasOwnProperty(i)?e[i]:null},setItem:function(i,r){n()?t().setItem(i,r):e[i]=String(r)},removeItem:function(i){n()?t().removeItem(i):delete e[i]},clear:function(){n()?t().clear():e={}},key:function(i){return n()?t().key(i):Object.keys(e)[i]||null},get length(){return n()?t().length:Object.keys(e).length}}}},82011:(t,e,n)=>{var i=n(93379),r=n(87114);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);i(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},50462:(t,e,n)=>{var i=n(93379),r=n(53070);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);i(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},54087:(t,e,n)=>{var i=n(93379),r=n(79938);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);i(r,{insert:"head",singleton:!1}),t.exports=r.locals||{}},93379:(t,e,n)=>{"use strict";var i,r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},i=[],r=0;r<t.length;r++){var s=t[r],u=e.base?s[0]+e.base:s[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var d=a(c),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(o[d].references++,o[d].updater(h)):o.push({identifier:c,updater:g(h,e),references:1}),i.push(c)}return i}function u(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var a=r(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,c=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function d(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=c(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function h(t,e,n){var i=n.css,r=n.media,o=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var f=null,p=0;function g(t,e){var n,i,r;if(e.singleton){var o=p++;n=f||(f=u(e)),i=d.bind(null,n,o,!1),r=d.bind(null,n,o,!0)}else n=u(e),i=h.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=a(n[i]);o[r].references--}for(var u=s(t,e),l=0;l<n.length;l++){var c=a(n[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=u}}}},59506:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.RoleId=void 0,(n=e.RoleId||(e.RoleId={}))[n.CREATOR=1]="CREATOR",n[n.VIEWER=2]="VIEWER",n[n.REVIEWER=3]="REVIEWER",n[n.OWNER=11]="OWNER",n[n.EDITOR=13]="EDITOR"},55348:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.RoleName=void 0,(n=e.RoleName||(e.RoleName={})).CREATOR="Creator",n.VIEWER="Viewer",n.REVIEWER="Reviewer",n.OWNER="Owner",n.EDITOR="Editor"},90529:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ExperienceStatus=void 0,(n=e.ExperienceStatus||(e.ExperienceStatus={})).DRAFT="draft",n.PUBLISHED="published",n.UNPUBLISHED="unpublished",n.DELETED="deleted"},57824:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureFlagName=void 0,(n=e.FeatureFlagName||(e.FeatureFlagName={})).PASSWORD_PROTECTED_EXPERIENCES="Password Protected Experiences",n.GETTY_IMAGES="Getty Image Integration",n.GETTY_VIDEOS="Getty Video Integration",n.GETTY_LIBRARY_INTEGRATION="Getty Library Integration",n.ACCESSIBILITY="Accessibility",n.PROTECTED_PREVIEW="(BETA) Protected Preview",n.POSITION_INTERACTIONS="Position Interactions",n.COOKIE_COMPLIANCE="Cookie Compliance",n.EDIT_IN_PREVIEW="Editor",n.EDITOR_FOR_CREATORS="Editor for Creators",n.EDITOR_DEBUG_MODE="Editor Debug Mode",n.EDITOR_IMAGE_CROP="Editor Image Crop And Resize",n.NEW_TEXT_TOOL="New Text Tool",n.STUDIO_API="Studio API",n.SSO_PROTECTED_EXPERIENCES="SSO Protected Experiences",n.IMPROVED_TEAM_MANAGEMENT="Improved Team Management",n.OPEN_IN_MARKUP="Open in MarkUp",n.STUDIO_REDESIGN="Studio Redesign",n.TEXT_PLUS_HTML_ELEMENT="(New Text Tool) Html Element",n.TEXT_PLUS_COLUMNS="(New Text Tool) Columns",n.SPELLCHECK="(New Text Tool) Spellcheck",n.REMOVE_WINDOW_EVAL="Remove window.eval",n.GEMMA="Gemma",n.NEW_TEXT_TOOL_EXPERIENCE_CONVERTER="New Text Tool Experience Converter (requires New Text Tool)",n.COMPONENT_LIBRARY="Component Library",n.CREATE_ACCOUNT_FROM_LOGIN="Create Account from Login",n.INDIVIDUAL_ACCOUNTS="Individual Accounts",n.STUDIO_LITE="Studio Lite",n.INTERCOM_SUPPORT_CHAT="Intercom Support Chat",n.AI_TEMPLATES="AI Templates",n.EDITOR_SIGN_UP="Editor Sign Up",n.BEAMER="Beamer",n.SHOWCASE_EXPERIENCES="Showcase Experience",n.REQUEST_FEEDBACK="Request Feedback",n.SDR_EDITOR_INVITE="SDR Editor Invite",n.FORCE_PROTECTED_EXPERIENCES="Force Protected Experiences",n.EDITOR_FREE_FOR_IMPORT="Editor Free For Import",n.HOME_SCREEN="Home Screen",n.GEMMA_IN_ADMIN="Gemma in Admin",n.SEISMIC_INTEGRATION="Seismic Integration",n.NEW_SELECTION_BEHAVIOR="New Selection Behavior",n.AI_FEATURES="AI Features",n.EXPERIENCE_SHARING="Experience Sharing",n.SHOW_IMPORT_DESIGN_FILES="Show Import Design Files",n.PLAYER_SERVER_SIDE_RENDERING="Player Server Side Rendering",n.FLOATING_TOOLBAR="Floating Toolbar",n.USE_EMBED_MODAL="Use Embed Modal",n.USE_MODERN_IPADOS_SCROLLING="Use Modern IpadOS Scrolling"},12056:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureFlagState=void 0,(n=e.FeatureFlagState||(e.FeatureFlagState={})).GENERAL_AVAILABILITY="global",n.LIMITED_AVAILABILITY="limited",n.CONTROLLED_GA="controlled",n.DISABLED="disabled"},17656:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.COMPONENT_TYPES_WITH_ADVANCED_CAPABILITIES=e.ComponentType=void 0,function(t){t.SHAPE_COMPONENT="shape-component",t.SQUARE_SHAPE_COMPONENT="square-shape-component",t.SHAPE_MASK_COMPONENT="shape-mask-component",t.SQUARE_SHAPE_MASK_COMPONENT="square-shape-mask-component",t.CHARTBLOCKS_CHART_COMPONENT="chartblocks-chart-component",t.IMAGE_COMPONENT="image-component",t.IMAGE_MASK_BASE_COMPONENT="image-mask-base-component",t.IMAGE_ALPHAMASK_MASK_COMPONENT="image-alphamask-mask-component",t.IMAGE_ALPHAMASK_BASE_COMPONENT="image-alphamask-base-component",t.MASK_COMPONENT="mask-component",t.SVG_IMAGE_COMPONENT="svg-image-component",t.LINE_COMPONENT="line-component",t.HTML_COMPONENT="html-component",t.HOTSPOT_COMPONENT="hotspot-component",t.HOTSPOT_PATH_COMPONENT="hotspot-path-component",t.TEXT_COMPONENT="text-component",t.VIDEO_WIDGET="video-widget",t.FOLDER="folder",t.GROUP="group",t.MASK_GROUP="mask-group",t.SMART_GROUP="smartgroup",t.HUBSPOT_FORM_COMPONENT="hubspot-form-component",t.MARKETO_FORM_COMPONENT="marketo-form-component",t.CANVAS_BACKGROUND_COMPONENT="canvas-background-component",t.CUSTOM_SHAPE_COMPONENT="custom-shape-component",t.TEXT_PLUS_COMPONENT="text-plus-component"}(n=e.ComponentType||(e.ComponentType={})),e.COMPONENT_TYPES_WITH_ADVANCED_CAPABILITIES=[n.SHAPE_COMPONENT,n.SQUARE_SHAPE_COMPONENT,n.CUSTOM_SHAPE_COMPONENT,n.SHAPE_MASK_COMPONENT,n.SQUARE_SHAPE_MASK_COMPONENT,n.IMAGE_COMPONENT,n.SVG_IMAGE_COMPONENT,n.IMAGE_MASK_BASE_COMPONENT,n.IMAGE_ALPHAMASK_MASK_COMPONENT,n.IMAGE_ALPHAMASK_BASE_COMPONENT,n.TEXT_COMPONENT,n.TEXT_PLUS_COMPONENT,n.VIDEO_WIDGET]},17871:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EnumUtils=e.assertUnreachable=void 0,e.assertUnreachable=function(t){throw new Error("Missing switch case: "+t)};var n=function(){function t(){}return t.convertStringToEnum=function(t,e,n){return t(e)?e:n},t.createEnumValidator=function(t){return function(e){return Object.values(t).includes(e)}},t}();e.EnumUtils=n},32899:function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerUtils=e.ENV_TYPE=void 0;var s,u=a(n(96486));!function(t){t.LOCAL="local",t.DEV="dev",t.STAGE="stage",t.PROD="prod"}(s=e.ENV_TYPE||(e.ENV_TYPE={}));var l=function(){function t(){}return t.bootstrap=function(e,n){t.envType=null!=e?e:"unknown",t.envName=null!=n?n:"unknown"},t.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console&&"function"==typeof console.log&&console.log.apply(console,r([t],e))},t.info=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];console&&"function"==typeof console.info?console.info.apply(console,r([e],n)):t.log.apply(t,r([e],n))},t.debug=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];console&&"function"==typeof console.debug?console.debug.apply(console,r([e],n)):t.log.apply(t,r([e],n))},t.warn=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];console&&"function"==typeof console.warn?console.info.apply(console,r([e],n)):t.log.apply(t,r([e],n))},t.error=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];console&&"function"==typeof console.error?console.error.apply(console,r([e],n)):t.log.apply(t,r([e],n))},t.logDebug=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];t.envType!==s.STAGE&&t.envType!==s.PROD&&t.debug.apply(t,r([e],n))},t.logInfo=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];t.envType!==s.STAGE&&t.envType!==s.PROD&&t.info.apply(t,r([e],n))},t.logError=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];t.logErrorOrWarning.apply(t,r(["error",e],n))},t.logWarning=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];t.logErrorOrWarning.apply(t,r(["warn",e],n))},t.logErrorOrWarning=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];t.envType!==s.DEV&&t.envName!==s.LOCAL&&t.sendToRollbar.apply(t,r([e,{envType:t.envType,envName:t.envName},n],i)),t[e].apply(t,r([n],i))},t.sendErrorToRollbar=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.sendToRollbar.apply(t,r(["error"],e))},t.sendToRollbar=function(t){for(var e,n,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];if(window.Rollbar){var a=[];try{for(var s=o(i),u=s.next();!u.done;u=s.next()){var l=u.value;if(l instanceof Error){var c=l;a.push(l),c.metadata&&a.push(this.convertMetadata(c.metadata))}else"string"!=typeof l?a.push(this.convertMetadata(l)):a.push(l)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}window.Rollbar[t].apply(window.Rollbar,a)}},t.convertMetadata=function(t){return u.default.mapValues(t,(function(t){if("string"!=typeof t)try{t=JSON.stringify(t)}catch(e){t="Could not stringify value: "+e.message}return u.default.truncate(t,{length:9e4})}))},t.envType="unknown",t.envName="unknown",t}();e.LoggerUtils=l},54769:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.PreviewModalWindowState=void 0,(n=e.PreviewModalWindowState||(e.PreviewModalWindowState={})).FULLSCREEN="fullscreen",n.MINIMIZED="minimized",n.CLOSED="closed"},39668:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.PreviewerEventType=void 0,(n=e.PreviewerEventType||(e.PreviewerEventType={})).READY="previewer-event:ready",n.PAGE_CHANGE="previewer-event:page-change",n.PAGE_CHANGING="previewer-event:page-changing",n.PAGE_LOADING="previewer-event:page-loading",n.POSITION_CHANGE="previewer-event:position-change",n.PAUSE_TOGGLED="previewer-event:pause-toggled",n.UNPAUSED="previewer-event:unpaused",n.STATE_CHANGE="previewer-event:state-change"},9375:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.StudioEventType=void 0,(n=e.StudioEventType||(e.StudioEventType={})).SCROLL="studio-event:scroll",n.PAGE_CHANGE="studio-event:page-change",n.LAYOUT_CHANGE="studio-event:layout-change",n.PREVIEW_WINDOW_STATE_CHANGE="studio-event:preview-window-state-change",n.SPACEBAR_PRESSED="studio-event:spacebar-pressed",n.PLAY_BUTTON_CLICKED="studio-event:play-button-clicked",n.PAUSE_BUTTON_CLICKED="studio-event:pause-button-clicked",n.RESTART_BUTTON_CLICKED="studio-event:restart-button-clicked",n.PREVIEW_BUTTON_CLICKED="studio-event:preview-button-clicked",n.PREVIEW_MODAL_TRANSITION_STARTED="studio-event:preview-modal-transition-started",n.PREVIEW_MODAL_TRANSITION_ENDED="studio-event:preview-modal-transition-ended"},74122:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.openExperienceInNewTab=e.AppNavigationUtils=e.StudioApp=e.Layout=e.AppContext=void 0;var r,o,a,s=n(32899),u=i(n(8030));!function(t){t.ADMIN_AND_STUDIO="admin",t.EDITOR_AND_PREVIEWER="preview",t.PLAYER="view"}(r=e.AppContext||(e.AppContext={})),function(t){t.DESKTOP="desktop",t.TABLET="tablet",t.MOBILE="mobile"}(o=e.Layout||(e.Layout={})),function(t){t.STUDIO_PRO="studio-pro",t.STUDIO_LITE="studio-lite"}(a=e.StudioApp||(e.StudioApp={}));var l=function(){function t(){}return t.isAdminDomain=function(t){var e;try{e=new URL(t)}catch(t){return s.LoggerUtils.logError("Invalid URL",t),!1}return new RegExp("admin.ceros(dev)?.com").test(e.host)},t.isPreviewDomain=function(t){var e;try{e=new URL(t)}catch(t){return s.LoggerUtils.logError("Invalid URL",t),!1}return new RegExp("preview.ceros(dev)?.com").test(e.host)},t.getAdminOrigin=function(e,n){return"https://"+t.getHostnameForApp(e,r.ADMIN_AND_STUDIO,window,n)},t.getPreviewOrigin=function(e,n){return"https://"+n+"."+t.getHostnameForApp(e,r.EDITOR_AND_PREVIEWER,window,n)},t.getAdminProjectUri=function(t,e){return"/account/"+t+"/projects/"+e},t.getStudioUrl=function(e,n,i){return""+t.getAdminOrigin(e,n)+t.getStudioUri(a.STUDIO_PRO,n,i)},t.getStudioUri=function(t,e,n,i,r){var s="/account/"+e+"/"+(t===a.STUDIO_PRO?"studio":"editor")+"/experience/"+n;return i&&i!==o.DESKTOP&&(s+="/layout/"+i),r&&(s+="/p/"+r),s},t.getEditorUrl=function(e,n,i,r){return""+t.getAdminOrigin(e,n)+t.getStudioUri(a.STUDIO_LITE,n,i,r)},t.getPreviewerUrl=function(e,n,i,r){var a=t.getPreviewOrigin(e,n)+"/"+i;return r&&r!==o.DESKTOP&&(a+="/layout/"+r),a},t.getPublishedUrl=function(e,n,i,o,a){var s="https://"+t.getHostnameForApp(e,r.PLAYER,window,n)+"/"+n+"/"+i;return o&&(s+="/p/"+o),a&&(s+="#"+a),s},t.getGemmaUrl=function(){return"https://web.gemma.ai/"},t.getMarkupUrl=function(){return"prod"!==(null===u.default||void 0===u.default?void 0:u.default.envType)?"https://app-stage.markupdev.io":"https://app.markup.io/"},t.getMarkupRedirectUrl=function(e,n,i){return"https://"+t.getHostnameForApp(e,r.ADMIN_AND_STUDIO,window,n)+"/account/"+n+"/experience/"+i+"/markup/redirect"},t.getHostnameForApp=function(t,e,n,i){if(void 0===i&&(i=null),i&&t===r.EDITOR_AND_PREVIEWER){var o=n.location.hostname;if(o.match(""+i))return o.replace(i+".","").replace(new RegExp(r.ADMIN_AND_STUDIO+"|"+r.EDITOR_AND_PREVIEWER),e)}return n.location.hostname.replace(new RegExp(r.ADMIN_AND_STUDIO+"|"+r.EDITOR_AND_PREVIEWER),e)},t.getAdminWindowTarget=function(){return"Ceros Admin"},t.getStudioWindowTarget=function(t){return"_studio_"+t},t.getEditorWindowTarget=function(t){return"_editor_"+t},t.getPreviewerWindowTarget=function(t){return"_previewer_"+t},t.getPublishedWindowTarget=function(t){return"_view_"+t},t.getMarkupWindowTarget=function(t){return"_markup_"+t},t.getGemmaWindowTarget=function(){return"Gemma"},t.getManageAccountUrl=function(e){return t.getAdminOrigin(r.ADMIN_AND_STUDIO,e)+"/manage/accounts/edit/"+e},t}();e.AppNavigationUtils=l,e.openExperienceInNewTab=function(t,e,n){t?window.open(l.getStudioUrl(r.ADMIN_AND_STUDIO,e,n),l.getStudioWindowTarget(n)):window.open(l.getEditorUrl(r.ADMIN_AND_STUDIO,e,n),l.getEditorWindowTarget(n))}},30154:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureFlagUtils=void 0;var i=n(12056),r=n(17871),o=function(){function t(){}return t.isFeatureEnabled=function(t,e,n){var o=e.find((function(e){return e.label===t}));if(!o)return!1;switch(o.state){case i.FeatureFlagState.DISABLED:return!1;case i.FeatureFlagState.GENERAL_AVAILABILITY:return!0;case i.FeatureFlagState.LIMITED_AVAILABILITY:case i.FeatureFlagState.CONTROLLED_GA:var a=void 0!==n.find((function(t){return t.featureFlagId===o.id}));return o.inverted?!a:a;default:return r.assertUnreachable(o.state)}},t}();e.FeatureFlagUtils=o},8991:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PreviewModalMessenger=void 0;var r=i(n(96486)),o=n(74122),a=n(32899),s=function(){function t(){}return t.getThrottledMessagingFunction=function(e,n){if(e){var i=t.throttledMessagingFunctions.get(e);return i||(i=r.default.throttle(n,100),t.throttledMessagingFunctions.set(e,i)),i}},t.previewReady=!1,t.previewQueue=[],t.throttledMessagingFunctions=new Map,t.setPreviewAsReady=function(){t.previewReady=!0,t.previewQueue.forEach((function(e){t.postMessageToPreviewer(e.window,e.accountSlug,e.data)})),t.previewQueue=[]},t.isPreviewReady=function(){return t.previewReady},t.isFromPreview=function(t){return t.source===window||o.AppNavigationUtils.isPreviewDomain(t.origin)},t.isFromStudio=function(t){return t.source===window||o.AppNavigationUtils.isAdminDomain(t.origin)},t.postMessageToPreviewer=function(e,n,i){if(e)if(t.previewReady){var r=t.getThrottledMessagingFunction(i.type,t._postMessageToPreviewer);r&&r(e,n,i)}else t.previewQueue.push({window:e,accountSlug:n,data:i})},t.postMessageToStudio=function(e,n,i){if(e){var r=t.getThrottledMessagingFunction(i.type,t._postMessageToStudio);r&&r(e,n,i)}},t._postMessageToPreviewer=function(e,n,i){t.previewOrigin||(t.previewOrigin=o.AppNavigationUtils.getPreviewOrigin(o.AppContext.ADMIN_AND_STUDIO,n)),e.postMessage(i,t.previewOrigin)},t.createPreviewerMessageHandler=function(e){return function(n){t.isFromPreview(n)?e(n):a.LoggerUtils.logInfo("Received message from unknown origin: "+n.origin)}},t._postMessageToStudio=function(e,n,i){e&&(t.adminOrigin||(t.adminOrigin=o.AppNavigationUtils.getAdminOrigin(o.AppContext.EDITOR_AND_PREVIEWER,n)),e.postMessage(i,t.adminOrigin))},t.createStudioMessageHandler=function(e){return function(n){t.isFromStudio(n)?e(n):a.LoggerUtils.logInfo("Received message from unknown origin: "+n.origin)}},t}();e.PreviewModalMessenger=s},66844:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RoleUtils=void 0;var i=n(59506),r=n(55348),o=n(30154),a=n(17871),s=[i.RoleId.OWNER,i.RoleId.CREATOR],u=[],l=[i.RoleId.OWNER,i.RoleId.CREATOR,i.RoleId.EDITOR,i.RoleId.REVIEWER,i.RoleId.VIEWER],c=function(t){return l.indexOf(t)},d=function(){function t(){}return t.getRoleName=function(t){switch(t){case i.RoleId.OWNER:return r.RoleName.OWNER;case i.RoleId.CREATOR:return r.RoleName.CREATOR;case i.RoleId.EDITOR:return r.RoleName.EDITOR;case i.RoleId.REVIEWER:return r.RoleName.REVIEWER;case i.RoleId.VIEWER:return r.RoleName.VIEWER;default:a.assertUnreachable(t)}},t.roleIteratee=function(t){return c(t.roleId)},t.roleIterateeWithOriginalRoleId=function(t){return c(t.originalRoleId||t.roleId)},t.projectRoleIteratee=function(t){return c(t.isOwner?i.RoleId.OWNER:t.projectRoleId)},t.doesRoleRequireSeat=function(t){return s.includes(t)},t.isRoleEnabled=function(t,e){var n=u.find((function(e){return e.roleId===t}));return!n||o.FeatureFlagUtils.isFeatureEnabled(n.featureFlag,e.featureFlags,e.accountFeatureFlags)},t.getSortedEnabledRoles=function(e){return l.filter((function(t){return!!t})).filter((function(n){return t.isRoleEnabled(n,e)}))},t.getSortedEnabledLesserRoles=function(t,e,n){var i=this.getSortedEnabledRoles(t).filter((function(t){return c(t)>=c(e)}));return n?i.filter((function(t){return!n.includes(t)})):i},t.getSortedRoles=function(){return l.filter((function(t){return!!t}))},t}();e.RoleUtils=d},40357:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractView=void 0;var a=o(n(96486)),s=o(n(41232)),u=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return r(e,t),e.prototype.initialize=function(t){t&&t.preventAutoBind||(this._bindModel(),this._bindCollection())},e.prototype.onClose=function(){},e.prototype.beforeClose=function(){},e.prototype.close=function(){this.beforeClose(),this.closeAllSubViews(),this.remove(),this.stopListening(),this._unbindCollection(),this.onClose(),this.trigger("close"),this.unbind()},e.prototype.registerSubView=function(t,e){return void 0===this.subViews&&(this.subViews=[]),-1===this.subViews.indexOf(t)&&(t.parentView=this,a.default.isNumber(e)?this.subViews.splice(e,0,t):this.subViews.push(t)),t},e.prototype.unregisterSubView=function(t){this.subViews=a.default.reject(this.subViews,(function(e){return e.reduxListeners.forEach((function(t){return t()})),e===t}))},e.prototype.registerReduxListener=function(t){this.reduxListeners.push(t)},e.prototype.unregisterReduxListener=function(t){this.reduxListeners=a.default.reject(this.reduxListeners,(function(e){return e===t}))},e.prototype.closeAndCleanUpSubView=function(t){this.stopListening(t),this.unregisterSubView(t),t.close()},e.prototype.closeAllSubViews=function(){if(this.subViews)for(var t=void 0;t=this.subViews.pop();)t.close()},e.prototype.getSubViews=function(){return this.subViews||[]},e.prototype.getAllSubViews=function(){var t=[];return a.default.each(this.subViews,(function(e){t.push(e),t=t.concat(e.getAllSubViews())})),t},e.prototype.forSomeSubView=function(t){return a.default.some(this.subViews,(function(e){return t(e)||e.forSomeSubView(t)}))},e.prototype.renderSubViews=function(){a.default.each(this.getSubViews(),(function(t){t.render()}))},e.prototype.setModel=function(t,e){this._unbindModel(),this.model=t,e||this._bindModel()},e.prototype.bindModelEvents=function(){this.model.bind("change",this._change,this),this.model.bind("sync",this._sync,this),this.model.bind("destroy",this._destroy,this),this.model.bind("invalid",this._invalid,this)},e.prototype._bindModel=function(){this.model&&(this.bindModelEvents(),this.render())},e.prototype._unbindModel=function(){this.model&&(this.model.unbind("change",this._change,this),this.model.unbind("sync",this._sync,this),this.model.unbind("destroy",this._destroy,this),this.model.unbind("invalid",this._invalid,this))},e.prototype.setCollection=function(t,e){void 0===e&&(e=!1),this._unbindCollection(),this.collection=t,e||this._bindCollection()},e.prototype.bindCollectionEvents=function(){this.collection.bind("add",this._add,this),this.collection.bind("remove",this._remove,this),this.collection.bind("reset",this._reset,this)},e.prototype._bindCollection=function(){this.collection&&(this._unbindCollection(),this.bindCollectionEvents(),this.render())},e.prototype._unbindCollection=function(){this.collection&&(this.collection.unbind("add",this._add,this),this.collection.unbind("remove",this._remove,this),this.collection.unbind("reset",this._reset,this))},e.prototype._bindEventHandler=function(t,e,n){a.default.isFunction(n)?this.listenTo(t,e,n.bind(this)):this.listenTo(t,e,this[n].bind(this))},e.prototype._change=function(){this.render()},e.prototype._sync=function(){this.render()},e.prototype._destroy=function(){this.render()},e.prototype._invalid=function(){this.render()},e.prototype._add=function(){this.render()},e.prototype._remove=function(){this.render()},e.prototype._reset=function(){this.render()},e.prototype.height=function(){return this.$el.outerHeight()},e.prototype.show=function(){this.$el.show()},e.prototype.hide=function(){this.$el.hide()},e.prototype.registerRadioHandler=function(t){s.default.Syphon.InputWriters.register("radio",t)},e.prototype.registerCheckboxHandler=function(t){s.default.Syphon.InputWriters.register("checkbox",t)},e.prototype.customRadioHandler=function(t,e){"1"===e?e=!0:"0"===e&&(e=!1);var n=parseInt(t.val());(e&&1===n||!e&&0===n)&&t.prop("checked",!0).trigger("change")},e.prototype.customCheckboxHandler=function(t,e){t.prop("checked",e).trigger("change")},e}(n(12133).JsTsViewGlue);e.AbstractView=u,e.default=u},66817:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BackboneShim=void 0;var l=u(n(41232));e.BackboneShim=function(t){return function(e){return t&&Object.keys(t).forEach((function(n){e.prototype[n]=t[n]})),function(n){function i(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var a,u=this;return t.defaults&&(e.prototype instanceof l.default.View&&(a=o(o(o({},t.defaults),t),i[0]),i[0]=a),e.prototype instanceof l.default.Model&&(a=o(o(o({},t.defaults),t),i[1]),i[1]=a)),u=n.apply(this,s(i))||this,t.defaults&&a&&(u.options=o(o({},a),u.options)),u}return r(i,n),i}(e)}}},89323:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.styleStringToObject=e.removeBodyChild=e.appendBodyChild=e.getElementWidth=e.getElementHeight=e.getElementTop=e.getElementTopRelativeToParent=e.createElement=void 0;var a=o(n(96486));function s(t){return t.getBoundingClientRect().top}e.createElement=function(t,e,n){var i=document.createElement(t);return Object.entries(e||{}).forEach((function(t){var e=r(t,2),n=e[0],o=e[1];return i.style[n]=o})),n&&(i.innerText=n),i},e.getElementTopRelativeToParent=function(t){var e=t.parentElement;return s(t)-s(e)},e.getElementTop=s,e.getElementHeight=function(t){var e=t.getBoundingClientRect();return e.bottom-e.top},e.getElementWidth=function(t){var e=t.getBoundingClientRect();return e.right-e.left},e.appendBodyChild=function(t){document.body.appendChild(t)},e.removeBodyChild=function(t){document.body.removeChild(t)},e.styleStringToObject=function(t){return t.replace(/;$/,"").split(";").reduce((function(t,e){var n,o=r(e.replace(/\s/g,"").split(":"),2),s=o[0],u=o[1];return i(i({},t),((n={})[a.default.camelCase(s)]=u,n))}),{})}},12133:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.JsTsViewGlue=void 0;var r=i(n(96486)),o=i(n(41232));e.JsTsViewGlue=o.default.View.extend({constructor:function(t){this.options=t||{},this.subViews=[],this.reduxListeners=[],o.default.View.call(this,t)},broadcast:r.default.clone(o.default.Events)})},50877:(t,e)=>{"use strict";var n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.VIEWPORT_TOP_ID=e.MAIN_CONTENT_LINK_DEFAULT_TEXT=e.SECTION_DEFAULTS=e.MODEL_DEFAULTS=e.properties=e.DEFAULT_LANDMARK_TAG=e.HTML_LANDMARK_TAGS=void 0,e.HTML_LANDMARK_TAGS=["main","nav","aside","article","section","header","footer"],e.DEFAULT_LANDMARK_TAG="main",e.properties={HTML_LANDMARK:"htmlLandmarkTag",ARIA_LABEL:"ariaLabel",SCREEN_READER_ONLY_TEXT:"screenReaderOnlyText"},e.MODEL_DEFAULTS=((n={})[e.properties.ARIA_LABEL]=void 0,n),e.SECTION_DEFAULTS=((i={})[e.properties.HTML_LANDMARK]=void 0,i[e.properties.ARIA_LABEL]=void 0,i),e.MAIN_CONTENT_LINK_DEFAULT_TEXT="Skip to Main Content",e.VIEWPORT_TOP_ID="viewport-top"},36281:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ActionTypes=void 0,(n=e.ActionTypes||(e.ActionTypes={})).cycleNext="cycle-next",n.cyclePrevious="cycle-previous",n.hideCanvasTargets="hide-layers",n.showCanvasTargets="show-layers",n.showCanvasTargetsOnHover="show-layers-on-hover",n.toggleCanvasTargets="toggle-layers",n.enableDisablePage="page-enable-disable",n.gotoPage="page-goto",n.nextPage="page-next",n.prevPage="page-prev",n.scrollTo="scroll-to",n.scrollToObject="scroll-to-object",n.url="url",n.email="share-email",n.facebook="share-facebook",n.linkedin="share-linkedin",n.pinterest="share-pinterest",n.twitter="share-twitter",n.changeState="change-state",n.fullscreen="show-fullscreen",n.hideAndStayHiddenCanvasTargets="hide-and-stay-hidden",n.hideOnly="hide-only",n.lightbox="lightbox",n.product="product",n.shoppingCart="shopping-cart",n.showAndStayVisibleCanvasTargets="show-and-stay-visible",n.showOnly="show-only",n.toggleReducedMotion="toggle-reduced-motion",n.bringToFront="bring-to-front",n.resetPositions="reset-positions",n.invalid="invalid"},8833:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Easing=void 0,(n=e.Easing||(e.Easing={})).ease="ease",n.linear="linear",n.easeIn="ease-in",n.easeOut="ease-out",n.easeInOut="ease-in-out"},68506:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ThrottleScrollMs=e.EditorMode=void 0,(n=e.EditorMode||(e.EditorMode={})).ALL="all",n.SOME="some",n.NONE="none",n.UNSET="unset",e.ThrottleScrollMs=30},95573:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ElementTagName=void 0,(n=e.ElementTagName||(e.ElementTagName={})).DIV="DIV",n.A="A",n.BUTTON="BUTTON",n.UL="UL",n.OL="OL",n.SUP="SUP",n.SPAN="SPAN",n.P="P"},67757:function(t,e,n){"use strict";var i,r,o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_LIST_INDENT_INCREMENT=e.TEXT_COMPONENT_TYPE=e.VIEW_DEFAULTS=e.TEXT_PLUS_MODEL_DEFAULTS=e.TEXT_DEFAULT_FONT_SIZE=e.MODEL_DEFAULTS=e.TextRenderMode=e.properties=e.MAX_TITLE_LENGTH=e.HTML_TAG_OPTIONS=e.COLUMN_OVERRUN_PADDING_PERCENTAGE=e.DEFAULT_HTML_TAG_NAME=e.DEFAULT_HTML_TAG=void 0;var l=u(n(96486));e.DEFAULT_HTML_TAG="p",e.DEFAULT_HTML_TAG_NAME="Paragraph",e.COLUMN_OVERRUN_PADDING_PERCENTAGE=2;var c,d,h=l.default.range(1,7).map((function(t){return{tag:"h"+t,title:"Header "+t+" <h"+t+">"}}));e.HTML_TAG_OPTIONS=s(h,[{tag:e.DEFAULT_HTML_TAG,title:e.DEFAULT_HTML_TAG_NAME+" <"+e.DEFAULT_HTML_TAG+">"}]),e.MAX_TITLE_LENGTH=40,function(t){t.TITLE="title",t.TEXT_CONTENT="textContent",t.TEXT_SPANS="textSpans",t.DEFAULT_SPAN="defaultSpan",t.TEXT_DATA="textData",t.INDENT="indent",t.VARIANT_GUID="variantGuid",t.VARIANT_NAME="variantName",t.FAMILY_GUID="familyGuid",t.UNDERLINE="underline",t.FONT_COLOR="fontColor",t.FONT_SIZE="fontSize",t.LETTER_SPACING="letterSpacing",t.LEADING="leading",t.TEXT_SHADOW="textShadow",t.AUTO_LEADING="autoLeading",t.JUSTIFY="justify",t.TEXT_TRANSFORM="textTransform",t.COLUMNS="columns",t.COLUMN_GAP="columnGap",t.PADDING_TOP="paddingTop",t.PADDING_RIGHT="paddingRight",t.PADDING_BOTTOM="paddingBottom",t.PADDING_LEFT="paddingLeft",t.SHOW_OVERFLOW="showOverflow",t.SYNCED="synced",t.HTML_TAG="htmlTag",t.HIDDEN_FROM_SCREEN_READERS="hiddenFromScreenReaders",t.HYPERLINK="hyperlink",t.BOLD="bold",t.ITALIC="italic",t.FONT_FAMILY="fontFamily",t.SUPERSCRIPT="superscript",t.SUBSCRIPT="subscript",t.TEXT_CASE="textCase",t.ALIGNMENT="alignment",t.BASE_LINE_OFFSET="baseLineOffset",t.EDITABLE="editable",t.LIST_DEFINITIONS="listDefinitions",t.LINES="lines",t.HEADINGS="headings",t.PARAGRAPHS="paragraphs",t.SOFT_BREAKS="softBreaks",t.LIST_MARKER_STYLES="listMarkerStyles",t.BASE_OFFSET="baseOffset",t.INITIAL_FONT_SIZE="initialFontSize",t.RESIZE_KEY="resizeKey"}(c=e.properties||(e.properties={})),(d=e.TextRenderMode||(e.TextRenderMode={})).PARAGRAPH="paragraph",d.LINE="line",d.CHAR="char",e.MODEL_DEFAULTS=((i={})[c.HTML_TAG]=e.DEFAULT_HTML_TAG,i[c.TITLE]="Text",i[c.TEXT_CONTENT]="",i[c.TEXT_SPANS]=[],i[c.DEFAULT_SPAN]=void 0,i[c.INDENT]=0,i[c.JUSTIFY]="left",i[c.COLUMNS]=1,i[c.COLUMN_GAP]=0,i[c.LEADING]=38,i[c.TEXT_SHADOW]={},i[c.AUTO_LEADING]=!0,i[c.TEXT_TRANSFORM]="none",i[c.PADDING_TOP]=0,i[c.PADDING_BOTTOM]=0,i[c.PADDING_RIGHT]=0,i[c.PADDING_LEFT]=0,i[c.SHOW_OVERFLOW]=!0,i[c.SYNCED]=!1,i[c.EDITABLE]=!1,i[c.LIST_DEFINITIONS]=[],i[c.HEADINGS]=[],i[c.PARAGRAPHS]=[],i),e.TEXT_DEFAULT_FONT_SIZE=24,e.TEXT_PLUS_MODEL_DEFAULTS=o(((r={})[c.LINES]=[],r),l.default.pick(e.MODEL_DEFAULTS,[c.PADDING_TOP,c.PADDING_BOTTOM,c.PADDING_RIGHT,c.SYNCED,c.PADDING_LEFT,c.TITLE,c.TEXT_CONTENT,c.TEXT_SPANS,c.DEFAULT_SPAN,c.JUSTIFY,c.LETTER_SPACING,c.EDITABLE,c.LIST_DEFINITIONS,c.HEADINGS,c.PARAGRAPHS,c.COLUMNS,c.COLUMN_GAP,c.BASE_OFFSET])),e.VIEW_DEFAULTS={MIN_FONT_SIZE:1,MAX_FONT_SIZE:1e3,MIN_LEADING:0,AUTO_LEADING:-1,MAX_LEADING:2e3,MIN_COLUMN_GAP:0,MAX_COLUMN_GAP:100,MIN_PADDING:0,MAX_PADDING:100,MIN_COLUMNS:1,DEFAULT_BLOCK_FONT_SIZE:1},e.TEXT_COMPONENT_TYPE={OLD_TEXT:"old_text",TEXT_PLUS:"text_plus"},e.DEFAULT_LIST_INDENT_INCREMENT=24},57949:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerType=void 0,(n=e.TriggerType||(e.TriggerType={})).CLICK="click",n.HOVER="hover",n.ON_VIEW="view",n.SUBMIT="submit"},52348:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BlendingModes=e.BlendingModeDisplayName=e.BlendingModeName=void 0;var r,o,a=i(n(96486));!function(t){t.NORMAL="normal",t.MULTIPLY="multiply",t.SCREEN="screen",t.OVERLAY="overlay",t.DARKEN="darken",t.LIGHTEN="lighten",t.COLOR_DODGE="color-dodge",t.COLOR_BURN="color-burn",t.HARD_LIGHT="hard-light",t.SOFT_LIGHT="soft-light",t.DIFFERENCE="difference",t.EXCLUSION="exclusion",t.HUE="hue",t.SATURATION="saturation",t.COLOR="color",t.LUMINOSITY="luminosity"}(r=e.BlendingModeName||(e.BlendingModeName={})),function(t){t.NORMAL="Normal",t.MULTIPLY="Multiply",t.SCREEN="Screen",t.OVERLAY="Overlay",t.DARKEN="Darken",t.LIGHTEN="Lighten",t.COLOR_DODGE="Color Dodge",t.COLOR_BURN="Color Burn",t.HARD_LIGHT="Hard Light",t.SOFT_LIGHT="Soft Light",t.DIFFERENCE="Difference",t.EXCLUSION="Exclusion",t.HUE="Hue",t.SATURATION="Saturation",t.COLOR="Color",t.LUMINOSITY="Luminosity"}(o=e.BlendingModeDisplayName||(e.BlendingModeDisplayName={}));var s,u=["image/jpeg","image/jpg","image/png","image/gif"],l=["jpeg","jpg","png","gif"];!function(t){t.PREVIOUS="previous",t.NEXT="next"}(s||(s={}));var c=function(){function t(){}return t.getBlendingModeChoices=function(){return[this.NORMAL,this.DARKEN,this.MULTIPLY,this.COLOR_BURN,this.LIGHTEN,this.SCREEN,this.COLOR_DODGE,this.OVERLAY,this.SOFT_LIGHT,this.HARD_LIGHT,this.DIFFERENCE,this.EXCLUSION]},t.getGroupedBlendingModeChoices=function(){return[[this.NORMAL],[this.DARKEN,this.MULTIPLY,this.COLOR_BURN],[this.LIGHTEN,this.SCREEN,this.COLOR_DODGE],[this.OVERLAY,this.SOFT_LIGHT,this.HARD_LIGHT],[this.DIFFERENCE,this.EXCLUSION]]},t.getDefault=function(){return this.NORMAL.value},t.isDefaultBlendingMode=function(t){return this.getDefault()===t},t.getAdjacentMode=function(t,e){var n=this.getBlendingModeChoices(),i=a.default.findIndex(n,{value:t}),r=0===i,o=i===n.length-1,u=-1===i;return e===s.PREVIOUS?u||r?null:n[i-1].value:u||o?null:n[i+1].value},t.getPreviousMode=function(t){return this.getAdjacentMode(t,s.PREVIOUS)},t.getNextMode=function(t){return this.getAdjacentMode(t,s.NEXT)},t.getTotalModes=function(){return this.getBlendingModeChoices().length},t.isSupportedImageType=function(t,e){if("string"==typeof t)return u.indexOf(t.toLowerCase())>-1;var n=e.split("."),i=n[n.length-1].toLowerCase();return l.indexOf(i)>-1},t.NORMAL={value:r.NORMAL,title:o.NORMAL},t.MULTIPLY={value:r.MULTIPLY,title:o.MULTIPLY},t.SCREEN={value:r.SCREEN,title:o.SCREEN},t.OVERLAY={value:r.OVERLAY,title:o.OVERLAY},t.DARKEN={value:r.DARKEN,title:o.DARKEN},t.LIGHTEN={value:r.LIGHTEN,title:o.LIGHTEN},t.COLOR_DODGE={value:r.COLOR_DODGE,title:o.COLOR_DODGE},t.COLOR_BURN={value:r.COLOR_BURN,title:o.COLOR_BURN},t.HARD_LIGHT={value:r.HARD_LIGHT,title:o.HARD_LIGHT},t.SOFT_LIGHT={value:r.SOFT_LIGHT,title:o.SOFT_LIGHT},t.DIFFERENCE={value:r.DIFFERENCE,title:o.DIFFERENCE},t.EXCLUSION={value:r.EXCLUSION,title:o.EXCLUSION},t.HUE={value:r.HUE,title:o.HUE},t.SATURATION={value:r.SATURATION,title:o.SATURATION},t.COLOR={value:r.COLOR,title:o.COLOR},t.LUMINOSITY={value:r.LUMINOSITY,title:o.LUMINOSITY},t}();e.BlendingModes=c},75594:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=function(){function t(){r.default.extend(this,o.default.Events)}return t.prototype.on=function(t,e,n){},t.prototype.off=function(t,e,n){},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.bind=function(t,e,n){},t.prototype.unbind=function(t,e,n){},t.prototype.once=function(t,e,n){},t.prototype.listenTo=function(t,e,n){},t.prototype.listenToOnce=function(t,e,n){},t.prototype.stopListening=function(t,e,n){},t}();e.default=a},82025:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageEffects=e.EffectName=void 0;var r,o=i(n(96486));!function(t){t.CONTRAST="contrast",t.BRIGHTNESS="brightness",t.HUEROTATE="hue-rotate",t.SATURATE="saturate",t.SEPIA="sepia",t.INVERT="invert"}(r=e.EffectName||(e.EffectName={}));var a=function(){function t(){}return t.defaultValueOf=function(e){switch(e){case t.BRIGHTNESS.NAME:return t.BRIGHTNESS.DEFAULT;case t.CONTRAST.NAME:return t.CONTRAST.DEFAULT;case t.HUEROTATE.NAME:return t.HUEROTATE.DEFAULT;case t.SATURATE.NAME:return t.SATURATE.DEFAULT;case t.SEPIA.NAME:return t.SEPIA.DEFAULT;case t.INVERT.NAME:return t.INVERT.DEFAULT;default:return null}},t.getEffectsApplicationOrder=function(){return[this.BRIGHTNESS.NAME,this.CONTRAST.NAME,this.HUEROTATE.NAME,this.SATURATE.NAME,this.SEPIA.NAME,this.INVERT.NAME]},t.computeBrowserImageFilter=function(t){return this.getEffectsApplicationOrder().map((function(e){return t[e]})).join(" ").trim()},t.isDefaultEffects=function(t){return o.default.isEqual(this.getDefaults(),t)},t.getDefaults=function(){var t={};return t[this.BRIGHTNESS.NAME]=this.BRIGHTNESS.DEFAULT,t[this.CONTRAST.NAME]=this.CONTRAST.DEFAULT,t[this.HUEROTATE.NAME]=this.HUEROTATE.DEFAULT,t[this.SATURATE.NAME]=this.SATURATE.DEFAULT,t[this.SEPIA.NAME]=this.SEPIA.DEFAULT,t[this.INVERT.NAME]=this.INVERT.DEFAULT,t},t.BRIGHTNESS={NAME:r.BRIGHTNESS,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.CONTRAST={NAME:r.CONTRAST,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.HUEROTATE={NAME:r.HUEROTATE,MIN:-180,MAX:180,DEFAULT:0,UNIT:"deg"},t.SATURATE={NAME:r.SATURATE,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.SEPIA={NAME:r.SEPIA,MIN:0,MAX:100,DEFAULT:0,UNIT:"%"},t.INVERT={NAME:r.INVERT,MIN:0,MAX:100,DEFAULT:0,UNIT:"%"},t}();e.ImageEffects=a},78302:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FontPlusFamily=void 0;var o=n(90149),a=n(10518),s=n(12234),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isUploaded=function(){return this.api===a.FontConstants.FONT_PLUS_UPLOADED_API_ID},e.prototype.createVariant=function(t,e){return void 0===e&&(e={}),new s.FontPlusVariant(t,e)},e}(o.FontFamily);e.FontPlusFamily=u},36875:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontPlusManager=void 0;var l=u(n(82656)),c=n(93786),d=n(34654),h=u(n(96486)),f=n(10518),p=function(){function t(){this.characterSetsByFamilyGuid=new Map,this.characterSetsFetchingPromises=new Map,this.alreadyComputedCharArray=new Map,this.charToCharSets=new Map,this.alreadyProcessedCharToCharSets=new Set}return t.getInstance=function(){return t.instance=t.instance||new t,t.instance},t.prototype.processModels=function(t){return i(this,void 0,Promise,(function(){var e,n,i,a,s,u;return r(this,(function(r){switch(r.label){case 0:e=[];try{for(n=o(t),i=n.next();!i.done;i=n.next())a=i.value,e.push(this.processSingleModel(a))}catch(t){s={error:t}}finally{try{i&&!i.done&&(u=n.return)&&u.call(n)}finally{if(s)throw s.error}}return[4,Promise.all(e)];case 1:return r.sent(),[2]}}))}))},t.prototype.processSingleModel=function(t){return i(this,void 0,Promise,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return e=this.createFontPlusDataSet([t]),[4,this.processFontPlusData(s(e.values()))];case 1:return n.sent(),t.setFontsReady(),[2]}}))}))},t.prototype.createFontPlusDataSet=function(t){var e,n,i,r,a=new Set;try{for(var s=o(t),u=s.next();!u.done;u=s.next()){var l=u.value;try{for(var c=(i=void 0,o(l.getFontPlusData())),d=c.next();!d.done;d=c.next()){var h=d.value;a.add(h)}}catch(t){i={error:t}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},t.prototype.processFontPlusData=function(t){return i(this,void 0,Promise,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return[4,this.processVariantGroup(t)];case 1:return e=n.sent(),[4,this.getBase64Strings(e)];case 2:return n.sent(),[2]}}))}))},t.prototype.processVariantGroup=function(t){return i(this,void 0,Promise,(function(){var e,n,i,a,u,c,d,h,f,p,g;return r(this,(function(r){switch(r.label){case 0:return e=s(new Set(t.map((function(t){return t.variantGuid})))),n=[],e.length>0?[4,l.default.loadFontPlusCharacterSetsByVariantGuid(e)]:[3,9];case 1:if(!(i=r.sent()))return[3,9];r.label=2;case 2:r.trys.push([2,7,8,9]),a=o(i),u=a.next(),r.label=3;case 3:return u.done?[3,6]:(c=u.value,h=(d=n).concat,[4,this.processCharSetGroup(t,c)]);case 4:n=h.apply(d,[r.sent()]),r.label=5;case 5:return u=a.next(),[3,3];case 6:return[3,9];case 7:return f=r.sent(),p={error:f},[3,9];case 8:try{u&&!u.done&&(g=a.return)&&g.call(a)}finally{if(p)throw p.error}return[7];case 9:return[2,s(new Set(n))]}}))}))},t.responseToFontPlusCharacterSet=function(t){var e,n;return{base64FileUrl:t.base64FileUrl,creationDate:t.creationDate,cssFamilyName:null!==(e=t.cssFamilyName)&&void 0!==e?e:t.familyName,fontPlusUploadVariantsId:t.fontPlusUploadVariantsId,id:t.id,language:t.language,unicodeRange:t.unicodeRange,version:t.version,woff2FileUrl:t.woff2FileUrl,woffFileUrl:t.woffFileUrl,variantGuid:null!==(n=t.variantGuid)&&void 0!==n?n:c.FontUtil.buildGoogleVariantGuid(t.familyName,t.variant),rangeCharArray:t.rangeCharArray,base64Content:t.base64Content,isLoading:!1}},t.prototype.processCharSetGroup=function(e,n){return i(this,void 0,Promise,(function(){var i,a,u,l,c,d,h,f,p,g,m,v,y,_,b,w,T,S,E,O,P,C,A,k,x,I,M;return r(this,(function(r){switch(r.label){case 0:i=[],a=new Set;try{for(u=o(n),l=u.next();!l.done;l=u.next())if(S=l.value,!this.alreadyProcessedCharToCharSets.has(S.variantGuid)){a.add(S.variantGuid),void 0===S.rangeCharArray&&((c=t.responseToFontPlusCharacterSet(S)).rangeCharArray=t.generateUnicodeRange(S.unicodeRange),S=c),d=S.rangeCharArray;try{for(C=void 0,h=o(d),f=h.next();!f.done;f=h.next())p=f.value,g=this.charToCharSets.get(p)||[],this.charToCharSets.set(p,g.concat(S))}catch(t){C={error:t}}finally{try{f&&!f.done&&(A=h.return)&&A.call(h)}finally{if(C)throw C.error}}}}catch(t){O={error:t}}finally{try{l&&!l.done&&(P=u.return)&&P.call(u)}finally{if(O)throw O.error}}this.alreadyProcessedCharToCharSets=new Set(s(this.alreadyProcessedCharToCharSets,a));try{for(m=o(e),v=m.next();!v.done;v=m.next())for(y=v.value,_=0;_<y.content.length;_++){b=y.content[_];try{for(I=void 0,w=o(this.charToCharSets.get(b)||[]),T=w.next();!T.done;T=w.next())S=T.value,E=t.getMapKey(y.variantGuid,S.language),S.rangeCharArray.has(b)&&this.processChar(E,S,b)&&i.push(E)}catch(t){I={error:t}}finally{try{T&&!T.done&&(M=w.return)&&M.call(w)}finally{if(I)throw I.error}}}}catch(t){k={error:t}}finally{try{v&&!v.done&&(x=m.return)&&x.call(m)}finally{if(k)throw k.error}}return i.length<1?[4,this.loadAnyCharSetIfNoCharactersMatch(e)]:[3,2];case 1:return[2,r.sent()];case 2:return[2,i]}}))}))},t.prototype.loadAnyCharSetIfNoCharactersMatch=function(e){return i(this,void 0,Promise,(function(){var n,i,a,s,u,c,d,h,f,p,g,m,v,y,_,b,w,T,S;return r(this,(function(r){switch(r.label){case 0:n=[],r.label=1;case 1:r.trys.push([1,6,7,8]),i=o(e),a=i.next(),r.label=2;case 2:return a.done?[3,5]:(s=a.value,[4,l.default.loadFontPlusCharacterSetsByVariantGuid([s.variantGuid])]);case 3:u=r.sent(),c=t.getMapKey(s.variantGuid,"NO_MATCHING_CHARACTER_SETS");try{for(b=void 0,d=o(u),h=d.next();!h.done;h=d.next()){f=h.value;try{for(T=void 0,p=o(f),g=p.next();!g.done;g=p.next())if(m=g.value){m.unicodeRange="U+0-10FFFF",this.characterSetsByFamilyGuid.set(c,m),n.push(c);break}}catch(t){T={error:t}}finally{try{g&&!g.done&&(S=p.return)&&S.call(p)}finally{if(T)throw T.error}}}}catch(t){b={error:t}}finally{try{h&&!h.done&&(w=d.return)&&w.call(d)}finally{if(b)throw b.error}}r.label=4;case 4:return a=i.next(),[3,2];case 5:return[3,8];case 6:return v=r.sent(),y={error:v},[3,8];case 7:try{a&&!a.done&&(_=i.return)&&_.call(i)}finally{if(y)throw y.error}return[7];case 8:return[2,n]}}))}))},t.prototype.processChar=function(t,e,n){var i=this.characterSetsByFamilyGuid.has(t),r=t.includes(e.variantGuid);!i&&r&&this.characterSetsByFamilyGuid.set(t,e);var o,a=this.alreadyComputedCharArray.get(n);return o=a&&!a.includes(t)?s(a,[t]):a||[t],this.alreadyComputedCharArray.set(n,o),r},t.getMapKey=function(t,e){return e?t+"--"+e:t},t.prototype.getBase64Strings=function(t){return i(this,void 0,Promise,(function(){var e,n,i,a,s,u,l,c;return r(this,(function(r){switch(r.label){case 0:e=[],n=function(t){var n=i.characterSetsFetchingPromises.get(t);if(n)e.push(n);else{var r=i.characterSetsByFamilyGuid.get(t);if(r){r.isLoading=!0;var o=fetch(r.base64FileUrl).then((function(t){return t.text()})).then((function(t){r.base64Content=t,r.isLoading=!1}));i.characterSetsFetchingPromises.set(t,o),e.push(o)}}},i=this;try{for(a=o(t),s=a.next();!s.done;s=a.next())u=s.value,n(u)}catch(t){l={error:t}}finally{try{s&&!s.done&&(c=a.return)&&c.call(a)}finally{if(l)throw l.error}}return[4,Promise.all(e)];case 1:return r.sent(),[2]}}))}))},t.generateUnicodeRange=function(t){var e,n,i=new Set,r=t.split(","),a=/U\+([0-9a-fA-F]+)\-([0-9a-fA-F]+)/,u=/U\+([0-9a-fA-F]+)/;try{for(var l=o(r),c=l.next();!c.done;c=l.next()){var d=c.value,h=(d=d.trim()).match(a);if(h&&h.length>2){for(var f=parseInt("0x"+h[1]),p=parseInt("0x"+h[2]),g=[],m=f;m<=p;m++)g.push(String.fromCharCode(m));i=new Set(s(i,g))}else{var v=d.match(u);if(v&&v.length>0){var y=parseInt("0x"+v[1]);i.add(String.fromCharCode(y))}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return i},t.prototype.getCharacterSetsByModel=function(e){var n,i,r,a,s,u,l,c,d,p,g=this,m=[],v=new Set,y=e.getVariantGuidsInUse();this.hasBulletedList(e)&&(y=h.default.union(y,[f.FontConstants.DEFAULT_FONT_VARIANT_GUID]));try{for(var _=o(e.fontPlusData),b=_.next();!b.done;b=_.next()){var w=b.value;try{for(var T=(r=void 0,o(w.content)),S=T.next();!S.done;S=T.next()){var E=S.value;v.has(E)||v.add(E)}}catch(t){r={error:t}}finally{try{S&&!S.done&&(a=T.return)&&a.call(T)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{b&&!b.done&&(i=_.return)&&i.call(_)}finally{if(n)throw n.error}}var O=function(e){var n=t.getMapKey(e,"NO_MATCHING_CHARACTER_SETS"),i=g.characterSetsByFamilyGuid.get(n);i&&m.indexOf(i)<0&&m.push(i)};try{for(var P=o(v),C=P.next();!C.done;C=P.next()){E=C.value;var A=this.alreadyComputedCharArray.get(E);if(A&&A.length>0)try{for(var k=(l=void 0,o(A)),x=k.next();!x.done;x=k.next()){var I=x.value,M=I.split("--")[0];if(y.indexOf(M)>-1){var R=this.characterSetsByFamilyGuid.get(I);R&&m.indexOf(R)<0?m.push(R):O(M)}}}catch(t){l={error:t}}finally{try{x&&!x.done&&(c=k.return)&&c.call(k)}finally{if(l)throw l.error}}}}catch(t){s={error:t}}finally{try{C&&!C.done&&(u=P.return)&&u.call(P)}finally{if(s)throw s.error}}if(0===m.length)try{for(var N=o(y),D=N.next();!D.done;D=N.next())O(D.value)}catch(t){d={error:t}}finally{try{D&&!D.done&&(p=N.return)&&p.call(N)}finally{if(d)throw d.error}}return m},t.prototype.hasBulletedList=function(t){return!!h.default.find(t.attributes.listDefinitions,(function(t){return t.attributes.listType===d.ListTypes.Bulleted}))},t}();e.FontPlusManager=p},12234:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontPlusVariant=void 0;var a=n(10154),s=o(n(65311)),u=function(t){function e(e,n){return void 0===n&&(n={}),t.call(this,e,n)||this}return r(e,t),e.prototype.getMetricsUrl=function(){return s.default.Deferred().resolve("")},e.prototype.getMetrics=function(){return s.default.Deferred().resolve({})},e}(a.FontVariant);e.FontPlusVariant=u},36163:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UploadedFontPlusAPI=void 0;var u=s(n(65311)),l=n(31337),c=s(n(8030)),d=n(10518),h=n(78302),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ID=d.FontConstants.FONT_PLUS_UPLOADED_API_ID,e.FONTLOADER_KEY="custom",e.FONT_URL="/rest/v1/account/"+c.default.accountSlug+"/font-plus-upload",e.loadedFontPlusCharacterSets=new Map,e}return r(e,t),e.prototype.parseResults=function(t){return this.createFontCollection(t)},e.prototype.createFamily=function(t,e,n){return new h.FontPlusFamily({api:this.ID,family:t,category:this.ID,guid:e,crossAccount:n})},e.prototype.buildWebLoaderObjectForFamilies=function(e){return t.prototype.buildWebLoaderObjectForFamilies.call(this,e)},e.prototype.loadFamiliesByVariantGuids=function(e,n){return t.prototype.loadFamiliesByVariantGuids.call(this,e,n)},e.prototype.getFontPlusCharacterSets=function(t){return o(this,void 0,Promise,(function(){return a(this,(function(e){switch(e.label){case 0:return t.length>0?[4,u.default.post("/rest/v1/account/"+c.default.accountSlug+"/font-plus-character-set",{variantGuids:t})]:[3,2];case 1:return[2,e.sent()];case 2:return[2,Promise.resolve([])]}}))}))},e}(l.UploadedFontAPI);e.UploadedFontPlusAPI=f},76159:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractFontAPI=void 0;var s=a(n(96486)),u=a(n(65311)),l=n(43832),c=n(93786),d=n(36875),h=n(58521),f=function(){function t(){}return t.prototype.execute=function(t){var e=this,n=u.default.Deferred();try{return this.fontCollection?n.resolve(this.filterFontsInMemory(t)):u.default.getJSON(this.FONT_URL).then((function(i){e.fontCollection=new l.FontCollection(e.parseResults(i)),n.resolve(e.filterFontsInMemory(t))})),n.promise()}catch(t){return n.reject(t)}},t.prototype.filterFontsInMemory=function(t){var e=new l.FontCollection(this.fontCollection);return e.multiFilter(t.filters),e},t.prototype.loadFamiliesByFamilyGuids=function(t,e){var n=this,i=new l.FontCollection;return s.default.each(t,(function(t){if(n.belongsToAPI(t)){var e=n.fontCollection.getFontFamilyByFamilyGuid(t);e&&i.add(e)}})),u.default.Deferred().resolve(i).promise()},t.prototype.loadFamiliesByVariantGuids=function(t,e){var n=this,i=u.default.Deferred();try{var r=new l.FontCollection;return s.default.each(t,(function(t){if(n.belongsToAPI(t)){var e=n.fontCollection.getFontFamilyByVariantGuid(t);e&&r.add(e)}})),i.resolve(r).promise()}catch(t){return i.reject(t).promise()}},t.prototype.belongsToAPI=function(t){return c.FontUtil.getFontAPI(t)===this.ID},t.prototype.updateMetrics=function(t){return u.default.Deferred().resolve()},t.prototype.loadFontPlusCharacterSetsByVariantGuid=function(t){return i(this,void 0,Promise,(function(){var e,n,i,a,s,u,l,f,p,g,m,v,y,_,b,w,T,S,E,O,P,C;return r(this,(function(r){switch(r.label){case 0:e=[],n=[],i=new Map,a=function(t){var r;r=h.isGoogleVariantTuple(t)?c.FontUtil.buildGoogleVariantGuid(t.familyName,t.variant):t;var o=s.loadedFontPlusCharacterSets.get(r);if(!o){var a=new Promise((function(t,e){i.set(r,{resolve:t,reject:e})}));s.loadedFontPlusCharacterSets.set(r,a),n.push(t),o=a}e.push(o)},s=this;try{for(u=o(t),l=u.next();!l.done;l=u.next())f=l.value,a(f)}catch(t){E={error:t}}finally{try{l&&!l.done&&(O=u.return)&&O.call(u)}finally{if(E)throw E.error}}if(!(n.length>0))return[3,5];p={additionalInfo:""},g=new Map,r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.getFontPlusCharacterSets(n)];case 2:m=r.sent();try{for(v=o(m),y=v.next();!y.done;y=v.next())_=y.value,(b=d.FontPlusManager.responseToFontPlusCharacterSet(_)).rangeCharArray=d.FontPlusManager.generateUnicodeRange(b.unicodeRange),w=b.variantGuid,(T=g.get(w))&&T.length>0?g.set(w,T.concat(b)):g.set(w,[b])}catch(t){P={error:t}}finally{try{y&&!y.done&&(C=v.return)&&C.call(v)}finally{if(P)throw P.error}}return[3,5];case 3:return S=r.sent(),p=S,console.error(p),[3,5];case 4:return i.forEach((function(t,e){var n=g.get(e);n?t.resolve(n):(p.additionalInfo="Error loading character sets for guid: "+e,t.reject(p))})),[7];case 5:return[2,Promise.all(e).then((function(t){return t.reduce((function(t,e){return t.concat(e)}),[])}))]}}))}))},t}();e.AbstractFontAPI=f},43832:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontCollection=void 0;var r=i(n(96486)),o=n(90149),a=function(){function t(t){this.fontFamilies=[],this.fontFamiliesByFamilyGuid={},this.fontFamiliesByVariantGuid={},this.fontFamiliesByApi={},t&&this.add(t)}return t.prototype.add=function(e){var n=this;if(e instanceof t)r.default.each(e.fontFamilies,(function(t){t instanceof o.FontFamily&&n.addFontFamily(t)}));else if(e instanceof Array)r.default.each(e,(function(t){t instanceof o.FontFamily&&n.addFontFamily(t)}));else{if(!(e instanceof o.FontFamily))throw new Error("Attempt to add an object to a FontCollection that is not a FontFamily.");this.addFontFamily(e)}},t.prototype.addFontFamily=function(t){var e=this;if(!(t instanceof o.FontFamily))throw new Error("Attempt to add an object to a FontCollection that is not a FontFamily.");var n=t.getGuid();if(!n)throw new Error("GUID is not defined for FontFamily");var i=this.fontFamiliesByFamilyGuid[n];if(i)r.default.each(t.getVariants(),(function(t){i.updateVariant(t);var n=t.getGuid();n&&(e.fontFamiliesByVariantGuid[n]=i)}));else{var a=t.api;if(!a)throw new Error("API is not defined for FontFamily");this.fontFamilies.push(t),this.fontFamiliesByFamilyGuid[n]=t,this.fontFamiliesByApi[a]||(this.fontFamiliesByApi[a]=[]),this.fontFamiliesByApi[a].push(t),r.default.each(t.getVariants(),(function(n){var i=n.getGuid();i&&(e.fontFamiliesByVariantGuid[i]=t)}))}},t.prototype.getTotalCount=function(){return this.fontFamilies.length},t.prototype.getTotalCountByApi=function(t){return this.fontFamiliesByApi[t]?this.fontFamiliesByApi[t].length:0},t.prototype.removeFontFamily=function(t){var e=t;if(t instanceof o.FontFamily){var n=t.getGuid();n&&(e=n)}if("string"==typeof e)return this.removeFontFamilyByFamilyGuid(e)},t.prototype.removeFontFamilyByFamilyGuid=function(t){var e=this,n=this.getFontFamilyByFamilyGuid(t);if(n)return this.fontFamilies=r.default.reject(this.fontFamilies,(function(e){return e.getGuid()===t})),delete this.fontFamiliesByFamilyGuid[t],r.default.each(n.getVariants(),(function(t){var n=t.getGuid();n&&delete e.fontFamiliesByVariantGuid[n]})),n},t.prototype.getFontFamilies=function(){return this.fontFamilies},t.prototype.getFontFamilyGuids=function(){return r.default.keys(this.fontFamiliesByFamilyGuid)},t.prototype.hasFontFamily=function(t){return!!this.getFontFamilyByFamilyGuid(t)},t.prototype.getFontFamiliesByAPI=function(t){return this.fontFamiliesByApi[t]||[]},t.prototype.getFontFamiliesByAPIMap=function(){return this.fontFamiliesByApi},t.prototype.getFontFamilyByFamilyGuid=function(t){return this.fontFamiliesByFamilyGuid[t]},t.prototype.getFontFamilyByVariantGuid=function(t){return this.fontFamiliesByVariantGuid[t]},t.prototype.getFontVariantByVariantGuid=function(t){var e=this.getFontFamilyByVariantGuid(t);return e&&e.getVariant(t)||null},t.prototype.getFontFamiliesByVariantGuids=function(e){var n=this,i=new t;return r.default.each(e,(function(t){var e=n.getFontFamilyByVariantGuid(t);e&&i.add(e)})),i},t.prototype.getSlice=function(e,n){return new t(this.fontFamilies.slice(e,n))},t.prototype.multiFilter=function(t){r.default.each(t,r.default.bind(this.filter,this))},t.prototype.setAllWebFontStylesLoaded=function(){r.default.each(this.fontFamilies,(function(t){t.setAllWebFontStylesLoaded()}))},t.prototype.filter=function(e){var n=new t;r.default.each(this.fontFamilies,r.default.bind((function(t){if("boolean"==typeof e.propertyValue)!!t[e.propertyName]===e.propertyValue&&n.addFontFamily(t);else{var i=t[e.propertyName].toLowerCase(),r=e.propertyValue.toLowerCase();(e.exactMatch&&i===r||!e.exactMatch&&i.indexOf(r)>=0)&&n.addFontFamily(t)}}),this)),this.resetToCollection(n)},t.prototype.sort=function(t,e){var n=this;this.fontFamilies=r.default.sortBy(this.fontFamilies,(function(e){return e[t]})),r.default.each(this.fontFamiliesByApi,(function(e,i){n.fontFamiliesByApi[i]=r.default.sortBy(e,(function(e){return e[t]}))})),e&&this.fontFamilies.reverse()},t.prototype.resetToCollection=function(t){this.fontFamilies=t.fontFamilies,this.fontFamiliesByFamilyGuid=t.fontFamiliesByFamilyGuid,this.fontFamiliesByVariantGuid=t.fontFamiliesByVariantGuid,this.fontFamiliesByApi=t.fontFamiliesByApi},t}();e.FontCollection=a},10518:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontConstants=void 0;var n=function(){function t(){}return t.GOOGLE_API_ID="Google",t.BUILTIN_API_ID="BuiltIn",t.UPLOADED_API_ID="Uploaded",t.FONT_PLUS_UPLOADED_API_ID="FontPlusUploaded",t.DEFAULT_FONT_FAMILY_GUID="Google|Roboto",t.DEFAULT_FONT_VARIANT_GUID="Google|Roboto|400|normal",t.DEFAULT_FONT_WEIGHT=400,t.DEFAULT_FONT_STYLE="normal",t.FONT_STYLE_ITALIC="italic",t.FONT_STYLE_NORMAL="normal",t.FONT_STYLE_OBLIQUE="oblique",t.EXPERIENCE_FAMILY_GUIDS_KEY="familyGuids",t}();e.FontConstants=n},90149:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontFamily=void 0;var r=i(n(96486)),o=n(10154),a=n(10518),s=function(){function t(t){void 0===t&&(t={}),this.api=t.api,this.family=t.family,this.guid=t.guid,this.crossAccount=!!t.crossAccount,this.category=t.category,this.version=t.version,this.lastModified=t.lastModified,this.files=t.files,this.variants=[]}return t.prototype.isBuiltIn=function(){return this.api===a.FontConstants.BUILTIN_API_ID},t.prototype.isUploaded=function(){return this.api===a.FontConstants.UPLOADED_API_ID},t.prototype.isCrossAccount=function(){return this.crossAccount},t.prototype.getFamilyName=function(){return this.family},t.prototype.getVariants=function(){return this.variants},t.prototype.addVariant=function(t,e){var n=this.createVariant(t,r.default.extend({},e||{},{fontFamily:this}));return this.updateVariant(n),n},t.prototype.createVariant=function(t,e){return void 0===e&&(e={}),new o.FontVariant(t,e)},t.prototype.updateVariant=function(t){var e=r.default.findIndex(this.variants,(function(e){return t.getGuid()===e.getGuid()}));-1===e?this.variants.push(t):this.variants[e]=t},t.prototype.getVariantsCount=function(){return this.variants.length},t.prototype.getVariantNames=function(){return r.default.map(this.variants,(function(t){return t.getName()}))},t.prototype.getCssFamilyName=function(){return this.isUploaded()&&this.variants.length>0?this.variants[0].getCssFamilyName():this.getFamilyName()},t.prototype.getGuid=function(){return this.guid},t.prototype.getVariant=function(t){return r.default.find(this.variants,(function(e){return e.getGuid()===t}))},t.prototype.getVariantByName=function(t){return r.default.find(this.variants,(function(e){return e.getName()===t.toString()}))},t.prototype.getWebFontStylesLoaded=function(){return r.default.every(this.variants,"webFontStylesLoaded")},t.prototype.setAllWebFontStylesLoaded=function(){r.default.each(this.variants,(function(t){t.setWebFontStylesLoaded()}))},t.prototype.sortVariantsByName=function(){this.variants=r.default.sortBy(this.variants,["name"])},t.prototype.findVariantByWeightAndStyle=function(t,e){return r.default.find(this.variants,(function(n){return n.getFontWeight()===t&&n.getFontStyle()===e}))},t.prototype.findBestMatchVariant=function(t){var e=this.getVariantByName(t.getName());if(!e){var n=t.getFontWeight(),i=t.getFontStyle();null!=n&&i&&(e=this.findVariantByWeightAndStyle(n,i))}return e||(e=this.findVariantByWeightAndStyle(a.FontConstants.DEFAULT_FONT_WEIGHT,a.FontConstants.DEFAULT_FONT_STYLE)),e||(e=this.variants[0]),e},t}();e.FontFamily=s},93786:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontUtil=void 0;var s=a(n(96486)),u=a(n(65311)),l=n(10518),c=function(){function t(){}return t.loadMetrics=function(t){return u.default.ajax({url:"/rest/v1/font/font-metrics",dataType:"json",data:{variantGuids:t}})},t.getGoogleFontSimplifiedMetrics=function(e){return i(this,void 0,Promise,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,t.googleFontMetrics[e]];case 1:return n.sent()||(t.googleFontMetrics[e]=new Promise((function(n,i){t.loadMetrics([e]).then((function(t){t&&t.length>0?n(t[0]):i(new Error("Could not find metrics for Google font "+e))}))}))),[2,t.googleFontMetrics[e]]}}))}))},t.buildGoogleVariantDisplayName=function(t,e){var n={100:"Thin",200:"Extra-Light",300:"Light",400:"Normal",500:"Medium",600:"Semi-Bold",700:"Bold",800:"Extra-Bold",900:"Ultra-Bold"}[t];return"normal"!==e&&(n+=" "+e),String(n)},t.parseGoogleVariantGuid=function(e){var n=o(e.split("|"),4),i=n[1],r=n[2],a=n[3],s=parseInt(r,10);return isNaN(s)&&(s=400),{familyName:i,fontStyle:a,weight:s,variant:t.buildGoogleVariantName(s,a).toLocaleLowerCase()}},t.parseGoogleVariantGuidAsCssStyle=function(e){var n=t.parseGoogleVariantGuid(e),i=n.fontStyle;return{fontFamily:n.familyName,fontWeight:n.weight,fontStyle:i}},t.parseGoogleVariantName=function(t){var e,n;if("regular"===(t=t.toLowerCase()))e=400,n="normal";else if("italic"===t)e=400,n="italic";else if("oblique"===t)e=400,n="oblique";else{var i=t.match(/(\d+)(italic|regular|oblique)?/i);if(!i||3!==i.length)throw"Could not parse google variant: "+t;e=parseInt(i[1],10),n=i[2]&&"regular"!==i[2]?i[2]:"normal"}return{fontWeight:e,fontStyle:n,variantName:this.buildGoogleVariantDisplayName(e,n)}},t.buildGoogleVariantGuid=function(e,n){var i=t.parseGoogleVariantName(n);return"Google|"+e+"|"+i.fontWeight+"|"+i.fontStyle},t.buildGoogleVariantGuidFromValues=function(t,e,n){return"Google|"+t+"|"+e+"|"+n},t.buildGoogleVariantName=function(t,e){var n;return 400===t?n="italic"===e?"italic":"oblique"===e?"oblique":"regular":(n=""+t,"italic"===e?n+="Italic":"oblique"===e&&(n+="Oblique")),n},t.getFontAPI=function(t){return s.default.startsWith(t,l.FontConstants.GOOGLE_API_ID)?l.FontConstants.GOOGLE_API_ID:t.startsWith(l.FontConstants.FONT_PLUS_UPLOADED_API_ID)?l.FontConstants.FONT_PLUS_UPLOADED_API_ID:s.default.startsWith(t,l.FontConstants.UPLOADED_API_ID)?l.FontConstants.UPLOADED_API_ID:s.default.startsWith(t,l.FontConstants.BUILTIN_API_ID)?l.FontConstants.BUILTIN_API_ID:""},t.isValidGuid=function(e){return""!==t.getFontAPI(e)},t.googleFontMetrics={},t}();e.FontUtil=c},10154:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontVariant=void 0;var r=i(n(65311)),o=n(10518),a=function(){function t(t,e){void 0===e&&(e={}),this.name=t,this.fontFamily=e.fontFamily,this.familyName=e.familyName,this.fontWeight=e.fontWeight,this.fontStyle=e.fontStyle,this.guid=e.guid,this.metrics=e.metrics,this.webFontStylesLoaded=!!e.webFontStylesLoaded,this.metricsUrl=e.metricsUrl,this.cssFamilyName=e.cssFamilyName||e.familyName,this.crossAccount=!!e.crossAccount,this.cssUrl=e.cssUrl,this.unitsPerEm=e.unitsPerEm,this.ascent=e.ascent}return t.prototype.getFontFamily=function(){return this.fontFamily},t.prototype.getName=function(){return this.name},t.prototype.getFamilyName=function(){return this.familyName},t.prototype.getCssFamilyName=function(){return this.cssFamilyName},t.prototype.getFontStyle=function(){return this.fontStyle},t.prototype.getFontWeight=function(){return this.fontWeight},t.prototype.getGuid=function(){return this.guid},t.prototype.isItalic=function(){return this.fontStyle===o.FontConstants.FONT_STYLE_ITALIC},t.prototype.isUploaded=function(){var t;return!!(null===(t=this.fontFamily)||void 0===t?void 0:t.isUploaded())},t.prototype.isBuiltIn=function(){var t;return!!(null===(t=this.fontFamily)||void 0===t?void 0:t.isBuiltIn())},t.prototype.getMetricsUrl=function(){var t=this;return this.metricsUrl?r.default.Deferred().resolve(this.metricsUrl):r.default.ajax({url:"/rest/v1/font/font-metrics",dataType:"json",data:{variantGuids:[this.guid]}}).then((function(e){return t.metricsUrl=e[0].metricsFileURL,t.metricsUrl}))},t.prototype.getMetrics=function(){var t,e=this;return this.metrics?r.default.Deferred().resolve(this.metrics):this.metricsLoadingDeferred?this.metricsLoadingDeferred.promise():(this.metricsLoadingDeferred=new r.default.Deferred,this.getMetricsUrl().then((function(t){r.default.ajax({url:t,dataType:"json",cache:!0}).done((function(t){var n;e.metrics=t,null===(n=e.metricsLoadingDeferred)||void 0===n||n.resolve(t)})).fail((function(t){var n;null===(n=e.metricsLoadingDeferred)||void 0===n||n.reject(t)}))})),(null===(t=this.metricsLoadingDeferred)||void 0===t?void 0:t.promise())||r.default.Deferred().resolve())},t.prototype.setWebFontStylesLoaded=function(){this.webFontStylesLoaded=!0},t}();e.FontVariant=a},33227:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GoogleFontAPI=void 0;var u=s(n(96486)),l=s(n(65311)),c=s(n(8030)),d=n(90149),h=n(43832),f=n(76159),p=n(93786),g=n(10518),m=s(n(52272)),v=n(57824),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ID=g.FontConstants.GOOGLE_API_ID,e.FONTLOADER_KEY="google",e.FONT_URL="/google-font-list",e.loadedFontPlusCharacterSets=new Map,e}return r(e,t),e.prototype.execute=function(t){return m.default.hasFeature(v.FeatureFlagName.NEW_TEXT_TOOL)&&(this.FONT_URL=this.FONT_URL+"?textPlus=true"),f.AbstractFontAPI.prototype.execute.call(this,t)},e.prototype.parseResults=function(t){var e=this,n=[];return u.default.each(t.items,(function(t){if(u.default.includes(t.subsets,"latin")){var i=new d.FontFamily;e.populate(i,t),n.push(i)}})),new h.FontCollection(n)},e.prototype.populate=function(t,e){var n=this;t.api=this.ID,t.family=e.family,t.category=e.category,t.version=e.version,t.lastModified=e.lastModified,t.files=e.files,t.guid=this.buildFontFamilyGuid(e.family),u.default.each(e.variants,(function(i){var r=p.FontUtil.parseGoogleVariantName(i),o=n.buildFontVariantGuid(e.family,r.fontWeight,r.fontStyle);t.addVariant(r.variantName,{familyName:e.family,fontWeight:r.fontWeight,fontStyle:r.fontStyle,guid:o,ascent:void 0,unitsPerEm:void 0})}))},e.prototype.buildWebLoaderObjectForFamilies=function(t){var e=this;return{families:u.default.chain(t.getFontFamilies()).map((function(t){if(t.api===e.ID)return t.family+":"+t.getVariantNames().join(",")})).filter((function(t){return!!t})).value()}},e.prototype.loadMetrics=function(t){return p.FontUtil.loadMetrics(t)},e.prototype.buildFontFamilyGuid=function(t){return g.FontConstants.GOOGLE_API_ID+"|"+t},e.prototype.buildFontVariantGuid=function(t,e,n){return this.buildFontFamilyGuid(t)+"|"+e+"|"+n},e.prototype.updateMetrics=function(t){var e=this;if(0===t.length)return new(l.default.Deferred());var n=u.default.map(t,(function(t){var n=e.fontCollection.getFontFamilyByFamilyGuid(t);return u.default.pick(n,["family","version","lastModified","files"])}));return l.default.ajax("/rest/v1/font/glyph-metrics",{data:JSON.stringify(n),type:"POST",contentType:"application/json"}).promise()},e.prototype.getFontPlusCharacterSets=function(t){return o(this,void 0,Promise,(function(){return a(this,(function(e){return t.length>0?[2,l.default.post("/rest/v1/account/"+c.default.accountSlug+"/font-plus-character-set-google",{googleFamilyVariants:t}).then((function(t){return t}))]:[2,new Promise((function(t){t([])}))]}))}))},e}(f.AbstractFontAPI);e.GoogleFontAPI=y},58521:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isGoogleVariantTuple=void 0,e.isGoogleVariantTuple=function(t){return"string"!=typeof t&&!!t.familyName&&!!t.variant}},31337:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UploadedFontAPI=void 0;var a=o(n(96486)),s=o(n(65311)),u=o(n(8030)),l=n(90149),c=n(43832),d=n(76159),h=n(10518),f=o(n(54400)),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ID=h.FontConstants.UPLOADED_API_ID,e.FONTLOADER_KEY="custom",e.FONT_URL="/rest/v1/account/"+u.default.accountSlug+"/font-upload",e.loadedFontPlusCharacterSets=new Map,e}return r(e,t),e.prototype.parseResults=function(t){return this.createFontCollection(t)},e.prototype.buildWebLoaderObjectForFamilies=function(t){var e=this,n=[],i="",r=[];return a.default.each(t.getFontFamilies(),(function(t,o){t.api===e.ID&&(""!==i&&(i+=","),i+=t.getGuid(),a.default.each(t.variants,(function(t){t.cssFamilyName&&n.push(t.cssFamilyName)})),(o+1)%20==0&&(r.push(f.default.appendQueryParams(e.FONT_URL+"/css",{family:i})),i=""))})),i&&r.push(f.default.appendQueryParams(this.FONT_URL+"/css",{family:i})),{families:n,urls:r}},e.prototype.loadFamiliesByFamilyGuids=function(t,e){var n,i=this,r=new c.FontCollection;return 0===(n=e?t:a.default.filter(t,(function(t){var e=i.fontCollection.getFontFamilyByFamilyGuid(t);return!e||(r.add(e),!1)}))).length?s.default.Deferred().resolve(r):s.default.post(this.FONT_URL,{familyGuids:n}).then((function(t){var e=i.createFontCollection(t);return i.fontCollection.add(e),r.add(e),r}))},e.prototype.loadFamiliesByVariantGuids=function(t,e){var n,i=this,r=new c.FontCollection;return 0===(n=e?t:a.default.filter(t,(function(t){var e=i.fontCollection.getFontFamilyByVariantGuid(t);return!e||(r.add(e),!1)}))).length?s.default.Deferred().resolve(r):s.default.post(this.FONT_URL,{variantGuids:n}).then((function(t){var e=i.createFontCollection(t);return i.fontCollection.add(e),r.add(e),r}))},e.prototype.createFontCollection=function(t){var e=this,n=new c.FontCollection;return a.default.each(t,(function(t){var i=n.getFontFamilyByFamilyGuid(t.guid);i||(i=e.createFamily(t.familyName,t.guid,t.crossAccount)),a.default.each(t.variants,(function(t){e.addVariant(i,t)})),i.sortVariantsByName(),n.addFontFamily(i)})),n},e.prototype.createFamily=function(t,e,n){return new l.FontFamily({api:this.ID,family:t,category:this.ID,guid:e,crossAccount:n})},e.prototype.addVariant=function(t,e){return t.addVariant(e.variantName,{familyName:t.family,fontWeight:h.FontConstants.DEFAULT_FONT_WEIGHT,fontStyle:h.FontConstants.DEFAULT_FONT_STYLE,guid:e.guid,metricsUrl:e.metricsFileURL,cssFamilyName:e.cssFamilyName,ascent:e.ascent,unitsPerEm:e.unitsPerEm})},e.prototype.getFontPlusCharacterSets=function(t){return Promise.resolve([])},e}(d.AbstractFontAPI);e.UploadedFontAPI=p},74260:(t,e)=>{"use strict";var n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.labelsForBringToFrontReverseOptions=e.BringToFrontReverseOption=void 0,function(t){t.unhover="on-unhover",t.resetOthers="reset-others",t.resetPositionsAndStates="reset-positions-and-states",t.resetPositions="reset-positions"}(i=e.BringToFrontReverseOption||(e.BringToFrontReverseOption={})),e.labelsForBringToFrontReverseOptions=((n={})[i.unhover]="On unhover",n[i.resetOthers]="Reset Others",n[i.resetPositionsAndStates]="Object Positions & States",n[i.resetPositions]="Object Positions Only",n)},9010:(t,e,n)=>{"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineLinkType=void 0,n(67757),(i=e.InlineLinkType||(e.InlineLinkType={})).URL="url",i.PAGE="page",i.POSITION="position",i.OBJECT="object"},46792:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.editorToggleService=e.EditorToggleEvent=void 0;var u,l=s(n(41232));!function(t){t.CHANGED="changed"}(u=e.EditorToggleEvent||(e.EditorToggleEvent={}));var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._editMode=!1,e}return r(e,t),Object.defineProperty(e.prototype,"editMode",{get:function(){return this._editMode},set:function(t){this._editMode!==t&&(this._editMode=t,this.trigger(u.CHANGED,this._editMode))},enumerable:!1,configurable:!0}),e.prototype.toggleMode=function(){this.editMode=!this.editMode},e.prototype.enableEditMode=function(){this.editMode=!0},e.prototype.enableBrowseMode=function(){this.editMode=!1},e}(l.Model);e.editorToggleService=new c},90308:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerContextService=e.PlayerContext=void 0;var r,o=i(n(8030));!function(t){t.EMBEDDED_PREVIEWER="EMBEDDED_PREVIEWER",t.PREVIEWER="PREVIEWER",t.EMBEDDED_PLAYER="EMBEDDED_PLAYER",t.PLAYER="PLAYER"}(r=e.PlayerContext||(e.PlayerContext={}));var a=function(){function t(){}return t.getPlayerContext=function(){var t=o.default.isPreviewer,e=o.default.isEmbedded;return t&&e?r.EMBEDDED_PREVIEWER:t?r.PREVIEWER:e?r.EMBEDDED_PLAYER:r.PLAYER},t.isEmbeddedPreviewer=function(){return t.getPlayerContext()===r.EMBEDDED_PREVIEWER},t.isPreviewer=function(){return t.getPlayerContext()===r.PREVIEWER},t}();e.PlayerContextService=a},92709:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},l=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.applyCKEditorPrototypeOverridesForEmptyElementAttributes=e.keepAttributesOnLineDelete=e.AbstractTextEditorMixin=void 0;var d=c(n(49413)),h=c(n(35594)),f=c(n(16776)),p=c(n(84236)),g=c(n(25243)),m=c(n(65311)),v=n(34654);function y(t){var e=t.model,n=e.document;t.model.deleteContent=function(i,r){if(!(null==r?void 0:r.doNotAutoparagraph)&&!(null==r?void 0:r.dontAddNoSpaceCharacter)){var o=i.getFirstPosition(),a=i.getLastPosition();if(o&&a){var s=o.parent.maxOffset,u=o.path[0]<a.path[0],l=o.path[0]===a.path[0]&&a.path[1]===s;if(0===o.path[1]&&(u||l)&&Array.from(o.parent.getChildren()).length>0)if(u){var c=o.path[0]+1===a.path[0]&&0===a.path[1],h=o.isAtStart&&a.isAtEnd;(c||h)&&t.model.insertContent(new g.default(v.ZERO_WIDTH_SPACE,n.selection.getAttributes()),i,void 0)}else t.model.insertContent(new g.default(v.ZERO_WIDTH_SPACE,n.selection.getAttributes()),a,void 0)}}d.default(e,i,r)}}e.AbstractTextEditorMixin=function(t){var e=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.apply(this,u(e))||this;return i.options=e[0],i.editorPromise=new Promise((function(t,e){i.editorResolve=t,i.editorReject=e})),i}return r(e,t),e.prototype.getExtraConfig=function(){return{}},e.prototype.initialEditorRender=function(){var t=this;this.getTextEditorBase().create(this.getEditorElement(),this.getCkEditorOptions(),this.getExtraConfig()).then((function(e){t.alterEditorAfterCreation(e),t.editorResolve(e)})).catch((function(e){t.editorReject(e)}))},e.prototype.setSpellcheck=function(t){t.editing.view.change((function(e){e.setAttribute("spellcheck","false",t.editing.view.document.getRoot())}))},e.prototype.setKeyDown=function(t){t.keystrokes.set("Esc",(function(e,n){t.fire("escpress"),n()}))},e.prototype.alterEditorAfterCreation=function(t){this.setSpellcheck(t),this.setKeyDown(t),this.setVariantGuidResolverOnEditor(t),this.setWaitForFontToLoadOnEditor(t),this.setGetLineHeightCompatibilityModeOnEditor(t),y(t),m.default(".ck-body-wrapper").hide(),b()},e.prototype.getEditor=function(){return this.editorPromise},e.prototype.setVariantGuidResolverOnEditor=function(t){var e=this;t.variantGuidResolver=function(t){return e.variantGuidResolver(t)}},e.prototype.setWaitForFontToLoadOnEditor=function(t){var e=this;t.waitForFontToLoad=function(t){return e.waitForFontToLoad(t)}},e.prototype.setGetLineHeightCompatibilityModeOnEditor=function(t){var e=this;t.getLineHeightCompatibilityMode=function(){return e.getLineHeightCompatibilityMode()}},e.prototype.getTextHtml=function(){var t=this;return new Promise((function(e,n){t.editorPromise.then((function(n){var i=t.getTextHtmlFromEditor(n);e(i)})).catch((function(t){return n(t)}))}))},e.prototype.getTextHtmlFromEditor=function(t){return t.getData()},e.prototype.waitForEditorToBlur=function(){return o(this,void 0,Promise,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return[4,this.editorPromise];case 1:return(t=e.sent()).editing.view.document.isFocused?[4,new Promise((function(t,e){setTimeout(t,100)}))]:[3,3];case 2:return e.sent(),[2,this.waitForEditorToBlur()];case 3:return[2,t]}}))}))},e}(t);return e},e.keepAttributesOnLineDelete=y;var _=!1;function b(){_||(h.default.prototype.getMinimalFlatRanges=function(){for(var t=[],e=this.start.getCommonPath(this.end).length,n=f.default._createAt(this.start),i=n.parent;n.path.length>e+1;)0!=(r=i.maxOffset-n.offset)?t.push(new h.default(n,n.getShiftedBy(r))):t.push(new h.default(n)),n.path=n.path.slice(0,-1),n.offset++,i=i.parent;for(;n.path.length<=this.end.path.length;){var r,o=this.end.path[n.path.length-1];0!=(r=o-n.offset)?t.push(new h.default(n,n.getShiftedBy(r))):t.push(new h.default(n)),n.offset=o,n.path.push(0)}return t},p.default.prototype._getValidRangesForRange=function(t,e){var n,i,r,o,s,u,c,d,p;return a(this,(function(a){switch(a.label){case 0:n=t.start,i=t.start,r=function(t,e){return!t.isEqual(e)||t.isEqual(e)&&t.path.length>1},a.label=1;case 1:a.trys.push([1,10,11,12]),o=l(t.getItems({shallow:!0})),s=o.next(),a.label=2;case 2:return s.done?[3,9]:(u=s.value).is("element")?[5,l(this._getValidRangesForRange(h.default._createIn(u),e))]:[3,4];case 3:a.sent(),a.label=4;case 4:return this.checkAttribute(u,e)?[3,7]:r(n,i)?[4,new h.default(n,i)]:[3,6];case 5:a.sent(),a.label=6;case 6:n=f.default._createAfter(u),a.label=7;case 7:i=f.default._createAfter(u),a.label=8;case 8:return s=o.next(),[3,2];case 9:return[3,12];case 10:return c=a.sent(),d={error:c},[3,12];case 11:try{s&&!s.done&&(p=o.return)&&p.call(o)}finally{if(d)throw d.error}return[7];case 12:return r(n,i)?[4,new h.default(n,i)]:[3,14];case 13:a.sent(),a.label=14;case 14:return[2]}}))},_=!0)}e.applyCKEditorPrototypeOverridesForEmptyElementAttributes=b},32238:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.syncTextForVariantWithEditor=e.getLineIndices=e.executeCommandViaSelection=e.executeCommandViaRange=e.executeLineBreaks=e.setSelection=e.getRangeFromIndexLength=e.getRangesFromIndexLength=e.removeNewLines=e.prepareTextContentForEditor=e.executeLines=e.initializeEditorFromTextData=void 0;var c=n(14021),d=l(n(28067)),h=l(n(16776)),f=n(73065),p=n(34654),g=n(9588),m=n(34654),v=l(n(52272)),y=n(57824),_=l(n(30545)),b=n(34654),w=n(8090),T=l(n(96486)),S=n(34654),E=l(n(25243)),O=n(19860),P=n(32580),C=n(56619);function A(t,e,n,i){void 0===e&&(e=[]),e&&H(n).forEach((function(n,r){var o,a=(o=r,e.find((function(t){var e=t.index,n=t.length;return o===e||o>e&&o<e+n}))||{leading:g.MODEL_DEFAULT_LEADING}).leading;j(t,n,b.TextPlusCommandNames.LINE_HEIGHT,{leading:a,defaultFontSize:i})}))}function k(t){return t.replace(/(\r\n|\n|\r|\v)/gm,"")}function x(t,e){var n=e.index,i=e.length,r=new d.default({startPosition:new h.default(t.model.document.getRoot(),[0])});r=f.peekable(r);for(var o=0,a=0,s=n,u=n+i,l=!1,p=!1,g=!1,m=[],v=0,y=function(e){return function(t,e){var n;return t.model.change((function(i){n=i.createPositionFromPath(t.model.document.getRoot(),e)})),n}(t,[v,e])},_=!1;!_;){var b=0,w=0;g=!1;var T=F(r);_=T.finishedIterating;var S=T.text.length;o+=S;var E=T.numNewLines;if(!l&&o>=s&&(b=s-a-E,l=!0,g=!0),!p&&o>=u&&(w=u-a-E,p=!0),l){var O;if(O=y(g?b:0),p){var P=y(w);return m.push(new c.Range(O,P)),m}P=y(S-E),m.push(new c.Range(O,P))}a+=S,v++}if(m.length>1)return m.pop(),m}function I(t,e){var n=x(t,e);if(n){var i=n[0],r=n[n.length-1];return new c.Range(i.start,r.end)}}function M(t,e){t.model.change((function(t){t.setSelection(e)}))}function R(t,e){var n,i,r=V(e,"\n"),o=V(e,b.SOFTBREAK_CHARACTER),a=s(r,o).sort((function(t,e){return t.index-e.index}));try{for(var l=u(a),c=l.next();!c.done;c=l.next()){var d=c.value;"\n"===d.character?U(t,d):d.character===b.SOFTBREAK_CHARACTER&&B(t,d)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}function N(t,e,n){return void 0===e&&(e=[]),r(this,void 0,Promise,(function(){var r,a,s,l,c,d,h;return o(this,(function(f){switch(f.label){case 0:r=function(e){var r,a,s,u,l,c;return o(this,(function(o){switch(o.label){case 0:return r=function(n,i){D(t,e,n,i)},a=function(n,i){j(t,e,n,i)},e.underline&&r(b.TextPlusCommandNames.UNDERLINE_PLUS,!0),e.fontSize&&r(b.TextPlusCommandNames.FONT_SIZE,e.fontSize+"px"),e.textCase&&r(b.TextPlusCommandNames.TEXT_CASE,e.textCase),e.variantGuid&&n?(s=r,u=[b.TextPlusCommandNames.FONT_FAMILY],c={},l=[{}],[4,n(e.variantGuid)]):[3,2];case 1:s.apply(void 0,u.concat([(c.value=i.apply(void 0,[i.apply(void 0,l.concat([o.sent()])),{variantGuid:e.variantGuid}]),c)])),o.label=2;case 2:return e.letterSpacing&&r(b.TextPlusCommandNames.LETTER_SPACING,e.letterSpacing),e.fontColor&&r(b.TextPlusCommandNames.FONT_COLOR,e.fontColor),e.superscript&&a(b.TextPlusCommandNames.SUPERSCRIPT,!0),e.subscript&&a(b.TextPlusCommandNames.SUBSCRIPT,!0),e.hyperlink&&a(b.TextPlusCommandNames.LINK_PLUS,e.hyperlink),[2]}}))},f.label=1;case 1:f.trys.push([1,6,7,8]),a=u(e),s=a.next(),f.label=2;case 2:return s.done?[3,5]:(l=s.value,[5,r(l)]);case 3:f.sent(),f.label=4;case 4:return s=a.next(),[3,2];case 5:return[3,8];case 6:return c=f.sent(),d={error:c},[3,8];case 7:try{s&&!s.done&&(h=a.return)&&h.call(a)}finally{if(d)throw d.error}return[7];case 8:return[2]}}))}))}function D(t,e,n,i){0===e.length&&(e.length=1);var r=x(t,e);t.execute(n,i,!0,r),function(t,e,n,i){e&&t.model.change((function(r){var o,a,s,l;function c(e,o){var a,s=function(t){switch(t){case b.TextPlusCommandNames.FONT_COLOR:return"fontColor";case b.TextPlusCommandNames.FONT_SIZE:return"fontSize";case b.TextPlusCommandNames.FONT_FAMILY:return"fontFamily";case b.TextPlusCommandNames.LETTER_SPACING:return"letterSpacing";case b.TextPlusCommandNames.TEXT_CASE:return"textCase";case b.TextPlusCommandNames.UNDERLINE_PLUS:return"underline";case b.TextPlusCommandNames.LINE_HEIGHT:return"lineHeight";default:return}}(n);if(s){var u,l=T.default.extend({},O.getAttributesAsRecord(e),((a={})[""+s]=n==b.TextPlusCommandNames.FONT_FAMILY?i.value:i,a)),c=r.createText(S.ZERO_WIDTH_SPACE,l);u="listItem"===o.name?r.createSelection(o,"in"):r.createSelection(o,"on"),t.model.insertContent(c,u)}}try{for(var d=u(e),h=d.next();!h.done;h=d.next()){var f=h.value;try{for(var p=(s=void 0,u(L(f))),g=p.next();!g.done;g=p.next()){var m=g.value,v=m.getChild(0);0!=m.childCount?1==m.childCount&&v instanceof E.default&&v.data.includes(S.ZERO_WIDTH_SPACE)&&c(v.getAttributes(),m):c(m.getAttributes(),m)}}catch(t){s={error:t}}finally{try{g&&!g.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}}}catch(t){o={error:t}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}}))}(t,r,n,i)}function L(t){var e=t.start.parent,n=t.end.parent;return T.default.compact([e,n])}function j(t,e,n,i){var r=x(t,e);return r&&M(t,r),t.execute(n,i,!0,r),r}function F(t){for(var e=function(){return t.next().value},n=e(),i="",r=0,o=!1;;){"elementStart"===n.type||"elementEnd"===n.type?(i+=s=f.parseElementDefinitions(n,0,{text:[],paragraphs:[],headings:[],lists:[],listMarkerStyles:[],softBreaks:[],lines:[]}).text,r+=s.length):"text"===n.type&&(i+=s=f.parseTextDefinitions(n,0).text);var a=void 0;if(f.isPeekable(t)&&(a=t.peek().value),!a){o=!0;break}if(f.elementIsSoftBreak(a))for(;f.elementIsSoftBreak(a);){var s;i+=s=f.parseElementDefinitions(a,0,{text:[],paragraphs:[],headings:[],lists:[],listMarkerStyles:[],softBreaks:[],lines:[]}).text,n=e(),n=e(),f.isPeekable(t)&&(a=t.peek().value)}if("elementEnd"===a.type)break;n=e()}return{text:i,numNewLines:r,finishedIterating:o}}function V(t,e){var n=[];return s(t).forEach((function(t,i){t===e&&n.push({index:i,length:0,character:e})})),n}function U(t,e){return j(t,e,"enter")}function B(t,e){return j(t,e,"shiftEnter")}function H(t){var e=[],n=t.split(/\n|\r/g),i=0;return n.forEach((function(t){var n=t.length;e.push({index:i,length:n}),i+=n+1})),e}e.initializeEditorFromTextData=function(t,e,n,a,s,l,c,d,h,f,g){return r(this,void 0,Promise,(function(){var r,_,w;return o(this,(function(o){switch(o.label){case 0:return f&&t.execute(b.TextPlusCommandNames.BASE_OFFSET_LISTENER,!1),R(t,e),r={fontColor:void 0,fontSize:void 0},[4,N(t,[i(i(i({},n),r),{index:0,length:e.length})],h)];case 1:return o.sent(),function(t,e){var n,i;void 0===e&&(e=[]);var r="",o=!1,a=0,s=function(e){if("li"===e.attributes.listElementType){var n={length:0,index:e.index},i=function(e,i){j(t,i||n,e)},s=e.attributes.listIndent;if(s>0){i("delete"),i("enter",{length:0,index:n.index-1});for(var u=a;u<s;u++)i(b.TextPlusCommandNames.INDENT_LIST);for(var l=s;l<a;l++)i(b.TextPlusCommandNames.OUTDENT_LIST),o=!0}var c=void 0;if(e.attributes.listType===m.ListTypes.Numbered)c="numberedList";else{if(e.attributes.listType!==m.ListTypes.Bulleted)return console.error("List of type "+e.attributes.listType+" is not supported."),"continue";c="bulletedList"}s>0&&c===r||o||i(c),r=c,o=!1,a=e.attributes.listIndent||0,t.model.change((function(n){var i=Array.from(t.model.document.selection.getSelectedBlocks())[0];i&&"listItem"===i.name&&e.uid&&n.setAttribute(p.LIST_UID_ATTRIBUTE,e.uid,i)}))}};try{for(var l=u(e),c=l.next();!c.done;c=l.next())s(c.value)}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}(t,s),_=a.filter((function(t){return t.length>0})),[4,N(t,_,h)];case 2:return o.sent(),g?(w=a.filter((function(t){return 0==t.length})),[4,N(t,w,h)]):[3,4];case 3:o.sent(),o.label=4;case 4:return function(t,e){return!!t.textCase||e.some((function(t){return t.textCase}))}(n,a)&&C.TextCasePlusUtils.applyCasingToEntireDocument(t),function(t,e){var n,i;void 0===e&&(e=[]);try{for(var r=u(e),o=r.next();!o.done;o=r.next()){var a=o.value;j(t,{index:a.index,length:0},b.TextPlusCommands.LIST_MARKER_STYLES,a)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}(t,l),A(t,d,e,n.fontSize),v.default.hasFeature(y.FeatureFlagName.TEXT_PLUS_HTML_ELEMENT)&&function(t,e){var n,i;void 0===e&&(e=[]);try{for(var r=u(e),o=r.next();!o.done;o=r.next()){var a=o.value,s=a.attributes.headingElementType;p.EHEADING_ATTRIBUTE_MAP[s]&&j(t,{length:0,index:a.index},b.TextPlusCommands.HTML_TAG,s)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}(t,c),f?[4,P.BaseOffsetUtils.readjustBaseOffset(t)]:[3,6];case 5:o.sent(),t.execute(b.TextPlusCommandNames.BASE_OFFSET_LISTENER,!0),o.label=6;case 6:return[2]}}))}))},e.executeLines=A,e.prepareTextContentForEditor=function(t){var e=k(t);return _.default(e)},e.removeNewLines=k,e.getRangesFromIndexLength=x,e.getRangeFromIndexLength=I,e.setSelection=M,e.executeLineBreaks=R,e.executeCommandViaRange=D,e.executeCommandViaSelection=j,e.getLineIndices=H,e.syncTextForVariantWithEditor=function t(e,n,i,r,o,s){var l,c,d=w.patienceDiff(i.split(""),r.split(""));if(0!==d.lineCountDeleted||0!==d.lineCountInserted){var h=-1,p=d.lines.find((function(t,e){return(-1===t.aIndex||-1===t.bIndex)&&(h=e,!0)}));if(-1===(null==p?void 0:p.aIndex)){for(var g="",m=!0,v=h;v<d.lines.length;v++){var y=d.lines[v];m&&-1===y.aIndex?g+=y.line:m=!1}if(P=x(n,{index:h,length:0})){e.setSelection(P);var _={};try{for(var b=u(n.model.document.selection.getAttributes()),T=b.next();!T.done;T=b.next()){var S=a(T.value,2),E=S[0],O=S[1];_[E]=O}}catch(t){l={error:t}}finally{try{T&&!T.done&&(c=b.return)&&c.call(b)}finally{if(l)throw l.error}}e.insertText(g,_,n.model.document.selection.getFirstPosition())}}else if(-1===(null==p?void 0:p.bIndex)){var P,C=h;for(m=!0,v=h;v<d.lines.length;v++)y=d.lines[v],m&&-1===y.bIndex?C=v:m=!1;(P=I(n,{index:h,length:C-h+1}))&&(e.setSelection(P),n.model.deleteContent(n.model.document.selection,{dontAddNoSpaceCharacter:!0}))}var A=f.getTextPlusDataFromEditor(n,{defaults:s}).textContent;A!==r&&t(e,n,A,r,o,s)}}},9588:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidLeadingValue=e.MODEL_DEFAULT_LEADING=void 0,e.MODEL_DEFAULT_LEADING="auto-1.2",e.isValidLeadingValue=function(t){return t===e.MODEL_DEFAULT_LEADING||"number"==typeof t}},8090:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patienceDiff=void 0,e.patienceDiff=function(t,e){function n(t,e,n){for(var i=new Map,r=e;r<=n;r++){var o=t[r];i.has(o)?(i.get(o).count++,i.get(o).index=r):i.set(o,{count:1,index:r})}return i.forEach((function(t,e,n){1!==t.count?n.delete(e):n.set(e,t.index)})),i}function i(t,e,i,r,o,a){var s=n(t,e,i),u=n(r,o,a);return s.forEach((function(t,e,n){u.has(e)?n.set(e,{indexA:t,indexB:u.get(e)}):n.delete(e)})),s}var r=[],o=0,a=0,s=[],u=[],l=[],c=[];function d(n,i){i<0?(s.push(t[n]),u.push(r.length),o++):n<0&&(l.push(e[i]),c.push(r.length),a++),r.push({line:0<=n?t[n]:e[i],aIndex:n,bIndex:i})}function h(n,r,o,a){for(;n<=r&&o<=a&&t[n]===e[o];)d(n++,o++);for(var s=r;n<=r&&o<=a&&t[r]===e[a];)r--,a--;var u=i(t,n,r,e,o,a);if(0===u.size){for(;n<=r;)d(n++,-1);for(;o<=a;)d(-1,o++)}else f(n,r,o,a,u);for(;r<s;)d(++r,++a)}function f(n,r,o,a,s){var u=function(t){var e=[];t.forEach((function(t){for(var n=0;e[n]&&e[n][e[n].length-1].indexB<t.indexB;)n++;e[n]||(e[n]=[]),0<n&&(t.prev=e[n-1][e[n-1].length-1]),e[n].push(t)}));var n=[];if(0<e.length){var i=e.length-1;for(n=[e[i][e[i].length-1]];n[n.length-1].prev;)n.push(n[n.length-1].prev)}return n.reverse()}(s||i(t,n,r,e,o,a));if(0===u.length)h(n,r,o,a);else{(n<u[0].indexA||o<u[0].indexB)&&h(n,u[0].indexA-1,o,u[0].indexB-1);var l=void 0;for(l=0;l<u.length-1;l++)h(u[l].indexA,u[l+1].indexA-1,u[l].indexB,u[l+1].indexB-1);(u[l].indexA<=r||u[l].indexB<=a)&&h(u[l].indexA,r,u[l].indexB,a)}}return f(0,t.length-1,0,e.length-1),{lines:r,lineCountDeleted:o,lineCountInserted:a}}},34654:function(t,e){"use strict";var n,i,r,o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.LINE_HEIGHT_INCREMENT_AMOUNT=e.SUPERSCRIPT_FONT_SIZE_RATIO=e.IS_RENDERING_PLACEHOLDERS=e.LINE_HEIGHT_MODE=e.ZERO_WIDTH_SPACE=e.SOFTBREAK_CHARACTER=e.IGNORE_DEBOUNCE_COMMANDS=e.TextPlusStyleAttributes=e.TextPlusCommandNames=e.TextPlusCommands=e.HTML_TAG_OPTIONS=e.TEXTPLUS_HTML_TAG_MAP=e.EHEADING_ATTRIBUTE_MAP=e.DEFAULT_PROPORTIONAL_LEADING=e.ListTypes=e.LIST_UID_ATTRIBUTE=e.ListElementEnum=e.ParagraphElementEnum=e.TextPlusClassName=e.CANNOT_PASTE_IN_OLD_TEXT_EXPERIENCE_ERROR=void 0,e.CANNOT_PASTE_IN_OLD_TEXT_EXPERIENCE_ERROR="This experience does not support new text features.",e.TextPlusClassName="ceros-text-editor",(r=e.ParagraphElementEnum||(e.ParagraphElementEnum={})).P="p",r.EP="/p",(i=e.ListElementEnum||(e.ListElementEnum={})).OL="ol",i.UL="ul",i.LI="li",i.EOL="/ol",i.EUL="/ul",i.ELI="/li",e.LIST_UID_ATTRIBUTE="list-uid",(n=e.ListTypes||(e.ListTypes={})).Numbered="numbered",n.Bulleted="bulleted",e.DEFAULT_PROPORTIONAL_LEADING=1.2,e.EHEADING_ATTRIBUTE_MAP={heading1:"/heading1",heading2:"/heading2",heading3:"/heading3",heading4:"/heading4",heading5:"/heading5",heading6:"/heading6"},e.TEXTPLUS_HTML_TAG_MAP={heading1:"h1",heading2:"h2",heading3:"h3",heading4:"h4",heading5:"h5",heading6:"h6",paragraph:"p"};var s=Object.keys(e.TEXTPLUS_HTML_TAG_MAP);e.HTML_TAG_OPTIONS=s.map((function(t,n){return{name:t,title:("paragraph"===t?"Paragraph":"Header "+(n+1))+" <"+e.TEXTPLUS_HTML_TAG_MAP[t]+">"}})),e.TextPlusCommands={LETTER_SPACING:"letterSpacing",LETTER_SPACING_INCREMENT:"letterSpacingIncrement",FONT_COLOR:"fontColor",FONT_COLOR_RETAIN_OPACITY:"fontColorRetainOpacity",FONT_COLOR_OPACITY:"fontColorOpacity",FONT_SIZE:"fontSize",FONT_SIZE_INCREMENT:"fontSizeIncrement",ALIGNMENT:"alignment",TEXT_CASE:"textCase",UNDERLINE:"underline",TEXT_ALIGN:"textAlign",FONT_FAMILY:"fontFamily",LINK:"hyperlink",LINE_HEIGHT:"lineHeight",LINE_HEIGHT_INCREMENT:"lineHeightIncrement",LINE_HEIGHT_REFRESH:"lineHeightRefresh",HTML_TAG:"htmlTag",LIST_MARKER_STYLES:"listMarkerStyles"},e.TextPlusCommandNames={FONT_FAMILY:"FontFamily",LETTER_SPACING:"letterSpacing",FONT_COLOR:"FontColorPlus",UNDERLINE_PLUS:"UnderlinePlus",FONT_SIZE:"FontSizePlus",TEXT_CASE:"textCase",SUPERSCRIPT:"superscript",SUBSCRIPT:"subscript",LINK_PLUS:"LinkPlus",INDENT_LIST:"indentList",OUTDENT_LIST:"outdentList",LINK_PLUS_UI:"LinkPlusUi",SELECT_ALL:"selectAll",LINE_HEIGHT:"LineHeight",LINE_HEIGHT_INCREMENT:"lineHeightIncrement",LINE_HEIGHT_REFRESH:"lineHeightRefresh",LINE_HEIGHT_FIX_INVALID:"lineHeightFixInvalid",LIST_MARKER_STYLES:"listMarkerStyles",BASE_OFFSET_APPLY:"BaseOffsetApply",BASE_OFFSET_LISTENER:"BaseOffsetListener"},e.TextPlusStyleAttributes={LETTER_SPACING:"letter-spacing",TEXT_CASE:"text-transform",FONT_SIZE:"font-size",UNDERLINE:"text-decoration",TEXT_ALIGN:"text-align",LINE_HEIGHT:"line-height",FONT_COLOR:"color",BASE_OFFSET_ATTRIBUTE:"margin-top"},e.IGNORE_DEBOUNCE_COMMANDS=a(Object.values(e.TextPlusCommands).filter((function(t){return"listMarkerStyles"!==t}))),e.SOFTBREAK_CHARACTER="\v",e.ZERO_WIDTH_SPACE="",e.LINE_HEIGHT_MODE={NO_BASELINE_OFFSET:"no_baseline_offset",USE_BASELINE_OFFSET:"use_baseline_offset"},e.IS_RENDERING_PLACEHOLDERS="is-rendering-placeholders",e.SUPERSCRIPT_FONT_SIZE_RATIO=.83,e.LINE_HEIGHT_INCREMENT_AMOUNT=1},81807:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTextPlusModelShiftingSpacing=e.setClipPath=e.getClipPathObject=e.applyMarginTopToElement=void 0;var i=n(73065);function r(t){var e=i.getPaddingObject(t),n=e.paddingLeft,r=e.paddingRight,a=e.paddingTop,s=e.paddingBottom,u=o(t),l=i.resolveModelOrObject(t,"width"),c=i.resolveModelOrObject(t,"height"),d=u>n?-Math.abs(u-n):0,h=u>a?-Math.abs(u-a):0,f=c-s,p=i.getColumnObject(t).columnCount;return{clipLeft:d,clipTop:h,clipWidth:i.columnsAreEnabled()&&p>1?l-r:l+u,clipHeight:f}}function o(t){return 2*i.resolveModelOrObject(t,"defaultSpan").fontSize}e.applyMarginTopToElement=function(t,e){0===e?t.style.removeProperty("margin-top"):t.style.setProperty("margin-top",e+"px","important")},e.getClipPathObject=r,e.setClipPath=function(t,e,n){void 0===n&&(n=0);var i=r(e),o=i.clipLeft,a=i.clipTop,s=i.clipWidth,u=i.clipHeight-n,l=o+"px "+a+"px",c=s+"px "+a+"px",d=s+"px "+u+"px",h=o+"px "+u+"px";t.style.clipPath="polygon("+l+", "+c+", "+d+", "+h+")"},e.getTextPlusModelShiftingSpacing=o},73065:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.isPeekable=e.peekable=e.getTextPlusModelShiftingSpacing=e.cloneEditorNodeWithContentOnly=e.adjustMarginsForPlayer=e.adjustMarginsForSvg=e.applyMarginTopToElement=e.resolveModelOrObject=e.getColumnObject=e.getPaddingObject=e.getBiggestFontSize=e.getFontSize=e.setTextPlusContainerAttributes=e.setTextContainerAttributes=e.createTextViewElements=e.buildListDefinition=e.buildParagraphDefinition=e.removeAttributesFromSelection=e.getTextContentLength=e.handleTextscriptButtonClicked=e.getTextFromRange=e.getSelectedBlocksFromEditor=e.getSelectedRangeFromEditor=e.combineOverlappingTextSpans=e.createTextSpans=e.isDefaultSpanDefinition=e.handleOverlappingDefinition=e.getInlineElementsFromRanges=e.getInlineElementsFromRange=e.getLineElement=e.elementIsLine=e.elementIsSoftBreak=e.elementIsList=e.elementIsParagraph=e.elementIsHeading=e.columnsAreEnabled=e.headingsAreEnabled=e.consolidateParsedTextDefinitions=e.parseDefinitions=e.parseTextDefinitions=e.parseElementDefinitions=e.getTreeWalker=e.currentSelectionHasTextScripts=e.getRangeFromBlocks=e.getTextPlusDataFromBlocks=e.getTextPlusDataFromSelectedBlocks=e.getTextPlusDataFromRange=e.getTextPlusDataFromEditor=e.addOrUpdateSelectionMarker=e.SELECTION_MARKER=void 0,e.isCurrentValueEqual=e.eventOccurredInTextPlusEditMode=e.isTextPlusView=void 0;var c=l(n(96486)),d=l(n(28067)),h=l(n(16776)),f=l(n(35594)),p=n(67757),g=n(34654),m=n(11411),v=n(49293),y=n(34094),_=n(89584),b=n(1450),w=l(n(52272)),T=n(57824),S=l(n(73735)),E=n(34654),O=n(75206),P=n(2194),C=n(81807),A=n(32580);function k(t,e){var n=D(M(null,t)),i=n.textContent,r=n.treeWalkerValues,o=n.definitions,a=K(L(o.text,i),i,e);return{textContent:i,textSpans:a.textSpans,defaultSpan:a.defaultSpan,definitions:o,treeWalkerValues:r}}function x(t,e,n){return k(I(t,e),{defaults:n})}function I(t,e){var n=Array.from(e);return t.model.change((function(t){var e=t.createRangeOn(n[0]),i=t.createRangeOn(n[n.length-1]);return new f.default(e.start,i.end)}))}function M(t,e){return t?new d.default({shallow:!1,startPosition:new h.default(t.model.document.getRoot(),[0])}):e?new d.default({shallow:!1,boundaries:e}):[]}function R(t,e,n){var i=[],r=[],o=[],a=[],s=[],u=[],l="";if(U(t)){var c=v.parse(t,e);l+=c.paragraphText,i=c.paragraphDefinitions}if(j()&&V(t)){var d=y.parse(t,e);l+=d.headingText,e=d.headingIndex,r=d.headingDefinitions}if(B(t)){var h=m.parse(t,e,n.lists,n.listMarkerStyles);l+=h.listText,e=h.listIndex,o=h.listDefinitions,a=h.listMarkerStyleDefinitions}if(H(t)&&"elementStart"===t.type){var f=_.parse(t,e),p=f.softBreakText;e=f.softBreakIndex,s=f.softBreakDefinitions,l+=p}if(G(t)){var g=b.parse(t);g&&u.push(g)}return{paragraphs:i,headings:r,lists:o,listMarkerStyles:a,softBreaks:s,text:l,lines:u}}function N(t,e){var n,i,r=t.item;if(!r.is("textProxy"))return{definitions:[],text:""};var o,s,u=r.data==g.ZERO_WIDTH_SPACE,l=function(t){return t.replace(/\u200B/g,"")}(r.data),c=l.length,d=[],h=new Map;try{for(var f=a(r.getAttributes()),p=f.next();!p.done;p=f.next()){var m=(o=p.value,s=void 0,s=o,"textCase"===o[0]&&o[1]&&o[1].textCase&&(o[1]=o[1].textCase),s);h.set(m[0],m[1])}}catch(t){n={error:t}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return h.size>0&&d.push({index:e,length:c,endIndex:e+c,attributes:h,isPlaceholder:u}),{definitions:d,text:l}}function D(t){var e,n,i=[],r=[],o=[],s=[],l=[],d=[],h=[],f=[],p="",m=0;try{for(var v=a(t),y=v.next();!y.done;y=v.next()){var _=y.value;if("elementStart"===_.type||"elementEnd"===_.type){var w=R(_,m,{text:i,paragraphs:r,headings:o,lists:s,listMarkerStyles:[],softBreaks:d,lines:f}),T=w.text,S=w.paragraphs,E=w.lists,O=w.headings,P=w.softBreaks,C=w.lines,A=w.listMarkerStyles;p+=T,r.push.apply(r,u(S)),s.push.apply(s,u(E)),l.push.apply(l,u(A)),o.push.apply(o,u(O)),d.push.apply(d,u(P)),b.reduceIntoRanges(C,f),m+=T.length}else if("text"==_.type){var k=N(_,m),x=(T=k.text,k.definitions);p+=T,i.push.apply(i,u(x)),m+=T.length}h.push(_)}}catch(t){e={error:t}}finally{try{y&&!y.done&&(n=v.return)&&n.call(v)}finally{if(e)throw e.error}}return{textContent:p,treeWalkerValues:h,definitions:{text:i,paragraphs:r,headings:o,lists:c.default.filter(s,(function(t){return t.attributes.listElementType==g.ListElementEnum.LI})),listMarkerStyles:l,softBreaks:d,lines:f}}}function L(t,e){var n,i,r,o,s,l,d=new Map;for(t=c.default.cloneDeep(t);t.length>0;){var h=t.shift();if(c.default.isNil(h))return u(d.values());h.index=z(h.index,e),h.length=h.endIndex-h.index;var f=h.index+":"+h.endIndex;if(0!==d.size)if(d.has(f)){try{for(var p=(n=void 0,a(h.attributes)),g=p.next();!g.done;g=p.next()){var m=g.value;d.get(f).attributes.set(m[0],m[1])}}catch(t){n={error:t}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}t.push(d.get(f)),d.delete(f)}else{var v=!1;try{for(var y=(r=void 0,a(d.keys())),_=y.next();!_.done;_=y.next()){var b=_.value,w=d.get(b);if((h.index>=w.index&&h.index<=w.endIndex||h.endIndex<=w.endIndex&&h.endIndex>=w.index||h.index<=w.index&&h.endIndex>=w.endIndex)&&(v=q(h,w,t,d,e)),(h.index==w.endIndex||h.endIndex==w.index)&&h.attributes.size==w.attributes.size){var T=!0;try{for(var S=(s=void 0,a(w.attributes)),E=S.next();!E.done;E=S.next())m=E.value,c.default.isEqual(h.attributes.get(m[0]),m[1])||(T=!1)}catch(t){s={error:t}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}T&&(v=q(h,w,t,d,e))}}}catch(t){r={error:t}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(r)throw r.error}}!v&&h.attributes.size>0&&d.set(f,h)}else d.set(f,h)}var O=u(d.values());return O.sort((function(t,e){return t.index<e.index?-1:t.index==e.index?t.length<=e.length?-1:0:1})),O}function j(){return w.default.hasFeature(T.FeatureFlagName.TEXT_PLUS_HTML_ELEMENT)}function F(){return w.default.hasFeature(T.FeatureFlagName.TEXT_PLUS_COLUMNS)}function V(t){return t.item.is("element")&&!c.default.isUndefined(g.EHEADING_ATTRIBUTE_MAP[t.item.name])}function U(t){return t.item.is("element")&&"paragraph"==t.item.name}function B(t){return t.item.is("element")&&"listItem"==t.item.name}function H(t){return t.item.is("element")&&"softBreak"==t.item.name}function G(t){var e=t.item?t:{item:t};return U(e)||V(e)||B(e)}function W(t){var e;return t.is("element")&&G(t)?t:(null===(e=t.parent)||void 0===e?void 0:e.is("element"))?W(t.parent):null}function Z(t,e){var n,i,r=function(t){t&&G(t)&&((null==e?void 0:e.find((function(e){return e===t})))||null==e||e.push(t))};try{for(var o=a(t.getItems()),s=o.next();!s.done;s=o.next())r(W(s.value))}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}t.start.parent.is("element")&&r(t.start.parent)}function z(t,e){for(var n=t;e.length>n&&("\n"===e[n-1]||e[n-1]===E.SOFTBREAK_CHARACTER);)n--;return n}function q(t,e,n,i,r){var o,s,u=new Map;try{for(var l=a(e.attributes),d=l.next();!d.done;d=l.next()){var h=d.value,f=h[0],p=h[1];t.attributes.has(f)&&c.default.isEqual(t.attributes.get(f),p)&&(u.set(f,p),e.attributes.delete(f),t.attributes.delete(f))}}catch(t){o={error:t}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(u.size>0){var g=Math.min(t.index,e.index),m=Math.max(t.endIndex,e.endIndex);return n.push({index:g,endIndex:m,length:Math.min(tt(r),m-g),attributes:u}),t.attributes.size>0&&n.push(t),e.attributes.size>0&&n.push(e),i.delete(e.index+":"+e.endIndex),!0}return!1}function $(t,e){return e.hasOwnProperty("variantGuid")?t.variantGuid=e.variantGuid:t.variantGuid="Google|Roboto|400|normal",t.variantGuid||""}function Y(t,e,n){return 0==t&&e==n.replace(/[\n\t]+$/,"").length}function K(t,e,n){var r,o,s,l,d,h,f=(null==n?void 0:n.defaults)||O.variantDefaults.defaultSpan,g=Object.assign({},f,{underline:!1}),m=[],v=new Map,y={};try{for(var _=a(t),b=_.next();!b.done;b=_.next()){var w=b.value,T={};try{for(var S=(s=void 0,a(w.attributes)),P=S.next();!P.done;P=S.next()){var C=P.value,A=C[0],k=C[1];switch(A){case p.properties.FONT_COLOR:var x=k;T.fontColor=x.replace(/\s+/g,"");break;case p.properties.UNDERLINE:T.underline=!!k;break;case p.properties.LETTER_SPACING:T.letterSpacing=parseInt(k.toString());break;case p.properties.BOLD:T.variantGuid=$(T,p.properties.BOLD);break;case p.properties.ITALIC:T.variantGuid=$(T,p.properties.ITALIC);break;case p.properties.FONT_FAMILY:T.variantGuid=$(T,k),T.fontFamily=k.cssFamilyName;break;case p.properties.SUPERSCRIPT:T.superscript=!0;break;case p.properties.SUBSCRIPT:T.subscript=!0;break;case p.properties.TEXT_CASE:T.textCase=k;break;case p.properties.FONT_SIZE:T.fontSize=parseInt(k.toString());break;case p.properties.ALIGNMENT:T.alignment=k;break;case p.properties.HYPERLINK:T.hyperlink=k;break;case p.properties.BASE_LINE_OFFSET:case p.properties.INITIAL_FONT_SIZE:case p.properties.RESIZE_KEY:break;default:console.log(A," property is not supported yet.")}}}catch(t){s={error:t}}finally{try{P&&!P.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}var I={};Y(w.index,w.length,e)?(T.hasOwnProperty("superscript")&&(I=i(i({},T),{index:w.index,length:w.length}),delete T.superscript),T.hasOwnProperty("subscript")&&(I=i(i({},T),{index:w.index,length:w.length}),delete T.subscript),T.hasOwnProperty(E.TextPlusCommands.TEXT_CASE)||delete g.textCase,(null==n?void 0:n.ignoreLinks)&&T.hasOwnProperty(E.TextPlusCommands.LINK)&&(c.default.isEmpty(T)||(I=i(i({},T),{index:w.index,length:w.length}),delete T.fontColor,delete T.underline,delete T.hyperlink)),y=c.default.extend({},g,T)):I=i(i({},T),{index:w.index,length:w.length}),I&&m.push(I),w.isPlaceholder&&v.set(w.index+":"+w.length,!0)}}catch(t){r={error:t}}finally{try{b&&!b.done&&(o=_.return)&&o.call(_)}finally{if(r)throw r.error}}y=c.default.extend({},g,y),c.default.each(m,(function(t){for(var e in y){var n=e,i=y[n],r=t[n];!c.default.isNil(r)&&c.default.isEqual(r,i)&&delete t[n]}})),c.default.remove(m,(function(t){return c.default.values(t).length<3}));var M=[],R=[];try{for(var N=a(m),D=N.next();!D.done;D=N.next())I=D.value,v.has(I.index+":"+I.length)?(I.length=0,M.push(I)):R.push(I)}catch(t){d={error:t}}finally{try{D&&!D.done&&(h=N.return)&&h.call(N)}finally{if(d)throw d.error}}return R=X(R),{textSpans:c.default.orderBy(u(R,M),["index","length"]),defaultSpan:y}}function X(t){var e,n,r,o,s=new Map;try{for(var l=a(t),d=l.next();!d.done;d=l.next())for(var h=d.value,f=h.index;f<h.index+h.length;f++)s.has(f)||s.set(f,{index:0,length:0}),s.set(f,i(i(i({},s.get(f)),h),{index:0,length:0}))}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}var p=[],g=void 0,m=u(s.keys()).sort((function(t,e){return t-e})),v=function(t){var e=s.get(t);if(!e)return"continue";var n=function(){var n=e;return n.index=t,n.length=1,n};if(!g)return g=n(),"continue";g.index+g.length===t&&c.default.isEqual(i(i({},g),{index:0,length:0}),i({},e))?g.length++:(p.push(g),g=n())};try{for(var y=a(m),_=y.next();!_.done;_=y.next())v(_.value)}catch(t){r={error:t}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(r)throw r.error}}return g&&p.push(g),p}function J(t){var e,n=t.model.document.selection.getFirstPosition(),i=t.model.document.selection.getLastPosition();return n&&(e=i?new f.default(n,i):new f.default(n)),e}function Q(t,e){var n;return e?t.model.document.selection.getSelectedBlocks():(null===(n=t.model.document.getRoot())||void 0===n?void 0:n.getChildren())||[]}function tt(t){return t.length}function et(t,e){var n=t.model,i=n.document.selection;n.change((function(n){var r,o,s,u;try{for(var l=a(e),c=l.next();!c.done;c=l.next()){var d=c.value;if(i.isCollapsed)n.removeSelectionAttribute(d);else{var h=t.model.schema.getValidRanges(i.getRanges(),d);try{for(var f=(s=void 0,a(h)),p=f.next();!p.done;p=f.next()){var g=p.value;n.removeAttribute(d,g)}}catch(t){s={error:t}}finally{try{p&&!p.done&&(u=f.return)&&u.call(f)}finally{if(s)throw s.error}}}}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}))}function nt(t,e){var n;(n=t).style.whiteSpace="break-word",n.style.lineHeight=""+g.DEFAULT_PROPORTIONAL_LEADING,function(t,e,n){t.style.width=e-n.paddingLeft-n.paddingRight+"px"}(t,at(e,"width"),rt(e)),function(t,e,n){t.style.height=e-n.paddingTop-n.paddingBottom+"px"}(t,at(e,"height"),rt(e)),function(t,e){t.style.paddingTop=e.paddingTop+"px",t.style.paddingRight=e.paddingRight+"px",t.style.paddingBottom=e.paddingBottom+"px",t.style.paddingLeft=e.paddingLeft+"px"}(t,rt(e)),function(t,e){t.style.textAlign=e}(t,at(e,"justify")),F()&&function(t,e){e.columnCount<=1?(t.style.removeProperty("columns"),t.style.removeProperty("column-gap"),t.style.removeProperty("column-fill"),t.style.removeProperty("orphans"),t.style.removeProperty("widows")):(t.style.columnCount=""+e.columnCount,t.style.columnWidth=e.columnWidth+"px",t.style.columnGap=e.columnGap+"px",t.style.columnFill="auto",t.style.orphans="1",t.style.widows="1")}(t,ot(e))}function it(t){return parseInt(t.getAttribute("fontSize"))||void 0}function rt(t){return{paddingTop:at(t,"paddingTop"),paddingRight:at(t,"paddingRight"),paddingBottom:at(t,"paddingBottom"),paddingLeft:at(t,"paddingLeft")}}function ot(t){var e=at(t,"columns")||1,n=at(t,"columnGap")||0,i=rt(t),r=(at(t,"width")-((e-1)*n+(i.paddingLeft+i.paddingRight)))/e;return{columnCount:e,columnGap:n,columnWidth:Math.floor(r)}}function at(t,e){return t.get?t.get(e):t[e]}function st(t,e,n){return r(this,void 0,Promise,(function(){return o(this,(function(i){switch(i.label){case 0:return function(t,e){e&&(t.style.color=e)}(t,e.fontColor),function(t,e){e&&(t.style.fontSize=e+"px")}(t,e.fontSize),function(t,e){void 0!==e&&(t.style.letterSpacing=S.default.unitsToCss(e))}(t,e.letterSpacing),[4,ut(t,n,e)];case 1:return i.sent(),[2]}}))}))}function ut(t,e,n){return r(this,void 0,Promise,(function(){var i,r;return o(this,(function(o){switch(o.label){case 0:return(i=n.variantGuid)?[4,e(i)]:[3,2];case 1:r=o.sent(),t.style.fontFamily=r.cssFamilyName,t.style.fontStyle=r.fontStyle,t.style.fontWeight=r.fontWeight+"px",n.fontFamily=r.cssFamilyName,o.label=2;case 2:return[2]}}))}))}function lt(t,e){var n=at(e,"paddingTop")+at(e,"paddingBottom"),i=n>0?at(e,"height")-n:at(e,"height");t.style.setProperty("height",i+"px","important")}function ct(t,e){0===e?t.style.removeProperty("margin-top"):t.style.setProperty("margin-top",e+"px")}function dt(t){return 2*at(t,"defaultSpan").fontSize}function ht(t){return t.model&&"text-plus-component"===t.model.get("type")}e.SELECTION_MARKER="Selection-Marker",e.addOrUpdateSelectionMarker=function(t,n){var i=t.model,r=t.mapper;i.change((function(t){var o={range:r.toModelRange(n),usingOperation:!1,affectsData:!1};i.markers.has(e.SELECTION_MARKER)?t.updateMarker(e.SELECTION_MARKER,o):t.addMarker(e.SELECTION_MARKER,o)}))},e.getTextPlusDataFromEditor=function(t,e){var n=D(M(t)),i=n.textContent,r=n.definitions,o=K(L(c.default.cloneDeep(r.text),i),i,e);return{textContent:i,textSpans:o.textSpans,defaultSpan:o.defaultSpan,definitions:r}},e.getTextPlusDataFromRange=k,e.getTextPlusDataFromSelectedBlocks=function(t){var e;return r(this,void 0,Promise,(function(){var n,i,r;return o(this,(function(o){switch(o.label){case 0:return[4,null===(e=t.textEditorView)||void 0===e?void 0:e.getEditor()];case 1:return n=o.sent(),i=Q(n,t.view.hasFocus()),r=t.getDefaultSpan(),[2,x(n,i,r)]}}))}))},e.getTextPlusDataFromBlocks=x,e.getRangeFromBlocks=I,e.currentSelectionHasTextScripts=function(t,e){var n,i,r=!1,o=J(t);if(c.default.isNil(o))return r;var s=k(o,{defaults:e}).textSpans;try{for(var u=a(s),l=u.next();!l.done;l=u.next()){var d=l.value;if(d.hasOwnProperty("superscript")||d.hasOwnProperty("subscript")){r=!0;break}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return r},e.getTreeWalker=M,e.parseElementDefinitions=R,e.parseTextDefinitions=N,e.parseDefinitions=D,e.consolidateParsedTextDefinitions=L,e.headingsAreEnabled=j,e.columnsAreEnabled=F,e.elementIsHeading=V,e.elementIsParagraph=U,e.elementIsList=B,e.elementIsSoftBreak=H,e.elementIsLine=G,e.getLineElement=W,e.getInlineElementsFromRange=function(t){var e=[];return Z(t,e),e},e.getInlineElementsFromRanges=function(t){var e,n,i=[];try{for(var r=a(t),o=r.next();!o.done;o=r.next())Z(o.value,i)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i},e.handleOverlappingDefinition=q,e.isDefaultSpanDefinition=Y,e.createTextSpans=K,e.combineOverlappingTextSpans=X,e.getSelectedRangeFromEditor=J,e.getSelectedBlocksFromEditor=Q,e.getTextFromRange=function(t){var e,n,i="";try{for(var r=a(t.getItems()),o=r.next();!o.done;o=r.next()){var s=o.value;s.is("textProxy")&&(i+=s.data)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i},e.handleTextscriptButtonClicked=function(t,e,n){var i,r,o=J(e);if(!c.default.isNil(o)){var s=k(o,{defaults:n}).textSpans,u=!1,l=!1;try{for(var d=a(s),h=d.next();!h.done;h=d.next()){var f=h.value;f.hasOwnProperty("superscript")&&(l=!0),f.hasOwnProperty("subscript")&&(u=!0)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(i)throw i.error}}var p=!0;return u&&l?(et(e,["subscript","superscript"]),p=!1):et(e,"superscript"==t?["subscript"]:["superscript"]),{command:t,active:p}}},e.getTextContentLength=tt,e.removeAttributesFromSelection=et,e.buildParagraphDefinition=function(t,e,n){return{attributes:{paragraphElementType:t,path:n},index:e}},e.buildListDefinition=function(t,e,n,i){return{attributes:{listIndent:t,listType:e,listElementType:n},index:i,uid:P.TEST_LIST_UID}},e.createTextViewElements=function(t,e,n){void 0===n&&(n=document.createElement("div"));var i=document.createElement("div");return i.id=t,i.style.height="100%",i.style.width="100%",i.style.columns="inherit",i.style.columnGap="inherit",i.classList.add(g.TextPlusClassName),e&&i.classList.add(g.IS_RENDERING_PLACEHOLDERS),n.appendChild(i),{wrapper:n,editorEl:i}},e.setTextContainerAttributes=nt,e.setTextPlusContainerAttributes=function(t,e,n){return r(this,void 0,Promise,(function(){return o(this,(function(i){switch(i.label){case 0:return nt(t,e),[4,st(t,at(e,"defaultSpan"),n)];case 1:return i.sent(),[2]}}))}))},e.getFontSize=it,e.getBiggestFontSize=function(t,e){var n,i;void 0===e&&(e=p.TEXT_DEFAULT_FONT_SIZE);var r=0;try{for(var o=a(t.getChildren()),s=o.next();!s.done;s=o.next()){var u=it(s.value);u&&(r=u>r?u:r)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r||e},e.getPaddingObject=rt,e.getColumnObject=ot,e.resolveModelOrObject=at,e.applyMarginTopToElement=ct,e.adjustMarginsForSvg=function(t,e){var n=dt(e);lt(t,e);var i=t.style.getPropertyValue("margin-top");if(i){var r=function(t){if(null==t?void 0:t.endsWith("px"))return parseInt(t.substring(0,t.length-2))}(i);void 0!==r&&ct(t.children[0],r)}C.setClipPath(t,e),t.style.setProperty("margin-top",n+"px","important"),t.style.setProperty("margin-right",n+"px","important"),t.style.setProperty("margin-bottom",n+"px","important"),t.style.setProperty("margin-left",n+"px","important")},e.adjustMarginsForPlayer=function(t,e,n,i,a){return r(this,void 0,Promise,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return lt(t,e),a?[4,A.BaseOffsetUtils.getVerticalTrimMargin(t,n,i)]:[3,2];case 1:return void 0!==(r=o.sent())&&ct(t,r),C.setClipPath(t,e,r),[3,3];case 2:C.setClipPath(t,e),o.label=3;case 3:return[2]}}))}))},e.cloneEditorNodeWithContentOnly=function(t,e){void 0===e&&(e=!0);var n=t.cloneNode(e);return n.style.visibility="hidden",n.style.padding="0px",n.style.border="none",n.style.margin="none",n},e.getTextPlusModelShiftingSpacing=dt,e.peekable=function(t){var e=t.next(),n=function(){var n;return o(this,(function(i){switch(i.label){case 0:return e.done?[3,2]:(n=e.value,e=t.next(),[4,n]);case 1:return i.sent(),[3,0];case 2:return[2,e.value]}}))}();return n.peek=function(){return e},n},e.isPeekable=function(t){return"function"==typeof t.peek},e.isTextPlusView=ht,e.eventOccurredInTextPlusEditMode=function(t,e){return ht(t)&&t.isEditMode()&&t.htmlOverCanvasView.el.contains(e.target)},e.isCurrentValueEqual=function(t,e,n,i){var r=t.get(e,i?{variant:i}:void 0);return c.default.isEqual(r,n)}},22455:function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkPlusUiOptionsSource=void 0;var a=o(n(96486)),s=o(n(52272)),u=n(57824),l=n(9010),c=o(n(16080)),d=function(){function t(){}return Object.defineProperty(t.prototype,"linkTypeOptions",{get:function(){var t=[{value:l.InlineLinkType.URL,title:"Go to URL"},{value:l.InlineLinkType.PAGE,title:"Go to page"},{value:l.InlineLinkType.POSITION,title:"Scroll to position"}];return this.hasAccessibilityFeature&&t.push({value:l.InlineLinkType.OBJECT,title:"Scroll to object"}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageOptions",{get:function(){var t=window.designer.designerNav.pages,e=t.getCurrentPageIndex()+1,n=t.map((function(t,e){return{title:t.attributes.name||"Page "+(e+1),value:e+1}}));return e!==t.length&&n.unshift({title:"Next page",value:"next"}),1!==e&&n.unshift({title:"Previous page",value:"prev"}),n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionOptions",{get:function(){var t=[{title:"Top of Page",value:"top"}];if(!window.designer.designerNav.inIsolationMode()){var e=window.designer.designerNav.pages.getCurrentPage().getScranchors().map((function(t,e){return{title:"Anchor "+(e+1),value:t.id}}));t.push.apply(t,r(e))}return t.push({title:"Bottom of Page",value:"bottom"}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objectOptions",{get:function(){var t=c.default.getCurrentVariant();return this.getTargetableLayers().map((function(e){return{title:a.default.get(e.attributes,"overrides."+t+".title",e.attributes.title),value:e.id}}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAccessibilityFeature",{get:function(){return s.default.hasFeature(u.FeatureFlagName.ACCESSIBILITY)},enumerable:!1,configurable:!0}),t.prototype.getTargetableLayers=function(){var t,e=window.designer.designerNav;t=e.inIsolationMode()?e.getIsolationModeContext().smartgroupInstance.getDefinitionLayers():e.pages.getCurrentPage().layers;var n=[];return t.forEachDescendant((function(t){t.includeInLayerPanel&&!t.isCanvasBackgroundModel()&&n.push(t)})),n},t}();e.LinkPlusUiOptionsSource=d},86015:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkPlusUiPositionConstraint=void 0;var n=function(){function t(){}return Object.defineProperty(t.prototype,"topMargin",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomMargin",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightMargin",{get:function(){var t=document.getElementById("inspector-panel");return t?t.offsetWidth:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftMargin",{get:function(){return 0},enumerable:!1,configurable:!0}),t}();e.LinkPlusUiPositionConstraint=n},77350:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontScaleCommand=void 0;var c=l(n(71083)),d=l(n(96486)),h=s(n(67757)),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.applyAttributeForRange=function(t,e,n){var i,r,o,a;if(n&&n.ratio&&n.key)try{for(var s=u(e),l=s.next();!l.done;l=s.next()){var c=l.value;try{for(var d=(o=void 0,u(c.getItems())),h=d.next();!h.done;h=d.next()){var f=h.value,p=f.getAttribute("fontSize"),g=f.getAttribute("initialFontSize"),m=f.getAttribute("resizeKey");p&&(g&&m&&m===n.key?t.setAttribute("fontSize","string"==typeof g?this.setFontSize(parseInt(g),n.ratio):p+"px",f):(t.setAttribute("resizeKey",n.key,f),t.setAttribute("initialFontSize",p,f),t.setAttribute("fontSize","string"==typeof p?this.setFontSize(parseInt(p),n.ratio):p+"px",f)))}}catch(t){o={error:t}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}}}catch(t){i={error:t}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}},e.prototype.setFontSize=function(t,e){var n=h.VIEW_DEFAULTS,i=n.MIN_FONT_SIZE,r=n.MAX_FONT_SIZE;return d.default.clamp(Math.round(t*e),i,r)+"px"},e}(c.default);e.FontScaleCommand=f},13752:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.IncrementCommand=void 0;var a=n(19860),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.applyAttributeForRange=function(t,e,n){a.incrementAttributeForRange(t,e,this.attributeKey,n)},e}(o(n(71083)).default);e.IncrementCommand=s},54685:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.IncrementPixelCommand=void 0;var a=n(19860),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.applyAttributeForRange=function(t,e,n){a.incrementPixelAttributeForRange(t,e,this.attributeKey,n)},e}(o(n(71083)).default);e.IncrementPixelCommand=s},71083:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(24939),a=n(19860),s=n(73065),u=function(t){function e(e,n){var i=t.call(this,e)||this;return i.attributeKey=n,e.conversion.for("editingDowncast").markerToHighlight({model:s.SELECTION_MARKER,view:{classes:["fake-selection"]}}),i}return r(e,t),e.prototype.refresh=function(){var t=this.editor.model,e=t.document;this.value=e.selection.getAttribute(this.attributeKey),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)},e.prototype.execute=function(t,e,n){var i=this;this.editor.model.change((function(r){n?i.applyAttributeForRange(r,n,t):e?i.executeForSelection(r,t):i.executeForAllRanges(r,t)}))},e.prototype.executeForSelection=function(t,e){var n=this.editor.model.document.selection;if(n.isCollapsed)this.applyAttributeForSelection(t,n,e);else{var i=Array.from(n.getRanges()),r=Array.from(this.editor.model.schema.getValidRanges(i,this.attributeKey));this.applyAttributeForRange(t,r,e)}},e.prototype.executeForAllRanges=function(t,e){var n=this.editor.model.document,i=a.getAllRanges(n,t,this.editor,this.attributeKey);i&&this.applyAttributeForRange(t,i,e)},e.prototype.applyAttributeForRange=function(t,e,n){a.applyAttributeForRange(t,e,this.attributeKey,n)},e.prototype.applyAttributeForSelection=function(t,e,n){a.applyAttributeForSelection(t,this.attributeKey,n)},e}(o.Command);e.default=u},61204:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(68154)),s=n(34654),u=n(33071),l=function(t){function e(e){var n=t.call(this,e)||this;return e.commands.add(s.TextPlusCommandNames.BASE_OFFSET_APPLY,new u.BaseOffsetCommand(e)),e.model.schema.extend("$root",{allowAttributes:s.TextPlusCommandNames.BASE_OFFSET_APPLY}),n}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"BaseOffsetApply"},enumerable:!1,configurable:!0}),e}(a.default);e.default=l},33071:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseOffsetCommand=void 0;var o=n(24939),a=n(32580),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.execute=function(t){return t?(a.BaseOffsetUtils.applyBaseOffset(this.editor,t),Promise.resolve()):a.BaseOffsetUtils.readjustBaseOffset(this.editor)},e}(o.Command);e.BaseOffsetCommand=s},32580:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseOffsetUtils=void 0;var a=n(73065),s=n(89323),u=n(34654),l=n(9438),c=n(96486),d=n(95573),h=new Set([d.ElementTagName.DIV,d.ElementTagName.A,d.ElementTagName.BUTTON]),f=function(){function t(){}return t.getCkEditorContainer=function(t){return t.editing.view.domRoots.get("main")},t.getContainerToApplyOffsetTo=function(e){var n=t.getCkEditorContainer(e);if(n)return n.parentElement},t.readjustBaseOffset=function(e){return i(this,void 0,Promise,(function(){return r(this,(function(n){return[2,new Promise((function(n,i){requestAnimationFrame((function(){var r=t.getContainerToApplyOffsetTo(e),o=e.variantGuidResolver,a=e.waitForFontToLoad;t.getVerticalTrimMargin(r,o,a).then((function(i){void 0!==i&&t.applyBaseOffset(e,i),n()})).catch(i)}))}))]}))}))},t.getFirstParagraphOrHeaderOrListAndRemoveOthers=function(e){var n,i,r=void 0;try{for(var a=o(Array.from(e)),s=a.next();!s.done;s=a.next()){var u=s.value;if(h.has(u.tagName)||(void 0===r?r=u:u.remove()),u.children&&u.children.length>0&&void 0===r)return t.getFirstParagraphOrHeaderOrListAndRemoveOthers(u.children)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return function(t){if((null==t?void 0:t.tagName)===d.ElementTagName.UL||(null==t?void 0:t.tagName)===d.ElementTagName.OL){var e=t.querySelector("li");if(e)return e}}(r)||r},t.findHighestElementInFirstElement=function(e,n){return i(this,void 0,Promise,(function(){var a,s,u;return r(this,(function(c){return a=1/0,u=function(e){var c;return i(this,void 0,Promise,(function(){var i,d,h,f,p,g,m,v;return r(this,(function(r){switch(r.label){case 0:r.trys.push([0,10,11,12]),i=o(Array.from(e)),d=i.next(),r.label=1;case 1:if(d.done)return[3,9];if(h=d.value,f=t.getPropertyForElement(h,"--data-variant-guid"),!(f=l.removeQuotes(f)))return[3,8];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n(f)];case 3:return r.sent(),[3,5];case 4:return r.sent(),null===(c=window.Rollbar)||void 0===c||c.error("Variant with uuid "+f+" was never loaded"),[3,5];case 5:return p=h.offsetTop,h.children&&h.children.length>0?[4,u(h.children)]:[3,7];case 6:r.sent(),r.label=7;case 7:void 0!==p&&p<a&&(s=h,a=p),r.label=8;case 8:return d=i.next(),[3,1];case 9:return[3,12];case 10:return g=r.sent(),m={error:g},[3,12];case 11:try{d&&!d.done&&(v=i.return)&&v.call(i)}finally{if(m)throw m.error}return[7];case 12:return[2]}}))}))},[2,new Promise((function(t,n){requestAnimationFrame((function(){u(e).then((function(){t(s)})).catch(n)}))}))]}))}))},t.calculateVerticalTrimMargin=function(e,n,o){return i(this,void 0,Promise,(function(){var i,s,h,f,p,g,m,v,y,_;return r(this,(function(r){switch(r.label){case 0:return i=void 0,void 0===n?[3,3]:(s=n.tagName===d.ElementTagName.SUP,h=t.getPropertyForElement(n,"--data-variant-guid"),(h=l.removeQuotes(h))?[4,o(h)]:[3,3]);case 1:return f=r.sent(),a.applyMarginTopToElement(e,0),i=-n.offsetTop,(p=t.getPropertyForElement(n,"font-size"))?(g=parseInt(p),m=f.ascent,v=f.unitsPerEm,m&&v&&g&&!isNaN(g)?[4,t.calculateBaseLine(f,g,s)]:[3,3]):[2,void 0];case 2:y=r.sent(),s&&(g*=u.SUPERSCRIPT_FONT_SIZE_RATIO),_=m/v*g-y,i=c.round(i+_,1),r.label=3;case 3:return[2,i]}}))}))},t.changeTag=function(t,e){var n,i;if(t.tagName===e)return t;var r=s.createElement(e);try{for(var a=o(Array.from(t.attributes)),u=a.next();!u.done;u=a.next()){var l=u.value;r.setAttributeNS(null,l.name,l.value)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}for(;t.firstChild;)r.appendChild(t.firstChild);return r},t.prepElementsForVerticalTrimCalculations=function(e){var n=s.createElement(d.ElementTagName.DIV,{visibility:"visible",display:"block",position:"absolute",left:"-99999px",zIndex:"-99999",opacity:"0"}),i=t.changeTag(e.cloneNode(!0),d.ElementTagName.DIV);i.style.display="inherit",n.appendChild(i);var r=void 0;return n.children&&n.children.length>0&&(r=t.getFirstParagraphOrHeaderOrListAndRemoveOthers(n.children)),void 0!==r&&r.children?{tempDiv:n,clonedFirstParagraphOrHeader:r,clonedContainerWithOffset:i}:{tempDiv:void 0,clonedFirstParagraphOrHeader:void 0,clonedContainerWithOffset:void 0}},t.getVerticalTrimMargin=function(e,n,o){return i(this,void 0,Promise,(function(){return r(this,(function(i){return[2,new Promise((function(i,r){if(e){var a=t.prepElementsForVerticalTrimCalculations(e),s=a.tempDiv,u=a.clonedFirstParagraphOrHeader,l=a.clonedContainerWithOffset;s&&u&&l?(document.body.appendChild(s),t.findHighestElementInFirstElement(u.children,o).then((function(e){t.calculateVerticalTrimMargin(l,e,n).then((function(t){i(t)})).catch(r).finally((function(){document.body.removeChild(s)}))})).catch((function(t){document.body.removeChild(s),r(t)}))):i(void 0)}else i(void 0)}))]}))}))},t.calculateBaseLine=function(e,n,i){var r=e.cssFamilyName,o=e.fontStyle,a=e.fontWeight,u=r+o+a+n+i;if(t.baseLineCache[u])return Promise.resolve(t.baseLineCache[u]);var l,c=s.createElement(d.ElementTagName.DIV,{visibility:"visible",verticalAlign:"baseline",display:"inline-block",position:"absolute",width:"fit-content",height:"fit-content",fontFamily:r,fontStyle:o,fontWeight:a,opacity:0,lineHeight:"normal"}),h="",f=s.createElement(d.ElementTagName.SPAN,{fontSize:"0px"},h);if(c.appendChild(f),i){var p=s.createElement(d.ElementTagName.SPAN,{fontSize:n+"px"});l=s.createElement(d.ElementTagName.SUP,void 0,h),p.appendChild(l),c.appendChild(p)}else l=s.createElement(d.ElementTagName.SPAN,{fontSize:n+"px"},h),c.appendChild(l);var g=s.createElement(d.ElementTagName.SPAN,{fontSize:"999px"},h);return c.appendChild(g),s.appendBodyChild(c),new Promise((function(e){requestAnimationFrame((function(){var n=s.getElementHeight(l),i=s.getElementHeight(g),r=n*((s.getElementTopRelativeToParent(f)-s.getElementTopRelativeToParent(g))/i);t.baseLineCache[u]=r,document.body.removeChild(c),e(r)}))}))},t.applyBaseOffset=function(e,n){var i=t.getContainerToApplyOffsetTo(e);if(i){a.applyMarginTopToElement(i,n);var r=[{key:u.TextPlusCommandNames.BASE_OFFSET_APPLY,newValue:n}];e.model.document.fire("change:data",{operations:r,type:"makeSvgDirty"})}},t.getPropertyForElement=function(e,n){return(null==e?void 0:e.style)&&(null==e?void 0:e.style.getPropertyValue(n))?e.style.getPropertyValue(n):(null==e?void 0:e.parentElement)?t.getPropertyForElement(e.parentElement,n):void 0},t.baseLineCache={},t}();e.BaseOffsetUtils=f},91665:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(68154)),s=o(n(71083)),u=n(34654),l=n(19860),c=n(46943),d=n(50902),h=function(t){function e(e){var n=t.call(this,e)||this;return e.model.schema.setAttributeProperties(u.TextPlusCommands.FONT_COLOR,{isFormatting:!0,copyOnEnter:!0}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:u.TextPlusCommands.FONT_COLOR,value:l.renderUpcastAttribute(u.TextPlusStyleAttributes.FONT_COLOR)}}),e.conversion.for("upcast").elementToAttribute({view:{name:"strong",styles:{color:/[\s\S]+/}},model:{key:u.TextPlusCommands.FONT_COLOR,value:l.renderUpcastAttribute(u.TextPlusStyleAttributes.FONT_COLOR)}}),e.conversion.for("downcast").attributeToElement({model:u.TextPlusCommands.FONT_COLOR,view:l.renderDowncastElement(u.TextPlusStyleAttributes.FONT_COLOR)}),e.commands.add(u.TextPlusCommandNames.FONT_COLOR,new s.default(e,u.TextPlusCommands.FONT_COLOR)),e.commands.add(u.TextPlusCommands.FONT_COLOR_RETAIN_OPACITY,new c.FontColorPlusUpdateColorRetainOpacityCommand(e,u.TextPlusCommands.FONT_COLOR)),e.commands.add(u.TextPlusCommands.FONT_COLOR_OPACITY,new d.FontColorPlusUpdateOpacityCommand(e,u.TextPlusCommands.FONT_COLOR)),e.model.schema.extend("$text",{allowAttributes:u.TextPlusCommands.FONT_COLOR}),n}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"FontColorPlus"},enumerable:!1,configurable:!0}),e}(a.default);e.default=h},46943:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontColorPlusUpdateColorRetainOpacityCommand=void 0;var a=n(19860),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.applyAttributeForRange=function(t,e,n){a.updateFontColorRetainOpacityAttributeForRange(t,e,this.attributeKey,n)},e.prototype.applyAttributeForSelection=function(t,e,n){a.updateFontColorRetainOpacityAttributeForSelection(t,e,this.attributeKey,n)},e}(o(n(71083)).default);e.FontColorPlusUpdateColorRetainOpacityCommand=s},50902:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontColorPlusUpdateOpacityCommand=void 0;var a=n(19860),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.applyAttributeForRange=function(t,e,n){a.updateFontColorOpacityAttributeForRange(t,e,this.attributeKey,n)},e.prototype.applyAttributeForSelection=function(t,e,n){a.updateFontColorOpacityAttributeForSelection(t,e,this.attributeKey,n)},e}(o(n(71083)).default);e.FontColorPlusUpdateOpacityCommand=s},5196:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontFamily=void 0;var a=o(n(68154)),s=n(91390),u=n(34654),l=n(9438),c=function(t){function e(e){var n=t.call(this,e)||this;return e.model.schema.setAttributeProperties(u.TextPlusCommands.FONT_FAMILY,{isFormatting:!0,copyOnEnter:!0}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"font-family":/.*/,"font-style":/.*/,"font-weight":/.*/,"--data-variant-guid":/.*/}},model:{key:u.TextPlusCommands.FONT_FAMILY,value:function(t,e){return{cssFamilyName:l.removeQuotes(t.getStyle("font-family")),fontStyle:t.getStyle("font-style"),fontWeight:Number(t.getStyle("font-weight")),variantGuid:l.removeQuotes(t.getStyle("--data-variant-guid"))}}}}),e.conversion.for("downcast").attributeToElement({model:u.TextPlusCommands.FONT_FAMILY,view:function(t,e){return e.writer.createAttributeElement("span",{style:"font-family: '"+(null==t?void 0:t.cssFamilyName)+"'; font-style: "+(null==t?void 0:t.fontStyle)+"; font-weight: "+(null==t?void 0:t.fontWeight)+"; --data-variant-guid: '"+(null==t?void 0:t.variantGuid)+"';"},{priority:7})}}),e.model.schema.extend("$text",{allowAttributes:u.TextPlusCommands.FONT_FAMILY}),e.commands.add(u.TextPlusCommandNames.FONT_FAMILY,new s.FontFamilyCommand(e,u.TextPlusCommands.FONT_FAMILY)),n}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"FontFamily"},enumerable:!1,configurable:!0}),e}(a.default);e.FontFamily=c},91390:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontFamilyCommand=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.execute=function(e,n,i){void 0===e&&(e={}),t.prototype.execute.call(this,e.value,n,i)},e}(o(n(71083)).default);e.FontFamilyCommand=a},9438:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeQuotes=void 0,e.removeQuotes=function(t){if(t)return(t=t.split('"').join("")).split("'").join("")}},59725:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(68154)),s=n(34654),u=o(n(71083)),l=n(19860),c=n(54685),d=n(77350),h=function(t){function e(e){var n=t.call(this,e)||this;return e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"font-size":/[\s\S]+/}},model:{key:s.TextPlusCommands.FONT_SIZE,value:l.renderUpcastAttribute(s.TextPlusStyleAttributes.FONT_SIZE)}}),e.conversion.for("downcast").attributeToElement({model:s.TextPlusCommands.FONT_SIZE,view:l.renderDowncastElement(s.TextPlusStyleAttributes.FONT_SIZE)}),e.commands.add("FontSizePlus",new u.default(e,s.TextPlusCommands.FONT_SIZE)),e.commands.add(s.TextPlusCommands.FONT_SIZE_INCREMENT,new c.IncrementPixelCommand(e,s.TextPlusCommands.FONT_SIZE)),e.commands.add("FontScale",new d.FontScaleCommand(e,s.TextPlusCommands.FONT_SIZE)),e.model.schema.extend("$text",{allowAttributes:s.TextPlusCommands.FONT_SIZE}),n}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"FontSizePlus"},enumerable:!1,configurable:!0}),e}(a.default);e.default=h},76911:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.HtmlTagCommand=void 0;var a=n(24939),s=n(14021),u=function(t){function e(e,n){var i=t.call(this,e)||this;return i.modelElements=n,i}return r(e,t),e.prototype.execute=function(t,e){var n,i,r=this.editor.model.document;i=e?r.selection.getSelectedBlocks():(null===(n=r.getRoot())||void 0===n?void 0:n.getChildren())||[],this.changeHtmlElement(i,t)},e.prototype.changeHtmlElement=function(t,e){var n=this;this.editor.model.change((function(i){var r,a;try{for(var s=o(t),u=s.next();!u.done;u=s.next()){var l=u.value;n.canBecomeHeading(l,e)&&i.rename(l,e)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}}))},e.prototype.canBecomeHeading=function(t,e){var n=this.editor.model.schema;return n.checkChild(t.parent,e)&&!n.isObject(t)&&!t.is(e)&&t instanceof s.Element&&!function(t){return t.is("element","listItem")}(t)},e}(a.Command);e.HtmlTagCommand=u},66121:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EHeadingNames=e.HeadingTags=e.HeadingNames=e.HTML_TAG_OPTIONS=void 0,e.HTML_TAG_OPTIONS=[{model:"paragraph",view:"p",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}],e.HeadingNames=["heading1","heading2","heading3","heading4","heading5","heading6"],e.HeadingTags=["h1","h2","h3","h4","h5","h6"],e.EHeadingNames=["/heading1","/heading2","/heading3","/heading4","/heading5","/heading6"]},40917:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HtmlTagPlugin=void 0;var s=a(n(68154)),u=a(n(22685)),l=n(76911),c=n(66121),d=n(34654),h=function(t){function e(e){return t.call(this,e)||this}return r(e,t),Object.defineProperty(e,"requires",{get:function(){return[u.default]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"pluginName",{get:function(){return"HtmlTagPlugin"},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,e,n=this.editor,i=c.HTML_TAG_OPTIONS,r=[];try{for(var a=o(i),s=a.next();!s.done;s=a.next()){var u=s.value;"paragraph"!==u.model&&(n.model.schema.register(u.model,{inheritAllFrom:"$block"}),n.conversion.elementToElement(u),r.push(u.model))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}n.commands.add(d.TextPlusCommands.HTML_TAG,new l.HtmlTagCommand(n,r))},e}(s.default);e.HtmlTagPlugin=h},70309:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=function(t){function e(e){return t.call(this,e)||this}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"KeyboardSelection"},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this,e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.onArrowKey.apply(t,a(e))}))},e.prototype.onArrowKey=function(t,e){var n=this.editor,i=e;i.shiftKey&&i.metaKey&&n.model.change((function(t){var e=n.model.document.selection,i=e.getFirstPosition(),r=e.getLastPosition();if(e.anchor&&i&&r)if(e.isBackward){var o=t.createRange(e.anchor,r);t.setSelection(o)}else o=t.createRange(e.anchor,i),t.setSelection(o)}))},e}(s(n(68154)).default);e.default=u},66782:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(68154)),s=n(34654),u=o(n(71083)),l=o(n(73735)),c=n(13752),d=function(t){function e(e){var n=t.call(this,e)||this;return e.model.schema.setAttributeProperties(s.TextPlusCommands.LETTER_SPACING,{isFormatting:!0,copyOnEnter:!0}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"letter-spacing":/[\s\S]+/}},model:{key:s.TextPlusCommands.LETTER_SPACING,value:function(t,e){return""+l.default.cssToUnits(t.getStyle(s.TextPlusStyleAttributes.LETTER_SPACING))||null}}}),e.conversion.for("downcast").attributeToElement({model:s.TextPlusCommands.LETTER_SPACING,view:function(t,e){return e.writer.createAttributeElement("span",{style:s.TextPlusStyleAttributes.LETTER_SPACING+":"+l.default.unitsToCss(parseInt(t))},{priority:7})}}),e.commands.add(s.TextPlusCommandNames.LETTER_SPACING,new u.default(e,s.TextPlusCommands.LETTER_SPACING)),e.commands.add(s.TextPlusCommands.LETTER_SPACING_INCREMENT,new c.IncrementCommand(e,s.TextPlusCommands.LETTER_SPACING)),e.model.schema.extend("$text",{allowAttributes:s.TextPlusCommands.LETTER_SPACING}),n}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"LetterSpacing"},enumerable:!1,configurable:!0}),e}(a.default);e.default=d},31939:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertToEditorModelLineHeight=e.convertFromEditorModelLineHeight=e.LEGACY_AUTO=void 0;var i=n(9588);e.LEGACY_AUTO="legacy-auto",e.convertFromEditorModelLineHeight=function(t){switch(t){case e.LEGACY_AUTO:return;case void 0:return i.MODEL_DEFAULT_LEADING;default:return t}},e.convertToEditorModelLineHeight=function(t){switch(t){case i.MODEL_DEFAULT_LEADING:return;case void 0:return e.LEGACY_AUTO;default:return t}}},13928:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(96486)),u=a(n(68154)),l=n(34654),c=n(5167),d=n(31939),h=n(14854),f=n(47289),p=n(29613),g=n(89323),m=l.TextPlusCommands.LINE_HEIGHT,v="--legacy-auto-line-height",y=function(t){return"string"==typeof t?{lineHeight:JSON.parse(t),baseOffset:"auto"}:"number"==typeof t?{lineHeight:t,baseOffset:"auto"}:t},_=function(t){function e(e){var n=t.call(this,e)||this;function i(t,n){var i,r=t.lineHeight,a=t.baseOffset,s=e.model.document.selection,u=r===d.LEGACY_AUTO?"normal":r+"px";if(r!==d.LEGACY_AUTO&&n===l.LINE_HEIGHT_MODE.USE_BASELINE_OFFSET)return{"line-height":u,position:"relative",top:"auto"};var c=function(t){var e,n;try{n=null===(e=t.focus)||void 0===e?void 0:e.parent}catch(t){}return n&&n.is("element")&&!n.index}(s),h="auto"===a||s.isCollapsed&&!1===c?"auto":a+"px";return o({"line-height":u,top:h,position:"relative"},r===d.LEGACY_AUTO?((i={})[v]="1",i):{})}return e.model.schema.setAttributeProperties(m,{isFormatting:!0,copyOnEnter:!0}),e.conversion.for("downcast").attributeToAttribute({model:m,view:function(t){return{key:"style",value:t&&i(y(t),e.getLineHeightCompatibilityMode())}}}),e.conversion.for("upcast").attributeToAttribute({view:"style",model:{key:m,value:function(t){var n=t.getAttribute("style");if(n){var i=g.styleStringToObject(n),r=i.lineHeight,o=i[s.default.camelCase(v)],a=i.top;if("1"===o)return{lineHeight:d.LEGACY_AUTO,baseOffset:"auto"};if(r){var u=parseInt(r);if(e.getLineHeightCompatibilityMode()===l.LINE_HEIGHT_MODE.USE_BASELINE_OFFSET)return{lineHeight:u,baseOffset:"auto"};if(a){var c=a;return"auto"!==c&&(c=parseInt(c)),{lineHeight:u,baseOffset:c}}}}}}}),e.commands.add(l.TextPlusCommandNames.LINE_HEIGHT,new c.LineHeightCommand(e,m)),e.commands.add(l.TextPlusCommandNames.LINE_HEIGHT_INCREMENT,new f.LineHeightIncrementCommand(e)),e.commands.add(l.TextPlusCommandNames.LINE_HEIGHT_REFRESH,new h.LineHeightRefreshCommand(e,m)),e.commands.add(l.TextPlusCommandNames.LINE_HEIGHT_FIX_INVALID,new p.LineHeightFixInvalidCommand(e,m)),e.model.schema.extend("$block",{allowAttributes:m}),n}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"LineHeight"},enumerable:!1,configurable:!0}),e}(u.default);e.default=_},5167:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LineHeightCommand=e.getBiggestFontSize=void 0;var s=n(10518),u=n(93786),l=n(67757),c=a(n(71083)),d=n(73065),h=n(34654),f=n(31939),p=a(n(28801)),g=s.FontConstants.DEFAULT_FONT_VARIANT_GUID,m=function(t){return parseInt(t.getAttribute("fontSize"))||l.TEXT_DEFAULT_FONT_SIZE};e.getBiggestFontSize=function(t,e){var n,i,r=e||l.TEXT_DEFAULT_FONT_SIZE;try{for(var a=o(t.getChildren()),s=a.next();!s.done;s=a.next()){var u=s.value,c=m(u);r=c>r?c:r}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return r};var v=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.prototype.refresh=function(){this.isEnabled=!0},n.prototype.applyAttributeForRange=function(t,e,n){var i=this;d.getInlineElementsFromRanges(e).forEach((function(e){return i.applyAttribute(t,e,n)}))},n.prototype.applyAttributeForSelection=function(t,e,n){var i,r,o=null===(r=null===(i=e.getFirstRange())||void 0===i?void 0:i.start)||void 0===r?void 0:r.parent;o&&o.is("element")&&this.applyAttribute(t,o,n)},n.prototype.applyAttribute=function(t,n,i){var r=f.convertToEditorModelLineHeight(null==i?void 0:i.leading);if(i&&r){var o=n.getChild(0),a=0===n.index,s=this.editor.getLineHeightCompatibilityMode(),l=a&&r!==f.LEGACY_AUTO&&s===h.LINE_HEIGHT_MODE.NO_BASELINE_OFFSET?function(t,e,n){var i=p.default.getOldFontBaseLine(t);return Math.ceil(i-(e-n)/2)}(function(t){return t&&t.getAttribute("fontFamily")||{cssFamilyName:(e=u.FontUtil.parseGoogleVariantGuid(g)).familyName,fontStyle:e.variant,fontWeight:""+e.weight};var e}(o),r,e.getBiggestFontSize(n,i.defaultFontSize)):"auto";t.setAttribute(this.attributeKey,{lineHeight:r,baseOffset:l},n)}else t.removeAttribute(this.attributeKey,n)},n}(c.default);e.LineHeightCommand=v},29613:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LineHeightFixInvalidCommand=void 0;var o=n(5167),a=n(9588),s=n(73065),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.execute=function(){t.prototype.execute.call(this,null,!1)},e.prototype.applyAttributeForRange=function(t,e){var n=this;s.getInlineElementsFromRanges(e).forEach((function(e){var i=e.getAttribute("lineHeight");a.isValidLeadingValue(i)||n.applyAttribute(t,e,{leading:a.MODEL_DEFAULT_LEADING})}))},e}(o.LineHeightCommand);e.LineHeightFixInvalidCommand=u},47289:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LineHeightIncrementCommand=void 0;var o=n(34654),a=n(73065),s=function(t){function e(e){var n=t.call(this,e,o.TextPlusCommands.LINE_HEIGHT)||this;return n.applyAttribute=function(e,i,r){var o=n.getCurrentLineHeight(i,r.defaultFontSize)+r.incrementAmount;t.prototype.applyAttribute.call(n,e,i,{leading:o})},n}return r(e,t),e.prototype.getCurrentLineHeight=function(t,e){var n=(t.getAttribute(this.attributeKey)||{}).lineHeight;return"number"==typeof n?n:Math.round(a.getBiggestFontSize(t,e)*o.DEFAULT_PROPORTIONAL_LEADING)},e.prototype.applyAttributeForRange=function(t,e,n){var i=this;a.getInlineElementsFromRanges(e).forEach((function(e){i.applyAttribute(t,e,n)}))},e}(n(5167).LineHeightCommand);e.LineHeightIncrementCommand=s},14854:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LineHeightRefreshCommand=void 0;var o=n(5167),a=n(31939),s=n(73065),u=function(t){var e,n=null===(e=t.getAttribute("lineHeight"))||void 0===e?void 0:e.lineHeight;return a.convertFromEditorModelLineHeight(n)},l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.applyAttributeForRange=function(t,e){var n=this;s.getInlineElementsFromRanges(e).forEach((function(e){return n.applyAttribute(t,e,{leading:u(e)})}))},e.prototype.applyAttributeForSelection=function(t,e){var n,i,r=null===(i=null===(n=e.getFirstRange())||void 0===n?void 0:n.start)||void 0===i?void 0:i.parent;r&&this.applyAttribute(t,r,{leading:u(r)})},e}(o.LineHeightCommand);e.LineHeightRefreshCommand=l},28801:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(89323),r=function(){function t(){}return t.calculateOldBaseLine=function(t){var e=t.cssFamilyName,n=t.fontStyle,r=t.fontWeight,o=i.createElement("div",{visibility:"hidden"}),a=i.createElement("span",{fontSize:0,fontFamily:e,fontStyle:n,fontWeight:r},"");o.appendChild(a);var s=i.createElement("span",{fontSize:"999px",fontFamily:e,fontStyle:n,fontWeight:r},"p");o.appendChild(s),i.appendBodyChild(o);var u=i.getElementTop(a)/i.getElementHeight(s);return i.removeBodyChild(o),u},t.getOldFontBaseLine=function(t){return this.calculateOldBaseLine(t)},t}();e.default=r},26680:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkPlusFactory=e.LINK_PLUS_PLUGIN_NAME=void 0;var s=n(24939),u=n(14021),l=n(34654),c=a(n(46174)),d=a(n(48125)),h=n(25980),f=n(65326),p=n(24959),g=a(n(96486)),m=n(67757);e.LINK_PLUS_PLUGIN_NAME="LinkPlus",e.LinkPlusFactory=function(t,n,i){return function(a){function s(t){var e=a.call(this,t)||this;return e.currentLink={},t.model.schema.setAttributeProperties(l.TextPlusCommands.LINK,{isFormatting:!0,copyOnEnter:!0}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:["href","data-type","data-newtab"]},model:{key:l.TextPlusCommands.LINK,value:function(t,e){var n=t.getAttribute("href"),i=t.getAttribute("data-type"),r=t.getAttribute("data-newtab");return n&&i&&void 0!==r?{type:i,location:n,newTab:"true"===r}:null}}}),t.conversion.for("downcast").attributeToElement({model:l.TextPlusCommands.LINK,view:function(t,e){var n=e.writer;return t?n.createAttributeElement("a",o({href:t.location,"data-type":t.type,"data-newtab":t.newTab?"true":"false"},t.newTab&&{target:"_blank"})):n.createAttributeElement("a",{href:"","data-type":"url","data-newtab":"false",target:"_self"})}}),e.registerCommands(t),t.model.schema.extend("$text",{allowAttributes:l.TextPlusCommands.LINK}),t.model.document.registerPostFixer((function(){return f.LinkPlusCommand.handleSelectionStyling(t,i),!1})),t.editing.view.document.on("keyup",(function(t,n){e.handleArrowNavigation(n.domEvent.key)})),e}return r(s,a),s.prototype.init=function(){var t=this;this.editor.editing.view.addObserver(u.ClickObserver);var e=this.editor.editing.view.document;this.listenTo(e,"click",(function(){var e=t.editor.editing.view.document.selection,n=h.isSelectionInsideOneLink(e);if(!1===n&&p.isLinkPlusPopoverViewOpen()&&c.default.closePopover(),n instanceof d.default){var i=t.editor.commands.get(l.TextPlusCommandNames.LINK_PLUS_UI);i instanceof c.default&&i.execute({type:n.getAttribute("data-type"),location:n.getAttribute("href"),newTab:"true"===n.getAttribute("data-newtab")},!0);var r=t.getLinkElementAtSelection();r&&(t.currentLink=r)}}))},s.prototype.handleArrowNavigation=function(t){if("ArrowUp"===t||"ArrowDown"===t||"ArrowLeft"===t||"ArrowRight"===t){var e=this.editor.model.document.selection,n=e.getAttribute(m.properties.HYPERLINK);if(g.default.isNil(n)&&p.isLinkPlusPopoverViewOpen())return void c.default.closePopover();if(n){var i=this.getLinkElementAtSelection();if(null==i||i==this.currentLink&&!this.selectionIsAtBeginningOfLink(e)||i!==this.currentLink&&h.selectionIsAtEndOfLink(e))return;c.default.closePopover()}}},s.prototype.selectionIsAtBeginningOfLink=function(t){var e,n=t.hasAttribute(m.properties.HYPERLINK),i=t.isCollapsed,r=null===(e=t.focus)||void 0===e?void 0:e.nodeAfter;return!!(n&&i&&r&&r.is("$text"))},s.prototype.getLinkElementAtSelection=function(){var t,e=null===(t=this.editor.editing.view.document.selection.getFirstRange())||void 0===t?void 0:t.getTrimmed();return h.findLinkPlusAncestor(null==e?void 0:e.start)},s.prototype.registerCommands=function(r){r.commands.add(e.LINK_PLUS_PLUGIN_NAME,new f.LinkPlusCommand(r,l.TextPlusCommands.LINK)),r.commands.add(l.TextPlusCommandNames.LINK_PLUS_UI,new c.default(r,l.TextPlusCommands.LINK,t,n,i))},Object.defineProperty(s,"pluginName",{get:function(){return"LinkPlus"},enumerable:!1,configurable:!0}),s}(s.Plugin)}},65326:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkPlusCommand=void 0;var a=o(n(71083)),s=o(n(59071)),u=o(n(91665)),l=n(34654),c=n(25980),d=n(25980),h=n(24959),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.createLink=function(n){var i,r,o=this.editor.commands.get(s.default.pluginName),a=this.editor.commands.get(u.default.pluginName);null===(i=o)||void 0===i||i.execute(!0,!0),null===(r=a)||void 0===r||r.execute(e.LinkColor,!0),t.prototype.execute.call(this,n,!0)},e.prototype.updateLink=function(e){var n=this.editor.editing.view,i=this.editor.editing.mapper,r=n.document.selection,o=c.isSelectionInsideOneLink(r);if(o){var a=this.editor.model,s=i.toModelRange(n.createRangeOn(o)),u=Array.from(a.schema.getValidRanges([s],l.TextPlusCommands.LINK));t.prototype.execute.call(this,e,!0,u)}},e.prototype.removeLink=function(){var e,n,i=this.editor.editing.view,r=this.editor.editing.mapper,o=i.document.selection,a=c.isSelectionInsideOneLink(o);if(a){var d=this.editor.commands.get(s.default.pluginName),h=this.editor.commands.get(u.default.pluginName),f=this.editor.model,p=r.toModelRange(i.createRangeOn(a)),g=Array.from(f.schema.getValidRanges([p],l.TextPlusCommands.LINK));null===(e=d)||void 0===e||e.execute(void 0,!0,g),null===(n=h)||void 0===n||n.execute(void 0,!0,g),t.prototype.execute.call(this,void 0,!0,g)}},e.handleSelectionStyling=function(t,e){var n=t.model.document.selection;d.selectionIsAtEndOfLink(n)&&!h.isLinkPlusPopoverViewOpen()&&d.resetStylingAfterSelection(t,e)},e.LinkColor="#0000FF",e}(a.default);e.LinkPlusCommand=f},24959:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkPlusPopoverView=e.isLinkPlusPopoverViewOpen=e.LinkSelection=void 0;var a=o(n(65311)),s=o(n(42216)),u=n(39865),l=o(n(60545)),c=n(21817),d=o(n(54400)),h=n(31414),f=n(26680),p=n(65326),g=n(73065),m=n(91531),v=n(25980),y=function(t){var e;void 0===t&&(t={}),this.moveToEndOfLink=null===(e=t.moveToEndOfLink)||void 0===e||e};e.LinkSelection=y,e.isLinkPlusPopoverViewOpen=function(){return!!document.getElementById(_.uiContainerId)};var _=function(t){function e(n,i,r,o,a){var s=t.call(this,{id:e.uiContainerId,className:"popover",events:e.events,appendTo:i.appendTo})||this;return s.typeContainerId="textplus-hyperlink-type-container",s.secondaryInputId="textplus-hyperlink-secondary-input",s.secondaryInputContainerId="textplus-hyperlink-secondary-input-container",s.newWindowCheckboxContainerId="textplus-hyperlink-tab-checkbox-container",s.newWindowCheckboxId="textplus-new-tab-checkbox",s.saveButtonId="textplus-hyperlink-save-btn",s.deleteButtonId="textplus-hyperlink-delete-btn",s.disabledButtonClass="disabled",s.currentArrowDirection=c.PositionDirection.BOTTOM,r?s.isEditing=!0:(s.isEditing=!1,r={type:h.LinkPlusType.URL,location:"",newTab:!1}),s.editor=n,s.optionsSource=i,s.originalLinkConfig=r,s.currentLinkType=s.originalLinkConfig.type,s.anchorElement=o,s.getTextDefaults=a,s}return r(e,t),e.prototype.renderForm=function(t,e,n){void 0===n&&(n=!1),this.setContents(s.default.render(l.default,{hyperlinkType:"",hyperlinkLocation:""})),this.$el.css({position:"absolute"}),this.$el.attr({tabindex:0}),this.renderLinkTypeDropdown(),this.renderSecondaryInput(),this.onSecondaryInputChange(),this.isEditing&&this.$("#"+this.deleteButtonId).removeClass("hidden"),this.positionPopover(t,e),n&&this.focusUrlInput()},e.prototype.focusUrlInput=function(){var t=this;setTimeout((function(){var e=document.getElementById(t.secondaryInputId);null==e||e.focus()}),1)},e.prototype.closePopover=function(e,n,i){void 0===n&&(n=this.beforeClosePopover.bind(this)),void 0===i&&(i=this.afterClosePopover.bind(this)),n(),t.prototype.closePopover.call(this),i()},e.prototype.beforeClosePopover=function(){this.resetLinkSelection()},e.prototype.afterClosePopover=function(){var t=this.editor.commands.get(f.LINK_PLUS_PLUGIN_NAME);t instanceof p.LinkPlusCommand&&t.fire("linkPopoverClosed")},e.prototype.resetLinkSelection=function(t){var e=this;void 0===t&&(t=new y);var n=this.editor.model;n.change((function(i){var r=n.markers.get(g.SELECTION_MARKER);if(r){var o=r.getEnd();i.removeMarker(g.SELECTION_MARKER),t.moveToEndOfLink&&i.setSelection(o)}v.selectionIsAtEndOfLink(e.editor.model.document.selection)&&v.resetStylingAfterSelection(e.editor,e.getTextDefaults)})),this.editor.editing.view.focus()},e.prototype.positionPopover=function(t,e){var n=(this.$el.outerWidth()||0)/2,i=(this.$el.outerHeight()||0)/2,r=this.$el.outerHeight()||0,o=this.$el.outerWidth()||0,a=t.width/2,s=t.height/2,u=c.PositionDirection.BOTTOM,l={top:t.bottom+10+"px",left:t.left-n+a+"px"};t.bottom+r>window.innerHeight-e.bottomMargin?(u=c.PositionDirection.TOP,l.top=t.top-r-10+"px"):t.left-n+a<e.leftMargin?(u=c.PositionDirection.RIGHT,l.left=t.right+10+"px",l.top=t.top-i+s+"px"):t.left-n+a+o>window.innerWidth-e.rightMargin&&(u=c.PositionDirection.LEFT,l.left=t.left-o-10+"px",l.top=t.top-i+s+"px"),this.currentArrowDirection=u,this.$el.css(l),this.$("#textplus-hyperlink-popover-arrow").addClass(u+"-of-target")},e.prototype.getCurrentLinkConfig=function(){return{type:this.currentLinkType,location:this.getCurrentLinkLocation(),newTab:this.currentLinkType===h.LinkPlusType.URL&&this.$("#"+this.newWindowCheckboxId).prop("checked")||!1}},e.prototype.getCurrentLinkLocation=function(){var t;if(this.subViews[1])return null!==(t=this.subViews[1].value)&&void 0!==t?t:"";var e=this.$("#"+this.secondaryInputId).val();return e?d.default.filterUrl(e):""},e.prototype.getUiContainer=function(){return document.getElementById(e.uiContainerId)},e.prototype.getSecondaryInputContainer=function(){return document.getElementById(this.secondaryInputContainerId)},e.prototype.renderLinkTypeDropdown=function(){var t=this.getUiContainer();if(t){var e=this.registerSubView(new u.TextDropdownWidgetView({header:"Link type",choices:this.optionsSource.linkTypeOptions,scrollParent:a.default(t),value:this.currentLinkType})),n=this.$("#"+this.typeContainerId);e.render().$el.appendTo(n),this.listenTo(e,e.EVENTS.CHANGE,this.onTypeChange.bind(this))}},e.prototype.renderGotoUrlUi=function(t){var e;void 0===t&&(t="");var n=this.getSecondaryInputContainer();if(n){var i=a.default('\n      <label for="'+this.secondaryInputId+'">'+(null!==(e=this.optionsSource.urlLabelText)&&void 0!==e?e:"URL")+'</label>\n      <input id="'+this.secondaryInputId+'" type="text" value="'+encodeURI(t)+'" />\n    '),r=a.default('\n      <div id="'+this.newWindowCheckboxContainerId+'">\n          <input id="'+this.newWindowCheckboxId+'" type="checkbox" /><label for="'+this.newWindowCheckboxId+'">Open in new window</label>\n      </div>\n    ');n.innerHTML="",i.appendTo(n),r.appendTo(n);var o=this.originalLinkConfig.newTab;this.$("#"+this.secondaryInputContainerId).off("change input").on("change input",this.onSecondaryInputChange.bind(this)),this.$("#"+this.newWindowCheckboxId).prop("checked",o)}},e.prototype.renderGotoPageUi=function(t){void 0===t&&(t="");var e=this.getUiContainer();if(e){var n=this.getSecondaryInputContainer();if(n){var i=this.registerSubView(new u.TextDropdownWidgetView({id:this.secondaryInputId,choices:this.optionsSource.pageOptions,value:t,scrollParent:a.default(e),scrollable:!0,header:"Select Page"}));n.innerHTML="",i.render().$el.appendTo(n),this.listenTo(i,i.EVENTS.CHANGE,this.onSecondaryInputChange.bind(this))}}},e.prototype.renderGotoPositionUi=function(t){void 0===t&&(t="");var e=this.getUiContainer();if(e){var n=this.getSecondaryInputContainer();if(n){var i=this.registerSubView(new u.TextDropdownWidgetView({id:this.secondaryInputId,choices:this.optionsSource.positionOptions,value:t,scrollParent:a.default(e),scrollable:!0,header:"Select Anchor"}));n.innerHTML="",i.render().$el.appendTo(n),this.listenTo(i,i.EVENTS.CHANGE,this.onSecondaryInputChange.bind(this))}}},e.prototype.renderGotoObjectUi=function(t){void 0===t&&(t="");var e=this.getUiContainer();if(e){var n=this.getSecondaryInputContainer();if(n){var i=this.registerSubView(new u.TextDropdownWidgetView({id:this.secondaryInputId,choices:this.optionsSource.objectOptions,value:t,scrollParent:a.default(e),scrollable:!0,header:"Select Object"}));n.innerHTML="",i.render().$el.appendTo(n),this.listenTo(i,i.EVENTS.CHANGE,this.onSecondaryInputChange.bind(this))}}},e.prototype.handleSecondaryInputFocus=function(){},e.prototype.onTypeChange=function(t){this.currentLinkType=t.value,this.renderSecondaryInput(),this.onSecondaryInputChange()},e.prototype.onSecondaryInputChange=function(){var t=this.$("#"+this.saveButtonId),e=this.getCurrentLinkLocation();e&&""!==e?t.addClass("button-active").removeClass(this.disabledButtonClass):t.removeClass("button-active").addClass(this.disabledButtonClass)},e.prototype.renderSecondaryInput=function(){this.getSubViews().slice(1).forEach(this.closeAndCleanUpSubView.bind(this));var t=this.currentLinkType===this.originalLinkConfig.type?this.originalLinkConfig.location:"";switch(this.currentLinkType){case h.LinkPlusType.URL:this.renderGotoUrlUi(t);break;case h.LinkPlusType.PAGE:var e=parseInt(t);this.renderGotoPageUi(isNaN(e)?t:e);break;case h.LinkPlusType.POSITION:this.renderGotoPositionUi(t);break;case h.LinkPlusType.OBJECT:this.renderGotoObjectUi(t)}switch(this.currentLinkType){case h.LinkPlusType.URL:break;case h.LinkPlusType.PAGE:case h.LinkPlusType.POSITION:case h.LinkPlusType.OBJECT:this.$el.focus()}},e.prototype.handleSubmitOnEnter=function(t){"Enter"===t.key&&this.handleSubmit()},e.prototype.handleSubmit=function(){if(!this.$("#"+this.saveButtonId).hasClass(this.disabledButtonClass)){var t=this.editor.commands.get(f.LINK_PLUS_PLUGIN_NAME);t instanceof p.LinkPlusCommand&&(this.isEditing?t.updateLink(this.getCurrentLinkConfig()):t.createLink(this.getCurrentLinkConfig()),this.closePopover(),this.editor.fire("text-link-added"))}},e.prototype.handleDelete=function(){if(!this.$("#"+this.deleteButtonId).hasClass("hidden")){var t=this.editor.commands.get(f.LINK_PLUS_PLUGIN_NAME);t instanceof p.LinkPlusCommand&&(t.removeLink(),this.closePopover(),this.editor.fire("text-link-removed"))}},e.prototype.onNonPopoverClose=function(n){var i=a.default(n.target).parents().add(a.default(n.target));i.is("#text-plus-link-options")||i.is("#"+e.uiContainerId)||n.target&&n.target==this.anchorElement||t.prototype.onNonPopoverClose.call(this,n)},e.events={"click #textplus-hyperlink-save-btn":"handleSubmit","click #textplus-hyperlink-delete-btn":"handleDelete","click #textplus-hyperlink-secondary-input":"handleSecondaryInputFocus",keyup:"handleSubmitOnEnter"},e.uiContainerId="textplus-hyperlink-popover",e}(m.AbstractPopoverView);e.LinkPlusPopoverView=_},46174:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(71083)),s=n(24959),u=n(25980),l=n(73065),c=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n)||this;return a.optionsSource=i,a.optionsSource.uiPositionConstraint=r,a.uiPositionConstraint=r,a.getTextDefaults=o,a}return r(e,t),e.closePopover=function(){var t;null===(t=e.popover)||void 0===t||t.closePopover(),e.popover=null},e.prototype.getLinkText=function(t){var e=t.start.parent,n=e.data?e:e.getChild(0);if(n)return n.data||""},e.prototype.execute=function(t,n){var i,r;if(n){var o=this.editor.editing.view,a=o.document.selection,c=null===(i=a.getFirstRange())||void 0===i?void 0:i.getTrimmed();if(c){var d=o.domConverter.viewRangeToDom(c);if(d){var h,f,p=u.isSelectionInsideOneLink(a);if(p){if(a.isCollapsed){var g=this.getLinkText(c),m=null===(r=null==a?void 0:a.getFirstRange())||void 0===r?void 0:r.start.offset,v=null==g?void 0:g.length,y=!(!g||1!==g.length);if((void 0===m||m<=0||void 0===m||void 0===v||m>=v)&&!y||y&&s.isLinkPlusPopoverViewOpen())return void(s.isLinkPlusPopoverViewOpen()&&e.closePopover())}t={type:p.getAttribute("data-type"),location:p.getAttribute("href"),newTab:"true"===p.getAttribute("data-newtab")},(f=o.domConverter.mapViewToDom(p))instanceof HTMLElement&&(h=f.getBoundingClientRect())}e.popover=this.createPopoverView(this.editor,this.optionsSource,t,f),e.popover.renderForm(null!=h?h:d.getBoundingClientRect(),this.uiPositionConstraint,!p),this.fire("LinkPlusUiShown"),l.addOrUpdateSelectionMarker(this.editor.editing,c)}}}},e.prototype.createPopoverView=function(t,e,n,i){return new s.LinkPlusPopoverView(t,e,n,i,this.getTextDefaults)},e.popover=null,e}(a.default);e.default=c},25980:function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.resetStylingAfterSelection=e.selectionIsAtEndOfLink=e.selectionContainsALink=e.findLinkPlusAncestor=e.isLink=e.isSelectionInsideOneLinkOrNotIncludeAnyLink=e.isSelectionInsideOneLink=void 0;var s=n(67757),u=n(73065),l=a(n(28067)),c=a(n(96486));function d(t){return t.hasAttribute(s.properties.HYPERLINK)}function h(t){if(t)return(null==t?void 0:t.getAncestors().find((function(t){return t.is("attributeElement")&&t.hasAttribute("href")&&t.hasAttribute("data-type")&&t.hasAttribute("data-newtab")})))||void 0}function f(t){var e,n,r=[];try{for(var a=i(t),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.is("$text"))r.push(u);else{var l=u.getChildren();r=o(r,f(l))}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r}e.isSelectionInsideOneLink=function(t){var e,n=null===(e=t.getFirstRange())||void 0===e?void 0:e.getTrimmed(),i=h(null==n?void 0:n.start),r=h(null==n?void 0:n.end);return!(!i||!r||i!=r)&&i},e.isSelectionInsideOneLinkOrNotIncludeAnyLink=function(t){var e,n=null===(e=t.getFirstRange())||void 0===e?void 0:e.getTrimmed(),i=h(null==n?void 0:n.start),r=h(null==n?void 0:n.end);return!(!i||!r||i!=r)||!i&&!r},e.isLink=d,e.findLinkPlusAncestor=h,e.selectionContainsALink=function(t,e,n){if(e.isCollapsed){var i=n.getFirstPosition(),r=n.getLastPosition();if(i&&r){var o=h(i),a=h(r);return c.default.compact([o,a]).length>0}return!1}var s=f(t.getSelectedContent(e).getChildren());return c.default.some(s,(function(t){return t.hasAttribute("hyperlink")}))},e.selectionIsAtEndOfLink=function(t){var e,n=t.isCollapsed,i=null===(e=t.focus)||void 0===e?void 0:e.nodeBefore;return!!(d(t)&&n&&i&&i.is("$text"))},e.resetStylingAfterSelection=function(t,e){var n=t.model.document.selection;t.model.change((function(i){i.removeSelectionAttribute(s.properties.HYPERLINK),i.removeSelectionAttribute(s.properties.UNDERLINE),i.removeSelectionAttribute(s.properties.FONT_COLOR);var r=n.getLastPosition();if(r)for(var o=new l.default({startPosition:r}),a=o.next();;){if(a.done){var c=e?e():void 0,d=u.getTextPlusDataFromEditor(t,{ignoreLinks:!0,defaults:c}).defaultSpan;i.setSelectionAttribute(s.properties.UNDERLINE,d.underline),i.setSelectionAttribute(s.properties.FONT_COLOR,d.fontColor);break}if("text"===a.value.type){var h=a.value.item.getAttribute(s.properties.HYPERLINK),f=a.value.item.getAttribute(s.properties.UNDERLINE),p=a.value.item.getAttribute(s.properties.FONT_COLOR);i.setSelectionAttribute(s.properties.HYPERLINK,h),i.setSelectionAttribute(s.properties.UNDERLINE,f),i.setSelectionAttribute(s.properties.FONT_COLOR,p);break}a=o.next()}}))}},46801:function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.findPreviousSiblingOfType=e.findPreviousSiblingOfIndent=e.getListElementInfo=e.getListItemsForChanges=e.filterBlocksForListElements=e.getAllListBlocks=void 0;var r=n(14021),o=n(34654);function a(t){var e,n,o=[];try{for(var a=i(t),s=a.next();!s.done;s=a.next()){var u=s.value;u instanceof r.Element&&u.is("element","listItem")&&o.push(u)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}function s(t){return{markerStyles:t.getAttribute(o.TextPlusCommands.LIST_MARKER_STYLES),indent:t.getAttribute("listIndent"),type:t.getAttribute("listType")}}function u(t,e){for(var n=t.previousSibling;n;){if("listItem"==n.name&&e(n))return n;n=n.previousSibling}return null}e.getAllListBlocks=function(t){var e;return a((null===(e=t.model.document.getRoot())||void 0===e?void 0:e.getChildren())||[])},e.filterBlocksForListElements=a,e.getListItemsForChanges=function(t){var e,n,r,a,s,u,l=[],c=function(t){var e;if(t&&t.is("model:element")){var n="listItem"===(null===(e=t.nextSibling)||void 0===e?void 0:e.name);if("listItem"===t.name||"listItem"!==t.name&&n){if(l.push(t),n){var i=t.nextSibling;l.push(i)}return function(t,e){for(var n=[],i=t.nextSibling;i;)"listItem"===i.name&&e(i)&&n.push(i),i=i.nextSibling;return n}(t,(function(e){return e.getAttribute("listType")===o.ListTypes.Numbered&&e.getAttribute("listLevel")===t.getAttribute("listLevel")})).forEach((function(t){return l.push(t)})),!1}return!0}return!1};try{for(var d=i(t),h=d.next();!h.done;h=d.next()){var f=h.value;if("attribute"===f.type)c(null===(a=null===(r=null==f?void 0:f.range)||void 0===r?void 0:r.start)||void 0===a?void 0:a.parent)&&c(null===(u=null===(s=null==f?void 0:f.range)||void 0===s?void 0:s.end)||void 0===u?void 0:u.parent);else if("insert"===f.type||"remove"===f.type){var p=null==f?void 0:f.position;c(null==p?void 0:p.parent),1===(null==p?void 0:p.path.length)&&(null==p?void 0:p.nodeAfter)&&c(p.nodeAfter)}}}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}return l},e.getListElementInfo=s,e.findPreviousSiblingOfIndent=function(t){return u(t,(function(e){return s(e).indent==t.getAttribute("listIndent")}))},e.findPreviousSiblingOfType=function(t){return u(t,(function(e){return e.getAttribute("listType")===t.getAttribute("listType")}))}},2194:(t,e)=>{"use strict";var n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.TEST_LIST_UID=e.OrderedMarkerTypes=e.UnorderedMarkers=void 0,(i=e.UnorderedMarkers||(e.UnorderedMarkers={})).Circle="",i.EmptyCircle="",i.Square="",(n=e.OrderedMarkerTypes||(e.OrderedMarkerTypes={})).Digit="digit",n.Lettered="lettered",n.Roman="roman",e.TEST_LIST_UID="0000"},93241:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ListMarkerStylesPlusFactory=void 0;var s=n(24939),u=n(34654),l=n(72823),c=n(43514),d=n(46801),h=a(n(33241)),f=n(46801),p=a(n(96486));e.ListMarkerStylesPlusFactory=function(t,e){return function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.styleCache=new Map,t}return r(i,n),Object.defineProperty(i,"pluginName",{get:function(){return"ListMarkerStylesPlus"},enumerable:!1,configurable:!0}),i.prototype.init=function(){var t=this,e=this.editor;e.model.schema.extend("listItem",{allowAttributes:[u.TextPlusCommands.LIST_MARKER_STYLES,u.LIST_UID_ATTRIBUTE]});var n="--text-plus-list-marker-color",i="--text-plus-list-marker-size",r="--text-plus-list-marker-font-family",o="--text-plus-list-marker-font-style",a="--text-plus-list-marker-font-weight",s="--text-plus-list-item-padding-left",c="--text-plus-list-marker-type";e.conversion.for("upcast").attributeToAttribute({view:{key:"style",value:/.*/},model:{key:u.TextPlusCommands.LIST_MARKER_STYLES,value:function(t,e){var u=t.getStyle(n),l=t.getStyle(i),d=t.getStyle(r),h=t.getStyle(o),f=t.getStyle(a),p=t.getStyle("--data-variant-guid"),g=t.getStyle(s),m=t.getStyle(c),v=void 0;return void 0!==f&&(v=parseInt(f)),{fontColor:u,fontSize:l,fontFamily:{cssFamilyName:d,fontStyle:h,fontWeight:v,variantGuid:p},paddingLeft:g,markerType:m}}}}),e.conversion.for("downcast").attributeToAttribute({model:u.TextPlusCommands.LIST_MARKER_STYLES,view:function(t){var e={};return t&&(t.fontColor&&(e[n]=t.fontColor),t.fontSize&&(e[i]=t.fontSize),t.fontFamily&&(t.fontFamily.cssFamilyName&&(e[r]=t.fontFamily.cssFamilyName),t.fontFamily.fontStyle&&(e[o]=t.fontFamily.fontStyle),t.fontFamily.fontWeight&&(e[a]=t.fontFamily.fontWeight)),t.paddingLeft&&(e[s]=t.paddingLeft),t.markerType&&(e[c]="'"+t.markerType+"'")),{key:"style",value:e}}}),this.editor.commands.add(u.TextPlusCommands.LIST_MARKER_STYLES,new l.ListMarkerStylesPlusCommand(this.editor)),e.model.document.registerPostFixer((function(n){return t.applyListUids(e,n)})),e.model.document.registerPostFixer((function(n){return t.applyListStyling(e,n)}))},i.prototype.applyListUids=function(t,n){var i,r;if(e())return!1;var a=t.model.document.differ.getChanges(),s=p.default.filter(a,(function(t){return"insert"===t.type||"remove"===t.type}));if(0==s.length)return!1;var l=p.default.filter(s,(function(t){return"insert"===t.type}));try{for(var c=o(l),d=c.next();!d.done;d=c.next()){var g=d.value.position.nodeAfter;g&&n.removeAttribute(u.LIST_UID_ATTRIBUTE,g)}}catch(t){i={error:t}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}return f.getAllListBlocks(t).forEach((function(t){var e=t.getAttribute(u.LIST_UID_ATTRIBUTE);p.default.isNil(e)&&n.setAttribute(u.LIST_UID_ATTRIBUTE,h.default(),t)})),!1},i.prototype.applyListStyling=function(n,i){if(e())return!1;var r=n.model.document.differ.getChanges();if(0==r.length)return!1;var o=d.getListItemsForChanges(r);if(0==o.length)return!1;var a=t();return c.styleListElements(i,a,o,this.styleCache),!1},i}(s.Plugin)}},72823:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ListMarkerStylesPlusCommand=void 0;var a=n(24939),s=n(34654),u=n(46801),l=o(n(96486)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.execute=function(t){var e=l.default.find(u.getAllListBlocks(this.editor),(function(e){return e.getAttribute(s.LIST_UID_ATTRIBUTE)===t.uid}));l.default.isNil(e)||this.editor.model.change((function(n){n.setAttribute(s.TextPlusCommands.LIST_MARKER_STYLES,t,e);var i=e.getChild(0);1==e.childCount&&i.is("text")&&i.data===s.ZERO_WIDTH_SPACE&&(t=l.default.omit(t,["uid","paddingLeft","markerType"]),n.setAttributes(t,i))}))},e}(a.Command);e.ListMarkerStylesPlusCommand=c},16010:function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.fromLowerLetter=e.toLowerLetter=e.indexFromRomanNumeral=e.indexToRomanNumeral=e.getRomanNumerals=e.getNumberedMarker=e.getOrderedMarkerTypeForIndent=e.getUnorderedMarkerForIndent=void 0;var r=n(2194);function o(t){return Object.values(r.OrderedMarkerTypes)[t%Object.keys(r.OrderedMarkerTypes).length]}function a(t){var e,n,r="",o=t+1;try{for(var a=i([{value:1e3,numeral:"m"},{value:900,numeral:"cm"},{value:500,numeral:"d"},{value:400,numeral:"cd"},{value:100,numeral:"c"},{value:90,numeral:"xc"},{value:50,numeral:"l"},{value:40,numeral:"xl"},{value:10,numeral:"x"},{value:9,numeral:"ix"},{value:5,numeral:"v"},{value:4,numeral:"iv"},{value:1,numeral:"i"}]),s=a.next();!s.done;s=a.next()){var u=s.value,l=u.value,c=u.numeral,d=Math.floor(o/l);r+=c.repeat(d),o-=d*l}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r}function s(t){for(var e="";t>=0;)e=String.fromCharCode(97+t%26)+e,t=Math.floor(t/26)-1;return e}e.getUnorderedMarkerForIndent=function(t){return Object.values(r.UnorderedMarkers)[t%Object.keys(r.UnorderedMarkers).length]},e.getOrderedMarkerTypeForIndent=o,e.getNumberedMarker=function(t,e){switch(o(t)){case r.OrderedMarkerTypes.Digit:return e+1+".";case r.OrderedMarkerTypes.Lettered:return s(e)+".";case r.OrderedMarkerTypes.Roman:return a(e)+".";default:return""}},e.getRomanNumerals=function(){return[{value:1e3,numeral:"m"},{value:900,numeral:"cm"},{value:500,numeral:"d"},{value:400,numeral:"cd"},{value:100,numeral:"c"},{value:90,numeral:"xc"},{value:50,numeral:"l"},{value:40,numeral:"xl"},{value:10,numeral:"x"},{value:9,numeral:"ix"},{value:5,numeral:"v"},{value:4,numeral:"iv"},{value:1,numeral:"i"}]},e.indexToRomanNumeral=a,e.indexFromRomanNumeral=function(t){t=t.toLowerCase();for(var e=Object.fromEntries([{value:1e3,numeral:"m"},{value:900,numeral:"cm"},{value:500,numeral:"d"},{value:400,numeral:"cd"},{value:100,numeral:"c"},{value:90,numeral:"xc"},{value:50,numeral:"l"},{value:40,numeral:"xl"},{value:10,numeral:"x"},{value:9,numeral:"ix"},{value:5,numeral:"v"},{value:4,numeral:"iv"},{value:1,numeral:"i"}].map((function(t){return[t.numeral,t.value]}))),n=0,i=0,r=!1;i<t.length;){var o=e[t[i]],a=e[t[i+1]];a&&o<a?(n+=a-o,r=!0,i+=2):(n+=o,r=!0,i++)}return r?n:NaN},e.toLowerLetter=s,e.fromLowerLetter=function(t){for(var e=0,n=0;n<t.length;n++)e*=26,e+=t.charCodeAt(n)-97+1;return e-1}},43514:function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.styleListElements=e.getTextStylingFromListMarker=e.getPaddingLeftForStyles=e.positionListElementMarkers=e.getSizeRelatedChanges=e.applyListElementStylingToMarkerStylesForChanges=e.updateAdjacentListMarkersForChanges=e.updateLaterSiblings=e.handleOutdentForChanges=e.writeListMarkersForChanges=e.writeNumberedMarker=e.getIndexFromElement=e.writeBulletedMarker=void 0;var o=n(34654),a=n(2194),s=r(n(96486)),u=n(73065),l=n(93786),c=n(89323),d=n(16010),h=n(46801),f=n(67757),p=r(n(25243)),g=n(19860);function m(t,e,n,i,r){void 0===i&&(i=new Map);var a=h.getListElementInfo(t),u=d.getUnorderedMarkerForIndent(r||a.indent||0),l=s.default.merge({},a.markerStyles,{markerType:u});n.setAttribute(o.TextPlusCommands.LIST_MARKER_STYLES,l,t),_(t,n),P(t,e,n,i)}function v(t){var e,n=h.getListElementInfo(t),i=n.markerStyles,r=n.indent,o=d.getOrderedMarkerTypeForIndent(r||0),s=null===(e=null==i?void 0:i.markerType)||void 0===e?void 0:e.slice(0,-1);switch(o){case a.OrderedMarkerTypes.Digit:return parseInt(s||"1")-1;case a.OrderedMarkerTypes.Lettered:return d.fromLowerLetter(s||"a");case a.OrderedMarkerTypes.Roman:return d.indexFromRomanNumeral(s||"i")-1}}function y(t,e,n,i){var r=h.findPreviousSiblingOfType(t),a=t.previousSibling,u=h.getListElementInfo(t),l=u.markerStyles,c=u.indent;function f(r){var a=s.default.merge({},l,{markerType:r});n.setAttribute(o.TextPlusCommands.LIST_MARKER_STYLES,a,t),_(t,n),P(t,e,n,i)}if(r&&"listItem"===(null==a?void 0:a.name)){var p=h.getListElementInfo(r).indent;if(void 0!==c&&void 0!==p)if(p<c)f(d.getNumberedMarker(c,0));else if(p>c){var g=h.findPreviousSiblingOfIndent(t);if(g&&g.getAttribute("listType")===t.getAttribute("listType")){var m=v(g)||0;f(d.getNumberedMarker(c,m+1))}else f(d.getNumberedMarker(c||0,0))}else m=v(r)||0,f(d.getNumberedMarker(c,m+1))}else f(d.getNumberedMarker(c||0,0))}function _(t,e){var n=t.getChild(0);if(n&&1===t.childCount&&n instanceof p.default&&n.data===o.ZERO_WIDTH_SPACE){var i=A(t);e.setAttributes(i,n)}}function b(t,e,n,r){var a,s;try{for(var u=i(t),l=u.next();!l.done;l=u.next()){var c=l.value;c.getAttribute("listType")==o.ListTypes.Bulleted?m(c,n,e,r):y(c,n,e,r)}}catch(t){a={error:t}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}return r}function w(t,e){var n,r,o=0,a=0;try{for(var u=i(t),l=u.next();!l.done;l=u.next()){var c=l.value;if("attribute"===c.type&&"listIndent"===c.attributeKey){var d=parseInt(c.attributeOldValue);if(parseInt(c.attributeNewValue)<d){o=parseInt(c.attributeOldValue)-parseInt(c.attributeNewValue),a=parseInt(c.attributeNewValue);break}}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}var f=h.getListItemsForChanges(t);if(0!==f.length&&o>0){var p=f[0].nextSibling;if(!p)return;for(var g=parseInt(p.getAttribute("listIndent")||"0");p&&!s.default.isNil(g)&&g>a&&(e.setAttribute("listIndent",g-o,p),p=p.nextSibling);)g=parseInt(p.getAttribute("listIndent")||"0")}}function T(t,e,n,i){for(;t&&"listItem"===t.name;)t.getAttribute("listType")===o.ListTypes.Numbered?y(t,n,e,i):t.getAttribute("listType")===o.ListTypes.Bulleted&&m(t,n,e,i),t=t.nextSibling}function S(t,e,n,r){var o,a;try{for(var s=i(t),u=s.next();!u.done;u=s.next()){var l=u.value;if("remove"===l.type&&"listItem"===l.name){var c=l.position.nodeAfter;c&&T(c,e,n,r)}else if("insert"===l.type&&"listItem"===l.name)T(null==(d=l.position.nodeAfter)?void 0:d.nextSibling,e,n,r);else if("attribute"===l.type&&"listIndent"===l.attributeKey){var d;T(d=l.range.start.nodeAfter,e,n,r)}}}catch(t){o={error:t}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return r}function E(t,e,n){var r,a;try{for(var c=i(t),d=c.next();!d.done;d=c.next()){var h,f=d.value,p=f.getAttribute(o.TextPlusCommands.LIST_MARKER_STYLES);h=p?s.default.extend({},n,{fontColor:p.fontColor,fontSize:p.fontSize,variantGuid:p.variantGuid,fontFamily:p.fontFamily.cssFamilyName}):n;var g=u.getTextPlusDataFromRange(e.createRangeOn(f),{defaults:h}).defaultSpan,m=g.fontColor,v=g.fontSize,y=g.variantGuid,_=g.fontFamily,b=void 0,w=void 0;if(y&&"Google"==y.split("|")[0]){var T=l.FontUtil.parseGoogleVariantGuid(y);b=T.weight,w=T.fontStyle}e.setAttribute(o.TextPlusCommands.LIST_MARKER_STYLES,s.default.extend({},p,{fontColor:m,fontSize:v+"px",fontFamily:{cssFamilyName:_,fontWeight:b,fontStyle:w,variantGuid:y}}),f)}}catch(t){r={error:t}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}}function O(t){return s.default.filter(t,(function(t){return"attribute"==t.type?"fontSize"==t.attributeKey||"fontFamily"==t.attributeKey||"listIndent"==t.attributeKey||"listType"==t.attributeKey||"lineHeight"==t.attributeKey:"insert"==t.type&&"listItem"==t.name||"remove"==t.type&&"listItem"==t.name}))}function P(t,e,n,i){var r,o,a,u;void 0===i&&(i=new Map);var c=t.getAttribute("listMarkerStyles"),d=t.getAttribute("listType"),h=t.getAttribute("listIndent"),f=l.FontUtil.parseGoogleVariantGuid(e.variantGuid),p=f.familyName,g=f.weight,m=f.fontStyle;if(c&&c.markerType&&d&&!s.default.isNil(h)){var v=e.fontSize;s.default.isNil(c.fontSize)||(v=parseInt(c.fontSize));var y={fontSize:v+"px",fontFamily:{cssFamilyName:(null===(r=c.fontFamily)||void 0===r?void 0:r.cssFamilyName)||p,fontWeight:(null===(o=c.fontFamily)||void 0===o?void 0:o.fontWeight)||g,fontStyle:(null===(a=c.fontFamily)||void 0===a?void 0:a.fontStyle)||m,variantGuid:(null===(u=c.fontFamily)||void 0===u?void 0:u.variantGuid)||e.variantGuid},markerType:c.markerType},_=C(y),b=s.default.extend({},c,y,{paddingLeft:_+"px"});i.set(function(t){return t.markerType+":"+t.fontSize+":"+t.fontFamily.cssFamilyName+":"+t.fontFamily.fontStyle+":"+t.fontFamily.fontWeight}(y),_),n.setAttribute("listMarkerStyles",b,t)}}function C(t){for(var e=function(t,e){var n=c.createElement("span",{fontFamily:e.fontFamily.cssFamilyName,fontStyle:e.fontFamily.fontStyle,fontWeight:e.fontFamily.fontWeight,fontSize:e.fontSize,visibility:"hidden"},t);c.appendBodyChild(n);var i=c.getElementWidth(n);return c.removeBodyChild(n),i}(t.markerType,t),n=f.DEFAULT_LIST_INDENT_INCREMENT;n<e;)n+=n;return n}function A(t){var e=g.getAttributesAsRecord(t.getAttributes());return s.default.omit(e.listMarkerStyles||{},["uid","markerType","paddingLeft"])}e.writeBulletedMarker=m,e.getIndexFromElement=v,e.writeNumberedMarker=y,e.writeListMarkersForChanges=b,e.handleOutdentForChanges=w,e.updateLaterSiblings=T,e.updateAdjacentListMarkersForChanges=S,e.applyListElementStylingToMarkerStylesForChanges=E,e.getSizeRelatedChanges=O,e.positionListElementMarkers=function(t,e,n,r){var o,a,s=t.model.document.differ.getChanges();if(0!==O(s).length){var u=h.getListItemsForChanges(s);try{for(var l=i(u),c=l.next();!c.done;c=l.next())P(c.value,n,e,r)}catch(t){o={error:t}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}}},e.getPaddingLeftForStyles=C,e.getTextStylingFromListMarker=A,e.styleListElements=function(t,e,n,i,r){E(n,t,e),i=b(n,t,e,i),r&&(w(r,t),i=S(r,t,e,i))}},89669:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextCasePlusFactory=void 0;var a=o(n(68154)),s=n(34654),u=n(75633),l=n(56619);e.TextCasePlusFactory=function(t){return function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.init=function(){var e=this.editor;e.model.schema.setAttributeProperties(s.TextPlusCommands.TEXT_CASE,{isFormatting:!0,copyOnEnter:!0}),e.commands.add(s.TextPlusCommands.TEXT_CASE,new u.TextCasePlusCommand(e,s.TextPlusCommands.TEXT_CASE)),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"text-transform":/.*/}},model:{key:s.TextPlusCommands.TEXT_CASE,value:function(t,e){var n=t.getStyle("text-transform");return{textTransform:n,textCase:t.getStyle("--data-text-case")||n}}}}),e.conversion.for("downcast").attributeToElement({model:s.TextPlusCommands.TEXT_CASE,view:function(t,e){return e.writer.createAttributeElement("span",{style:"text-transform: "+(null==t?void 0:t.textTransform)+";"+("capitalize"===(null==t?void 0:t.textCase)?" --data-text-case: 'capitalize';":"")},{priority:7})}}),e.model.document.registerPostFixer((function(n){if(!t()){var i=e.model.document.differ.getChanges();l.TextCasePlusUtils.applyTitleCasing(i,n)}})),e.model.schema.extend("$text",{allowAttributes:s.TextPlusCommands.TEXT_CASE})},Object.defineProperty(n,"pluginName",{get:function(){return"TextCasePlus"},enumerable:!1,configurable:!0}),n}(a.default)}},75633:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextCasePlusCommand=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.execute=function(e,n,i){if(e){var r={textTransform:"capitalize"===e?"lowercase":e,textCase:e};t.prototype.execute.call(this,r,n,i)}else t.prototype.execute.call(this,void 0,n,i)},e}(o(n(71083)).default);e.TextCasePlusCommand=a},56619:function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.TextCasePlusUtils=void 0;var r=n(34654),o=function(){function t(){}return t.applyCasing=function(e,n){var o,a;if(e&&e.parent){var s=t.getCharacterRangeInfoFromElement(e,n),u=t.getRangesThatNeedCaseChange(s);try{for(var l=i(u),c=l.next();!c.done;c=l.next()){var d=c.value;n.setAttribute(r.TextPlusCommands.TEXT_CASE,d.attribute,d.range)}}catch(t){o={error:t}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}}},t.applyTitleCasing=function(e,n){var o,a,s,u;try{for(var l=i(e),c=l.next();!c.done;c=l.next()){var d=c.value;if("attribute"===d.type&&d.attributeKey===r.TextPlusCommands.TEXT_CASE){var h=null===(u=null===(s=null==d?void 0:d.range)||void 0===s?void 0:s.start)||void 0===u?void 0:u.parent;t.applyCasing(h,n)}else if("insert"===d.type||"remove"===d.type){var f=null==d?void 0:d.position;h=null==f?void 0:f.parent,t.applyCasing(h,n),1===(null==f?void 0:f.path.length)&&(null==f?void 0:f.nodeAfter)&&t.applyCasing(f.nodeAfter,n)}}}catch(t){o={error:t}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}},t.getCharacterRangeInfoFromElement=function(t,e){var n,o,a,s,u=[];if(t)try{for(var l=i(t.getChildren()),c=l.next();!c.done;c=l.next()){var d=c.value,h=d.startOffset,f=d.data,p=void 0,g="function"==typeof d.getAttributes?d.getAttributes():[];try{for(var m=(a=void 0,i(g)),v=m.next();!v.done;v=m.next()){var y=v.value;if(2===y.length&&y[0]===r.TextPlusCommands.TEXT_CASE){p=y[1];break}}}catch(t){a={error:t}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}var _=function(n){var i=e.createPositionAt(t,n),r=e.createPositionAt(t,n+1);return e.createRange(i,r)};if(d&&"softBreak"===d.name){var b="",w=_(h);u.push({range:w,char:b,caseValue:p,isSoftBreak:!0})}else if(f)for(var T=0;T<f.length;T++)b=f[T],w=_(h+T),u.push({range:w,char:b,caseValue:p,isSoftBreak:!1})}}catch(t){n={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return u},t.getRangesThatNeedCaseChange=function(t){for(var e,n,i,r=[],o=0;o<t.length;o++){var a=t[o],s=o>0?t[o-1]:void 0,u=a.char.toLowerCase()!==a.char||a.char.toUpperCase()!==a.char,l=void 0===s,c=s&&/\s/.test(s.char),d=s&&s.isSoftBreak,h="capitalize"===(null===(e=a.caseValue)||void 0===e?void 0:e.textCase),f=u&&(l||c||d)&&h,p=u&&!f&&h;f&&"uppercase"!==(null===(n=a.caseValue)||void 0===n?void 0:n.textTransform)?r.push({range:a.range,attribute:{textTransform:"uppercase",textCase:"capitalize"}}):p&&"lowercase"!==(null===(i=a.caseValue)||void 0===i?void 0:i.textTransform)&&r.push({range:a.range,attribute:{textTransform:"lowercase",textCase:"capitalize"}})}return r},t.applyCasingToEntireDocument=function(e){e.model.change((function(n){var r,o,a=e.model.document.getRoot();try{for(var s=i(a.getChildren()),u=s.next();!u.done;u=s.next()){var l=u.value;t.applyCasing(l,n)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}}))},t}();e.TextCasePlusUtils=o},59071:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(68154)),s=n(34654),u=o(n(71083)),l=function(t){function e(e){var n=t.call(this,e)||this;return e.model.schema.setAttributeProperties(s.TextPlusCommands.UNDERLINE,{isFormatting:!0,copyOnEnter:!0}),e.conversion.for("upcast").elementToAttribute({view:{name:"u"},model:{key:s.TextPlusCommands.UNDERLINE,value:"true"}}),e.conversion.for("downcast").attributeToElement({model:s.TextPlusCommands.UNDERLINE,view:function(t,e){return e.writer.createAttributeElement("u")}}),e.commands.add("UnderlinePlus",new u.default(e,s.TextPlusCommands.UNDERLINE)),e.model.schema.extend("$text",{allowAttributes:s.TextPlusCommands.UNDERLINE}),n}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"UnderlinePlus"},enumerable:!1,configurable:!0}),e.prototype.renderUpcastUnderline=function(){var t=s.TextPlusStyleAttributes.UNDERLINE;return function(e,n){return"underline"===e.getStyle(t)}},e}(a.default);e.default=l},19860:function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getAttributesAsRecord=e.getAllRanges=e.updateFontColorOpacityAttributeForRange=e.updateFontColorOpacityAttributeForSelection=e.updateFontColorRetainOpacityAttributeForRange=e.updateFontColorRetainOpacityAttributeForSelection=e.incrementPixelAttributeForRange=e.incrementAttributeForRange=e.applyAttributeForRange=e.checkEmptyElementForRange=e.applyAttributeForSelection=e.renderDowncastElement=e.renderUpcastAttribute=void 0;var a=o(n(96486)),s=n(14021),u=o(n(34987));function l(t,e,n,i,r,o){if(Array.from(i.getItems()).length<1&&f(i)&&null!=n){var a=i.start.parent,u=s.DocumentSelection._getStoreAttributeKey(e),l=n;return a.hasAttribute(u)&&(l=r(a.getAttribute(u),n)),o(l)&&void 0!==l&&p(t,e,l,i),!0}return!1}function c(t,e,n,i,r){return l(t,n,i,e,(function(t,e){var n=parseInt(t),i=parseInt(e);if(a.default.isNumber(n)&&a.default.isNumber(i))return r?""+(n+i)+r:n+i}),(function(t){return a.default.isString(t)||a.default.isNumber(t)}))}function d(t,e,n,i){return l(t,e,n,i,(function(t,e){var n=m(t,e);if(n)return n.toString()}),(function(t){return a.default.isString(t)}))}function h(t,e,n,i){return l(t,e,n,i,(function(t,e){var n=v(t,e);if(n)return n.toString()}),(function(t){return a.default.isString(t)}))}function f(t){return t.isCollapsed&&t.start.parent.isEmpty}function p(t,e,n,i){if(f(i)){var r=s.DocumentSelection._getStoreAttributeKey(e);t.setAttribute(r,n,i.start.parent)}else t.setAttribute(e,n,i)}function g(t,e,n,r,o){var s,u,l,d;try{for(var h=i(e),f=h.next();!f.done;f=h.next()){var p=f.value;if(!c(t,p,n,r,o))if(null==r)t.removeAttribute(n,p);else try{for(var g=(l=void 0,i(p.getItems())),m=g.next();!m.done;m=g.next()){var v=m.value;if(v.hasAttribute(n)){var y=parseInt(v.getAttribute(n)),_=parseInt(r);if(a.default.isNumber(y)&&a.default.isNumber(_)){var b=o?""+(y+_)+o:y+_;t.setAttribute(n,b,v);continue}}t.setAttribute(n,r,v)}}catch(t){l={error:t}}finally{try{m&&!m.done&&(d=g.return)&&d.call(g)}finally{if(l)throw l.error}}}}catch(t){s={error:t}}finally{try{f&&!f.done&&(u=h.return)&&u.call(h)}finally{if(s)throw s.error}}}function m(t,e){var n=u.default.fromString(t),i=u.default.fromString(e);return n&&i?(i.a=n.a,i):null}function v(t,e){var n=u.default.fromString(t),i=parseFloat(e);return n&&a.default.isNumber(i)?(n.a=i,n):null}e.renderUpcastAttribute=function(t){return function(e,n){return e.getStyle(t)||null}},e.renderDowncastElement=function(t){return function(e,n){return n.writer.createAttributeElement("span",{style:t+":"+e},{priority:7})}},e.applyAttributeForSelection=function(t,e,n){null==n?t.removeSelectionAttribute(e):t.setSelectionAttribute(e,n)},e.checkEmptyElementForRange=f,e.applyAttributeForRange=function(t,e,n,r){var o,a;try{for(var s=i(e),u=s.next();!u.done;u=s.next()){var l=u.value;null==r?t.removeAttribute(n,l):p(t,n,r,l)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}},e.incrementAttributeForRange=function(t,e,n,i){g(t,e,n,i)},e.incrementPixelAttributeForRange=function(t,e,n,i){g(t,e,n,i,"px")},e.updateFontColorRetainOpacityAttributeForSelection=function(t,e,n,i){if(null==i)t.removeSelectionAttribute(n);else{if(e.hasAttribute(n)){var r=m(e.getAttribute(n),i);if(r)return void t.setSelectionAttribute(n,r.toString())}t.setSelectionAttribute(n,i)}},e.updateFontColorRetainOpacityAttributeForRange=function(t,e,n,r){var o,a,s,u;try{for(var l=i(e),c=l.next();!c.done;c=l.next()){var h=c.value;if(!d(t,n,r,h))if(null==r)t.removeAttribute(n,h);else try{for(var f=(s=void 0,i(h.getItems())),p=f.next();!p.done;p=f.next()){var g=p.value;if(g.hasAttribute(n)){var v=m(g.getAttribute(n),r);if(v){t.setAttribute(n,v.toString(),g);continue}}t.setAttribute(n,r,g)}}catch(t){s={error:t}}finally{try{p&&!p.done&&(u=f.return)&&u.call(f)}finally{if(s)throw s.error}}}}catch(t){o={error:t}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}},e.updateFontColorOpacityAttributeForSelection=function(t,e,n,i){if(null==i)t.removeSelectionAttribute(n);else if(e.hasAttribute(n)){var r=v(e.getAttribute(n),i);if(r)return void t.setSelectionAttribute(n,r.toString())}},e.updateFontColorOpacityAttributeForRange=function(t,e,n,r){var o,a,s,u;try{for(var l=i(e),c=l.next();!c.done;c=l.next()){var d=c.value;if(!h(t,n,r,d))if(null==r)t.removeAttribute(n,d);else try{for(var f=(s=void 0,i(d.getItems())),p=f.next();!p.done;p=f.next()){var g=p.value;if(g.hasAttribute(n)){var m=v(g.getAttribute(n),r);m&&t.setAttribute(n,m.toString(),g)}}}catch(t){s={error:t}}finally{try{p&&!p.done&&(u=f.return)&&u.call(f)}finally{if(s)throw s.error}}}}catch(t){o={error:t}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}},e.getAllRanges=function(t,e,n,r){var o,a,s=t.getRoot();if(s){var u=[];try{for(var l=i(s.getChildren()),c=l.next();!c.done;c=l.next()){var d=c.value;d.is("element")&&u.push(e.createRangeIn(d))}}catch(t){o={error:t}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}return r?Array.from(n.model.schema.getValidRanges(u,r)):u}},e.getAttributesAsRecord=function(t){var e,n,o={};try{for(var a=i(t),s=a.next();!s.done;s=a.next()){var u=s.value,l=r(u,2),c=l[0],d=l[1];o[c]=d}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}},34094:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;var r=i(n(96486)),o=n(34654),a=n(73065);e.parse=function(t,e){var n=[],i={},s="";if(!a.elementIsHeading(t))return{headingText:"",headingIndex:e,headingDefinitions:n};var u=t.item,l=u.name;return"elementStart"===t.type?i.headingElementType=l:i.headingElementType=o.EHEADING_ATTRIBUTE_MAP[l],n.push({index:e,attributes:i}),"elementEnd"!==t.type||r.default.isNil(u.nextSibling)||(s+="\n"),{headingText:s,headingIndex:e,headingDefinitions:n}}},1450:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.parse=e.elementToLineDefinition=e.reduceIntoRanges=void 0;var o=r(n(96486)),a=n(31939);function s(t){var e,n=t.getAttribute("lineHeight")||void 0,r={leading:a.convertFromEditorModelLineHeight(null==n?void 0:n.lineHeight),baseOffset:null!==(e=null==n?void 0:n.baseOffset)&&void 0!==e?e:"auto"};return i({index:0,length:1},r)}e.reduceIntoRanges=function(t,e){t.forEach((function(t){var n=o.default.last(e),i=e.length>0;i&&function(t,e){return n=t,i=o.default.last(e),r=n.leading,a=i.leading,o.default.isEqual(r,a);var n,i,r,a}(t,e)?n.length++:(i&&function(t,e){var n=e.index,i=e.length;t.index=n+i}(t,n),e.push(t))}))},e.elementToLineDefinition=s,e.parse=function(t){if("elementStart"===t.type)return s(t.item)}},11411:function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;var s=a(n(96486)),u=n(34654),l=a(n(33241));function c(t){var e,n,r=[];if(s.default.isNil(t))return!0;try{for(var o=i(t),a=o.next();!a.done;a=o.next()){var l=a.value,c=l.attributes.listIndent,d=l.attributes.listElementType;s.default.isNil(c)||s.default.isNil(d)||(d!=u.ListElementEnum.UL&&d!=u.ListElementEnum.OL||r.push(0),d!=u.ListElementEnum.EUL&&d!=u.ListElementEnum.EOL||r.pop())}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return 0==r.length}function d(t){return t.is("element")&&"listItem"==t.name}function h(t,e,n){if(d(t)){var i={};"bulleted"===t.getAttribute("listType")?(i.listType="bulleted",i.listElementType="open"==n?u.ListElementEnum.UL:u.ListElementEnum.EUL):(i.listType="numbered",i.listElementType="open"==n?u.ListElementEnum.OL:u.ListElementEnum.EOL);var r=t.getAttribute("listIndent");return i.listIndent=r?parseInt(r):0,{index:e,attributes:i}}}function f(t,e,n){if(d(t)){var i={};"bulleted"===t.getAttribute("listType")?i.listType="bulleted":i.listType="numbered",i.listElementType="open"==n?u.ListElementEnum.LI:u.ListElementEnum.ELI;var r=t.getAttribute("listIndent");i.listIndent=parseInt(r);var o=t.getAttribute(u.LIST_UID_ATTRIBUTE);return s.default.isNil(o)&&(o=l.default()),{uid:o,index:e,attributes:i}}}function p(t,e,n){var r,o,a,l,c,d=new Map,h=[];try{for(var f=i(t),p=f.next();!p.done;p=f.next()){var g=p.value,m=g.attributes.listIndent,v=g.attributes.listElementType;s.default.isNil(m)||s.default.isNil(v)||!s.default.isNil(n)&&m<=n||(v!=u.ListElementEnum.UL&&v!=u.ListElementEnum.OL||d.set(m,g),v!=u.ListElementEnum.EUL&&v!=u.ListElementEnum.EOL||d.delete(m))}}catch(t){r={error:t}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}var y=Array.from(d).reverse();try{for(var _=i(y),b=_.next();!b.done;b=_.next()){var w=b.value[1],T={};"bulleted"===w.attributes.listType?(T.listType="bulleted",T.listElementType=u.ListElementEnum.EUL):(T.listType="numbered",T.listElementType=u.ListElementEnum.EOL),m=w.attributes.listIndent,h.push({index:e,attributes:{listType:w.attributes.listType,listElementType:u.ListElementEnum.ELI,listIndent:w.attributes.listIndent}}),T.listIndent=m,h.push({index:e,attributes:T})}}catch(t){a={error:t}}finally{try{b&&!b.done&&(l=_.return)&&l.call(_)}finally{if(a)throw a.error}}if(!s.default.isNil(n)){var S=null===(c=d.get(n+1))||void 0===c?void 0:c.attributes.listType;s.default.isNil(S)||h.push({index:e,attributes:{listType:S,listElementType:u.ListElementEnum.ELI,listIndent:n}})}return h}e.parse=function(t,e,n,r){var a,l=t.item,g=[],m=e,v="";if(!l.is("element")||"listItem"!=l.name)return{listText:v,listIndex:m,listDefinitions:g,listMarkerStyleDefinitions:r};if("elementStart"===t.type){var y=l.getAttribute("listIndent");if(!s.default.isNil(y)&&0==parseInt(y)&&c(n)){var _=h(l,e,"open");_&&g.push(_)}else{var b=l.previousSibling;if(!s.default.isNil(b)){var w=b.getAttribute("listIndent"),T=l.getAttribute("listIndent");if(!s.default.isNil(w)&&!s.default.isNil(T)&&(parseInt(w)<parseInt(T)||b.is("element")&&"listItem"!==b.name)){var S=h(l,e,"open");S&&(n.pop(),g.push(S))}}}(O=f(l,e,"open"))&&g.push(O);var E=function(t){if(d(t)){var e=t.getAttribute("listMarkerStyles");e=s.default.omit(e,["index"]);var n=t.getAttribute(u.LIST_UID_ATTRIBUTE);return e.uid=n,e&&Object.keys(e).length>1?e:void 0}}(l);E&&r.push(E)}if("elementEnd"===t.type){var O;if((O=f(l,e,"close"))&&g.push(O),s.default.isNil(l.nextSibling)){var P=h(l,e,"close");return P&&g.push(P),c(o(n,g))?{listText:v,listIndex:m,listDefinitions:g,listMarkerStyleDefinitions:r}:{listText:v,listIndex:m,listDefinitions:p(n,e),listMarkerStyleDefinitions:r}}if(v+="\n",m++,l.nextSibling.is("element")&&"listItem"==l.nextSibling.name){var C=l.nextSibling.getAttribute("listIndent"),A=(T=l.getAttribute("listIndent"),l.nextSibling.getAttribute("listType")),k=l.getAttribute("listType");if(s.default.isNil(C)||s.default.isNil(T))return{listText:v,listIndex:m,listDefinitions:g,listMarkerStyleDefinitions:r};if(parseInt(C)<parseInt(T))return 0==parseInt(C)&&A!=(null===(a=function(t){var e,n,r=Array.from(t).reverse();try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var s=a.value;if(0==s.attributes.listIndent&&(s.attributes.listElementType==u.ListElementEnum.UL||s.attributes.listElementType==u.ListElementEnum.OL))return s}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}(n))||void 0===a?void 0:a.attributes.listType)?{listText:v,listIndex:m,listDefinitions:p(n,e),listMarkerStyleDefinitions:r}:{listText:v,listIndex:m,listDefinitions:p(n,e,parseInt(C)),listMarkerStyleDefinitions:r};if(parseInt(C)==parseInt(T)&&A!=k){var x=h(l,e,"close");x&&(0==parseInt(C)&&m++,g.push(x))}}else if(l.nextSibling.is("element")&&"listItem"!=l.nextSibling.name&&!c(o(n,g)))return{listText:v,listIndex:m,listDefinitions:p(n,e),listMarkerStyleDefinitions:r}}return{listText:v,listIndex:m,listDefinitions:g,listMarkerStyleDefinitions:r}}},49293:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;var r=i(n(96486)),o=n(34654);e.parse=function(t,e){var n=t.item,i=[],a={},s="";return n.is("element")&&"paragraph"==n.name?("elementStart"===t.type?a.paragraphElementType=o.ParagraphElementEnum.P:a.paragraphElementType=o.ParagraphElementEnum.EP,i.push({index:e,attributes:a}),"elementEnd"!==t.type||r.default.isNil(n.nextSibling)||(s+="\n"),{paragraphText:s,paragraphDefinitions:i}):{paragraphText:"",paragraphDefinitions:i}}},89584:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;var i=n(73065),r=n(34654);e.parse=function(t,e){var n=[];return i.elementIsSoftBreak(t)?(n.push({index:e}),{softBreakIndex:e,softBreakDefinitions:n,softBreakText:r.SOFTBREAK_CHARACTER}):{softBreakIndex:e,softBreakDefinitions:n,softBreakText:""}}},2044:function(t,e){"use strict";var n=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.ColorUtils=void 0;var i=function(){function t(){}return t.intToHex=function(t){return("0"+t.toString(16)).slice(-2)},t.fixRange=function(t){return Math.min(Math.max(Math.ceil(t),0),255)},t.isRgb=function(t){return!!t.match(/^rgb/)},t.isRgba=function(t){return!!t.match(/^rgba/)},t.rgbaRegExpMatch=function(t){return t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)||[]},t.hexToRgbRegExpExec=function(t){return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t)||[]},t.rgb=function(t){var e=n(this.rgbaRegExpMatch(t),4),i=e[1],r=e[2],o=e[3];return{r:Number(i),g:Number(r),b:Number(o)}},t.rgba=function(t){var e=n(this.rgbaRegExpMatch(t),5),i=e[1],r=e[2],o=e[3],a=e[4];return{r:Number(i),g:Number(r),b:Number(o),a:a?Number(a):1}},t.hexToRgb=function(t){var e=n(this.hexToRgbRegExpExec(t),4),i=e[1],r=e[2],o=e[3];return{r:parseInt(i,16),g:parseInt(r,16),b:parseInt(o,16)}},t.hexToRgba=function(t){var e=n(this.hexToRgbRegExpExec(t),4),i=e[1],r=e[2],o=e[3];return{r:parseInt(i,16),g:parseInt(r,16),b:parseInt(o,16),a:1}},t.lightenDarkenColor=function(t,e){var n=this.colorToRGB(t),i=n.r,r=n.g,o=n.b;return"#"+this.intToHex(this.fixRange(i+e))+this.intToHex(this.fixRange(r+e))+this.intToHex(this.fixRange(o+e))},t.hsp=function(t){var e=this.isRgb(t)?this.rgb(t):this.hexToRgb(t),n=e.r,i=e.g,r=e.b;return Math.sqrt(n*n*.299+i*i*.587+r*r*.114)},t.colorToRGB=function(t){return this.isRgb(t)?this.rgb(t):this.hexToRgb(t)},t.colorToRGBA=function(t){return this.isRgba(t)||this.isRgb(t)?this.rgba(t):this.hexToRgba(t)},t.colorToRGBAString=function(t){var e=this.colorToRGBA(t);return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},t.isDark=function(t){return this.hsp(t)<=127.5},t.isLight=function(t){return this.hsp(t)>127.5},t.lighten=function(t,e){return this.lightenDarkenColor(t,e/100*255)},t.darken=function(t,e){return this.lightenDarkenColor(t,e/100*255*-1)},t}();e.ColorUtils=i},86796:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.experienceIsEditable=e.layerObjectCanBeEditable=void 0;var i=n(17656);e.layerObjectCanBeEditable=function(t){return t.type!==i.ComponentType.HOTSPOT_COMPONENT||t.type!==i.ComponentType.HOTSPOT_PATH_COMPONENT||t.type!==i.ComponentType.FOLDER},e.experienceIsEditable=function(t,e){return t&&!e}},77343:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MediaUploadTracker=void 0;var r=i(n(96486)),o=i(n(41232)),a=function(){function t(){this.modelCache={},r.default.extend(this,o.default.Events),this.count=0}return t.prototype.on=function(t,e,n){},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.getInstance=function(){return t.mediaUploadTrackerInstance||(t.mediaUploadTrackerInstance=new t),t.mediaUploadTrackerInstance},t.on=function(e,n,i){return t.getInstance().on(e,n,i)},t.track=function(e){t.getInstance().count++,e.always(t.decrement)},t.decrement=function(){t.getInstance().count--,0===t.getInstance().count&&t.getInstance().trigger(t.EVENTS.MEDIA_UPLOAD_COMPLETE)},t.isUploading=function(){return t.getInstance().count>0},t.containsCachedModel=function(e){return r.default.has(t.getInstance().modelCache,e)},t.getCachedModel=function(e){return r.default.get(t.getInstance().modelCache,e)},t.addCacheDeleteToUploadPromise=function(e){e.uploadPromise.always((function(){delete t.getInstance().modelCache[e.get("id")]}))},t.setCachedModel=function(e){t.containsCachedModel(e.get("id"))||(t.getInstance().modelCache[e.get("id")]=e,e.uploadPromise&&t.addCacheDeleteToUploadPromise(e))},t.EVENTS={MEDIA_UPLOAD_COMPLETE:"COMPLETE"},t}();e.MediaUploadTracker=a},66625:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidSelector=e.escapeComponentId=void 0,e.escapeComponentId=function(t){return void 0===t&&(t=""),t.replace(/([^\\])\|/g,"$1\\|")},e.isValidSelector=function(t){return void 0===t&&(t=""),-1===t.indexOf("=")}},21817:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasPositionBroker=e.PositionDirection=void 0;var s,u=o(n(29231)),l=a(n(23383)),c=a(n(86431)),d=u.Point;!function(t){t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left"}(s=e.PositionDirection||(e.PositionDirection={}));var h=function(){function t(t,e,n,i){this.minRequiredHeight=n,this.minRequiredWidth=i,this.containingComponent=t;var r=window.designer.views.canvas;this.canvasRenderState=r.renderState,this.canvasRect=r.canvas.get(0).getBoundingClientRect();var o=this.containingComponent.translatePointToPageCoordinateSpace(new d(e.x,e.y));this.existingItem={width:e.width*this.canvasRenderState.zoom,height:e.height*this.canvasRenderState.zoom,x:(this.canvasRenderState.page.x+o.getX())*this.canvasRenderState.zoom,y:(this.canvasRenderState.page.y+o.getY())*this.canvasRenderState.zoom}}return t.prototype.determineNearestSuitablePosition=function(){var t=this.determineBestDirection();return{direction:t,xToRenderAt:this.determineCanvasXForDirection(t),yToRenderAt:this.determineCanvasYForDirection(t)}},t.prototype.determineBestDirection=function(){return this.directionIsSuitable(s.BOTTOM)?s.BOTTOM:this.directionIsSuitable(s.TOP)?s.TOP:this.directionIsSuitable(s.RIGHT)?s.RIGHT:this.directionIsSuitable(s.LEFT)?s.LEFT:s.BOTTOM},t.prototype.directionIsSuitable=function(t){var e=this.determineCanvasXForDirection(t)+this.canvasRect.left,n=this.determineCanvasYForDirection(t)+this.canvasRect.top,i=l.default.getShowRulers(),r=this.canvasRect.left+(i?c.default.RULER_SIZE:0),o=this.canvasRect.right,a=this.canvasRect.top+(i?c.default.RULER_SIZE:0),s=this.canvasRect.bottom,u=e>=r&&e+this.minRequiredWidth<=o,d=n>=a&&n+this.minRequiredHeight<=s;return u&&d},t.prototype.determineCanvasXForDirection=function(t){switch(t){case s.TOP:case s.BOTTOM:return this.existingItem.x+Math.round(this.existingItem.width/2)-Math.round(this.minRequiredWidth/2);case s.RIGHT:return this.existingItem.x+this.existingItem.width;case s.LEFT:return this.existingItem.x-this.minRequiredWidth}},t.prototype.determineCanvasYForDirection=function(t){switch(t){case s.TOP:return this.existingItem.y-this.minRequiredHeight;case s.BOTTOM:return this.existingItem.y+this.existingItem.height;case s.RIGHT:case s.LEFT:return this.existingItem.y+Math.round(this.existingItem.height/2)-Math.round(this.minRequiredHeight/2)}},t}();e.CanvasPositionBroker=h},91531:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPopoverView=void 0;var a=o(n(40357)),s=o(n(19201)),u=o(n(65311)),l=o(n(96486)),c=o(n(42216)),d=o(n(99771)),h=o(n(89184)),f=function(t){function e(e){var n=t.call(this,e)||this;return n.defaults={top:137,right:0,backgroundColor:s.default.COLORS.LAVA_STONE,anchorElement:null},n}return r(e,t),e.prototype.initialize=function(){t.prototype.initialize.call(this,this.options),this.options=l.default.extend({},this.defaults,this.options),this.appendTo=this.options.appendTo||"body",this.position=this.options.position;var e="#"+this.id+"."+this.className;!!this.id&&u.default(this.appendTo).find(e).length>0&&u.default(this.appendTo).find(e).remove(),u.default(this.appendTo).append(this.$el),this.$el.html(c.default.render(d.default,this)),this.content=this.$(".content"),this.onNonPopoverClose=l.default.bind(this.onNonPopoverClose,this),this.onEscapeKeyPressClose=l.default.bind(this.onEscapeKeyPressClose,this),this.options.title&&this.setTitle(this.options.title),l.default.defer(l.default.bind(this.bindInteractions,this))},e.prototype.onNonPopoverClose=function(t){0===this.$el.has(t.target).length&&this.isVisible()&&this.closePopover(t)},e.prototype.onEscapeKeyPressClose=function(t){h.default.isEscKeyPressed(t)&&this.isVisible()&&this.closePopover(t)},e.prototype.bindInteractions=function(){u.default(window).on("mousedown.popover-view",this.onNonPopoverClose).on("keydown.popover-view",this.onEscapeKeyPressClose)},e.prototype.unbindInteractions=function(){u.default(window).off("mousedown.popover-view",this.onNonPopoverClose).off("keydown.popover-view",this.onEscapeKeyPressClose)},e.prototype.setTitle=function(t){this.$(".titlebar span").html(t)},e.prototype.setContents=function(t){var e;null===(e=this.content)||void 0===e||e.html(t)},e.prototype.isVisible=function(){return this.$el.is(":visible")},e.prototype.closePopover=function(e){var n;e&&e.preventDefault(),(null===(n=this.options)||void 0===n?void 0:n.shouldHideOnClose)?this.hide():(this.unbindInteractions(),t.prototype.close.call(this))},e.prototype.addClass=function(t){this.$el.addClass(t)},e.prototype.setPosition=function(t){var e;if((t=t||(null===(e=this.options)||void 0===e?void 0:e.position))&&t.element){var n=t.isLeft,i=l.default.isNumber(t.padding)?t.padding:10,r=this.getWindowHeight(),o=this.getWindowWidth(),a=t.element.offset(),s=this.$el.height(),u=this.$el.width(),c=null==a?void 0:a.top,d=null==a?void 0:a.left;if(void 0!==c&&void 0!==d&&void 0!==u&&void 0!==s&&void 0!==o&&void 0!==r){var h=d-u-i,f=d+u+i;(d=n?h:f)<0&&(d=f),d+u>o&&(d=h<0?o-u-i:h),c<0&&(c=i),c+s>r&&(c=r-s-i),this.$el.css({position:"absolute",top:c+"px",left:d+"px"})}}},e.prototype.getWindowWidth=function(){return u.default(window).width()},e.prototype.getWindowHeight=function(){return u.default(window).height()},e}(a.default);e.AbstractPopoverView=f,f.prototype.className="popover",f.prototype.events=function(){return{"click .titlebar > a.close":"closePopover"}}},59522:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCustomPathComponentView=void 0;var c=l(n(42216)),d=l(n(34605)),h=u(n(29231)),f=n(49986),p=n(80612),g=n(66817),m=n(98866),v=l(n(67189)),y=l(n(34987)),_=n(8833),b=l(n(26882)),w=l(n(80771)),T=function(t){function e(e){var n=t.call(this,e)||this;return n.hasRenderedGradient=!1,n.options=e,n}return r(e,t),e.prototype.callObjectStateInvoker=function(t,e){m.ObjectStateInvoker.invokeScaleableObjectState(this,t,e)},e.prototype._applyRotation=function(e){this.isMaskImage()||t.prototype._applyRotation.call(this,e)},e.prototype._applyBorder=function(t){void 0===t&&(t=this.options.border||{}),this.getShapeElement().css("stroke",t.color||""),this.getShapeElement().css("stroke-width",t.width||0),this.getShapeElement().css("miter-limit",10)},e.prototype.applyMaskProperties=function(){var t,e=this.$el,n=this.options.background;if((null==n?void 0:n.color)&&e.css("background",n.color),(null==n?void 0:n.gradient)&&(null===(t=null==n?void 0:n.gradient)||void 0===t?void 0:t.stops)){var i=n.gradient.angle;e.css("backgroundImage","linear-gradient("+i+"deg,"+y.default.buildStops(n.gradient.stops)+")")}},e.prototype._applyBackground=function(t,e){void 0===t&&(t=this.options.background||{}),void 0===e&&(e=this.options.transition);var n=this.getStopElements(),i=0;this.isMaskImage()&&this.applyMaskProperties(),t.color&&n.css("stop-color",t.color),t.gradient&&(n.first().css("stop-color",t.gradient.stops[0].color),n.last().css("stop-color",t.gradient.stops[1].color),i=t.gradient.angle||0),t.color||t.gradient||n.css("stop-color","transparent"),p.AnimateSVGUtil.renderGradientAnimation(this.getSVGElement(),this.getGradientElement(),i,this.hasRenderedGradient?e:null),this.hasRenderedGradient=!0},e.prototype._applyShadow=function(t,e){return void 0===t&&(t=this.options.shadow),void 0===e&&(e=this.options.rotation),this.applyDropShadow(t,e)},e.prototype._applyOpacity=function(t){void 0===t&&(t=this.getOpacity()),this.$el.css("opacity",t)},e.prototype.getHoverTarget=function(){return this.getPointerEventsTarget()},e.prototype.render=function(){var e=this,n=this.getRenderedSVG();if(this.isMaskImage()){var i=v.default.encodedSvgStringAsBase64(n);this.renderAsMask(i)}else this.$el.empty().html(n);t.prototype.render.call(this),this.options.ariaLabel||this.hasClickInteraction()||this.hasHoverInteraction()||this.$el.attr("aria-hidden","true"),this.isMaskImage()||this.createAnimationWithTransition(this.getSVGElement(),{placeholder:"0"},{placeholder:"0"},{duration:0,easing:_.Easing.linear,delay:0});var r=this.getShapeElement();return this.shouldTriggerClickOnKeyDown()&&(r.addClass("focusable outline-hidden"),this.hasAccessibilityFeature&&r.attr("role","button")),r.on("focus",(function(){r.addClass("outline-hidden"),"keyboard"===b.default.ask()&&(w.default.isDesktopSafari()&&e.$el.css("outline","auto"),r.removeClass("outline-hidden"))})),r.on("blur",(function(){w.default.isDesktopSafari()&&e.$el.css("outline",""),r.addClass("outline-hidden")})),this},e.prototype.getRenderedSVG=function(){var t=this.options.width,e=this.options.height,n=this.id+"-"+this.type+"-svg",i=this.id+"-"+this.type+"-svg",r=n+"-gradient",o=r+"-stop0",a=r+"-stop1",s=n+"-custom-path-shadow-filter",u="url(#"+r+")",l=this.calculateTransform(),h=this.renderShape({fill:u,shadow:"",transform:l});return c.default.render(d.default,{svgName:n,componentId:i,gradientName:r,gradientStop0Name:o,gradientStop1Name:a,width:t,height:e,subview:h,fill:u,shadowName:s})},e.prototype.renderAsMask=function(t){var e={"-webkit-mask-image":t,"mask-image":t,"-webkit-mask-repeat":"no-repeat","-webkit-mask-position":"0px 0px"};this.$el.css(e)},e.prototype.isMaskImage=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.maskedObjectId))},e.prototype.calculateTransform=function(){if(this.isMaskImage()){this._configureAllWidthAllHeight();var t=this.options,e=t.x,n=t.y,i=t.rotation,r=t.allWidth,o=t.allHeight;if(void 0!==o&&void 0!==r)return"rotate("+i+", "+r/2+", "+o/2+") translate("+e+", "+n+")"}return null},e.prototype.getStop=function(t,e){if(t&&t.gradient&&t.gradient.stops)return t.gradient.stops.find((function(t){return t.stop===e}))},e.prototype.gradientExists=function(t){return!!t&&!!t.gradient},e.prototype.shadowFilterExists=function(t){return t&&void 0!==t.x&&void 0!==t.y&&void 0!==t.color&&void 0!==t.blur},e.prototype._applyPosition=function(e,n){if(void 0===e&&(e=this.options.x),void 0===n&&(n=this.options.y),this.isMaskImage())t.prototype._applyPosition.call(this,0,0);else{var i=this.getApplyPositionTarget();i.css("left",e+"px"),i.css("top",n+"px")}},e.prototype._applyDimensions=function(e,n){this.isMaskImage()?t.prototype._applyDimensions.call(this,this.options.allWidth,this.options.allHeight):t.prototype._applyDimensions.call(this,e,n)},e.prototype.getStopElements=function(){return this.$el.find("stop")},e.prototype.applyTransitionToTarget=function(e,n){t.prototype.applyTransitionToTarget.call(this,e,n),this.getShapeElement().css("transition",e),this.getShapeElement().css("transition-property",n||"none"),this.getSVGElement().css("transition",e),this.getSVGElement().css("transition-property",n||"none"),this.getStopElements().css("transition",e),this.getStopElements().css("transition-property",n||"none")},e.prototype.getSVGElement=function(){return this.$el.find(".custom-path-component")},e.prototype.getApplyShadowTarget=function(){return this.isMaskImage()&&this.parentViews.length>0?this.parentViews[0].$el:this.getSVGElement()},e.prototype.getGradientElement=function(){return this.$el.find("linearGradient")},e.prototype.shouldTriggerClickOnKeyDown=function(){return this.hasClickInteraction()&&!this.isMaskImage()},e.prototype.applyTabindex=function(){this.hasClickInteraction()&&!this.isMaskImage()?this.getShapeElement().attr("tabindex",0):this.hasClickInteraction()||this.getPointerEventsTarget().attr("tabindex",-1),this.hasAccessibilityFeature&&this.shouldTriggerClickOnKeyDown()&&this.getSVGElement().removeAttr("aria-hidden"),t.prototype.applyTabindex.call(this)},e.prototype.getPointerEventsTarget=function(){return this.isMaskImage()?this.$el:this.getShapeElement()},e.prototype.applyTagOverride=function(){this.isMaskImage()&&t.prototype.applyTagOverride.call(this)},e.prototype.getShadowParams=function(t,e,n,i){void 0===e&&(e=this.options.width),void 0===n&&(n=this.options.height),void 0===i&&(i=this.options.rotation),i=i||0;var r=h.maintainOffsetWhenRotated(i,{x:t.x||0,y:t.y||0}),o=r.x||0,a=r.y||0,s=(t.blur||0)/2,u=t.color||"",l=2*s,c=100*Math.abs(o/e)*-1-20-l,d=100*Math.abs(a/n)*-1-20-l;return{shadowX:o,shadowY:a,shadowBlur:s,shadowColor:u,filterX:c,filterY:d,filterWidth:2*Math.abs(c)+100,filterHeight:2*Math.abs(d)+100}},e.prototype.createAnimationWithTransition=function(t,e,n,i){if(i){var r={};Object.keys(e).forEach((function(t){r[t]={from:n[t],to:e[t]}}));var o=p.AnimateSVGUtil.animatePointsForMultiple(r),a=p.AnimateSVGUtil.getSplineStringFromEasing(i.easing),s=Object.keys(o).map((function(t){return p.AnimateSVGUtil.createAnimationElement(t,!1,o[t],a)}));t.find("animate").remove(),p.AnimateSVGUtil.startNewAnimations(this.getSVGElement(),t,s,i)}else Object.keys(e).forEach((function(n){t.attr(n,e[n])}))},e.prototype.applyPoints=function(t,e){},e.prototype.applyPath=function(t,e,n){void 0===t&&(t=this.options.path)},s([g.BackboneShim({className:"custom-path-container shape"})],e)}(f.AbstractComponentView);e.AbstractCustomPathComponentView=T},29750:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCustomPathHoverAreaComponentView=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this);var e=this.renderShapeHoverArea();e.setAttributeNS(null,"fill","none");var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttributeNS(null,"overflow","visible"),n.append(e),n.style.width="100%",n.style.height="100%",n.style.display="block",this.$el.append(n),this.renderStroke(),this},e.prototype.renderBorder=function(){},e.prototype.renderStroke=function(){var t=this.options.component.options.border;this.getHoverAreaTarget().css("stroke","transparent"),this.getHoverAreaTarget().css("stroke-width",t.width||0),this.getHoverAreaTarget().css("miter-limit",10)},e.prototype.getHoverAreaTarget=function(){return this.$el.find("svg >")},e}(n(48708).HoverAreaComponentView);e.AbstractCustomPathHoverAreaComponentView=o},80612:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnimateSVGUtil=void 0;var i=n(8833),r=function(){function t(){}return t.getSplineStringFromEasing=function(t,e){return this.getSplineFromEasing(t,e).map((function(t){return t.join(" ")})).join(";")},t.getSplineFromEasing=function(t,e){var n=this.getBezierPointsForEasing(t);if(!e)return[n];switch(t){case i.Easing.easeInOut:return[[.21,0,.355,.25],[.645,.75,.79,1]];case i.Easing.ease:return[[.125,.05,.1875,.3],[.4375,.775,.625,1]];case i.Easing.easeIn:case i.Easing.easeOut:case i.Easing.linear:default:return[[0,0,n[0],n[1]],[n[2],n[3],1,1]]}},t.getBezierPointsForEasing=function(t){switch(t){case i.Easing.ease:return[.25,.1,.25,1];case i.Easing.easeIn:return[.42,0,1,1];case i.Easing.easeOut:return[0,0,.58,1];case i.Easing.easeInOut:return[.42,0,.58,1];case i.Easing.linear:default:return[0,0,1,1]}},t.animateGradientRotation=function(e,n){var i=t.getRotateKeyframes(e,n).map((function(e){return t.getGradientXYFromAngle(e)}));return{x1:i.map((function(t){return t.x1+"%"})).join(";"),y1:i.map((function(t){return t.y1+"%"})).join(";"),x2:i.map((function(t){return t.x2+"%"})).join(";"),y2:i.map((function(t){return t.y2+"%"})).join(";")}},t.animatePointsForMultiple=function(t){var e=this,n={};return Object.keys(t).forEach((function(i){n[i]=e.animatePointsForSingle([t[i].from,t[i].to])})),n},t.animatePointsForSingle=function(t){return t.join(";")},t.getRotateKeyframes=function(t,e){return e%=360,[t%=360,Math.abs(t-e)>180?(t+(e+360))/2%360:(t+e)/2,e]},t.getGradientXYFromAngle=function(t){var e=t*(Math.PI/180);return{x1:Math.round(50+50*Math.sin(e+Math.PI)),x2:Math.round(50+50*Math.sin(e)),y1:Math.round(50+50*Math.cos(e)),y2:Math.round(50+50*Math.cos(e+Math.PI))}},t.getAngleFromGradientXY=function(t,e,n,i){var r=n-t,o=i-e;return(Math.atan2(o,r)+Math.PI/2)*(180/Math.PI)},t.createAnimationElement=function(t,e,n,i){var r=e?"0;0.5;1":"0;1",o=document.createElementNS("http://www.w3.org/2000/svg","animate");return o.setAttributeNS(null,"attributeName",t),o.setAttributeNS(null,"fill","freeze"),o.setAttributeNS(null,"keyTimes",r),o.setAttributeNS(null,"calcMode","spline"),o.setAttributeNS(null,"values",n),o.setAttributeNS(null,"keySplines",i),o},t.renderGradientAnimation=function(e,n,i,r){if(r){var o=n[0],a=o.x1,s=o.x2,u=o.y1,l=o.y2,c=t.getAngleFromGradientXY(a.animVal.valueInSpecifiedUnits,u.animVal.valueInSpecifiedUnits,s.animVal.valueInSpecifiedUnits,l.animVal.valueInSpecifiedUnits),d=t.animateGradientRotation(c,i),h=t.getSplineStringFromEasing(r.easing,!0),f=Object.keys(d).map((function(e){return t.createAnimationElement(e,!0,d[e],h)}));t.startNewAnimations(e,n,f,r)}else{var p=t.getGradientXYFromAngle(i);n.attr("x1",p.x1+"%").attr("y1",p.y1+"%").attr("x2",p.x2+"%").attr("y2",p.y2+"%")}},t.startNewAnimations=function(t,e,n,i){var r=t&&t.length&&t[0].getCurrentTime?t[0].getCurrentTime():0;n.forEach((function(n){var o,a,s='[attributeName="'+n.getAttribute("attributeName")+'"]',u=e.find(s).last(),l=(i.delay||0)+r;n.setAttributeNS(null,"begin",l+"s");var c=i.duration||0,d=0;if(u){var h=(null===(o=u.attr("begin"))||void 0===o?void 0:o.replace("s",""))||"",f=(null===(a=u.attr("dur"))||void 0===a?void 0:a.replace("s",""))||"",p=(Number.parseFloat(h)||0)+(Number.parseFloat(f)||0)-r;p>0&&(d=p)}c-=d,n.setAttributeNS(null,"dur",c+"s"),e.find(s).remove(),t.find('[attributeName="placeholder"]').remove(),e.append(n)}))},t}();e.AnimateSVGUtil=r},44901:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomPathSVGUtil=void 0;var r=i(n(96486)),o=function(){function t(){}return t.generateCurveCoords=function(t,e){void 0===e&&(e=!0);for(var n=t,i=this.moveToStartingPoint(n[0]),r=1;r<n.length;r++)i+=this.generateCurveSection(n[r-1],n[r]);return e&&(i+=this.generateCurveSection(n[n.length-1],n[0]),i+=this.closePath()),i},t.generateCurveCoordFromPathSegList=function(t){for(var e=t,n=this.moveToStartingPoint(e.getItem(0)),i=!1,r=1;r<e.numberOfItems;r++){var o=e.getItem(r);"C"===o.pathSegTypeAsLetter&&(n+=this.generateCurveSectionFromPathItem(o)),"z"===o.pathSegTypeAsLetter&&(i=!0)}return i&&(n+=this.closePath()),n},t.moveToStartingPoint=function(t){return"M "+t.x+" "+t.y+" "},t.generateCurveSection=function(t,e){return"C "+(r.default.isUndefined(t.cx2)?t.x:t.cx2)+" "+(r.default.isUndefined(t.cy2)?t.y:t.cy2)+", "+(r.default.isUndefined(e.cx1)?e.x:e.cx1)+" "+(r.default.isUndefined(e.cy1)?e.y:e.cy1)+", "+e.x+" "+e.y+" "},t.generateCurveSectionFromPathItem=function(t){return"C "+t.x1+" "+t.y1+", "+t.x2+" "+t.y2+", "+t.x+" "+t.y+" "},t.closePath=function(){return" Z"},t}();e.CustomPathSVGUtil=o},82934:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CircleComponentView=void 0;var s=a(n(42216)),u=n(59522),l=a(n(21612)),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e}return r(e,t),e.prototype.getShapeElement=function(){return this.$el.find("ellipse")},e.prototype.getCircleDimensions=function(){var t=this.options.width/2,e=this.options.height/2;return{cx:t,cy:e,rx:t,ry:e}},e.prototype.renderShape=function(t){return void 0===t&&(t={}),s.default.render(l.default,o(o({},this.getCircleDimensions()),t))},e}(u.AbstractCustomPathComponentView);e.CircleComponentView=c},28809:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CircleHoverAreaComponentView=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=this.options.component.getCircleDimensions(),e=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return e.setAttributeNS(null,"cx",t.cx.toString()),e.setAttributeNS(null,"cy",t.cy.toString()),e.setAttributeNS(null,"rx",t.rx.toString()),e.setAttributeNS(null,"ry",t.ry.toString()),e},e}(n(29750).AbstractCustomPathHoverAreaComponentView);e.CircleHoverAreaComponentView=o},86238:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return s(e,t),e},l=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomShapeComponentView=void 0;var h=d(n(42216)),f=d(n(11073)),p=n(59522),g=n(44901),m=d(n(80771)),v=u(n(29231)),y=n(80612),_=n(98866),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="custom-shape",e.maxPoints=0,e.currentPath="",e}return r(e,t),e.prototype.renderShape=function(t){var e,n,i,r=this;if(void 0===t&&(t={}),this.options.path){var a=this.options.path.length,s=(null===(e=this.options.states)||void 0===e?void 0:e.length)?this.options.states.reduce((function(t,e){var n,i;return((null===(n=t.config.path)||void 0===n?void 0:n.length)||0)>((null===(i=e.config.path)||void 0===i?void 0:i.length)||0)?t:e})):void 0;this.maxPoints=Math.max(a,(null===(n=null==s?void 0:s.config.path)||void 0===n?void 0:n.length)||0),this.options.path=this.forcePathToUseMaxPoints(this.options.path,this.options.isClosedPath),null===(i=this.options.states)||void 0===i||i.forEach((function(t){t.config.path&&(t.config.path=r.forcePathToUseMaxPoints(t.config.path,t.config.isClosedPath))}))}var u=g.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath);return this.currentPath=u,h.default.render(f.default,o({path:u},t))},e.prototype.renderShapeHoverArea=function(){var t=g.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath),e=document.createElementNS("http://www.w3.org/2000/svg","polygon");return e.setAttributeNS(null,"path",t),e},e.prototype.getShapeElement=function(){return this.$el.find("path")},e.prototype.applyPath=function(t,e,n){void 0===t&&(t=this.options.path),void 0===e&&(e=this.options.isClosedPath),void 0===n&&(n=this.options.transition);var i=g.CustomPathSVGUtil.generateCurveCoords(t,e);if(m.default.isBrowserChrome()||m.default.edge)this.getShapeElement().css("d","path('"+i+"')");else{if(n){var r=this.getShapeElement(),o=r[0].animatedPathSegList;o&&(this.currentPath=g.CustomPathSVGUtil.generateCurveCoordFromPathSegList(o));var a=y.AnimateSVGUtil.animatePointsForSingle([this.currentPath,i]),s=y.AnimateSVGUtil.createAnimationElement("d",!1,a,y.AnimateSVGUtil.getSplineStringFromEasing(n.easing));y.AnimateSVGUtil.startNewAnimations(this.getSVGElement(),r,[s],n)}else this.getShapeElement().attr("d",i);this.currentPath=i}},e.prototype.forcePathToUseMaxPoints=function(t,e){var n=this.maxPoints-t.length;if(0===n)return t;for(var i=c(t),r=t.length,o=n/r%1,a=Math.floor(n/r),s=function(t){var n=t===i.length,r=n&&e,o=i[t-1],a=n?r?i[0]:o:i[t],s=v.splitBezierCurveAtPoint(o,a,.5),u=[s.left,s.center];n||u.push(s.right),i.splice.apply(i,c([t-1,n?3:2],u)),r&&i.splice(0,1,s.right)},u=0,l=0,d=1;d<=r;d++){(l+=o)>=.5&&(s(u+d),u++,l--);for(var h=0;h<a;h++)s(u+d),u++;d===r&&u<n&&(s(u+d),u++)}return i},e.prototype.callObjectStateInvoker=function(t,e){_.ObjectStateInvoker.invokeSVGShapeObjectState(this,t,e)},e}(p.AbstractCustomPathComponentView);e.CustomShapeComponentView=b},30246:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomShapeHoverAreaComponentView=void 0;var o=n(29750),a=n(44901),s=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=a.CustomPathSVGUtil.generateCurveCoords(this.options.component.options.path,this.options.component.options.isClosedPath),e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),e},e}(o.AbstractCustomPathHoverAreaComponentView);e.CustomShapeHoverAreaComponentView=s},28192:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HotspotPathComponentView=void 0;var s=n(59522),u=n(44901),l=a(n(42216)),c=a(n(45049)),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="hotspot-path",e}return r(e,t),e.prototype.callObjectStateInvoker=function(){},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=u.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath);return l.default.render(c.default,o({path:e},t))},e.prototype.getShapeElement=function(){return this.$el.find("path")},e.prototype.isUsingHoverAreaForMouseOut=function(){return!1},e}(s.AbstractCustomPathComponentView);e.HotspotPathComponentView=d},38453:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LineComponentView=void 0;var s=a(n(42216)),u=n(86238),l=n(44901),c=a(n(11073)),d=n(98866),h=function(t){function e(e){var n=t.call(this,e)||this;n.type="line",n.options=e;var i=e.x,r=e.x2,o=e.y,a=e.y2;return n.options.width=Math.abs(i-r)||1,n.options.height=Math.abs(o-a)||1,n}return r(e,t),e.prototype.render=function(){return t.prototype.render.call(this),this._applyBorder(),this},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=this.getPoints(),n=l.CustomPathSVGUtil.generateCurveCoords(e,!1);return this.currentPath=n,s.default.render(c.default,o({path:n},t))},e.prototype.getPoints=function(t,e,n,i){return void 0===t&&(t=this.options.x),void 0===e&&(e=this.options.y),void 0===n&&(n=this.options.x2),void 0===i&&(i=this.options.y2),[{x:0,y:0},{x:n-t,y:i-e}]},e.prototype._applyBorder=function(e){void 0===e&&(e={}),e.color||(e.color=this.options.color),e.width||(e.width=this.options.lineWidth),t.prototype._applyBorder.call(this,e)},e.prototype.applyPoints=function(e,n){void 0===e&&(e=this.getPoints()),e=this.getPoints(e[0].x,e[0].y,e[1].x,e[1].y),t.prototype.applyPath.call(this,e,!1,n)},e.prototype.callObjectStateInvoker=function(t,e){d.ObjectStateInvoker.invokeSVGShapeObjectState(this,t,e)},e}(u.CustomShapeComponentView);e.LineComponentView=h},53056:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LineHoverAreaComponentView=void 0;var o=n(29750),a=n(44901),s=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=this.options.component.getPoints(),e=a.CustomPathSVGUtil.generateCurveCoords(t,!1),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttributeNS(null,"d",e),n},e.prototype.renderStroke=function(){this.getHoverAreaTarget().css("stroke","transparent"),this.getHoverAreaTarget().css("stroke-width",this.options.component.options.lineWidth||0)},e}(o.AbstractCustomPathHoverAreaComponentView);e.LineHoverAreaComponentView=s},49113:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TriangleComponentView=void 0;var s=a(n(42216)),u=n(59522),l=a(n(30636)),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="triangle",e}return r(e,t),e.prototype.getShapeElement=function(){return this.$el.find("polygon")},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=this.getPoints();return s.default.render(l.default,o({points:this.coodinatesToPointsString(e)},t))},e.prototype.getPoints=function(t,e){return void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height),"right-triangle"===this.options.shape?{top:{x:t,y:0},left:{x:0,y:e},right:{x:t,y:e}}:{top:{x:t/2,y:0},left:{x:0,y:e},right:{x:t,y:e}}},e.prototype.coodinatesToPointsString=function(t){return Object.values(t).map((function(t){return t.x+","+t.y})).join(" ")},e}(u.AbstractCustomPathComponentView);e.TriangleComponentView=c},24138:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TriangleHoverAreaComponentView=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=this.options.component.getPoints(),e=document.createElementNS("http://www.w3.org/2000/svg","polygon");return e.setAttributeNS(null,"points",this.options.component.coodinatesToPointsString(t)),e},e}(n(29750).AbstractCustomPathHoverAreaComponentView);e.TriangleHoverAreaComponentView=o},18500:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AutomaticHoverInteractionCollection=e.AutomaticHoverInteractionHandler=void 0;var r=i(n(65311)),o=i(n(96486)),a=i(n(88522)),s=i(n(52272)),u=n(57824),l=function(){function t(t,e,n){this.hasChanges=!0,this.isShowing=!1,this.isHiding=!1,this.navItems={},this.targets=[],this.abstractComponentView=t,this.hoverInteractions=e,this.pageView=n}return Object.defineProperty(t.prototype,"trigger",{get:function(){return this.abstractComponentView.$el},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTargets",{get:function(){return this.targets.length>0},enumerable:!1,configurable:!0}),t.isHover=function(t){return t.is(":hover")},t.prototype.isInteractive=function(t){if(t.is(":disabled"))return!1;var e=t.attr("tabindex")||-1;return t===this.trigger||e>-1||t.is(":input, a[href], area[href], iframe")},t.prototype.isFocusable=function(t){return"text-component"===t.options.type&&t.containsHyperlinks()||this.isInteractive(t.$el)},t.prototype.isNavItem=function(t){var e=t.attr("id")||t.attr("data-container-id");return!!e&&!!this.navItems[e]},t.prototype.bindFocusEvent=function(e){var n=this,i=function(){t.isHover(e)||(n.invokeShowAction(),n.invokeHideAction(),n.invokeNonShowHideInteraction(),e.attr("id")===n.trigger.attr("id")&&n.abstractComponentView.sendPublishedHoverEvents())};this.isInteractive(e)&&e.on(t.FOCUS_EVENT,i),e.find(t.INLINE_LINK_SELECTOR).on(t.FOCUS_EVENT,i)},t.prototype.bindBlurEvent=function(e){var n=this,i=function(i){if(!t.isHover(e)){var o=i.relatedTarget&&r.default(i.relatedTarget);o&&n.isNavItem(o)||(n.hideTemporaryShowing(),n.showTemporaryHiding(),n.uninvokeNonShowHideInteraction())}};this.isInteractive(e)&&e.on(t.BLUR_EVENT,i),e.find(t.INLINE_LINK_SELECTOR).on(t.BLUR_EVENT,i)},t.prototype.hideTemporaryShowing=function(){var t=this.targets.filter((function(t){return t.isShowing&&t.isTemporary&&t.isVisibilityInteraction})).map((function(t){return t.id}));t.length>0&&(this.pageView.invokeHideAction(t),this.isShowing=!1)},t.prototype.showTemporaryHiding=function(){var t=this.targets.filter((function(t){return!t.isShowing&&t.isTemporary&&t.isVisibilityInteraction})).map((function(t){return t.id}));t.length>0&&(this.pageView.invokeShowAction(t),this.isHiding=!1)},t.prototype.invokeShowAction=function(){if(!this.isShowing){var t=this.targets.filter((function(t){return t.isShowing&&t.isVisibilityInteraction}));t.length>0&&(this.pageView.invokeShowAction(t.map((function(t){return t.id})),(function(){t.forEach((function(t){t.view.wasShownByFocusInteraction=!0}))})),this.isShowing=!0)}},t.prototype.invokeHideAction=function(){if(!this.isHiding){var t=this.targets.filter((function(t){return!t.isShowing&&t.isVisibilityInteraction}));t.forEach((function(t){t.view.wasShownByFocusInteraction=!1})),t.length>0&&(this.pageView.invokeHideAction(t.map((function(t){return t.id}))),this.isHiding=!0)}},t.prototype.invokeNonShowHideInteraction=function(){var t=this;this.hoverInteractions.forEach((function(e){if(!a.default.hasCustomFiringHoverAction(e)&&e.shouldTriggerOnKeyboardNavigation()){var n=t.abstractComponentView.getEventInteractionData();e.triggerAction(n)}}))},t.prototype.uninvokeNonShowHideInteraction=function(){this.hoverInteractions.forEach((function(t){!a.default.hasCustomFiringHoverAction(t)&&t.hasOutTrigger&&t.shouldTriggerOnKeyboardNavigation()&&t.triggerOutAction()}))},t.prototype.handleTargets=function(t,e,n){var i,r=this;e&&n&&this.isFocusable(t)&&(this.addNavItem(t.$el),this.bindFocusEvent(t.getPointerEventsTarget()),this.bindBlurEvent(t.getPointerEventsTarget())),null===(i=t.childViews)||void 0===i||i.forEach((function(t){return r.handleTargets(t,e,n)}))},t.prototype.setAccessibilityHoverTarget=function(t){var e,n=this;t.setAsAccessibilityHoverTarget(),null===(e=t.childViews)||void 0===e||e.forEach((function(t){return n.setAccessibilityHoverTarget(t)}))},t.prototype.unsetAccessibilityHoverTarget=function(t){var e,n=this;t&&(t.unsetAsAccessibilityHoverTarget(),null===(e=t.childViews)||void 0===e||e.forEach((function(t){return n.unsetAccessibilityHoverTarget(t)})))},t.prototype.addNavItem=function(e){var n=e.attr("id");e.find(t.INLINE_LINK_SELECTOR).attr("data-container-id",n),this.navItems[n]=e},t.prototype.unbindEvents=function(){Object.values(this.navItems).forEach((function(e){e.off(t.FOCUS_EVENT).off(t.BLUR_EVENT).find(t.INLINE_LINK_SELECTOR).off(t.FOCUS_EVENT).off(t.BLUR_EVENT)}))},t.prototype.configureInteractions=function(){var t=this;this.hasChanges=!1,this.isShowing=!1,this.isHiding=!1,this.navItems={},this.hasTargets&&(this.targets.forEach((function(e){t.handleTargets(e.view,e.isShowing,e.isTemporary)})),this.addNavItem(this.trigger),this.bindFocusEvent(this.abstractComponentView.getPointerEventsTarget()),this.bindBlurEvent(this.abstractComponentView.getPointerEventsTarget()))},t.prototype.update=function(t,e){var n=this;o.default.isEqual(this.hoverInteractions,e)&&this.trigger[0]===t.$el[0]||(this.abstractComponentView=t,this.hoverInteractions=e,this.unbindEvents(),this.targets.forEach((function(t){return n.unsetAccessibilityHoverTarget(t.view)})),this.hasChanges=!0)},t.prototype.prepareHoverTargets=function(){var t=this;this.targets=[],this.hoverInteractions.forEach((function(e){var n=e.getHoverTargets();if(n){var i=a.default.isHoverInteractionShowingLayers(e),r=a.default.isTemporaryHoverInteractionShowingOrHidingLayers(e),o=a.default.hasCustomFiringHoverAction(e);n.forEach((function(e){var n=t.pageView.findChildView(e);n&&(t.setAccessibilityHoverTarget(n),t.targets.push({id:e,view:n,isShowing:i,isTemporary:r,isVisibilityInteraction:o}))}))}}))},t.prototype.refreshInteractions=function(){this.hasChanges&&(this.prepareHoverTargets(),this.configureInteractions())},t.BLUR_EVENT="blur.automaticHoverInteraction",t.FOCUS_EVENT="focus.automaticHoverInteraction",t.INLINE_LINK_SELECTOR=".inline-link",t}();e.AutomaticHoverInteractionHandler=l;var c=function(){function t(){this.handlers={}}return t.prototype.add=function(t,e,n){if(s.default.hasFeature(u.FeatureFlagName.ACCESSIBILITY))if(0!==e.length){var i=t.$el.attr("id");this.handlers[i]?this.handlers[i].update(t,e):this.handlers[i]=new l(t,e,n)}else this.remove(t.$el)},t.prototype.prepareAccessibleHoverTargets=function(){Object.values(this.handlers).forEach((function(t){return t.prepareHoverTargets()}))},t.prototype.initInteractions=function(){Object.values(this.handlers).forEach((function(t){return t.configureInteractions()}))},t.prototype.refreshInteractions=function(){Object.values(this.handlers).forEach((function(t){return t.refreshInteractions()}))},t.prototype.remove=function(t){var e=t.attr("id");this.handlers[e]&&(this.handlers[e].unbindEvents(),delete this.handlers[e])},t}();e.AutomaticHoverInteractionCollection=c},57882:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseInteraction=void 0;var a=o(n(96486)),s=n(75457),u=o(n(54777)),l=n(46792),c=function(){function t(e,n){if(!n.module)throw new Error("All interactions must belong to a module");a.default.assign(this,e),this.action=e.action,this.trigger=e.trigger,this.delay=e.delay,this.repeat=e.repeat,this.pageView=n;var i=t.shouldInteractionChangeToMouseDown(this.action,this.trigger,this.hasOutTrigger,!!e.hasSiblingThatIsABringToFrontClickInteraction,!!e.hasSiblingThatIsAChangeStateClickInteraction);this.trigger=i?"mouseDown":e.trigger}return t.prototype.hasGlobalScope=function(){return!0},t.prototype.setTrigger=function(t){this.trigger=t},t.shouldInteractionChangeToMouseDown=function(t,e,n,i,r){return void 0===r&&(r=!1),"click"===e&&(n||"bring-to-front"===t||i||r)},t.prototype.setOptionalParameters=function(t){this.componentId=t},t.prototype.shouldTriggerAction=function(t){var e=-1===t.clickX&&-1===t.clickY;return!l.editorToggleService.editMode||e},t.prototype.shouldTriggerOutAction=function(){return!l.editorToggleService.editMode},t.prototype.triggerAction=function(t){return!!this.shouldTriggerAction(t)&&this.validateAndSendEvent(t)},t.prototype.triggerOutAction=function(){return this.shouldTriggerOutAction(),!1},t.prototype.validateAndSendEvent=function(t){if(!t)return!1;if(!a.default.isFunction(this.getModuleAction))return!1;var e=this.getModuleAction();if(!e)return!1;var n=new s.InteractionInvocation(this,t);return this.hasGlobalScope()?u.default.trigger(e,n):this.pageView.module.trigger(e,n),!0},Object.defineProperty(t.prototype,"domTagOverride",{get:function(){if(this.isValid()&&("click"===this.trigger||"mouseDown"===this.trigger))return{tagName:"button",priority:1}},enumerable:!1,configurable:!0}),t.prototype.isValid=function(){var t=a.default.values(i(i({},this),{sdkTags:void 0,sdkPayload:void 0}));return!a.default.some(t,(function(t){if(a.default.isNull(t))return!0;if(a.default.isArray(t)){if(0===t.length)return!0}else if(""===t)return!0;return!1}))},t.prototype.toJSON=function(){return this.pageView,r(this,["pageView"])},t.prototype.shouldCreateHoverArea=function(){return!1},t.prototype.shouldTriggerOnKeyboardNavigation=function(){return!0},t.prototype.getHoverTargets=function(){return[]},t}();e.BaseInteraction=c},19043:function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionFactory=void 0;var r=n(96486),o=n(9969),a=n(75864),s=n(15197),u=n(41184),l=n(25105),c=n(1253),d=n(52221),h=n(3056),f=n(63194),p=n(21577),g=n(21321),m=n(10052),v=n(91370),y=n(44865),_=n(43369),b=n(71525),w=n(20536),T=n(95767),S=n(42311),E=n(54305),O=n(72736),P=n(13020),C=n(35070),A=n(66455),k=n(48990),x=n(5076),I=n(36281),M=n(97909),R=n(12649),N=function(){function t(){}return t.constructorFor=function(t){switch(t){case I.ActionTypes.nextPage:return a.NextPageInteraction;case I.ActionTypes.prevPage:return p.PreviousPageInteraction;case I.ActionTypes.gotoPage:return h.GoToPageInteraction;case I.ActionTypes.url:return o.GoToURLInteraction;case I.ActionTypes.scrollTo:return f.ScrollToInteraction;case I.ActionTypes.scrollToObject:return C.ScrollToObjectInteraction;case I.ActionTypes.changeState:return x.ChangeStateInteraction;case I.ActionTypes.showOnly:return w.ShowComponentInteraction;case I.ActionTypes.hideOnly:return b.HideComponentInteraction;case I.ActionTypes.toggleCanvasTargets:return m.ToggleLayersInteraction;case I.ActionTypes.enableDisablePage:return T.PageVisibilityInteraction;case I.ActionTypes.lightbox:return S.LightboxVisibilityInteraction;case I.ActionTypes.product:return E.ProductPanelVisibilityInteraction;case I.ActionTypes.shoppingCart:return O.ShoppingCartVisibilityInteraction;case I.ActionTypes.fullscreen:return P.FullScreenInteraction;case I.ActionTypes.showCanvasTargetsOnHover:case I.ActionTypes.showCanvasTargets:case I.ActionTypes.showAndStayVisibleCanvasTargets:return _.ShowLayersInteraction;case I.ActionTypes.hideCanvasTargets:case I.ActionTypes.hideAndStayHiddenCanvasTargets:return g.HideLayersInteraction;case I.ActionTypes.cycleNext:return y.CycleNextInteraction;case I.ActionTypes.cyclePrevious:return v.CyclePreviousInteraction;case I.ActionTypes.email:return u.ShareEmailInteraction;case I.ActionTypes.facebook:return l.ShareFacebookInteraction;case I.ActionTypes.twitter:return d.ShareTwitterInteraction;case I.ActionTypes.pinterest:return c.SharePinterestInteraction;case I.ActionTypes.linkedin:return s.ShareLinkedInInteraction;case I.ActionTypes.toggleReducedMotion:return A.ToggleReducedMotionInteraction;case I.ActionTypes.bringToFront:return k.BringToFrontInteraction;case I.ActionTypes.resetPositions:return R.ResetPositionsInteraction;default:return M.InvalidInteraction}},t.initializeInteractions=function(e,n,o){var a,s,u=[];if(!r.get(e,"length"))return u;var l=e.some((function(t){return"click"===t.trigger&&"bring-to-front"===t.action})),c=e.some((function(t){return"click"===t.trigger&&"change-state"===t.action}));try{for(var d=i(e),h=d.next();!h.done;h=d.next()){var f=h.value;if(f.trigger&&f.action){f.hasSiblingThatIsABringToFrontClickInteraction=l,f.hasSiblingThatIsAChangeStateClickInteraction=c;var p=new(t.constructorFor(f.action))(f,n);p.setOptionalParameters(o),u.push(p)}}}catch(t){a={error:t}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}return u},t}();e.InteractionFactory=N},75457:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionInvocation=void 0;var r=i(n(96486));e.InteractionInvocation=function(t,e){var n=r.default.assign({},t,e);delete n.pageView,r.default.assign(this,n)}},6575:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionOptions=void 0;var i=n(66817);e.InteractionOptions=function(t){return i.BackboneShim(t)}},97909:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidInteraction=void 0;var o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getModuleAction=function(){},e.prototype.isValid=function(){return!1},e}(n(57882).BaseInteraction);e.InvalidInteraction=o},66455:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleReducedMotionInteraction=void 0;var a=n(57882),s=o(n(52272)),u=n(57824),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_TOGGLE_REDUCED_MOTION},e.prototype.isValid=function(){return s.default.hasFeature(u.FeatureFlagName.ACCESSIBILITY)},e}(a.BaseInteraction);e.ToggleReducedMotionInteraction=l},39972:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerVisibilityInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return!!this.layerTargets&&t.prototype.isValid.call(this)},e}(n(55873).BaseVisibilityInteraction);e.BaseLayerVisibilityInteraction=o},44865:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CycleNextInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return!!t.prototype.shouldTriggerAction.call(this,e)&&(this.pageView.invokeCycleNextAction(this.layerTargets),t.prototype.triggerAction.call(this,e))},e}(n(55873).BaseVisibilityInteraction);e.CycleNextInteraction=o},91370:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CyclePreviousInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return!!t.prototype.shouldTriggerAction.call(this,e)&&(this.pageView.invokeCyclePreviousAction(this.layerTargets),t.prototype.triggerAction.call(this,e))},e}(n(55873).BaseVisibilityInteraction);e.CyclePreviousInteraction=o},21321:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HideLayersInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return!!t.prototype.shouldTriggerAction.call(this,e)&&(this.pageView.invokeHideAction(this.layerTargets),t.prototype.triggerAction.call(this,e))},e}(n(39972).BaseLayerVisibilityInteraction);e.HideLayersInteraction=o},43369:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShowLayersInteraction=void 0;var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.createHoverArea=!!e.createHoverArea,i}return r(e,t),e.prototype.triggerAction=function(e){return!!t.prototype.shouldTriggerAction.call(this,e)&&(this.pageView.invokeShowAction(this.layerTargets),t.prototype.triggerAction.call(this,e))},e.prototype.getHoverTargets=function(){var t=this;if(!this.createHoverArea)return this.layerTargets;if(!this.layerTargets)return[];var e=[];return this.layerTargets.forEach((function(n){e.push(n);var i=t.pageView.findChildView(n);i&&i.childViews&&i.childViews.forEach((function(n){t.getAllValidLayerTargets(n,e)}))})),e},e.prototype.shouldCreateHoverArea=function(){return this.createHoverArea},e.prototype.getAllValidLayerTargets=function(t,e){var n=this;void 0===e&&(e=[]),t.visible&&e.push(t.id),"folder"===t.options.type&&t.childViews&&t.childViews.forEach((function(t){n.getAllValidLayerTargets(t,e)}))},e}(n(39972).BaseLayerVisibilityInteraction);e.ShowLayersInteraction=o},10052:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleLayersInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return!!t.prototype.shouldTriggerAction.call(this,e)&&(this.pageView.invokeToggleAction(this.layerTargets),t.prototype.triggerAction.call(this,e))},e}(n(39972).BaseLayerVisibilityInteraction);e.ToggleLayersInteraction=o},5007:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BasePageURLInteraction=void 0;var a=n(15691),s=o(n(15014)),u=o(n(8030)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){if(!u.default.isEmbedded){var t=s.default.parseLayoutFromLocation(),e=this.pageView.documentVersion.getNearestEnabledPage(Math.max(1,this.getTargetPageNumber()));return s.default.buildUri("page_number",e,t)}},e}(a.BaseURLInteraction);e.BasePageURLInteraction=l},15691:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseURLInteraction=void 0;var s=a(n(96486)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"domTagOverride",{get:function(){if("click"===this.trigger&&this.isValid()){var t=s.default.escape(this.constructUrl());return t?{tagName:"a",priority:2,attributes:o(o({},this.customAttributes()),{href:t})}:{tagName:"button",priority:1,attributes:this.customAttributes()}}},enumerable:!1,configurable:!0}),e.prototype.customAttributes=function(){return{}},e}(n(57882).BaseInteraction);e.BaseURLInteraction=u},3056:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GoToPageInteraction=void 0;var a=o(n(96486)),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.pageTarget=0,a.default.isString(e.pageTarget)?i.pageTarget=parseInt(String(e.pageTarget).replace(/#/,""),10):e.pageTarget&&(i.pageTarget=e.pageTarget),i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_PAGE},e.prototype.isValid=function(){return!!this.pageTarget&&t.prototype.isValid.call(this)},e.prototype.getTargetPageNumber=function(){return this.pageTarget},e}(n(5007).BasePageURLInteraction);e.GoToPageInteraction=s},9969:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GoToURLInteraction=void 0;var a=o(n(65311)),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.domain=a.default("<a>",{href:e.url}).get(0).hostname||void 0,i.urlOpenInNewWindow=e.urlOpenInNewWindow||!1,i.url=e.url||"",i}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.constructUrl=function(){return this.url},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_URL},e.prototype.isValid=function(){return("submit"!==this.trigger||!this.urlOpenInNewWindow)&&!!this.url&&t.prototype.isValid.call(this)},e}(n(15691).BaseURLInteraction);e.GoToURLInteraction=s},75864:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NextPageInteraction=void 0;var a=n(5007),s=o(n(96486)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_NEXT_PAGE},e.prototype.getTargetPageNumber=function(){var t=s.default.get(this.pageView,"model.pageIndex")+1;return t?t+1:0},e}(a.BasePageURLInteraction);e.NextPageInteraction=u},21577:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PreviousPageInteraction=void 0;var a=n(5007),s=o(n(96486)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_PREV_PAGE},e.prototype.getTargetPageNumber=function(){var t=s.default.get(this.pageView,"model.pageIndex")+1;return t?t-1:0},e}(a.BasePageURLInteraction);e.PreviousPageInteraction=u},63194:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToInteraction=void 0;var a=o(n(96486)),s=n(15691),u=n(50877),l=o(n(8030)),c=o(n(52272)),d=n(57824),h=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scrollTargetType=e.scrollTargetType||"",i.scrollTargetScranchor=e.scrollTargetScranchor,i}return r(e,t),e.prototype.constructUrl=function(){var t=c.default.hasFeature(d.FeatureFlagName.ACCESSIBILITY);if(!l.default.isEmbedded)return t&&"top"===this.scrollTargetType?"#"+u.VIEWPORT_TOP_ID:"top"===this.scrollTargetType||"bottom"===this.scrollTargetType?"#page-"+(this.pageView.model.pageIndex+1)+"-"+this.scrollTargetType:"#"+(this.scrollTargetScranchor||"")},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_SCROLL_TO},e.prototype.isValid=function(){switch(this.scrollTargetType){case"top":case"bottom":return!0;case"scranchor":return!!this.scrollTargetScranchor&&!a.default.isEmpty(this.scrollTargetScranchor);default:return!1}},e}(s.BaseURLInteraction);e.ScrollToInteraction=h},35070:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToObjectInteraction=void 0;var u=n(63194),l=s(n(96486)),c=s(n(52272)),d=n(57824),h=function(t){function e(e,n){var i=e.layerTargets,r=a(e,["layerTargets"]),s=l.default.get(i,0);return t.call(this,o(o({},r),{scrollTargetType:"component",scrollTargetScranchor:s}),n)||this}return r(e,t),e.prototype.isValid=function(){if(!c.default.hasFeature(d.FeatureFlagName.ACCESSIBILITY)||!this.scrollTargetScranchor)return!1;var t=this.pageView.model.findLayerById(this.scrollTargetScranchor);return Boolean(t&&!t.fixedPosition)},e.prototype.customAttributes=function(){if(this.isValid()){var t=this.pageView.model.findLayerById(this.scrollTargetScranchor);if("folder"===t.type){var e=this.pageView.model.constructor.findTopmostFolderContent(t);if(e)return{"aria-flowto":e.id}}}return{}},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.layerTargets=e.scrollTargetScranchor?[e.scrollTargetScranchor]:[],delete e.scrollTargetScranchor,delete e.scrollTargetType,e},e}(u.ScrollToInteraction);e.ScrollToObjectInteraction=h},48990:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BringToFrontInteraction=void 0;var a=n(57882),s=n(74260),u=o(n(52272)),l=n(57824),c=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.hasOutTrigger=!0,i.targetsSelf=!0,i.config=e,i.hasOutTrigger="hover"===i.config.trigger,i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_BRING_TO_FRONT},e.prototype.triggerAction=function(e){return!(!t.prototype.shouldTriggerAction.call(this,e)||!t.prototype.triggerAction.call(this,e)||this.hasActiveValidInteractions(this.componentId)||(this.pageView.invokeBringToFront(this.componentId,this.trigger,this.config[s.BringToFrontReverseOption.resetPositionsAndStates],this.config[s.BringToFrontReverseOption.resetPositions]),0))},e.prototype.triggerOutAction=function(){return!(!t.prototype.shouldTriggerOutAction.call(this)||this.hasActiveValidInteractions(this.componentId,!0)||"hover"===this.trigger&&this.pageView.hasActiveClickStateWithLock(this.componentId)||(this.pageView.revokeBringToFront(this.componentId),0))},e.prototype.hasActiveValidInteractions=function(t,e){return!("hover"!==this.trigger||!this.pageView.hasActiveBringToFront(t))||!(e||"hover"!==this.trigger||!this.pageView.hasActiveClickStateWithLock(t))||!(e||!this.pageView.hasActiveCustomStateWithLock(t))},e.prototype.isValid=function(){return u.default.hasFeature(l.FeatureFlagName.POSITION_INTERACTIONS)},e.prototype.getHoverTargets=function(){return[this.componentId]},e}(a.BaseInteraction);e.BringToFrontInteraction=c},12649:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ResetPositionsInteraction=void 0;var a=n(55873),s=n(57824),u=o(n(52272)),l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.config=e,i}return r(e,t),e.prototype.isValid=function(){return u.default.hasFeature(s.FeatureFlagName.POSITION_INTERACTIONS)},e.prototype.triggerAction=function(e){var n,i=this;return!!t.prototype.shouldTriggerAction.call(this,e)&&!!t.prototype.triggerAction.call(this,e)&&(null===(n=this.layerTargets)||void 0===n||n.forEach((function(t){i.pageView.revokeBringToFront(t),i.config.resetObjectStates&&i.pageView.invokeObjectState(t,"default")})),!0)},e}(a.BaseVisibilityInteraction);e.ResetPositionsInteraction=l},41184:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareEmailInteraction=void 0;var a=n(3344),s=o(n(53321)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForEmail(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareEmailInteraction=u},25105:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareFacebookInteraction=void 0;var a=n(3344),s=o(n(53321)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForFacebook(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareFacebookInteraction=u},15197:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareLinkedInInteraction=void 0;var a=n(3344),s=o(n(53321)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForLinkedIn(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareLinkedInInteraction=u},1253:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SharePinterestInteraction=void 0;var a=n(3344),s=o(n(53321)),u=o(n(8030)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){var t=u.default.previewMode?void 0:this.pageView.getThumbnail();return s.default.urlForPinterest(this.urlForCurrentPage(),t)},e}(a.SocialMediaInteraction);e.SharePinterestInteraction=l},52221:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareTwitterInteraction=void 0;var a=n(3344),s=o(n(53321)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForTwitter(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareTwitterInteraction=u},3344:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SocialMediaInteraction=void 0;var a=n(15691),s=o(n(96486)),u=o(n(15014)),l=o(n(54400)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_SHARE_PAGE},e.prototype.urlForCurrentPage=function(){var t=s.default.get(this.pageView,"model.pageIndex",0)+1,e=l.default.removeEmbedParams(u.default.buildUri("page_number",t));return window.location.protocol+"//"+window.location.host+e},e.prototype.isValid=function(){return"submit"!==this.trigger&&t.prototype.isValid.call(this)},e}(a.BaseURLInteraction);e.SocialMediaInteraction=c},55873:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseVisibilityInteraction=void 0;var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.layerTargets=e.layerTargets,i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_LAYER_VISIBILITY},e.prototype.getHoverTargets=function(){return this.layerTargets},e}(n(57882).BaseInteraction);e.BaseVisibilityInteraction=o},5076:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStateInteraction=void 0;var u=n(55873),l=n(6575),c=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.state=e.state,i.lockState=e.lockState,i.hasOutTrigger=!e.lockState,i.targets=e.layerTargets,i.disableHoverArea=!!e.disableHoverArea,i}return r(e,t),e.prototype.isValid=function(){return!(!this.layerTargets||!this.layerTargets.length)},e.prototype.triggerAction=function(e){var n=this;if(!t.prototype.shouldTriggerAction.call(this,e))return!1;var i=this.getTargets();return!!i&&(i.forEach((function(t){n.disableHoverArea&&n.pageView.disableHoverArea(t),n.hasActiveStatesWithLocks(t)?n.pageView.addStateUnderActiveState(t,n.state,n):(n.disableHoverArea||n.pageView.enableHoverArea(t),n.pageView.invokeObjectState(t,n.state),n.pageView.addActiveState(t,n))})),t.prototype.triggerAction.call(this,e))},e.prototype.triggerOutAction=function(){var e=this;return!!t.prototype.shouldTriggerOutAction.call(this)&&!!this.hasOutTrigger&&(this.getTargets().forEach((function(t){e.pageView.revokeObjectState(t,e.state),e.hasActiveStatesWithLocks(t)||e.pageView.removeActiveState(t,e)})),!0)},e.prototype.hasActiveStatesWithLocks=function(t){return!("default"===this.state||("hover"!==this.state||!this.pageView.hasActiveClickStateWithLock(t))&&("hover"!==this.state&&"click"!==this.state||!this.pageView.hasActiveCustomStateWithLock(t)))},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_CHANGE_STATE},e.prototype.getTargets=function(){var t=this;if(!this.targets)return[];if(this.cachedTargets)return this.cachedTargets;var e=[];return this.targets.forEach((function(n){var i,r=t.pageView.findChildView(n);if(r)if(t.isValidTarget(r)&&(i=n),r.childViews){var o=[];r.childViews.forEach((function(e){t.getAllValidChildrenLayerTargets(e,o,r.isComponent()&&r.linkInteraction)})),o.length&&(i&&e.push(i),e.push.apply(e,s(o)))}else i&&e.push(i)})),this.cachedTargets=e||[],e},e.prototype.getAllValidChildrenLayerTargets=function(t,e,n){var i=this;this.isValidTarget(t)&&e.push(t.id),t.isComponent()&&t.childViews&&(t.linkInteraction||n)&&t.childViews.forEach((function(t){i.getAllValidChildrenLayerTargets(t,e,!0)}))},e.prototype.getHoverTargets=function(){return this.getTargets()},e.prototype.isValidTarget=function(t){return t.isComponent()&&(t.linkInteraction||!!t.hasObjectState(this.state))},e.prototype.shouldTriggerOnKeyboardNavigation=function(){return!(!1===this.lockState&&"mouseDown"===this.trigger)},o([l.InteractionOptions({hasOutTrigger:!0})],e)}(u.BaseVisibilityInteraction);e.ChangeStateInteraction=c},13020:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FullScreenInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){},e.prototype.triggerAction=function(e){if(!t.prototype.shouldTriggerAction.call(this,e))return!1;var n=document.body;return n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen(),!0},e.prototype.isValid=function(){return"submit"!==this.trigger&&t.prototype.isValid.call(this)},e}(n(57882).BaseInteraction);e.FullScreenInteraction=o},71525:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HideComponentInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return!!t.prototype.shouldTriggerAction.call(this,e)&&(this.pageView.invokeHideOnlyAction(this.layerTargets),t.prototype.triggerAction.call(this,e))},e}(n(55873).BaseVisibilityInteraction);e.HideComponentInteraction=o},42311:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LightboxVisibilityInteraction=void 0;var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.lightboxHasCloseButton=e.lightboxHasCloseButton||!1,i.lightboxHeight=e.lightboxHeight||0,i.lightboxWidth=e.lightboxWidth||0,i.lightboxUrl=e.lightboxUrl||"",i}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX},e}(n(57882).BaseInteraction);e.LightboxVisibilityInteraction=o},95767:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PageVisibilityInteraction=void 0;var a=o(n(96486)),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.pageTargets=e.pageTargets||[],i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_ENABLE_DISABLE_PAGES},e.prototype.isValid=function(){return!a.default.isEmpty(this.pageTargets)},e}(n(57882).BaseInteraction);e.PageVisibilityInteraction=s},54305:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ProductPanelVisibilityInteraction=void 0;var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.productPanelId=e.productPanelId||"",i}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL},e.prototype.isValid=function(){return!!this.productPanelId&&t.prototype.isValid.call(this)},e}(n(57882).BaseInteraction);e.ProductPanelVisibilityInteraction=o},72736:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShoppingCartVisibilityInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART},e}(n(57882).BaseInteraction);e.ShoppingCartVisibilityInteraction=o},20536:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShowComponentInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return!!t.prototype.shouldTriggerAction.call(this,e)&&(this.pageView.invokeShowOnlyAction(this.layerTargets),t.prototype.triggerAction.call(this,e))},e}(n(55873).BaseVisibilityInteraction);e.ShowComponentInteraction=o},85019:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n){return t.call(this,"document.body.dispatchEvent",new CustomEvent(e,{detail:n}))||this}return r(e,t),e.prototype.toJSON=function(){return{functionPath:this.functionPath,args:[this.args[0].type,{detail:this.args[0].detail}]}},e}(o(n(13827)).default);e.default=a},13827:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=function(){function t(t,e){this.functionPath=t,this.args=r.default.isArray(e)?e:[e]}return t.prototype.invoke=function(){var t=window,e=r.default.get(window,this.functionPath),n=this.functionPath.split(".").slice(0,-1).join(".");if(n&&(t=r.default.get(t,n)),t&&e&&"function"==typeof e)return e.apply(t,this.args)},t.prototype.toJSON=function(){return{functionPath:this.functionPath,args:this.args}},t.prototype.toString=function(){return JSON.stringify(this.toJSON())},t}();e.default=o},26883:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(96486)),u=a(n(15849)),l=a(n(95475)),c=["player","previewer","editor"],d=function(t){function e(e){var n=t.call(this,e)||this;return n.eventHandlerMap={},n.scrollProxyHandle=l.default,n}return r(e,t),e.prototype.sendEvent=function(t,e){this.isEnabled()&&this.eventHandlerMap[t]&&this.eventHandlerMap[t].call(this,e)},e.prototype.invokeOnParentPage=function(t){var e;t=s.default.isArray(t)?t:[t];var n=s.default.map(t,(function(t){return t.toJSON()}));null===(e=this.scrollProxyHandle)||void 0===e||e.invokeGlobalFunctions(n)},e.prototype.registerEventHandler=function(t,e){var n,i;if(this.containsAppName(t))this.eventHandlerMap[t]=e;else try{for(var r=o(c),a=r.next();!a.done;a=r.next()){var s=a.value;this.eventHandlerMap[s+"."+t]=e}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},e.prototype.containsAppName=function(t){var e=t.split(".");return s.default.includes(c,e[0])},e}(u.default);e.default=d},84503:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(97575)),l=s(n(8030)),c=s(n(15014)),d=s(n(85019)),h=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.globalContext=l.default,n.isEmbedded=n.globalContext.isEmbedded,n.registerEventHandler("experience.open",n.handleExperienceOpenEvent),n.registerEventHandler("page.view",n.handlePageViewEvent),n.registerEventHandler("component.click",n.handleClickComponentEvent),n.registerEventHandler("component.hover",n.handleHoverComponentEvent),n.registerEventHandler("video.play",n.handleVideoPlayEvent),n.registerEventHandler("video.progress_percent",n.handleVideoProgressPercentEvent),n.registerEventHandler("video.progress_time",n.handleVideoProgressTimeEvent),n.registerEventHandler("component.form_submit",n.handleFormSubmitEvent),n.registerEventHandler("link.click",n.handleLinkClickEvent),n.registerEventHandler("lightbox.click",n.handleLightboxClickEvent),n}return r(e,t),e.prototype.handleExperienceOpenEvent=function(t){this.sendCustomEvent("experience-open",{pageNum:t.page_num,pageName:t.page_name})},e.prototype.handlePageViewEvent=function(t){this.sendCustomEvent("page-view",{page:c.default.buildUriForPageNumber(t.page_num),pageNum:t.page_num,pageName:t.page_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleClickComponentEvent=function(t){this.sendCustomEvent("component-click",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleLinkClickEvent=function(t){this.sendCustomEvent("link-click",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,url:t.outgoing_url,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleLightboxClickEvent=function(t){this.sendCustomEvent("lightbox-click",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,lightboxUrl:t.lightbox_url,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleHoverComponentEvent=function(t){this.sendCustomEvent("component-hover",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleVideoPlayEvent=function(t){this.sendCustomEvent("video-play",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleVideoProgressTimeEvent=function(t){this.sendCustomEvent("video-progress-time",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,videoPosition:t.video_position,videoPlayTime:t.video_play_time,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleVideoProgressPercentEvent=function(t){this.sendCustomEvent("video-progress-percent",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,videoProgressPct:t.video_progress_percent,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleFormSubmitEvent=function(t){this.sendCustomEvent("form-submit",{pageNum:t.page_num,pageName:t.page_name,formId:t.form_origin_form_id,formName:t.form_origin_form_name,componentName:t.component_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.sendCustomEvent=function(t,e){var n=Object.assign({},e,{eventType:t,experienceName:this.globalContext.issue.name});n.pageName||delete n.pageName,n.sdkPayload||delete n.sdkPayload,n.sdkTags&&0!==n.sdkTags.length?n.sdkTags=a(n.sdkTags):delete n.sdkTags;var i=new d.default("ceros-analytics-event",n);this.globalContext.previewMode&&u.default.forceInfo("Ceros Analytics Event: ",i.toString()),i.invoke(),this.globalContext.isEmbedded&&this.invokeOnParentPage(i)},e}(s(n(26883)).default);e.default=h},90597:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Scranchor=void 0;var a=o(n(65311)),s=o(n(96486)),u=function(t){function e(e){var n=t.call(this,void 0,void 0)||this;return n.x=0,n.y=0,n.model={type:"scranchor"},n.childViews=[],n.y=e.top||0,n.$el=a.default("<a>",{class:"scranchor",id:e.id,tabindex:-1}).css({position:"absolute",top:n.y,left:n.x,height:0,width:e.width}),e.id.match(/^page-[0-9]+-top$/)&&n.$el.on("focus",(function(){n.$el.attr("tabindex",1)})).on("blur",(function(){n.$el.attr("tabindex",-1)})),n}return r(e,t),e.prototype.adjustYCoordinateWithinGroup=function(){var t=this;this.$el.parents(".group, .smart-group").each((function(e,n){t.y-=parseInt(n.style.top||"0"),t.$el.css("top",t.y)}))},e.scranchorsForPage=function(t){var n=[],i=t.model.getPageWidth(t.documentVersion),r=t.model.getPageHeight(t.documentVersion);return n.push(new e({width:i,id:"page-"+(t.model.pageIndex+1)+"-top"})),s.default.forEach(t.model.getScranchorsForCurrentVariant(),(function(t,r){n.push(new e({top:t,id:r,width:i}))})),n.push(new e({top:r-1,width:i,id:"page-"+(t.model.pageIndex+1)+"-bottom"})),n},e}(o(n(87557)).default);e.Scranchor=u},35256:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleBoundaries=void 0;var n=function(){function t(t,e,n,i){this.hasXBoundaries=!1,this.topY=t,this.bottomY=e,null!=n&&null!=i&&(this.hasXBoundaries=!0,this.leftX=n,this.rightX=i)}return t.prototype.getEntryAnimationVisibleBoundaries=function(e,n){var i=this.topY,r=this.bottomY,o=this.leftX,a=this.rightX;return i>0&&(i+=50),r<e&&(r-=50),this.hasXBoundaries&&(o>0&&(o+=50),a<n&&(a-=50)),new t(i,r,o,a)},t}();e.VisibleBoundaries=n},36403:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPageChildView=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isComponent=function(){return this._isComponent},e}(o(n(63113)).default);e.AbstractPageChildView=a},6232:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTransformableGroupView=void 0;var a=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype._applyRotation=function(e){this.childrenUseBlendingModes()||t.prototype._applyRotation.call(this,e)},e.prototype.getCurrentHighestZIndex=function(){var e,n=null===(e=this.childViews)||void 0===e?void 0:e.reduce((function(t,e){return t.getCurrentHighestZIndex()>e.getCurrentHighestZIndex()?t:e})),i=t.prototype.getCurrentHighestZIndex.call(this),r=(null==n?void 0:n.getCurrentHighestZIndex())||-1;return i>r?i:r},e.prototype.isUsingHoverAreaForMouseOut=function(){return!1},e}(o(n(45643)).default);e.AbstractTransformableGroupView=a},21833:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FolderView=void 0;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isComponent=!1,e}return r(e,t),e.prototype.addStateUnderActiveState=function(t,e,n){var i=this.childViews;i&&i.forEach((function(t){t.addStateUnderActiveState(e,n)}))},e.prototype.invokeObjectState=function(t){this.childViews&&this.childViews.forEach((function(e){e.invokeObjectState(t)}))},e.prototype.revokeObjectState=function(t,e){this.childViews&&this.childViews.forEach((function(n){n.revokeObjectState(t,e)}))},e.prototype.removeAllActiveStates=function(){this.childViews&&this.childViews.forEach((function(t){t.removeAllActiveStates()}))},e.prototype.addActiveState=function(t){this.childViews&&this.childViews.forEach((function(e){e.addActiveState(t)}))},e.prototype.removeActiveState=function(t){this.childViews&&this.childViews.forEach((function(e){e.removeActiveState(t)}))},e.prototype.setZIndex=function(t,e){var n;null===(n=this.childViews)||void 0===n||n.forEach((function(n){n.setZIndex(t,e)}))},e.prototype.resetZIndex=function(){var t;null===(t=this.childViews)||void 0===t||t.forEach((function(t){t.resetZIndex()}))},e.prototype.getCurrentHighestZIndex=function(){return this.childViews&&this.childViews.length?this.childViews.reduce((function(t,e){return t.getCurrentHighestZIndex()>e.getCurrentHighestZIndex()?t:e})).getCurrentHighestZIndex():0},e.prototype.hasActiveClickStateWithLock=function(){return!!this.childViews&&this.childViews.every((function(t){return t.hasActiveClickStateWithLock()}))},e.prototype.hasActiveCustomStateWithLock=function(){return!!this.childViews&&this.childViews.every((function(t){return t.hasActiveCustomStateWithLock()}))},e.prototype.isInNonDefaultState=function(){return!!this.childViews&&this.childViews.some((function(t){return t.isInNonDefaultState()}))},e.prototype.hasActiveBringToFront=function(){var t;return!!this.childViews&&(null===(t=this.childViews)||void 0===t?void 0:t.some((function(t){return t.hasActiveBringToFront()})))},e}(o(n(40729)).default);e.FolderView=a},83530:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MaskGroupView=void 0;var a=o(n(71868)),s=o(n(96486)),u=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.$el.addClass("mask-group"),n}return r(e,t),e.prototype.isMaskGroup=function(){return!0},e.prototype.isAlphaMask=function(){var t=s.default.uniq(this.childViews.map((function(t){return t.options.type})));return 1===t.length&&t.includes("image-component")},e.prototype.getMaskView=function(){return this.maskView||(this.maskView=this.childViews.find((function(t){return t.options.maskInfo&&!t.options.maskInfo.isBaseMaskObject}))),this.maskView},e.prototype.getWrappedView=function(){return this.wrappedView||(this.wrappedView=this.childViews.find((function(t){return t.options.maskInfo&&t.options.maskInfo.isBaseMaskObject}))),this.wrappedView},e.prototype.bindClickInteraction=function(){},e.prototype.bindMouseDownInteraction=function(){},e.prototype.bindMouseOverInteraction=function(){},e.prototype.assignCursor=function(){},e.prototype._configureInteractions=function(){t.prototype._configureInteractions.call(this),this.bindClickSelectInteraction()},e.prototype.unbindInteractions=function(){t.prototype.unbindInteractions.call(this),this.getInteractionTarget().off("keydown",this.handleKeydown)},e.prototype.bindClickSelectInteraction=function(){this.getInteractionTarget().on("keydown",this.handleKeydown.bind(this))},e.prototype.addPointerEventsToChildren=function(){this.isMaskGroup()&&this.isAlphaMask()&&s.default.each(this.childViews,(function(t){t.isBaseMaskObject()&&t.getPointerEventsTarget().css("pointer-events","auto")}))},e}(a.default);e.MaskGroupView=u},66103:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PageView=void 0;var a=o(n(98269)),s=n(14449),u=o(n(80771)),l=n(46792),c=o(n(96486)),d=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.activeClicksForInteractions=[],n.activeBringToFrontInteractionTargets=[],n.activeChangeStateInteractionTargets=[],n.mouseMovePositionWhileEditModeToggleOn={pageX:0,pageY:0},n.mouseMovePositionLast={pageX:0,pageY:0},n}return r(e,t),e.prototype.addStateUnderActiveState=function(t,e,n){var i=this.findChildView(t);i&&i.addStateUnderActiveState(e,n)},e.prototype.invokeObjectState=function(t,e){var n=this.findChildView(t);n&&(n.invokeObjectState(e),n.isInNonDefaultState()?this.activeChangeStateInteractionTargets.push(n.id):this.activeChangeStateInteractionTargets=this.activeChangeStateInteractionTargets.filter((function(t){return t!==n.id})))},e.prototype.revokeObjectState=function(t,e){var n=this.findChildView(t);n&&(n.revokeObjectState(e),n.isInNonDefaultState()||(this.activeChangeStateInteractionTargets=this.activeChangeStateInteractionTargets.filter((function(t){return t!==n.id}))))},e.prototype.hasActiveHover=function(t){var e=t.getParentsWithLinkInteraction();return!!this.activeHoversGroupedByInteraction.find((function(n){return!!n.find((function(n){return n.target.id===t.id||!!e.find((function(t){return n.target.id===t}))}))}))},e.prototype.removeAllActiveStates=function(t){var e=this.findChildView(t);e&&e.removeAllActiveStates()},e.prototype.removeActiveState=function(t,e){var n=this.findChildView(t);n&&n.removeActiveState(e)},e.prototype.addActiveState=function(t,e){var n=this.findChildView(t);n&&n.addActiveState(e)},e.prototype.addActiveClickAndBindMouseEvents=function(t,e){var n;if(0===this.activeClicksForInteractions.length){var i=u.default.touch()?"touchend":"mouseup";this.$pageScroll.on(i,this.handleMouseUp.bind(this)),null===(n=this.$pinnedContainer)||void 0===n||n.on(i,this.handleMouseUp.bind(this))}this.activeClicksForInteractions.push({object:t,interaction:e})},e.prototype.deactivateClicks=function(){var t;this.activeClicksForInteractions=[];var e=u.default.touch()?"touchend":"mouseup";this.$pageScroll.off(e),null===(t=this.$pinnedContainer)||void 0===t||t.off(e)},e.prototype.handleMouseUp=function(){this.activeClicksForInteractions.forEach((function(t){t.object.triggerMouseUpAction(t.interaction)})),this.deactivateClicks()},e.prototype.deactivateInteraction=function(t){if("hover"===t.trigger){var e=this.activeHoversGroupedByInteraction.map((function(e){var n=e.findIndex((function(e){return e.interaction===t}));return-1!==n&&e.splice(n,1),e})).filter((function(t){return!!t.length}));this.activeHoversGroupedByInteraction=e,this.activeHoversGroupedByInteraction.length||this.deactivateHovers()}else if("click"===t.trigger||"mouseDown"===t.trigger){var n=this.activeClicksForInteractions.filter((function(e){return e.interaction!==t}));this.activeClicksForInteractions=n,this.activeClicksForInteractions.length||this.deactivateClicks()}},e.prototype.disableHoverArea=function(t){var e=this.findChildView(t);e&&e.isComponent()&&!e.isHoverAreaDisabled()&&e.disableHoverArea()},e.prototype.enableHoverArea=function(t){var e=this.findChildView(t);e&&e.isComponent()&&e.isHoverAreaDisabled()&&e.enableHoverArea()},e.prototype.isHoverAreaDisabled=function(t){var e=this.findChildView(t);return!(!e||!e.isComponent())&&e.isHoverAreaDisabled()},e.prototype.getHighestIndex=function(){return this.childViews.reduce((function(t,e){return t.getCurrentHighestZIndex()>e.getCurrentHighestZIndex()?t:e})).getCurrentHighestZIndex()},e.prototype.invokeBringToFront=function(t,e,n,i){var r=this.getHighestIndex()+1;this.setZIndex(t,r,e),this.activeBringToFrontInteractionTargets.push(t),(n||i)&&this.revokeAllBringToFrontInteractions(t),n&&this.revokeAllObjectStates(t)},e.prototype.revokeBringToFront=function(t){this.resetZIndex(t),this.activeBringToFrontInteractionTargets=this.activeBringToFrontInteractionTargets.filter((function(e){return t!==e}))},e.prototype.revokeAllBringToFrontInteractions=function(t){var e=this;this.activeBringToFrontInteractionTargets=this.activeBringToFrontInteractionTargets.filter((function(n){return n!==t&&e.resetZIndex(n),n!==t}))},e.prototype.revokeAllObjectStates=function(t){var e=this;this.activeChangeStateInteractionTargets=this.activeChangeStateInteractionTargets.filter((function(n){return n!==t&&e.invokeObjectState(n,"default"),n===t}))},e.prototype.setZIndex=function(t,e,n){var i=this.findChildView(t);i&&i.setZIndex(e,n)},e.prototype.resetZIndex=function(t){var e=this.findChildView(t);e&&e.resetZIndex()},e.prototype.hasActiveClickStateWithLock=function(t){var e=this.findChildView(t);return!!e&&e.hasActiveClickStateWithLock()},e.prototype.hasActiveCustomStateWithLock=function(t){var e=this.findChildView(t);return!!e&&e.hasActiveCustomStateWithLock()},e.prototype.hasActiveBringToFront=function(t){var e=this.findChildView(t);return!!e&&e.hasActiveBringToFront()},e.prototype.createHoverArea=function(t){return s.HoverAreaComponentFactory.createHoverAreaComponent(t)},e.prototype.addActiveHoverAndBindMouseEvents=function(t,e){this.bindMouseEvents(),this.addActiveHover(t,e)},e.prototype.bindMouseEvents=function(){var t;0===this.activeHoversGroupedByInteraction.length&&(this.$pageScroll.on("mousemove",c.default.bind(this.handleMouseMove,this)),this.$pageScroll.on("mouseleave",c.default.bind(this.handleMouseLeave,this)),null===(t=this.$pinnedContainer)||void 0===t||t.on("mousemove",c.default.bind(this.handleMouseMove,this)))},e.prototype.resetInteractionsAfterEditModeToggleOff=function(){l.editorToggleService.editMode||(this.revokeAllBringToFrontInteractions(""),this.simulateMouseMovement(this.mouseMovePositionWhileEditModeToggleOn),this.mouseMovePositionWhileEditModeToggleOn={pageX:this.mouseMovePositionLast.pageX,pageY:this.mouseMovePositionLast.pageY})},e.prototype.simulateMouseMovement=function(t){var e=this,n=function(t){setTimeout((function(){e.handleMouseMove(t)}),100)};n({pageX:0,pageY:0}),n(t)},e}(a.default);e.PageView=d},49986:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractComponentView=void 0;var s=a(n(96486)),u=a(n(80771)),l=a(n(617)),c=a(n(16982)),d=n(47679),h=n(98866),f=a(n(29231)),p=n(95825),g=a(n(8030)),m=a(n(87967)),v=a(n(54777)),y=a(n(16080)),_=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n._isComponent=!0,n.renderedComponentWasUsed=!1,n.activeStateInteractions=[],n}return r(e,t),e.prototype.render=function(){return this.useRenderedComponentsHTML(),t.prototype.render.call(this),this.applyTransition(),this.setStateValues(),this.createHoverArea(),this},e.prototype.setStateValues=function(){var t=this;this.options.states&&!s.default.isEmpty(this.options.states)&&this.options.states.forEach((function(e){t.applyDeltaValuesToCoordinateProperties(e),Object.keys(e.config).forEach((function(n){t.diffStateProperty(e,n)}))}))},e.prototype.diffStateProperty=function(t,e){s.default.get(t.config,e)===s.default.get(this.options,e)&&s.default.set(t.config,e,void 0)},e.prototype.hasObjectState=function(t){var e;return"default"===t||!!(null===(e=this.options.states)||void 0===e?void 0:e.find((function(e){return e.state===t})))},e.prototype.getObjectState=function(t){var e;if(t)return null===(e=this.options.states)||void 0===e?void 0:e.find((function(e){return e.state===t}))},e.prototype.applyDeltaValuesToCoordinateProperties=function(t){s.default.isNil(this.options.x)||(t.config.deltaX=t.config.deltaX||0,t.config.x=this.options.x+t.config.deltaX),s.default.isNil(this.options.y)||(t.config.deltaY=t.config.deltaY||0,t.config.y=this.options.y+t.config.deltaY),s.default.isNil(this.options.x2)||(t.config.deltaX2=t.config.deltaX2||0,t.config.x2=this.options.x2+t.config.deltaX2),s.default.isNil(this.options.y2)||(t.config.deltaY2=t.config.deltaY2||0,t.config.y2=this.options.y2+t.config.deltaY2)},e.prototype.getExtentsFromObjectState=function(t){var e=this.getExtentsDimensionData(!0),n=this.getObjectState(t),i=e;n&&(n.config.deltaX&&void 0!==n.config.x&&(i.x=n.config.x),n.config.deltaY&&void 0!==n.config.y&&(i.y=n.config.y),n.config.border&&void 0!==n.config.border.width&&(i.borderWidth=n.config.border.width),n.config.width&&(i.width=n.config.width),n.config.height&&(i.height=n.config.height),n.config.rotation&&(i.rotation=n.config.rotation));var r=c.default.getExtentsPointsFromDimensions(i.x,i.y,i.width,i.height,i.rotation,i.borderWidth);return this._transformPointsToExtents(r)},e.prototype.getExtentsDimensionData=function(t){var e,n,i=t?null:this.getObjectState(this.options.selectedState);return{x:i&&i.hasPositionChange()?i.config.x:this.options.x,y:i&&i.hasPositionChange()?i.config.y:this.options.y,width:i&&i.hasDimensionsChange()?i.config.width:this.options.width,height:i&&i.hasDimensionsChange()?i.config.height:this.options.height,rotation:-Math.toRad((i&&i.hasRotationChange()?i.config.rotation:this.options.rotation)||0),borderWidth:(i&&i.hasBorderChange()?null===(e=i.config.border)||void 0===e?void 0:e.width:null===(n=this.options.border)||void 0===n?void 0:n.width)||0}},e.prototype.applyScale=function(t,e,n,i){void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height),void 0===n&&(n=this.options.x),void 0===i&&(i=this.options.y);var r=t/this.options.width,o=e/this.options.height;p.CssUtils.setTransformToElement(this.$el,{scale:{x:r,y:o}}),this.applyPositionToScaledObject(n,i,t,e)},e.prototype.applyPositionToScaledObject=function(t,e,n,i){void 0===t&&(t=this.options.x),void 0===e&&(e=this.options.y),void 0===n&&(n=this.options.width),void 0===i&&(i=this.options.height);var r=(n-this.options.width)/2,o=(i-this.options.height)/2;this._applyPosition(t+r,e+o)},e.prototype.addStateUnderActiveState=function(t,e){if(!this.activeStateInteractions.some((function(e){return e.state===t}))&&this.activeStateInteractions&&this.activeStateInteractions.length>0){var n=this.activeStateInteractions.findIndex((function(t){return t.lockState}));n>=0&&this.activeStateInteractions.splice(n,0,e)}},e.prototype.invokeObjectState=function(t,e){void 0===e&&(e=!1),"default"===t&&this.isInNonDefaultState()&&this.revertToDefaultState();var n=this.getObjectState(t);n&&this.applyState(n,e)},e.prototype.applyState=function(t,e){void 0===e&&(e=!1);var n="default"!==this.options.selectedState?this.getObjectState(this.options.selectedState):void 0;this.options.selectedState=t.state||"default",this.callObjectStateInvoker(t,n),e||v.default.trigger("viewport.send_state_data")},e.prototype.callObjectStateInvoker=function(t,e){h.ObjectStateInvoker.invokeObjectState(this,t,e)},e.prototype.revertToDefaultState=function(){var t=new d.ObjectState({state:"default"});this.activeStateInteractions=[],this.applyState(t)},e.prototype.revokeObjectState=function(t){var e,n;if(this.getObjectState(t)){var i=t===(null===(e=this.getCurrentActiveChangeStateInteraction())||void 0===e?void 0:e.state);if(this.activeStateInteractions=this.activeStateInteractions.filter((function(e){return e.state!==t})),i){var r=this.getObjectState(null===(n=this.getCurrentActiveChangeStateInteraction())||void 0===n?void 0:n.state);r?this.applyState(r):this.revertToDefaultState()}}},e.prototype.applyTransition=function(t,e){var n=this;if(void 0===t&&(t=this.options.transition),!g.default.shouldReduceMotion)if(t){var i="all "+(t.duration||0)+"s "+(t.easing||"linear")+" "+(t.delay||0)+"s";this.applyTransitionToTarget(i,e);var r=1e3*((t.duration||0)+(t.delay||0));this.transitionTimer&&clearTimeout(this.transitionTimer),this.transitionTimer=setTimeout((function(){n.applyTransitionToTarget("")}),r)}else this.applyTransitionToTarget("")},e.prototype.applyTransitionToTarget=function(t,e){this.$el.css("transition",t),this.$el.css("transition-property",e||"none")},e.prototype.applyDropShadow=function(t,e){var n;void 0===t&&(t=this.options.shadow),void 0===e&&(e=this.options.rotation);var i=this.getApplyShadowTarget(),r=null===(n=i[0])||void 0===n?void 0:n.style.filter,o="";if(r){var a=r.match(/[\w-]*\(.*?\)/g);a&&(o=a.filter((function(t){return!t.startsWith("drop-shadow")})).join(" "))}if(this.hasShadow(t)){var s=p.CssUtils.convertShadowObjectToCssFilter(t,e);i.css("-webkit-filter",s),i.css("filter",s)}else i.css("filter",o),i.css("-webkit-filter",o)},e.prototype.getParentsWithLinkInteraction=function(){return this.options.parentSmartGroup&&this.options.parentSmartGroup.interactions.find((function(t){var e;return"click"===(null===(e=t)||void 0===e?void 0:e.state)}))?[this.options.parentSmartGroup.id]:this.hasParents()?this.parentViews.filter((function(t){return t.isComponent()&&!!t.options.linkInteraction})).map((function(t){return t.id})):[]},e.prototype.triggerMouseUpAction=function(t){t.triggerOutAction()},e.prototype.removeAllActiveStates=function(){var t=this;this.activeStateInteractions.forEach((function(e){t.options.pageView.deactivateInteraction(e)})),this.activeStateInteractions=[]},e.prototype.removeActiveState=function(t){var e=this.activeStateInteractions.findIndex((function(e){return e===t}));-1!==e&&this.activeStateInteractions.splice(e,1),this.options.pageView.deactivateInteraction(t)},e.prototype.addActiveState=function(t){this.activeStateInteractions.find((function(e){return e===t}))||this.activeStateInteractions.push(t)},e.prototype.getCurrentActiveChangeStateInteraction=function(){if(this.activeStateInteractions&&this.activeStateInteractions.length>0)return this.activeStateInteractions[this.activeStateInteractions.length-1]},e.prototype.hasActiveClickStateWithLock=function(){return this.activeStateInteractions.some((function(t){return"click"===t.state&&t.lockState}))},e.prototype.hasActiveCustomStateWithLock=function(){return this.activeStateInteractions.some((function(t){return!("click"===t.state||"hover"===t.state||"default"===t.state)&&t.lockState}))},e.prototype.hasActiveBringToFront=function(){return!!this.activeBringToFrontInteraction},e.prototype.isInNonDefaultState=function(){return"default"!==this.options.selectedState},e.prototype.createHoverArea=function(){(this.isUsingHoverAreaForMouseOut()||this.isMask())&&(this.unbindInteractions(),this.hoverArea||(this.hoverArea=this.options.pageView.createHoverArea(this),this.hoverArea.render()),this._configureInteractions(),this.shouldAddHoverAreaPointerEvents()?this.addPointerEvents():this.removePointerEvents())},e.prototype.enableHoverArea=function(){var t;this.shouldAddHoverAreaPointerEvents(!0)&&(null===(t=this.hoverArea)||void 0===t||t.enableHoverArea(this))},e.prototype.disableHoverArea=function(){var t,e=this;this.usesHoverAreaForInteractions()&&(null===(t=this.hoverArea)||void 0===t||t.getHoverAreaTarget().on("click",(function(){var t;null===(t=e.hoverArea)||void 0===t||t.disableHoverArea(e)})))},e.prototype.isHoverAreaDisabled=function(){var t;return!!(null===(t=this.hoverArea)||void 0===t?void 0:t.isDisabled())},e.prototype.activateHoverArea=function(){var t;this.shouldAddHoverAreaPointerEvents()&&(null===(t=this.hoverArea)||void 0===t||t.activate())},e.prototype.shouldAddHoverAreaPointerEvents=function(t){void 0===t&&(t=!1);var e=this.hoverArea&&!(this.hoverArea.isDisabled()&&!t);return this.visible&&e},e.prototype.isHovered=function(t){var e,n=this.getHoverTarget();return!!(null===(e=this.hoverArea)||void 0===e?void 0:e.isHovered())||n.is((function(t,e){return e.matches(":hover")}))},e.prototype.getComponentActualWidthHeight=function(){var t=this.options.width,e=this.options.height,n=this.options.parentSmartgroup;return n&&(t*=n.options.scaleWidth,e*=n.options.scaleHeight),{width:t,height:e}},e.prototype.getComponentAbsolutePosition=function(){var t=this.options.absoluteX||0,e=this.options.absoluteY||0,n=this.options.parentSmartgroup;if(n){t*=n.options.scaleWidth,t+=n.options.originalX,e*=n.options.scaleHeight,e+=n.options.originalY;var i=Math.toRad(n.options.rotation);if(i){var r=this.options.width*n.options.scaleWidth,o=this.options.height*n.options.scaleHeight,a=this.options.x*n.options.scaleWidth,s=this.options.y*n.options.scaleHeight,u=new f.default.Point(a+r/2,s+o/2),l=n.options.width*n.options.scaleWidth/2,c=n.options.height*n.options.scaleHeight/2;u.rotate(l,c,-i),u.x+=n.options.absoluteX||0,u.y+=n.options.absoluteY||0,t=u.x-r/2,e=u.y-o/2}}return{componentTop:e,componentLeft:t}},e.prototype.getHoverTarget=function(){return this.$el},e.prototype.updatePositionForHoverArea=function(){var t;null===(t=this.hoverArea)||void 0===t||t.updatePosition()},e.prototype.setInitialZIndex=function(t){this.$el.css("z-index",t),this.zIndex=t,this.currentZIndex=t},e.prototype.setZIndex=function(t,e){var n;this.$el.css("z-index",t),this.currentZIndex=t,null===(n=this.hoverArea)||void 0===n||n.setZIndex(t+1),"click"===e&&(this.activeBringToFrontInteraction=!0)},e.prototype.resetZIndex=function(){var t;this.$el.css("z-index",this.zIndex),this.currentZIndex=this.zIndex,null===(t=this.hoverArea)||void 0===t||t.setZIndex(this.zIndex+1),this.activeBringToFrontInteraction=!1},e.prototype.getCurrentHighestZIndex=function(){return this.hoverArea?Math.max(this.hoverArea.currentZIndex,this.currentZIndex):this.currentZIndex},e.prototype.setDimensionsAsAttributes=function(t,e,n){t.attr("width",e),t.attr("height",n)},e.prototype.getPointerEventsTarget=function(){return this.$el},e.prototype.addPointerEvents=function(){var t;this.usesHoverAreaForInteractions()?null===(t=this.hoverArea)||void 0===t||t.activate():this.isMask()||this.isMaskGroup()?(this.getPointerEventsTarget().css("pointer-events","none"),this.addPointerEventsToChildren()):this.getPointerEventsTarget().css("pointer-events","auto")},e.prototype.addPointerEventsToChildren=function(){},e.prototype.removePointerEvents=function(){var t;this.usesHoverAreaForInteractions()?null===(t=this.hoverArea)||void 0===t||t.deactivate():this.getPointerEventsTarget().css("pointer-events","none")},e.prototype.assignCursor=function(){this.hasClickInteraction()||this.hasMouseDownInteraction()||this.options.showHoverCursor?this.getInteractionTarget().css("cursor","pointer"):this.getInteractionTarget().css("cursor","inherit")},e.prototype.getInteractionTarget=function(t){return void 0===t&&(t=!1),!this.hoverArea||this.hoverArea.isDisabled()&&!t?this.getPointerEventsTarget():this.hoverArea.getHoverAreaTarget()},e.prototype.bindClickInteraction=function(){this.hasClickInteraction()||this.isMask()?this.getInteractionTarget().on("click",s.default.bind(this._handleClickInteraction,this)):this.getInteractionTarget().on("click",s.default.bind(this.handleClickWithoutInteraction,this))},e.prototype.bindMouseDownInteraction=function(){(this.hasMouseDownInteraction()||this.isMask())&&this.getInteractionTarget().on("mousedown",s.default.bind(this._handleMouseDownInteraction,this))},e.prototype.bindMouseOverInteraction=function(){(this.hasHoverInteraction()||this.isMask())&&this.getInteractionTarget().on("mouseover",s.default.bind(this._handleMouseOverInteraction,this))},e.prototype.unbindInteractions=function(t){void 0===t&&(t=!1),this.$el.off("click"),this.$el.off("mouseover"),this.$el.off("mouseout"),this.$el.off("keydown"),this.$el.off("mousedown");var e=this.getInteractionTarget(t);e!==this.$el&&(e.off("click"),e.off("mouseover"),e.off("mouseout"),e.off("mousedown")),this.hasAccessibilityFeature&&this.$el.off("keydown",this._handleOnEscKeyPressed)},e.prototype._configureInteractions=function(){this.unbindInteractions(!0),this.assignCursor(),this.bindClickInteraction(),this.bindMouseDownInteraction(),this.bindMouseOverInteraction(),this.bindClickSelectInteraction(),this.hasAccessibilityFeature&&this.$el.on("keydown",this._handleOnEscKeyPressed)},e.prototype.bindClickSelectInteraction=function(){this.$el.on("keydown",this.handleKeydown.bind(this))},e.prototype.shouldTriggerClickOnKeyDown=function(){return!(!this.hasClickInteraction()||!this.hoverArea)},e.prototype.handleKeydown=function(t){var e=t.keyCode;e!==m.default.SPACE&&e!==m.default.ENTER||(this.shouldTriggerClickOnKeyDown()?this._handleClickInteraction(t,!1,void 0,!0):this.handleClickWithoutInteraction(t),this.hasMouseDownInteraction()&&this._handleMouseDownInteraction(t,!0))},e.prototype.setMaskInteractions=function(t){this.options.interactions=t,this.createHoverArea()},e.prototype.usesHoverAreaForInteractions=function(){return!!this.hoverArea&&!this.hoverArea.isDisabled()},e.prototype.isBaseMaskObject=function(){return!1},e.prototype.isMask=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.maskedObjectId))},e.prototype.isMaskGroup=function(){return!1},e.prototype.isAlphaMask=function(){return!1},e.prototype.hasInteractions=function(){var t;return!!(null===(t=this.options.interactions)||void 0===t?void 0:t.length)},e.prototype.getMaskGroup=function(){return[]},e.prototype.isUsingHoverAreaForMouseOut=function(){var t,e=!!(null===(t=this.options.interactions)||void 0===t?void 0:t.find((function(t){return!!t.hasOutTrigger})));return u.default.desktop()&&!this.isBaseMaskObject()&&this.hasInteractions()&&e},e.prototype.getEventInteractionData=function(){var t,e;return this.isMask()&&this.parentViews.length?this.parentViews[0].getEventInteractionData():{componentSlug:this.id,componentName:this.options.title,componentType:this.options.type,pageSlug:null===(t=this.options.pageView.model)||void 0===t?void 0:t.get("slug"),pageName:null===(e=this.options.pageView.model)||void 0===e?void 0:e.get("name"),currentState:this.options.selectedState,sdkTags:this.options.sdkTags,sdkPayload:this.options.sdkPayload}},Object.defineProperty(e.prototype,"linkInteraction",{get:function(){return this.options.linkInteraction||"smartgroup"===this.options.type},enumerable:!1,configurable:!0}),e.prototype.getCurrentValue=function(t){var e=this.getComponentAbsolutePosition(),n=e.componentLeft,i=e.componentTop,r=this.options;if(this.isInNonDefaultState()){var a=this.getObjectState(this.options.selectedState),s=(null==a?void 0:a.config)||{},u=s.deltaX,l=void 0===u?0:u,c=s.deltaY,d={x:n+l,y:i+(void 0===c?0:c)};r=o(o(o({},r),null==a?void 0:a.config),d)}else d={x:n,y:i},r=o(o({},r),d);return r[t]},e.prototype.getEntryAnimations=function(){return this.entryAnimations},e.prototype.getHoverArea=function(){return this.hoverArea},e.prototype.useRenderedComponentsHTML=function(){var t;if(this.renderedComponentWasUsed=!1,"renderedComponentsHTML"in window&&void 0!==renderedComponentsHTML&&(null===(t=this.options)||void 0===t?void 0:t.id)){var e=y.default.currentVariant;if(renderedComponentsHTML[this.options.id]&&renderedComponentsHTML[this.options.id][e]){var n=renderedComponentsHTML[this.options.id][e];n&&(this.$el.replaceWith(n),this.setElement(n),this.renderedComponentWasUsed=!0)}}},e}(l.default);e.AbstractComponentView=_},92056:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractImageComponentView=void 0;var a=o(n(96486)),s=o(n(65311)),u=o(n(80771)),l=n(49986),c=n(95825),d=o(n(8030)),h=o(n(30869)),f=n(62863),p=n(98866),g=function(t){function e(e){var n=t.call(this,e)||this;return n.effects=e.effects,n.shadow=e.shadow,n.imageLoader=e.imageLoader,n.blendingMode=e.blendingMode,n.dimensionsOverride=!1,n.initialEffectsApplied=!1,n.$innerElement=null,n}return r(e,t),e.prototype.initialize=function(){t.prototype.initialize.call(this,this.options),d.default.previewMode&&(this.mediaLoadingScreen=new h.default({height:this.options.height,isImage:!0}),this.$el.append(this.mediaLoadingScreen.$el))},e.prototype.isBaseMaskObject=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.isBaseMaskObject))},e.prototype.isMaskImage=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.maskedObjectId))},e.prototype.isInMask=function(){return!!this.options.maskInfo},e.prototype.render=function(){if(a.default.isNull(this.$innerElement)&&(this.$innerElement=s.default("<img/>"),this.$innerElement.css("display","block"),this.hasShadow(this.options.shadow)?u.default.isIos()&&this.options.shadow.blur&&c.CssUtils.setTransformToElement(this.$innerElement,{translateZ:0}):(u.default.isDesktopSafari()&&f.WebkitUtils.hardwareAccelerateTransform(this.$innerElement),u.default.isIos()&&this.options.fixedPosition&&f.WebkitUtils.hardwareAccelerateTransform(this.$innerElement)),this.isMaskImage()||this.$el.append(this.$innerElement)),this.dimensionsOverride||this.setDimensionsAsAttributes(this.$innerElement,this.options.width,this.options.height),this.isFlipped()&&this._applyImageFlip({flipHorizontal:this.options.flipHorizontal,flipVertical:this.options.flipVertical}),this.isMaskImage()&&(this.options.allWidth=void 0,this.options.allHeight=void 0,this._configureAllWidthAllHeight()),t.prototype.render.call(this),this.imageLoader&&(this.imageLoader.onLowResImageLoaded(this.attachMedia,this),this.imageLoader.onImageLoaded(this.attachMedia,this),d.default.previewMode&&(this.imageLoader.onLowResImageLoaded(this.hideMediaLoadingScreen,this),this.imageLoader.onImageLoaded(this.hideMediaLoadingScreen,this))),!a.default.isNil(this.effects)){var e=!a.default.isEqual(this.effects,this.options.effects);e&&(this.effects=this.options.effects),this._applyImageEffects(this.effects,this.shadow,e)}return a.default.isNil(this.blendingMode)||this._applyBlendingMode(this.blendingMode),this},e.prototype.callObjectStateInvoker=function(t,e){p.ObjectStateInvoker.invokeAbstractImageObjectState(this,t,e)},e.prototype.hideMediaLoadingScreen=function(){this.mediaLoadingScreen.close()},e.prototype._applyImageEffects=function(t,e,n){var i=this;e||(e=this.shadow);var r=c.CssUtils.convertShadowObjectToCssFilter(e,0);t=a.default.isNil(t)?this.effects:t;var o=this.getApplyShadowTarget(),s=o.css("filter"),u="";if(s&&!u){var l=s.match(/drop-shadow\(.*\)/g);l&&(u=l[0])}if(!a.default.isNil(t)){var d=c.CssUtils.computeEffect(t,n);this.applyDefaultEffects(o,u,n,this.initialEffectsApplied),a.default.defer((function(){return i.setFilter(o,d,r)}))}},e.prototype.applyDefaultEffects=function(t,e,n,i){if(n&&!i){var r=c.CssUtils.getCurrentEffects(t),o=c.CssUtils.computeEffect(r,!0);this.setFilter(t,o,e),this.initialEffectsApplied=!0}},e.prototype.setFilter=function(t,e,n){t.css("filter",e+" "+n),t.css("-webkit-filter",e+" "+n)},e.prototype._applyImageFlip=function(t){a.default.isEmpty(t)&&(t={});var e=(a.default.isNil(t.flipHorizontal)?this.options.flipHorizontal:t.flipHorizontal)?-1:1,n=(a.default.isNil(t.flipVertical)?this.options.flipVertical:t.flipVertical)?-1:1;this.isMaskImage()||c.CssUtils.setTransformToElement(this.$innerElement,{scale:{x:e,y:n}})},e.prototype._applyBlendingMode=function(t){if(t=a.default.isNil(t)?this.blendingMode:t,this.isBaseMaskObject()){var e=this.getMaskGroup();e.length>0&&e[0].isAlphaMask()?e[0].getMaskView().$el.css("mix-blend-mode",t):this.$innerElement.parent().css("mix-blend-mode",t)}else this.$innerElement.parent().css("mix-blend-mode",t)},e.prototype.hasBlendingMode=function(){return!a.default.isNil(this.blendingMode)},e.prototype._applyDimensions=function(e,n){this.isMaskImage()?t.prototype._applyDimensions.call(this,this.options.allWidth,this.options.allHeight):t.prototype._applyDimensions.call(this,e,n)},e.prototype._applyPosition=function(e,n,i){this.isMaskImage()?t.prototype._applyPosition.call(this,0,0):t.prototype._applyPosition.call(this,e,n,i)},e.prototype.getApplyDimensionsTarget=function(){return this.isMaskImage()?this.$el:this.$innerElement},e.prototype.getApplyShadowTarget=function(){return this.$innerElement},e.prototype.getHoverTarget=function(){return this.isInMask()?this.getMaskGroup()[0].$el:this.$innerElement},e.prototype.getMaskGroup=function(){var t;return this.parentViews.length>0&&(null===(t=this.parentViews[0].parentViews)||void 0===t?void 0:t.length)>0?this.parentViews[0].parentViews:this.parentViews},e.prototype.getAnimateElements=function(t){return t.find("animate, animateTransform")},e.prototype.getSvgChildren=function(){var t;return null===(t=this.$innerElement)||void 0===t?void 0:t.find("path, polygon, circle, rect, ellipse")},e.prototype.addPointerEvents=function(){var t;this.usesHoverAreaForInteractions()?null===(t=this.hoverArea)||void 0===t||t.activate():this.isBaseMaskObject()||this.getPointerEventsTarget().css("pointer-events","auto")},e}(l.AbstractComponentView);e.AbstractImageComponentView=g},31454:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextComponentView=void 0;var a=o(n(54603)),s=n(98866),u=o(n(29845)),l=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.applyJustification=function(t){void 0===t&&(t=this.options.justify),t&&t.match(/(left|right|center|justify)/)&&(this.$el.css("textAlign",t),this.$el.find(".text-line").css("width","100%"))},e.prototype.callObjectStateInvoker=function(t,e){s.ObjectStateInvoker.invokeTextObjectState(this,t,e)},e.prototype.setDefaultTextStyle=function(t){void 0===t&&(t=this.options.defaultSpan);var e=this._getVariant({variantGuid:t.variantGuid});this.$el.css("textTransform","none");var n=e.getFontWeight();n&&this.$el.css("fontWeight",n);var i=e.getFontStyle();i&&this.$el.css("fontStyle",i),this.$el.css("fontSize",t.fontSize+"px"),this.setFontColor(t)},e.prototype.applyDefaultFont=function(t){void 0===t&&(t=this.options.defaultSpan);var e=this._getVariant({variantGuid:t.variantGuid}).getCssFamilyName();if(e){var n=u.default.formatFamilyNameForCSS(e);this.$el.css("fontFamily",n)}},e.prototype.applyLineHeight=function(t,e){void 0===t&&(t=this.options.leading),void 0===e&&(e=this.options.defaultSpan),this.$el.css("lineHeight",t+"px");var n=this._getDefaultBaselineOffset();n-=(t-e.fontSize)/2,this.$el.find(this.getCurrentHtmlTag()).css("top",n)},e.prototype.setFontColor=function(t){void 0===t&&(t=this.options.defaultSpan),this.$el.css("color",t.fontColor)},e.prototype.renderContent=function(t){void 0===t&&(t=this.options.defaultSpan),this.prepareTextContentAndSpans(),this.applyDefaultFont(t),this._layoutContent()},e.prototype.getHoverTarget=function(){return this.isParagraphMode()?this.$el.find(this.getCurrentHtmlTag()):this.$el.find("span")},e}(a.default);e.TextComponentView=l},36561:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextPlusComponentView=void 0;var l=n(49986),c=u(n(65311)),d=n(34654),h=n(98866),f=n(34147),p=n(66989),g=n(73065),m=n(21218),v=n(2044),y=n(34654),_=function(t){function e(e){var n,i,r=t.call(this,e)||this;r.type="text-plus",r.el.classList.add(d.TextPlusClassName),r.$el.addClass(r.type),r.$el.addClass(d.TextPlusClassName),r.lineHeightCompatibilityMode=(null===(i=null===(n=null==e?void 0:e.pageView)||void 0===n?void 0:n.documentVersion)||void 0===i?void 0:i.get("lineHeightCompatibility"))||d.LINE_HEIGHT_MODE.NO_BASELINE_OFFSET;var o=r.lineHeightCompatibilityMode==d.LINE_HEIGHT_MODE.USE_BASELINE_OFFSET,a=g.createTextViewElements(p.TEXT_ID_START+"-"+r.options.id,o,r.el).editorEl;return o&&r.el.classList.add(y.IS_RENDERING_PLACEHOLDERS),r.editorEl=a,r.fontLoader=e.fontLoader,r}return r(e,t),e.prototype.createTextPlayerEditorView=function(t){var e=new f.TextPlusPlayerEditorView(o(o({},t),{el:this.el,editorEl:this.editorEl,id:p.TEXT_ID_START+"-container-"+t.id}));return e.initialEditorRender(),e},e.prototype.callObjectStateInvoker=function(t,e){h.ObjectStateInvoker.invokeTextPlusObjectState(this,t,e)},e.prototype.applyChanges=function(t){var e;l.AbstractComponentView.prototype.applyChanges.call(this,t),this.options=o(o({},this.options),t),null===(e=this.fontLoader)||void 0===e||e.reload(this.options),this.recreateTextComponent(this.options)},e.prototype.render=function(){var e=this;if(t.prototype.render.call(this),this.renderedComponentWasUsed){var n=function(t){return e.options.fontLoader.waitForFontToLoad(t)},i=function(t){return e.options.fontLoader.getVariant({variantGuid:t})};return this.options.textPlusLazyLoader.addToQueue(this,(function(){return g.setTextContainerAttributes(e.el,e.options),g.adjustMarginsForPlayer(e.el,e.options,i,n,e.lineHeightCompatibilityMode===d.LINE_HEIGHT_MODE.USE_BASELINE_OFFSET)})),this}return this.options.textPlusLazyLoader.addToQueue(this,(function(t){return e.recreateTextComponent(t)})),this},e.prototype.applyStateChanges=function(t){this.recreateTextComponent(o(o({},this.options),t))},e.prototype.removeTextLoadFinished=function(t){t.classList.remove("text-plus-loading-finished-"+this.options.id),t.classList.add("text-plus-loading-"+this.options.id)},e.prototype.addTextLoadFinished=function(t){t.classList.remove("text-plus-loading-"+this.options.id),t.classList.add("text-plus-loading-finished-"+this.options.id)},e.prototype.recreateTextComponent=function(t,e){return void 0===e&&(e=!0),a(this,void 0,Promise,(function(){var n,i,r,o;return s(this,(function(a){switch(a.label){case 0:return n=this.createTextPlayerEditorView(t),this.removeTextLoadFinished(n.getEditorElement()),i=function(t){return n.variantGuidResolver(t)},[4,g.setTextPlusContainerAttributes(n.getEditorElement(),t,i)];case 1:return a.sent(),e?[4,g.setTextPlusContainerAttributes(n.getEditorElement(),t,(function(t){return n.variantGuidResolver(t)}))]:[3,3];case 2:a.sent(),a.label=3;case 3:return r=function(t){return n.waitForFontToLoad(t)},[4,n.getEditor()];case 4:return o=a.sent(),[4,n.renderEditor(o)];case 5:return a.sent(),this.decorateLinks(),[4,g.adjustMarginsForPlayer(n.getEditorElement(),t,i,r,this.lineHeightCompatibilityMode===d.LINE_HEIGHT_MODE.USE_BASELINE_OFFSET)];case 6:return a.sent(),this.addTextLoadFinished(n.getEditorElement()),o.destroy(),[2]}}))}))},e.prototype.decorateLinks=function(){var t=this,e=g.resolveModelOrObject(this.options,"textSpans");this.$el.find("a").each((function(n,i){var r=c.default(i),o=r.html(),a=e.find((function(t){var e;return(null===(e=t.hyperlink)||void 0===e?void 0:e.location.toString())===r.attr("href")}));if(a&&a.hyperlink){var s=new m.InlineLinkProcessor(t,[a]).decorateLink("",a);r.replaceWith(c.default(s).html(o))}})),this.$el.find("span:has(a)").each((function(t,e){var n=e.style.color;e.addEventListener("mouseenter",(function(){e.style.color=v.ColorUtils.isLight(n)?v.ColorUtils.darken(n,35):v.ColorUtils.lighten(n,35)})),e.addEventListener("mouseleave",(function(){e.style.color=n}))}))},e.prototype.applyAccessibilityFeatures=function(){l.AbstractComponentView.prototype.applyAccessibilityFeatures.call(this),this.setScreenReaderVisibilityStatus()},e.prototype.isHiddenFromScreenReaders=function(){return this.options.hiddenFromScreenReaders&&this.hasAccessibilityFeature||!1},e.prototype.setScreenReaderVisibilityStatus=function(){this.isHiddenFromScreenReaders()?this.$el.attr("aria-hidden","true"):this.$el.removeAttr("aria-hidden")},e.prototype.setTextFromSDK=function(t){this.options.textContent=t,this.recreateTextComponent(this.options,!1)},e}(l.AbstractComponentView);e.TextPlusComponentView=_},5401:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},u=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.VideoComponentView=void 0;var c=l(n(96486)),d=l(n(65311)),h=l(n(97575)),f=l(n(8030)),p=l(n(80771)),g=n(49986),m=l(n(30869)),v=l(n(49802)),y=l(n(71970)),_=l(n(54400)),b=n(4869),w=n(66817),T=n(41678),S=l(n(51339)),E=f.default.mediaDomainMap?c.default.invert(f.default.mediaDomainMap):null,O=[10,20,30,40,50,60,70,80,90,100],P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isVideoReady=!1,e.playedOnce=!1,e.isAutoPaused=!1,e.isManuallyPaused=!1,e.isRewound=!1,e.hasManualPauseDetectionBeenBound=!1,e.isMobile=!1,e}var n;return r(e,t),n=e,e.prototype.initialize=function(e){var n;t.prototype.initialize.call(this,e),this.areMediaPropertiesSet()&&(this.videoSlug=null===(n=this.options.video)||void 0===n?void 0:n.substr(this.options.video.lastIndexOf("/")+1),this.isVideoReady=!1,this.posterLoader=this.options.posterLoader,this.tapToPlay=void 0===this.options.tapToPlay||this.options.tapToPlay,this.muted=void 0!==this.options.muted&&this.options.muted,this.initializePoster(),f.default.previewMode&&(this.mediaLoadingScreen=new m.default({height:this.options.height,isImage:!1}),this.$el.append(this.mediaLoadingScreen.$el)),this.posterLoader&&(this.posterLoader.onImageLoaded(this.attachMedia,this),f.default.previewMode&&this.posterLoader.onImageLoaded(this.hideMediaLoadingScreen,this)))},e.prototype.hideMediaLoadingScreen=function(){this.mediaLoadingScreen.close()},e.prototype.onActivationStart=function(){var t;null===(t=this.videoTracker)||void 0===t||t.enableTracking()},e.prototype.areMediaPropertiesSet=function(){return!(!this.options.video||!this.options.poster)},e.prototype.attachMedia=function(){return s(this,void 0,Promise,(function(){var t,e,n=this;return u(this,(function(i){return t=new d.default.Deferred,this.areMediaPropertiesSet()&&(e=this.getPosterFrameResource())?e.loadNow().done((function(e){var i;n.$poster.attr("src",e.getSrc()),null===(i=n.videoHandle)||void 0===i||i.poster(e.getSrc()),t.resolve()})):t.resolve(),[2,t]}))}))},e.prototype.getPosterFrameResource=function(){var t=null;return this.posterLoader&&((t=this.posterLoader.getCurrentResource())||h.default.warn("Poster image should have been added to resource loader during preload")),t},e.prototype.doTriggerOnScroll=function(){return!0},e.prototype.getPosterFrameSrc=function(){return this.posterLoader?this.posterLoader.getCurrentUrl():""},e.prototype.initializePoster=function(){this.$poster=d.default("<img>",{width:"100%",height:"100%",position:"absolute",top:0,left:0,alt:""}),this.$el.append(this.$poster)},e.prototype.onActivationEnd=function(){this.hidePosterAndShowVideo(),this.bindVideoElementPauseAndPlayForManualPauseDetection(),!this.canAutoplay()||this.isManuallyPaused||f.default.shouldReduceMotion||(this.play(),this.videoHandle.autoplay(!0))},e.prototype.onExitStart=function(){this.hideVideoAndShowPoster(),this.autoPause(),this.rewindEndedAutoplayingVideo()},e.prototype.getVideoFormats=function(){return[{format:"hls-playlist",type:"vnd.apple.mpegurl"},{format:"original",type:"mp4"},{format:"h264-high",type:"mp4"},{format:"h264-low",type:"mp4"}]},e.prototype.getResolvedVideoUrlForFormat=function(t){var e=this.options.videoMedia,n=null;if(e){var i=e.encodings;if(!i[t])return null;n=i[t],E&&(n=_.default.makeUrlAbsolute(n),n=_.default.replaceProtocolIfHttpsRequest(n),n=this.switchAmazonDomainInUrl(n))}return void 0===n&&(h.default.warn("Resolved video not found!",n),n=this.options.video+"/redirect/"+t),n},e.prototype.switchAmazonDomainInUrl=function(t){var e=t.match(/https?:\/\/(([a-z0-9-]*)\.[^\/]*)/i);if(e){var n=e[1],i=e[2];c.default.has(E,i)&&(t=t.replace(n,E[i]))}return t},e.prototype.setVideoSources=function(){var t=this;this.getVideoFormats().forEach((function(e){var n=t.getResolvedVideoUrlForFormat(e.format);if(n){var i="video/"+e.type;"hls-playlist"!==e.format&&"dash-playlist"!==e.format||(i="application/"+e.type),t.$vid.append(d.default("<source>",{src:n,type:i}))}}))},e.prototype.isLoopForever=function(){return this.options.videoAutoPlay&&this.options.videoLoop},e.prototype.isShowControls=function(){return!this.options.videoAutoPlay||!this.options.videoHideControls},e.prototype.hideVideo=function(){this.videoHandle&&this.videoHandle.hide()},e.prototype.showVideo=function(){this.videoHandle&&this.videoHandle.show()},e.prototype.hideVideoAndShowPoster=function(){var t;this.videoHandle&&!this.getCurrentTime()&&(this.isVideoReady&&this.hideVideo(),null===(t=this.$poster)||void 0===t||t.show())},e.prototype.hidePosterAndShowVideo=function(){var t;null===(t=this.$poster)||void 0===t||t.hide(),this.isVideoReady&&this.showVideo()},e.prototype.isPlaying=function(){return!!this.videoHandle&&!this.isVideoHandleEnded()&&!this.isVideoHandlePaused()&&this.getCurrentTime()>0},e.prototype.isEnded=function(){return!!this.isVideoReady&&this.isVideoHandleEnded()},e.prototype.setCurrentTime=function(t){this.isVideoReady&&this.videoHandle.currentTime(t)},e.prototype.getCurrentTime=function(){return this.isVideoReady?this.videoHandle.currentTime():0},e.prototype.reset=function(){t.prototype.reset.call(this),this.pauseAnyVideoAndRewindAutoPlayingVideo(),this.isRewound&&this.options.videoAutoPlay&&(this.isManuallyPaused=!1)},e.prototype.whenLeavingVisibleBoundaries=function(){void 0===this.isPinned&&(this.isPinned=this.options.fixedPosition||!(!this.options.parentSmartGroup||!this.options.parentSmartGroup.fixedPosition),!this.isPinned&&this.parentViews&&(this.isPinned=this.parentViews.some((function(t){return t.options.fixedPosition})))),this.isPinned||(t.prototype.whenLeavingVisibleBoundaries.call(this),this.disableVideoTrackingAndAutoPlayingVideo())},e.prototype.disableVideoTrackingAndAutoPlayingVideo=function(){this.disableVideoTracking(),this.options.videoAutoPlay&&this.pauseAnyVideoAndRewindAutoPlayingVideo()},e.prototype.disableVideoTracking=function(){this.videoTracker&&this.videoTracker.disableTracking()},e.prototype.pauseAnyVideoAndRewindAutoPlayingVideo=function(){this.autoPause(),this.rewindEndedAutoplayingVideo()},e.prototype.rewindEndedAutoplayingVideo=function(){this.options.videoAutoPlay&&this.isEnded()&&(this.setCurrentTime(0),this.isRewound=!0)},e.prototype.loadAndShowVideo=function(){this.isVideoReady?this.hidePosterAndShowVideo():((p.default.isIos()||"none"===this.videoHandle.preload())&&(this.isVideoReady=!0),this.bindVideoElementPauseAndPlayForManualPauseDetection())},e.prototype.play=function(){var t=this;this.loadAndShowVideo(),this.videoTracker&&this.videoTracker.enableTracking(),this.isVideoReady?this.videoHandle.play():this.on(n.EVENTS.VIDEO_READY,(function(){t.isVideoReady=!0,t.videoHandle.play()})),this.isRewound=!1},e.prototype.autoPause=function(){this.isVideoReady&&!this.isPaused()&&(this.videoTracker&&this.videoTracker.disableTracking(),this.isAutoPaused=!0,this.videoHandle.pause())},e.prototype.getElementWidth=function(){return this.options.width},e.prototype.getElementHeight=function(){return this.options.height},e.prototype.render=function(){return t.prototype.render.call(this),this.isMobile=["mobile","tablet"].includes(S.default.getVariant())||p.default.mobile(),this.buildVideoElement(),this},e.prototype.buildVideoElement=function(){var t="none";this.initiallyVisible&&this.areAllParentsInitiallyVisible()&&this.options.pageView.isTop()&&(t="auto");var e={id:"vid-"+this.id,width:"100%",height:"100%",poster:this.getPosterFrameSrc(),preload:t,"webkit-playsinline":!0,playsinline:!0,type:"application/x-mpegURL"};this.muted&&(e.muted=!0),this.isLoopForever()&&(e.loop=!0),this.$vid=d.default("<video>",e),this.$vid.addClass("video-js vjs-default-skin vjs-big-play-centered vjs-show-big-play-button-on-pause vjs-ceros-theme"),this.isMobile&&this.$vid.addClass("video-mobile"),this.$vid.prop({controls:this.isShowControls(),muted:this.muted}),this.canAutoplay()&&this.$vid.addClass("hide-big-play-button"),this.options.closedCaptionsUrl&&(this.$vid.addClass("video-has-captions"),this.$vid.append('<track  \n            kind="captions"\n            label="Video Captions" \n            src="'+this.options.closedCaptionsUrl+'" />')),this.$poster&&(this.$poster.after(this.$vid),this.$poster.css("display","none")),this.initializeVideoJS();var n=new v.default(this.videoHandle),i=c.default.get(this.options,"videoMedia.duration");this.videoTracker=new y.default(n,i),this.configureVideoTrackerEvents(),this.configureVideoReadyEvents(),this.updateVideoJSAccessibilityFeatures()},e.prototype.applyChanges=function(e){var n;null===(n=this.videoHandle)||void 0===n||n.dispose(),this.hasManualPauseDetectionBeenBound=!1,t.prototype.applyChanges.call(this,e)},e.prototype.manuallyPause=function(){this.isVideoReady&&!this.isPaused()&&(this.videoTracker&&this.videoTracker.disableTracking(),this.isAutoPaused=!1,this.videoHandle.pause())},e.prototype.isPaused=function(){return this.videoHandle.paused()},e.prototype.configureVideoTrackerEvents=function(){var t=this;this.videoTracker.on(this.videoTracker.EVENTS.PLAY,(function(e){e=t.addCommonVideoEventData(e),t.triggerEvent(t.getModule().publishedEvents.PAGE_VIDEO_PLAY,e)})),this.options.videoLoop||(this.videoTracker.on(this.videoTracker.EVENTS.PROGRESS_TIME,(function(e){e=t.addCommonVideoEventData(e),t.triggerEvent(t.getModule().publishedEvents.PAGE_VIDEO_PROGRESS_TIME,e)})),this.videoTracker.on(this.videoTracker.EVENTS.PROGRESS_PERCENT,(function(e){O.includes(e.progressPercent)&&(e=t.addCommonVideoEventData(e),t.triggerEvent(t.getModule().publishedEvents.PAGE_VIDEO_PROGRESS_PERCENT,e))})))},e.prototype.addCommonVideoEventData=function(t){return o(o({},t),{componentName:this.options.title,sdkTags:this.options.sdkTags,sdkPayload:this.options.sdkPayload})},e.prototype.bindVideoElementPauseAndPlayForManualPauseDetection=function(){var t=this;!this.hasManualPauseDetectionBeenBound&&this.videoHandle&&(this.videoHandle.on("pause",(function(){t.onVideoPause()})),this.videoHandle.on("play",(function(){t.playedOnce=!0,t.onVideoPlay()})),this.hasManualPauseDetectionBeenBound=!0)},e.prototype.onVideoPause=function(){this.isManuallyPaused=!this.isAutoPaused},e.prototype.onVideoPlay=function(){this.isManuallyPaused=!1,this.isAutoPaused=!1},e.prototype.triggerEvent=function(t,e){var n=o({componentSlug:this.options.id,videoSlug:this.videoSlug,pageSlug:this.options.pageView.model.get("slug")},e);this.getModule().trigger(t,n)},e.prototype.canAutoplay=function(){return!!this.options.videoAutoPlay&&(!this.tapToPlay||this.playedOnce)},e.prototype._applyRotation=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._applyBackground=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._applyBorder=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._configureAction=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.setAriaRole=function(){this.hasAccessibilityFeature&&this.options.ariaLabel?(this.$el.attr("role","region"),this.$el.attr("tabIndex","-1")):(this.$el.removeAttr("role"),this.$el.removeAttr("tabIndex"))},e.prototype.updateVideoJSAccessibilityFeatures=function(){this.hasAccessibilityFeature&&(this.videoHandle.removeAttribute("aria-label"),this.videoHandle.removeAttribute("role"),this.videoHandle.removeAttribute("tabIndex"))},e.prototype.initializeVideoJS=function(){var t=this;this.setVideoSources();var e=this.options.pageView,n={aspectRatio:Math.floor(this.options.width)+":"+Math.floor(this.options.height),fluid:!0,getExperienceScale:function(){var t=e.getScaleContext().ratio,n=e.scaleContext.useZoom(t);return{scale:t,zoomScale:n?t:1,transformScale:n?1:t}}},i={mobile:!0,nativeTextTracks:p.default.isIphone()&&!!this.options.closedCaptionsUrl};this.isMobile&&this.isShowControls()?this.videoHandle=b.Video(this.$vid.get(0),n,i,(function(){p.default.isIphone()&&t.options.closedCaptionsUrl&&(d.default("track",t.$vid)[0].track.mode="disabled"),t.isVideoReady=!0;var e=new T.BigPauseButton(t.videoHandle,{clickHandler:function(){t.isAutoPaused=!1,t.videoHandle.pause()}});t.$(".vjs-big-play-button").after(e.el()),t.reorderVideoControls(),t.applyInverseScalingToVideoControls()})):this.videoHandle=b.Video(this.$vid.get(0),n)},e.prototype.configureVideoReadyEvents=function(){var t=this;this.$vid.on("progress load canplaythrough",(function(){t.getVideoHandleReadyState()>1&&(t.isVideoReady=!0,t.canAutoplay()&&t.hidePosterAndShowVideo(),t.trigger(n.EVENTS.VIDEO_READY),t.$vid.off("progress load canplaythrough"))}))},e.prototype.getVideoHandleReadyState=function(){return this.videoHandle.readyState()},e.prototype.isVideoHandlePaused=function(){return this.videoHandle.paused()},e.prototype.isVideoHandleEnded=function(){return this.videoHandle.ended()},e.prototype.reorderVideoControls=function(){var t=d.default('<div class="video-time-wrapper"></div>');this.$(".vjs-volume-panel").after(t),this.$(".vjs-control-bar > .vjs-time-control").appendTo(t);var e=d.default('<div class="video-left-wrapper"></div>');e.appendTo(this.$(".vjs-control-bar")),this.$(".vjs-volume-panel, .video-time-wrapper").appendTo(e);var n=d.default('<div class="video-right-wrapper"></div>');n.appendTo(this.$(".vjs-control-bar")),this.$(".vjs-fullscreen-control, .vjs-subs-caps-button").appendTo(n)},e.prototype.applyInverseScalingToVideoControls=function(){var t=this.options.pageView.getScaleContext().ratio;this.$(".video-left-wrapper, .video-right-wrapper").css("transform","scale("+1/t+")"),this.$(".vjs-control-bar").css("height",55/t+"px"),this.$(".vjs-progress-control").css({top:8/t,height:3/t})},e.EVENTS={VIDEO_READY:"video_ready"},n=a([w.BackboneShim({type:"video",tagName:"div",className:null,defaults:{tapToPlay:!0,muted:!1,$vid:null}})],e)}(g.AbstractComponentView);e.VideoComponentView=P},25370:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportTopAnchor=void 0;var r=i(n(65311)),o=n(50877),a=function(){function t(){}return t.prototype.initializeViewportTopAnchor=function(){var t=this;this.$viewportTop=r.default('<a tabindex="-1" id="'+o.VIEWPORT_TOP_ID+'"></a>'),this.$viewportTop.on("focus",(function(){t.$viewportTop.attr("tabindex",0)})).on("blur",(function(){t.$viewportTop.attr("tabindex",-1)}))},t}();e.ViewportTopAnchor=a},14449:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAreaComponentFactory=void 0;var i=n(48708),r=n(28809),o=n(30246),a=n(53056),s=n(24138),u=function(){function t(){}return t.createHoverAreaComponent=function(t){switch(t.options.type){case"shape-component":switch(t.options.shape){case"circle":return new r.CircleHoverAreaComponentView({component:t});case"triangle":case"right-triangle":return new s.TriangleHoverAreaComponentView({component:t});default:return new i.HoverAreaComponentView({component:t})}case"line-component":return new a.LineHoverAreaComponentView({component:t});case"custom-shape-component":return new o.CustomShapeHoverAreaComponentView({component:t});default:return new i.HoverAreaComponentView({component:t})}},t}();e.HoverAreaComponentFactory=u},48708:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAreaComponentView=void 0;var s=n(66817),u=a(n(40357)),l=n(95825),c=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.id="hover-area-"+n.options.component.id,n.disabled=!1,n}return r(e,t),e.prototype.render=function(){return t.prototype.render.call(this),this.$el.attr("id",this.id),this.$el.css("pointer-events","none"),this.$el.css("position","absolute"),void 0!==this.options.component.zIndex&&this.setZIndex(this.options.component.zIndex+1),this.setWidthAndHeight(),this.updatePosition(),this.updateRotation(),this.renderBorder(),this},e.prototype.renderBorder=function(){var t=this.options.component.options.border;t&&(t.width&&(this.$el.css("borderWidth",t.width+"px"),this.$el.css("borderStyle","solid"),this.$el.css("borderColor","transparent")),this.$el.css("borderRadius",this.options.component.getBorderRadius(t)))},e.prototype.setInitialZIndex=function(t){this.setZIndex(t),this.zIndex=t,this.currentZIndex=t},e.prototype.setZIndex=function(t){this.$el.css("z-index",t),this.currentZIndex=t},e.prototype.setWidthAndHeight=function(){this.$el.css("width",this.options.component.options.width),this.$el.css("height",this.options.component.options.height)},e.prototype.updatePosition=function(){this.$el.css("left",this.options.component.options.x+"px"),this.$el.css("top",this.options.component.options.y+"px")},e.prototype.updateRotation=function(){this.options.component.options.rotation&&l.CssUtils.setTransformToElement(this.$el,{rotate:this.options.component.options.rotation})},e.prototype.isDisabled=function(){return this.disabled},e.prototype.disableHoverArea=function(t){this.disabled=!0,this.deactivate(),t._configureInteractions()},e.prototype.enableHoverArea=function(t){this.activate(),this.disabled=!1,t._configureInteractions()},e.prototype.activate=function(){this.getHoverAreaTarget().css("pointer-events","all")},e.prototype.deactivate=function(){this.getHoverAreaTarget().css("pointer-events","none")},e.prototype.isHovered=function(t){var e=this.getHoverAreaTarget()[0];return!!((null==e?void 0:e.matches(":hover"))||t&&t.target&&t.target===e)},e.prototype.getHoverAreaTarget=function(){return this.$el},o([s.BackboneShim({className:"hover-area"})],e)}(u.default);e.HoverAreaComponentView=c},92961:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.VectorImageChildView=void 0;var a=o(n(96486)),s=o(n(65311)),u=function(t){function e(n){void 0===n&&(n=e.DEFAULT_OPTIONS);var i=t.call(this,a.default.defaults(n,e.DEFAULT_OPTIONS))||this;return i.hasClasses=!1,i.defaultFill="",i.defaultCssFill="",i.options=n,i.options.element&&(i.options.element instanceof jQuery?i.$el=i.options.element:i.$el=s.default(i.options.element),i.setProperties()),i}return r(e,t),e.prototype.setProperties=function(){this.hasClasses=!!this.$el.attr("class")},e.prototype.setFill=function(t,e){var n,i=!(!e||!e.backgroundHasBeenSet&&!e.color&&!e.gradient),r=this.$el.attr("fill")||"",o=this.$el.css("fill"),a="url(#"+(null===(n=t[0])||void 0===n?void 0:n.id)+")",s=!!e.gradient||!r&&!o;if(this.hasClasses||(!this.defaultFill&&r.length>0&&(this.defaultFill=r),!this.defaultCssFill&&o&&(this.defaultCssFill=o)),r&&r.length>0){var u=s?a:this.defaultFill;this.$el.css("fill",""),this.$el.attr("fill",u)}o&&(o=i&&e.color?e.color:this.defaultCssFill,u=s?a:o,this.$el.removeAttr("fill"),this.hasClasses&&u===this.defaultCssFill?this.$el.css("fill",""):this.$el.css("fill",u))},e.DEFAULT_OPTIONS={element:s.default()},e}(n(40357).AbstractView);e.VectorImageChildView=u},12746:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.VectorImageComponentView=void 0;var s=a(n(96486)),u=n(95825),l=n(80612),c=n(98866),d=a(n(76786)),h=a(n(68843)),f=a(n(67189)),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasRenderedGradient=!1,e.children=[],e}return r(e,t),e.prototype._applyBackground=function(t,e){var n,i;void 0===t&&(t=this.options.background||{}),void 0===e&&(e=this.options.transition);var r=this.getCerosGradientElement(),a=this.getCerosGradientStopElements(),s=0;t.color&&(t={gradient:h.default.colorToGradient(t.color)});try{for(var u=o(this.children),c=u.next();!c.done;c=u.next())c.value.setFill(r,t)}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}t.gradient&&(a.first().css("stop-color",t.gradient.stops[0].color),a.last().css("stop-color",t.gradient.stops[1].color),s=t.gradient.angle||0),l.AnimateSVGUtil.renderGradientAnimation(this.getSVGElement(),this.getCerosGradientElement(),s,this.hasRenderedGradient?e:null),this.hasRenderedGradient=!0},e.prototype._applyImageFlip=function(t){if(!this.isMaskImage()){s.default.isEmpty(t)&&(t={});var e=f.default.getScaleValueFromFlip(t),n=e.scaleXValue,i=e.scaleYValue;u.CssUtils.setTransformToElement(this.$innerElement,{scale:{x:n,y:i}})}},e.prototype.getSVGElement=function(){return this.$el.children("svg")},e.prototype.getCerosGradientStopElements=function(){return this.getCerosGradientElement().find("stop")},e.prototype.getGradientElement=function(){return this.$innerElement.find("linearGradient")},e.prototype.getCerosGradientElement=function(){return this.$innerElement.find("linearGradient.cerosgradient")},e.prototype.callObjectStateInvoker=function(t,e){c.ObjectStateInvoker.invokeAbstractImageObjectState(this,t,e,!0)},e.prototype.applyTransitionToTarget=function(e,n){t.prototype.applyTransitionToTarget.call(this,e,n),this.getSVGElement().css("transition",e),this.getSVGElement().css("transition-property",n||"none"),this.getSvgChildren().css("transition",e),this.getSvgChildren().css("transition-property",n||"none"),this.getCerosGradientStopElements().css("transition",e),this.getCerosGradientStopElements().css("transition-property",n||"none")},e}(d.default);e.VectorImageComponentView=p},81611:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MainContentLinkView=void 0;var s=a(n(65311)),u=a(n(96486)),l=n(35070),c=n(50877),d=n(12133),h=n(36281),f=function(t){function e(n){return t.call(this,o(o({},e.DEFAULT_ATTRIBUTES),n))||this}return r(e,t),e.prototype.setPageView=function(t){return this.currentPageView=t,this},e.prototype.initialize=function(t){var n=u.default.get(t,"docVersion.attributes.mainContentLinkText"),i=u.default.get(t,"docVersion.attributes.theming.menuBgColor"),r=u.default.get(t,"docVersion.attributes.theming.menuFgColor");this.$el.html(n||c.MAIN_CONTENT_LINK_DEFAULT_TEXT),this.$el.css("background-color",i||e.DEFAULT_BACKGROUND_COLOR),this.$el.css("color",r||e.DEFAULT_FOREGROUND_COLOR),this.$el.on({click:this.onClick.bind(this)})},e.prototype.render=function(){return this.targetId=s.default(".page-viewport.top main:first").attr("id"),this.targetId?(this.$el.attr("href","#"+this.targetId),this.$el.removeAttr("aria-hidden"),this.$el.css("visibility","")):(this.$el.removeAttr("href"),this.$el.removeAttr("tabindex"),this.$el.attr("aria-hidden","true"),this.$el.css("visibility","hidden")),t.prototype.render.call(this)},e.prototype.onClick=function(t){t.preventDefault(),this.targetId&&new l.ScrollToObjectInteraction({layerTargets:[this.targetId],trigger:"click",action:h.ActionTypes.scrollToObject},this.currentPageView).triggerAction(o(o({},t),{clickX:t.clientX,clickY:t.clientY,componentSlug:this.options.id,componentName:"Main Content Link",componentType:"main-content-link",pageSlug:this.currentPageView.model.get("slug"),pageName:this.currentPageView.model.get("name")}))},e.DEFAULT_BACKGROUND_COLOR="#000000",e.DEFAULT_FOREGROUND_COLOR="#FFFFFF",e.DEFAULT_ATTRIBUTES={className:"main-content-link",tagName:"a"},e}(d.JsTsViewGlue);e.MainContentLinkView=f},77923:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomControlsView=void 0;var s=a(n(42216)),u=n(12133),l=a(n(97837)),c=a(n(96486)),d=n(66817),h=n(2044),f=a(n(3797)),p=a(n(80771)),g=function(t){function e(e){return t.call(this,e)||this}var n;return r(e,t),n=e,e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),f.default.getInstance().on("zoom",this.updateZoomControls.bind(this))},e.prototype.render=function(){var e=c.default.get(this.options,"docVersion.attributes.theming.menuBgColor",n.DEFAULT_BACKGROUND_COLOR),i=c.default.get(this.options,"docVersion.attributes.theming.menuFgColor",n.DEFAULT_FOREGROUND_COLOR);return this.$el.html(s.default.render(l.default,{backgroundColor:e,zoomValue:Math.trunc(100*f.default.getInstance().getCurrentZoom()),textColor:i,disabledColor:this.getDisabledColor(i)})),this.disableOrEnableZoomButtons(),t.prototype.render.call(this)},e.prototype.getDisabledColor=function(t){var e=h.ColorUtils.colorToRGB(t);return"rgba("+e.r+", "+e.g+", "+e.b+", 0.5)"},e.prototype.updateZoomControls=function(){var t=f.default.getInstance().getCurrentZoom();this.$("#zoom-value-display").text(Math.trunc(100*t)+"%"),this.disableOrEnableZoomButtons(),p.default.isDesktopSafari()?this.$el.css("zoom",t):this.$el.css("transform","scale("+t+")")},e.prototype.handleZoomIn=function(){f.default.getInstance().incrementZoom()},e.prototype.handleZoomOut=function(){f.default.getInstance().decrementZoom()},e.prototype.disableOrEnableZoomButtons=function(){f.default.getInstance().canDecrementZoom()?this.$("#zoom-out-button").removeAttr("disabled"):this.$("#zoom-out-button").attr("disabled",""),f.default.getInstance().canIncrementZoom()?this.$("#zoom-in-button").removeAttr("disabled"):this.$("#zoom-in-button").attr("disabled","")},e.prototype.removeFocusOutline=function(t){"BUTTON"===t.target.tagName?$(t.target).blur():$(t.target).closest("button").blur()},e.DEFAULT_BACKGROUND_COLOR="#000000",e.DEFAULT_FOREGROUND_COLOR="#FFFFFF",n=o([d.BackboneShim({tagName:"div",className:"zoom-controls",events:{"click #zoom-in-button":"handleZoomIn","click #zoom-out-button":"handleZoomOut","mouseout button":"removeFocusOutline"}})],e)}(u.JsTsViewGlue);e.ZoomControlsView=g},47679:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectState=void 0;var n=function(){function t(t){this.state=t.state,this.config=t}return t.prototype.hasTransitionChange=function(){return void 0!==this.config.transition},t.prototype.hasPositionChange=function(){return void 0!==this.config.deltaX&&0!==this.config.deltaX||void 0!==this.config.deltaY&&0!==this.config.deltaY},t.prototype.hasDimensionsChange=function(){return void 0!==this.config.width||void 0!==this.config.height},t.prototype.hasOpacityChange=function(){return void 0!==this.config.opacity},t.prototype.hasRotationChange=function(){return void 0!==this.config.rotation},t.prototype.hasBorderChange=function(){return void 0!==this.config.border},t.prototype.hasShadowChange=function(){return void 0!==this.config.shadow},t.prototype.hasBackgroundChange=function(){return void 0!==this.config.background},t.prototype.hasEffectsChange=function(){return void 0!==this.config.effects},t.prototype.hasFlipChange=function(){return void 0!==this.config.flipHorizontal||void 0!==this.config.flipVertical},t.prototype.hasBlendingModeChange=function(){return void 0!==this.config.blendingMode},t.prototype.hasFontChange=function(){return void 0!==this.config.defaultSpan},t.prototype.hasJustificationChange=function(){return void 0!==this.config.justify},t.prototype.hasStrokeChange=function(){return void 0!==this.config.lineWidth||void 0!==this.config.color},t.prototype.hasLinePositionChange=function(){return(this.hasPositionChange()||void 0!==this.config.deltaX2&&0!==this.config.deltaX2||void 0!==this.config.deltaY2&&0!==this.config.deltaY2)&&(this.config.deltaX!==this.config.deltaX2||this.config.deltaY!==this.config.deltaY2)},t.prototype.hasLineHeightChange=function(){return void 0!==this.config.leading},t.prototype.hasPathChange=function(){return void 0!==this.config.path},t.prototype.hasChangesComparedTo=function(e){return{transition:this.compareProperty(t.prototype.hasTransitionChange,e),position:this.compareProperty(t.prototype.hasPositionChange,e),dimension:this.compareProperty(t.prototype.hasDimensionsChange,e),opacity:this.compareProperty(t.prototype.hasOpacityChange,e),rotation:this.compareProperty(t.prototype.hasRotationChange,e),border:this.compareProperty(t.prototype.hasBorderChange,e),shadow:this.compareProperty(t.prototype.hasShadowChange,e),background:this.compareProperty(t.prototype.hasBackgroundChange,e),effects:this.compareProperty(t.prototype.hasEffectsChange,e),flip:this.compareProperty(t.prototype.hasFlipChange,e),blendingMode:this.compareProperty(t.prototype.hasBlendingModeChange,e),font:this.compareProperty(t.prototype.hasFontChange,e),justify:this.compareProperty(t.prototype.hasJustificationChange,e),stroke:this.compareProperty(t.prototype.hasStrokeChange,e),linePosition:this.compareProperty(t.prototype.hasLinePositionChange,e),lineHeight:this.compareProperty(t.prototype.hasLineHeightChange,e),path:this.compareProperty(t.prototype.hasPathChange,e)}},t.prototype.compareProperty=function(t,e){return t.call(this)||!!e&&t.call(e)},t.prototype.getChangedPropertiesToTransition=function(t){var e=[];return t.background&&e.push("stop-color","background-color","background-image"),t.border&&e.push("border-width","border-color","border-style","border-radius","border"),t.dimension&&e.push("width","height","transform"),(t.effects||t.shadow)&&e.push("filter","-webkit-filter"),(t.flip||t.rotation)&&e.push("transform"),t.font&&e.push("color","font-weight","font-style","font-size"),t.justify&&e.push("text-align"),t.opacity&&e.push("opacity"),(t.position||t.border)&&e.push("left","top"),t.shadow&&e.push("box-shadow"),t.stroke&&e.push("stroke","stroke-width"),t.lineHeight&&e.push("line-height"),(t.path||t.linePosition)&&e.push("d"),e.join(", ")},t}();e.ObjectState=n},45233:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectStateFactory=void 0;var r=n(47679),o=function(){function t(){}return t.initializeStates=function(t){return t instanceof Array?t:Object.keys(t).map((function(e){var n=i(i({},t[e]),{state:e});return new r.ObjectState(n)}))},t}();e.ObjectStateFactory=o},98866:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectStateInvoker=void 0;var i=function(){function t(){}return t.invokeObjectState=function(t,e,n,i){void 0===i&&(i={}),"default"===e.state?t.el.classList.remove("in-object-state"):t.el.classList.add("in-object-state");var r=e.hasChangesComparedTo(n);t.applyTransition(e.config.transition,e.getChangedPropertiesToTransition(r)),i.position||!r.position&&!r.border||t._applyPosition(e.config.x,e.config.y,e.config.border),!i.dimensions&&r.dimension&&t._applyDimensions(e.config.width,e.config.height),r.opacity&&t._applyOpacity(e.config.opacity),r.rotation&&t._applyRotation(e.config.rotation),r.border&&t._applyBorder(e.config.border),i.shadow||!r.shadow&&!r.rotation||t._applyShadow(e.config.shadow,e.config.rotation),!i.background&&r.background&&t._applyBackground(e.config.background,e.config.transition)},t.invokeAbstractImageObjectState=function(e,n,i,r){var o=n.hasChangesComparedTo(i);(o.effects||o.shadow)&&e._applyImageEffects(n.config.effects,n.config.shadow,!0),o.flip&&e._applyImageFlip({flipHorizontal:n.config.flipHorizontal,flipVertical:n.config.flipVertical}),o.blendingMode&&e._applyBlendingMode(n.config.blendingMode),(r?t.invokeScaleableObjectState:t.invokeObjectState)(e,n,i,{border:!0,shadow:!0})},t.invokeTextObjectState=function(e,n,i){var r=n.hasChangesComparedTo(i);if(!e.isParagraphMode())return r.font&&e.setFontColor(n.config.defaultSpan),void t.invokeObjectState(e,n,i);r.font&&(e.setDefaultTextStyle(n.config.defaultSpan),e.applyDefaultFont(n.config.defaultSpan),e.applyLineHeight(n.config.leading,n.config.defaultSpan)),r.justify&&e.applyJustification(n.config.justify),r.lineHeight&&!r.font&&e.applyLineHeight(n.config.leading),t.invokeObjectState(e,n,i)},t.invokeTextPlusObjectState=function(e,n,i){e.applyStateChanges(n.config),t.invokeObjectState(e,n,i)},t.invokeScaleableObjectState=function(e,i,r,o){void 0===o&&(o={});var a=i.hasChangesComparedTo(r);a.dimension&&e.applyScale(i.config.width,i.config.height,i.config.x,i.config.y),a.position&&!a.dimension&&e.applyPositionToScaledObject(i.config.x,i.config.y,i.config.width,i.config.height),t.invokeObjectState(e,i,r,n(n({},o),{position:!0,dimensions:!0}))},t.invokeSVGShapeObjectState=function(e,n,i,r){void 0===r&&(r={});var o=n.hasChangesComparedTo(i);r.shadow=!0,(o.shadow||o.rotation)&&e._applyShadow(n.config.shadow,n.config.rotation),o.stroke&&(e._applyBorder({width:n.config.lineWidth,color:n.config.color}),r.border=!0),o.linePosition&&e.applyPoints([{x:n.config.x,y:n.config.y},{x:n.config.x2,y:n.config.y2}],n.config.transition),o.path&&e.applyPath(n.config.path,n.config.isClosedPath,n.config.transition),t.invokeObjectState(e,n,i,r)},t}();e.ObjectStateInvoker=i},54120:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PrerenderAccessibilityOverride=void 0;var l=u(n(96486)),c=n(36281),d=function(){function t(t){this.initialOverrides={},this.layersToHideSet=new Set,this.pageView=t}return t.prototype.applyOverrides=function(){var t,e,n,i,a,s,u,l,c,d,h,f,p,g,m,v,y,_,b,w;return r(this,(function(r){switch(r.label){case 0:t=this.finalizeOverrides(),e=new Set,r.label=1;case 1:r.trys.push([1,6,7,8]),n=o(Object.keys(t)),i=n.next(),r.label=2;case 2:return i.done?[3,5]:(a=i.value,[4]);case 3:r.sent(),s=t[a],u=s.layersToMove,l=s.layersToAria,c=s.layersToHide,d=s.carouselSlideLayers,h=s.triggerEl,f=s.hasBothShowAndHideTargetInteractions;try{for(b=void 0,p=o(u),g=p.next();!g.done;g=p.next())m=g.value,e.has(m.id)||(h.parentElement.insertBefore(m,h.nextSibling),e.add(m.id))}catch(t){b={error:t}}finally{try{g&&!g.done&&(w=p.return)&&w.call(p)}finally{if(b)throw b.error}}f&&(h.className+=" ceros-no-return-focus"),l.length&&this.updateARIAProperties(h,l),c.length&&this.addHideClass(c),d.length&&this.applyCarouselAttributes(d),r.label=4;case 4:return i=n.next(),[3,2];case 5:return[3,8];case 6:return v=r.sent(),y={error:v},[3,8];case 7:try{i&&!i.done&&(_=n.return)&&_.call(n)}finally{if(y)throw y.error}return[7];case 8:return[2]}}))},t.prototype.updateARIAProperties=function(t,e){var n=this;if(t.setAttribute("aria-controls",e.join(" ")),l.default.some(e,(function(t){var e;return null===(e=n.pageView.findChildView(t))||void 0===e?void 0:e.isCarouselSlide})))l.default.some(e,(function(t){var e;return"none"!==(null===(e=n.pageView.findChildView(t))||void 0===e?void 0:e.el.style.display)}))&&t.setAttribute("aria-current","true");else{var i=l.default.some(e,(function(t){var e;return"none"===(null===(e=n.pageView.findChildView(t))||void 0===e?void 0:e.el.style.display)}));t.setAttribute("aria-expanded",i?"false":"true")}},t.prototype.applyCarouselAttributes=function(t){var e,n,i,r;try{for(var a=o(t),s=a.next();!s.done;s=a.next()){var u=s.value,l=this.pageView.findChildView(u);try{for(var c=(i=void 0,o((null==l?void 0:l.childViews)||[])),d=c.next();!d.done;d=c.next()){var h=d.value;"group"===h.options.type&&(h.el.setAttribute("role","group"),h.isCarouselSlide=!0)}}catch(t){i={error:t}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},t.prototype.addHideClass=function(t){var e=this;l.default.each(t,(function(t){var n;if(!e.layersToHideSet.has(t)){var i=null===(n=e.pageView.findChildView(t))||void 0===n?void 0:n.el;i&&(i.className+=" ceros-hideable"),e.layersToHideSet.add(t)}}))},t.layerTargetsReducer=function(e,n){var i,r,o,a,u=e.hasBothShowAndHideTargetInteractions?t.interactionTypesRequiringOrderOverride:t.interactionTypesRequiringAriaOverride;return n.layerTargets?(l.default.includes(t.interactionTriggersRequiringOrderOverride,n.trigger)&&l.default.includes(t.interactionTypesRequiringOrderOverride,n.action)&&(i=e.layersToMove).push.apply(i,s(n.layerTargets)),"click"===n.trigger&&l.default.includes(u,n.action)&&(r=e.layersToAria).push.apply(r,s(n.layerTargets)),"click"!==n.trigger||n.action!==c.ActionTypes.toggleCanvasTargets&&!l.default.includes(t.interactionTypesThatHide,n.action)||(o=e.layersToHide).push.apply(o,s(n.layerTargets)),t.interactionTypesForCarousels.includes(n.action)&&(a=e.carouselSlideLayers).push.apply(a,s(n.layerTargets)),e):e},t.prototype.hasBothShowAndHideTargetInteractions=function(e){var n=!1,i=!1;return l.default.some(e,(function(e){return!("click"!==e.trigger||!l.default.includes(t.interactionTypesThatShouldNotShiftFocus,e.action))||(!i&&"click"===e.trigger&&l.default.includes(t.interactionTypesThatHide,e.action)&&(i=!0),!n&&"click"===e.trigger&&l.default.includes(t.interactionTypesRequiringOrderOverride,e.action)&&(n=!0),i&&n)}))},t.prototype.analyzeLayerForOverrides=function(e){var n;if(!function(t){return"folder"===t.type}(e.model)&&(null===(n=e.model.interactions)||void 0===n?void 0:n.length)){var i=this.hasBothShowAndHideTargetInteractions(e.model.interactions),r=e.model.interactions.reduce(t.layerTargetsReducer,{layersToMove:[],layersToAria:[],layersToHide:[],carouselSlideLayers:[],hasBothShowAndHideTargetInteractions:i});(r.layersToMove.length||r.layersToAria.length||r.carouselSlideLayers.length||i)&&(this.initialOverrides[e.model.id]={layersToMove:l.default.uniq(r.layersToMove),layersToAria:l.default.uniq(r.layersToAria),layersToHide:l.default.uniq(r.layersToHide),carouselSlideLayers:l.default.uniq(r.carouselSlideLayers),hasBothShowAndHideTargetInteractions:i,triggerEl:e.view.el})}},t.prototype.finalizeOverrides=function(){var t,e,n=this,r=l.default.entries(this.initialOverrides),s={};try{for(var u=o(r),c=u.next();!c.done;c=u.next()){var d=a(c.value,2),h=d[0],f=d[1],p=f.layersToMove.map((function(t){var e;return null===(e=n.pageView.findChildView(t))||void 0===e?void 0:e.el})),g=this.filterSiblings(f.triggerEl,p);s[h]=i(i({},f),{layersToMove:this.sortLayersByPosition(g)})}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}return s},t.prototype.filterSiblings=function(t,e){var n=t.dataset.containerId;if(!n)return[];var i=this.pageView.model.findLayerById(n.split(",").shift());return"group"!==(null==i?void 0:i.type)?[]:e.filter((function(t){return(null==t?void 0:t.dataset.containerId)===n}))},t.prototype.sortLayersByPosition=function(t){var e=this;return t.sort((function(t,n){var i=e.getPositionOf(t),r=e.getPositionOf(n);return r.top-i.top||r.left-i.left}))},t.prototype.getPositionOf=function(t){return{left:parseFloat(t.style.left)||0,top:parseFloat(t.style.top)||0}},t.interactionTriggersRequiringOrderOverride=["click","hover"],t.interactionTypesRequiringOrderOverride=[c.ActionTypes.toggleCanvasTargets,c.ActionTypes.showAndStayVisibleCanvasTargets,c.ActionTypes.showCanvasTargets,c.ActionTypes.showCanvasTargetsOnHover,c.ActionTypes.showOnly],t.interactionTypesThatHide=[c.ActionTypes.hideOnly,c.ActionTypes.hideCanvasTargets,c.ActionTypes.hideAndStayHiddenCanvasTargets],t.interactionTypesRequiringAriaOverride=s(t.interactionTypesRequiringOrderOverride,t.interactionTypesThatHide),t.interactionTypesForCarousels=[c.ActionTypes.cycleNext,c.ActionTypes.cyclePrevious],t.interactionTypesThatShouldNotShiftFocus=s(t.interactionTypesForCarousels,[c.ActionTypes.showOnly,c.ActionTypes.hideOnly]),t}();e.PrerenderAccessibilityOverride=d},36258:function(t,e){"use strict";var n=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.PriorityQueue=void 0;var i=function(t){return(t+1>>>1)-1},r=function(t){return 1+(t<<1)},o=function(t){return t+1<<1},a=function(){function t(t){this._heap=[],this._comparator=t}return t.prototype.getAll=function(){return this._heap},t.prototype.size=function(){return this._heap.length},t.prototype.isEmpty=function(){return 0==this.size()},t.prototype.peek=function(){return this._heap[0]},t.prototype.push=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.forEach((function(e){t._heap.push(e),t._siftUp()})),this.size()},t.prototype.pop=function(){var t=this.peek(),e=this.size()-1;return e>0&&this._swap(0,e),this._heap.pop(),this._siftDown(),t},t.prototype.replace=function(t){var e=this.peek();return this._heap[0]=t,this._siftDown(),e},t.prototype._greater=function(t,e){return this._comparator(this._heap[t],this._heap[e])},t.prototype._swap=function(t,e){var i;i=n([this._heap[e],this._heap[t]],2),this._heap[t]=i[0],this._heap[e]=i[1]},t.prototype._siftUp=function(){for(var t=this.size()-1;t>0&&this._greater(t,i(t));)this._swap(t,i(t)),t=i(t)},t.prototype._siftDown=function(){for(var t=0;r(t)<this.size()&&this._greater(r(t),t)||o(t)<this.size()&&this._greater(o(t),t);){var e=o(t)<this.size()&&this._greater(o(t),r(t))?o(t):r(t);this._swap(t,e),t=e}},t}();e.PriorityQueue=a},57275:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextPlusLazyLoader=void 0;var i=n(36258),r=function(){function t(t){var e=this;this.pageView=t.pageView,this.processingNow=new Set,this.priorityQueue=new i.PriorityQueue((function(t,n){return e.determinePriority(t,n)}))}return t.prototype.getVisibleBoundaries=function(){return this.visibleBounds||(this.visibleBounds=this.pageView.getVisibleBoundaries()),this.visibleBounds},t.prototype.currentlyInView=function(t){var e=t.options.pageCoordY||0;return this.getVisibleBoundaries().topY<=e&&e<=this.getVisibleBoundaries().bottomY&&!!t.initiallyVisible},t.prototype.determinePriority=function(t,e){var n=t.options.pageCoordY||0,i=e.options.pageCoordY||0;return Math.abs(this.getVisibleBoundaries().topY-n)<Math.abs(this.getVisibleBoundaries().topY-i)},t.prototype.addToQueue=function(t,e){t.renderingFunction=e,this.currentlyInView(t)?this.render(t):(this.priorityQueue.push(t),this.processNext())},t.prototype.processNext=function(){for(var t=0;t<30-this.processingNow.size;t++){var e=this.priorityQueue.pop();if(!e)break;this.render(e)}},t.prototype.render=function(t){var e=this;this.processingNow.add(t.id),t.renderingFunction(t.options).then((function(){e.processingNow.delete(t.id),e.processNext()}))},t}();e.TextPlusLazyLoader=r},3797:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ZOOM_LEVELS=e.DEFAULT_ZOOM_LEVEL_INDEX=void 0;var a=o(n(75594));e.DEFAULT_ZOOM_LEVEL_INDEX=0,e.ZOOM_LEVELS=[1,1.1,1.25,1.5,1.75,2,2.5,3,4];var s=function(t){function n(){var n=t.call(this)||this;return n.currentZoomLevelPosition=e.DEFAULT_ZOOM_LEVEL_INDEX,n}return r(n,t),n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n.prototype.hasZoom=function(){return this.currentZoomLevelPosition!==e.DEFAULT_ZOOM_LEVEL_INDEX},n.prototype.canIncrementZoom=function(){return this.currentZoomLevelPosition!==e.ZOOM_LEVELS.length-1},n.prototype.canDecrementZoom=function(){return this.hasZoom()},n.prototype.getCurrentZoom=function(){return e.ZOOM_LEVELS[this.currentZoomLevelPosition]},n.prototype.resetZoom=function(){this.adjustZoom(e.ZOOM_LEVELS[e.DEFAULT_ZOOM_LEVEL_INDEX])},n.prototype.incrementZoom=function(){var t=this.currentZoomLevelPosition+1;t<e.ZOOM_LEVELS.length&&this.adjustZoom(e.ZOOM_LEVELS[t])},n.prototype.decrementZoom=function(){var t=this.currentZoomLevelPosition-1;t>=e.DEFAULT_ZOOM_LEVEL_INDEX&&this.adjustZoom(e.ZOOM_LEVELS[t])},n.prototype.adjustZoom=function(t){var n=e.ZOOM_LEVELS.indexOf(t);n!=this.currentZoomLevelPosition&&(this.currentZoomLevelPosition=n,this.trigger("zoom",t))},n}(a.default);e.default=s},81307:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextPlusPlayerEditor=void 0;var a=function(t){function e(e,n){var i=t.call(this,n)||this;return i.ui={componentFactory:{add:function(){}}},i.model.document.createRoot(),i}return r(e,t),e.prototype.setData=function(t){this.data.set(t)},e.prototype.getData=function(){return this.data.get()},e.prototype.getRootDocumentFragment=function(){return this.rootDocumentFragment},e.create=function(t,e){var n=this;return new Promise((function(i){var r=new n(t,e);i(r.initPlugins().then((function(){return r.data.init("")})).then((function(){r.fire("ready")})).then((function(){return r})))}))},e}(o(n(74784)).default);e.TextPlusPlayerEditor=a},34147:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextPlusPlayerEditorView=void 0;var u=n(92709),l=s(n(40357)),c=n(81307),d=n(42450),h=n(5196),f=s(n(66782)),p=s(n(59071)),g=s(n(59725)),m=s(n(91665)),v=n(40917),y=s(n(70309)),_=s(n(70654)),b=s(n(39269)),w=s(n(95618)),T=s(n(40623)),S=s(n(15270)),E=s(n(8427)),O=s(n(22685)),P=s(n(56001)),C=s(n(68931)),A=n(26680),k=n(22455),x=n(86015),I=n(32238),M=n(89669),R=s(n(13928)),N=n(93241),D=s(n(61204)),L=n(34654),j=function(t){function e(e){var n,i,r=t.call(this,e)||this;return r.options=e,r.fontLoader=r.options.fontLoader,r.linkPlusUiOptionsSource=new k.LinkPlusUiOptionsSource,r.linkPlusUiPositionConstraint=new x.LinkPlusUiPositionConstraint,r.lineHeightCompatibilityMode=(null===(i=null===(n=null==e?void 0:e.pageView)||void 0===n?void 0:n.documentVersion)||void 0===i?void 0:i.get("lineHeightCompatibility"))||L.LINE_HEIGHT_MODE.NO_BASELINE_OFFSET,r}return r(e,t),e.prototype.waitForFontToLoad=function(t){return this.fontLoader.waitForFontToLoad(t)},e.prototype.getEditorElement=function(){return this.el},e.prototype.getLineHeightCompatibilityMode=function(){return this.lineHeightCompatibilityMode},e.prototype.getCkEditorOptions=function(){var t=this;return{plugins:[_.default,N.ListMarkerStylesPlusFactory((function(){return t.options.defaultSpan}),(function(){return!0})),b.default,w.default,T.default,O.default,P.default,C.default,S.default,E.default,d.FontSize,h.FontFamily,f.default,p.default,g.default,m.default,R.default,v.HtmlTagPlugin,y.default,M.TextCasePlusFactory((function(){return!0})),D.default,A.LinkPlusFactory(this.linkPlusUiOptionsSource,this.linkPlusUiPositionConstraint)]}},e.prototype.getTextEditorBase=function(){return c.TextPlusPlayerEditor},e.prototype.getTextData=function(t){return void 0===t&&(t=this.options.textContent),I.prepareTextContentForEditor(t)},e.prototype.variantGuidResolver=function(t){var e=this.options.fontLoader.getVariant({variantGuid:t});return Promise.resolve(e)},e.prototype.renderEditor=function(t){return o(this,void 0,Promise,(function(){var e,n=this;return a(this,(function(i){switch(i.label){case 0:return t.setData(this.getTextData()),e=this.lineHeightCompatibilityMode==L.LINE_HEIGHT_MODE.USE_BASELINE_OFFSET,[4,I.initializeEditorFromTextData(t,this.options.textContent,this.options.defaultSpan,this.options.textSpans,this.options.listDefinitions,this.options.listMarkerStyles,this.options.headings,this.options.lines,(function(t){return n.variantGuidResolver(t)}),!1,e)];case 1:return i.sent(),this.el.innerHTML=t.getData(),[2]}}))}))},e}(u.AbstractTextEditorMixin(l.default));e.TextPlusPlayerEditorView=j},25965:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AlphaMaskCanvasImage=void 0;var r=i(n(67189)),o=function(){function t(){this.image=new Image,this.image.crossOrigin="Anonymous",this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}return t.prototype.createMaskImageOnCanvas=function(t){var e=this;return this.image.src!==t?new Promise((function(n,i){e.image.onload=function(){n(e.image)},e.image.onerror=i,e.image.src=t})):Promise.resolve(this.image)},t.prototype.renderAndReturnMask=function(t,e){var n=this;return this.createMaskImageOnCanvas(t).then((function(t){return n.fetchRenderedMaskFromCanavas(t,e)}))},t.prototype.setOpacity=function(t,e){e<1&&(t.globalAlpha=e*t.globalAlpha)},t.prototype.fetchRenderedMaskFromCanavas=function(t,e){var n=e.x,i=e.y,o=e.width,a=e.height,s=e.allWidth,u=e.allHeight,l=e.rotation,c=e.opacity;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvas.width=s,this.canvas.height=u,t.width=o,t.height=a;var d=s/2,h=u/2,f=r.default.getScaleValueFromFlip(e),p=f.scaleXValue,g=f.scaleYValue;this.ctx.save(),this.setOpacity(this.ctx,c),this.ctx.translate(d,h),this.ctx.rotate(Math.toRad(l)),this.ctx.translate(-d,-h),this.ctx.scale(p,g);var m=e.flipHorizontal?-o-n:n,v=e.flipVertical?-a-i:i;return this.ctx.drawImage(t,m,v,o,a),this.ctx.restore(),this.canvas.toDataURL("image/png")},t}();e.AlphaMaskCanvasImage=o},95825:function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CssUtils=e.TransformProperty=void 0;var a,s,u=o(n(96486)),l=o(n(80771)),c=n(82025);!function(t){t.scale="scale",t.skew="skew",t.rotate="rotate",t.matrix="matrix",t.translate3d="translate3d",t.translateX="translateX",t.translateY="translateY",t.translateZ="translateZ"}(a=e.TransformProperty||(e.TransformProperty={})),function(t){t.matrix3d="matrix3d",t.translate="translate",t.scale3d="scale3d",t.scaleX="scaleX",t.scaleY="scaleY",t.scaleZ="scaleZ",t.rotate3d="rotate3d",t.rotateX="rotateX",t.rotateY="rotateY",t.rotateZ="rotateZ",t.skewX="skewX",t.skewY="skewY",t.perspective="perspective",t.none="none",t.initial="initial",t.inherit="inherit"}(s||(s={}));var d=function(){function t(){}return t.setTransformToElement=function(t,e){if(t&&t.length){var n=t[0].style.transform;t.css("transform",this.setTransformProperty(n,e))}},t.setTransformProperty=function(e,n){e&&"none"!==e||(e="");var i=[s.matrix3d,s.translate,s.scale3d,s.scaleX,s.scaleY,s.scaleZ,s.rotate3d,s.rotateX,s.rotateY,s.rotateZ,s.skewX,s.skewY,s.perspective].map((function(n){return t.getUnsupportedString(e,n)})).filter((function(t){return!!t})),o=[a.translateX,a.translateY,a.translateZ].map((function(i){var r=t.getValueFromProperty(e,i),o=n[i];return void 0!==o?t.buildProperty(i,o):t.buildProperty(i,r)})),u=t.getScale(e),l=t.getSkew(e),c=t.getValueFromProperty(e,a.rotate),d=t.getTranslate(e),h=t.getMatrix(e);return r([void 0!==n.scale?t.buildScaleTransform(n.scale):t.buildScaleTransform(u),void 0!==n.skew?t.buildSkewTransform(n.skew):t.buildSkewTransform(l),void 0!==n.rotate?t.buildRotationTransform(n.rotate):t.buildRotationTransform(c),void 0!==n.translate3d?t.buildTranslateTransform(n.translate3d):t.buildTranslateTransform(d),void 0!==n.matrix?t.buildMatrixTransform(n.matrix):t.buildMatrixTransform(h)],o,i).filter((function(t){return!!t})).join(" ")},t.setShadowToElement=function(e,n,i){var r=t.convertShadowObjectToCssFilter(e,n);i.css("-webkit-filter",r),i.css("filter",r)},t.convertShadowObjectToCssFilter=function(t,e){var n="";if(u.default.isEmpty(t))return n;var i={x:t.x||0,y:t.y||0};if(e&&0!==e){e=Math.toRad(e);var r=i.x*Math.cos(e)+i.y*Math.sin(e),o=-1*i.x*Math.sin(e)+i.y*Math.cos(e);i.x=r,i.y=o}n+="drop-shadow(",n+=Math.round(i.x)+"px",n+=" "+Math.round(i.y)+"px";var a=l.default.webkit?4:2;return n+=t.blur?" "+Math.round(t.blur/a)+"px":" 0",(n+=" "+t.color)+")"},t.getValueFromProperty=function(e,n){var i=new RegExp(n+"\\(.*?\\)","g"),r=e.match(i);if(!r)return null;var o=r[0].match(t.transformValueRegEx);return o?Number.parseFloat(o[0]):null},t.getUnsupportedString=function(t,e){var n=new RegExp(e+"\\(.*?\\)","g"),i=t.match(n);return i?i[0]:null},t.getScale=function(t){return this.getXYAll(a.scale,t)},t.getSkew=function(t){return this.getXYAll(a.skew,t)},t.getXYAll=function(e,n){var i=new RegExp(e+"\\(.*?\\)","g"),r=n.match(i);if(!r)return null;var o=r[0].match(t.transformValueRegEx);return o&&2===o.length?{x:Number.parseFloat(o[0]),y:Number.parseFloat(o[1])}:o&&1===o.length?{all:Number.parseFloat(o[0])}:null},t.getTranslate=function(e){var n=new RegExp(a.translate3d+"\\(.*?\\)","g"),i=e.match(n);if(!i)return null;var r=i[0].match(t.transformValueRegEx);return r&&3===r.length?{x:Number.parseFloat(r[0]),y:Number.parseFloat(r[1]),z:Number.parseFloat(r[2])}:null},t.getMatrix=function(e){var n=new RegExp(a.matrix+"\\(.*?\\)","g"),i=e.match(n);if(!i)return null;var r=i[0].match(t.transformValueRegEx);return r&&6===r.length?{scaleX:Number.parseFloat(r[0]),skewY:Number.parseFloat(r[1]),skewX:Number.parseFloat(r[2]),scaleY:Number.parseFloat(r[3]),translateX:Number.parseFloat(r[4]),translateY:Number.parseFloat(r[5])}:null},t.buildProperty=function(t,e){return e||0===e?t+"("+e+")":""},t.buildScaleTransform=function(t){return t?t.all?a.scale+"("+t.all+")":a.scale+"("+t.x+", "+t.y+")":""},t.buildSkewTransform=function(t){return t?t.all?a.skew+"("+t.all+"deg)":a.skew+"("+t.x+"deg, "+t.y+"deg)":""},t.buildTranslateTransform=function(t){return t?a.translate3d+"("+t.x+", "+t.y+", "+t.z+")":""},t.buildMatrixTransform=function(t){if(t instanceof Array){if(6!==t.length)return"";t={scaleX:t[0],skewY:t[1],skewX:t[2],scaleY:t[3],translateX:t[4],translateY:t[5]}}return t?a.matrix+"("+t.scaleX+", "+t.skewY+", "+t.skewX+", "+t.scaleY+", "+t.translateX+", "+t.translateY+")":""},t.buildRotationTransform=function(t){return t||0===t?a.rotate+"("+t+"deg)":""},t.computeEffect=function(e,n){var i=e[c.ImageEffects.BRIGHTNESS.NAME],r=e[c.ImageEffects.CONTRAST.NAME],o=e[c.ImageEffects.HUEROTATE.NAME],a=e[c.ImageEffects.SATURATE.NAME],s=e[c.ImageEffects.SEPIA.NAME],l=e[c.ImageEffects.INVERT.NAME],d="",h="",f="";(n||!u.default.isNil(i)&&i!==c.ImageEffects.defaultValueOf(c.ImageEffects.BRIGHTNESS.NAME))&&(i+=100,d=t.createImageEffectCssString(c.ImageEffects.BRIGHTNESS,i)),(n||!u.default.isNil(r)&&r!==c.ImageEffects.defaultValueOf(c.ImageEffects.CONTRAST.NAME))&&(r+=100,h=this.createImageEffectCssString(c.ImageEffects.CONTRAST,r)),(n||!u.default.isNil(a)&&a!==c.ImageEffects.defaultValueOf(c.ImageEffects.SATURATE.NAME))&&(0===(a+=100)&&(a=1),f=this.createImageEffectCssString(c.ImageEffects.SATURATE,a));var p={};return p[c.ImageEffects.BRIGHTNESS.NAME]=d,p[c.ImageEffects.CONTRAST.NAME]=h,p[c.ImageEffects.SATURATE.NAME]=f,p[c.ImageEffects.HUEROTATE.NAME]=this.createEffectStringIfPresent(o,c.ImageEffects.HUEROTATE,n),p[c.ImageEffects.SEPIA.NAME]=this.createEffectStringIfPresent(s,c.ImageEffects.SEPIA,n),p[c.ImageEffects.INVERT.NAME]=this.createEffectStringIfPresent(l,c.ImageEffects.INVERT,n),c.ImageEffects.computeBrowserImageFilter(p)},t.createEffectStringIfPresent=function(e,n,i){return i||!u.default.isNil(e)&&e!==c.ImageEffects.defaultValueOf(n.NAME)?t.createImageEffectCssString(n,e):""},t.createImageEffectCssString=function(t,e){return t.NAME+"("+e+t.UNIT+")"},t.getCurrentEffects=function(e){var n={},i=e.css("filter");if(i){var r=i.match(/brightness\((.*?)\)/);n[c.ImageEffects.BRIGHTNESS.NAME]=t.formatEffect(c.ImageEffects.BRIGHTNESS,r);var o=i.match(/contrast\((.*?)\)/);n[c.ImageEffects.CONTRAST.NAME]=t.formatEffect(c.ImageEffects.CONTRAST,o);var a=i.match(/hue-rotate\((.*?)\)/);n[c.ImageEffects.HUEROTATE.NAME]=t.formatEffect(c.ImageEffects.HUEROTATE,a);var s=i.match(/saturate\((.*?)\)/);n[c.ImageEffects.SATURATE.NAME]=t.formatEffect(c.ImageEffects.SATURATE,s);var u=i.match(/sepia\((.*?)\)/);n[c.ImageEffects.SEPIA.NAME]=t.formatEffect(c.ImageEffects.SEPIA,u);var l=i.match(/invert\((.*?)\)/);n[c.ImageEffects.INVERT.NAME]=t.formatEffect(c.ImageEffects.INVERT,l)}return n},t.formatEffect=function(t,e){return e?"hue-rotate"===t.NAME?parseFloat(e[1]):100*parseFloat(e[1])+t.MIN:t.DEFAULT},t.transformValueRegEx=/(-?\d+\.?\d*)/g,t}();e.CssUtils=d},91426:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FocusArbiter=void 0;var s=a(n(65311)),u=a(n(26882)),l=o(n(66625)),c=n(50877),d=function(){function t(t){this.pageView=t}return t.prototype.searchFoldersForTarget=function(t){var e=this.pageView.model.findLayerById(t);if(e&&"folder"===e.type){var n=this.pageView.model.constructor.findTopmostFolderContent(e);if(n)return this.pageView.$pageContainer.find("#"+l.escapeComponentId(n.id))}return s.default()},t.prepareTargetOutlineForFocus=function(e){return("keyboard"!==u.default.ask()||!e.is("button, a")&&isNaN(Number(e.attr("tabindex"))))&&(e.addClass(t.HIDDEN_OUTLINE_CLASS_NAME),e.off("blur.outline").on("blur.outline",(function(){e.off("blur.outline"),e.removeClass(t.HIDDEN_OUTLINE_CLASS_NAME)}))),e},t.prototype.prepareTargetOpacityForFocus=function(e){if("none"===e.css("display")){var n=e.attr("aria-hidden");e.off("blur.opacity").on("blur.opacity",(function(){e.off("blur.opacity"),e.removeClass(t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME),n?e.attr("aria-hidden",n):e.removeAttr("aria-hidden")})).addClass(t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME).attr("aria-hidden","true")}return e},t.prototype.prepareTargetTabIndexForFocus=function(t){var e=t.attr("tabindex");return e&&"0"!==e?t:t.attr("tabindex",-1).off("blur.tabindex").on("blur.tabindex",(function(){t.off("blur.tabindex"),e?t.attr("tabindex",e):t.removeAttr("tabindex")}))},t.prototype.moveFocusToElement=function(e){if(e){var n,i="#"+l.escapeComponentId(e);(n=i==="#"+c.VIEWPORT_TOP_ID?s.default(i):this.pageView.$pageContainer.find(i)).length||(n=this.searchFoldersForTarget(e)),n.length&&(n=this.prepareTargetOpacityForFocus(n),n=t.prepareTargetOutlineForFocus(n),(n=this.prepareTargetTabIndexForFocus(n)).get(0).focus({preventScroll:!0}))}},t.HIDDEN_OUTLINE_CLASS_NAME="outline-hidden",t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME="fakely-hidden",t}();e.FocusArbiter=d},21218:function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InlineLinkProcessor=void 0;var s=a(n(65311)),u=a(n(96486)),l=n(67757),c=a(n(54777)),d=n(19043),h=n(9010),f=n(2044),p=n(66625),g=n(36281),m=function(){function t(t,e){void 0===e&&(e=[]),this.textComponent=t,this.allTextSpans=e}return t.prototype.decorateLinks=function(t,e){for(var n=0;n<this.allTextSpans.length;++n)if(this.allTextSpans[n].hyperlink&&!this.isLinkContinuation(n)){var i=this.compileLinkSpans(n),o=this.prepareLinkSplice(i,n,e),a=t.splice.apply(t,r(o));t.splice(o[0],0,this.decorateLink(a.join(""),i[0]))}return t.join("")},t.prototype.decorateLink=function(t,e){var n=this.interactionForLink(e.hyperlink),i=n.domTagOverride;if(!i)return t;var r=s.default("<"+i.tagName+">",i.attributes).addClass("span-at-"+e.index).addClass("inline-link").html(t);return this.activateClickEvents(n,e),this.activateHoverEvents(e),r.get(0).outerHTML},t.prototype.activateClickEvents=function(t,e){var n=this,i="#"+p.escapeComponentId(this.textComponent.options.id)+" .span-at-"+e.index;this.textComponent.options.pageView.$pageContainer.off("click",i).on({click:function(e){e.preventDefault();var i=n.textComponent.addComponentAndClickDataToEvent({},e);t.triggerAction(i),c.default.trigger(n.textComponent.module.publishedEvents.PAGE_COMPONENT_CLICKED,i),n.textComponent.module.trigger(n.textComponent.module.publishedEvents.PAGE_COMPONENT_INTERACTION,i)}},i)},t.prototype.activateHoverEvents=function(t){var e="#"+p.escapeComponentId(this.textComponent.options.id)+" .span-at-"+t.index,n="data-original-color";this.textComponent.options.pageView.$pageContainer.off("hover",e).on({mouseenter:function(t){t.preventDefault(),s.default(t.target).parent(".inline-link").find("span").each((function(t,e){var i=s.default(e);if(!i.attr(n)){var r=i.css("color"),o=f.ColorUtils.isLight(r)?f.ColorUtils.darken(r,35):f.ColorUtils.lighten(r,35);i.attr(n,r),i.css("color",o)}}))},mouseleave:function(t){t.preventDefault(),s.default(t.target).parent(".inline-link").find("span").each((function(t,e){var i=s.default(e);if(i.attr(n)){var r=i.attr(n);i.css("color",r),i.removeAttr("data-original-color")}}))}},e)},t.prototype.interactionForLink=function(t){var e={trigger:"click"};return t.type===h.InlineLinkType.PAGE?"next"===t.location||"prev"===t.location?"next"===t.location?e.action=g.ActionTypes.nextPage:e.action=g.ActionTypes.prevPage:(e.action=g.ActionTypes.gotoPage,e.pageTarget=parseInt(t.location)):t.type===h.InlineLinkType.POSITION?(e.action=g.ActionTypes.scrollTo,"top"===t.location||"bottom"===t.location?e.scrollTargetType=t.location:(e.scrollTargetType="scranchor",e.scrollTargetScranchor=t.location)):t.type===h.InlineLinkType.OBJECT?(e.action=g.ActionTypes.scrollToObject,e.layerTargets=[this.textComponent.options.parentSmartgroup?this.textComponent.options.parentSmartgroup.id+"|"+t.location:t.location]):(e.action=g.ActionTypes.url,e.url=t.location,e.urlOpenInNewWindow=t.newTab),new(d.InteractionFactory.constructorFor(e.action))(e,this.textComponent.options.pageView)},t.prototype.isLinkContinuation=function(t){if(this.isLoneNewLineAfterLink(this.allTextSpans[t])&&this.allTextSpans[t-1]&&this.allTextSpans[t-1].hyperlink)return!0;var e=1;return this.isLoneNewLineAfterLink(this.allTextSpans[t-1])&&++e,!!this.allTextSpans[t].hyperlink&&u.default.isEqual(this.allTextSpans[t].hyperlink,u.default.get(this.allTextSpans[t-e],"hyperlink"))},t.prototype.compileLinkSpans=function(t){var e=[],n=u.default.get(this.allTextSpans,t+".hyperlink");if(!n)return e;var i=t;do{e.push(this.allTextSpans[i]),this.isLoneNewLineAfterLink(this.allTextSpans[i+1])&&++i}while(u.default.isEqual(n,u.default.get(this.allTextSpans[++i],"hyperlink")));return e},t.prototype.prepareLinkSplice=function(t,e,n){var i;if(n===l.TextRenderMode.PARAGRAPH){for(var r=0,o=0;o<t.length-1;++o)t[o].index+t[o].length!==t[o+1].index&&++r;i=[e,t.length+r]}else i=n===l.TextRenderMode.LINE?[e,t.length]:this.prepareCharacterModeLinkSplice(t);return i.concat(u.default.fill(new Array(i[1]-1),""))},t.prototype.prepareCharacterModeLinkSplice=function(t){var e=this,n=t.reduce((function(t,e){return t+e.length}),0),i=this.countUnrenderedWhiteSpaceInRange(0,t[0].index),r=t.reduce((function(t,n){return e.countUnrenderedWhiteSpaceInRange(n.index,n.length)+t}),0),o=t[0].index-i;return[o,o+n-r-o]},t.prototype.countUnrenderedWhiteSpaceInRange=function(t,e){var n,i,r=u.default.get(this.textComponent.glyphMetrics,"lines")||[],a=/^\s*$/g,s=0,l=0;try{for(var c=o(r),d=c.next();!d.done;d=c.next()){var h=d.value;if(!((s+=h.length)<t)){var f=u.default.map(h,"ch").join(""),p=Math.max(t,s-h.length),g=Math.min(t+e,s);if(f.match(a)?l+=g-Math.max(t,p):l+=this.countNewLinesInRange(p,g-p),s>=t+e)break}}}catch(t){n={error:t}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return l},t.prototype.countNewLinesInRange=function(t,e){return this.textComponent.options.textContent.substr(t,e).split("\n").length-1},t.prototype.isLoneNewLineAfterLink=function(t){return!!t&&!t.hyperlink&&1===t.length&&"\n"===this.textComponent.options.textContent.charAt(t.index)},t}();e.InlineLinkProcessor=m},62863:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebkitUtils=void 0;var r=n(95825),o=i(n(80771)),a=function(){function t(){}return t.hardwareAccelerateTransform=function(t){var e={translate3d:{x:0,y:0,z:0}};if("string"==typeof t)return r.CssUtils.setTransformProperty(t,e);r.CssUtils.setTransformToElement(t,e)},t.requiresHardwareAccelerateTransform=function(t,e){return o.default.isDesktopSafari()||o.default.isIos()&&(t||e)},t}();e.WebkitUtils=a},41678:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.BigPauseButton=void 0;var l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return t.prototype.controlText.call(i,"Pause Video"),i}return r(e,t),e.prototype.createEl=function(e,n,i){return t.prototype.createEl.call(this,e,o(o({},n),{className:"big-pause-button",title:"Pause Video",innerHTML:'<span class="vjs-icon-pause" aria-hidden="true"></span>'}),i)},e}(u(n(70947)).getComponent("Button"));e.BigPauseButton=l},25111:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BigPlayButton=void 0;var l=s(n(70947)),c=u(n(80771)),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isPromise=function(t){return null!=t&&"function"==typeof t.then},e.prototype.silencePromise=function(t){this.isPromise(t)&&t.then(null,(function(){}))},e.prototype.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;if(this.silencePromise(e),!this.player_.tech(!0)||c.default.isWindows()||n||this.player_.tech(!0).focus(),!c.default.isWindows())return}var i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(r){var o=function(){return r.focus()};this.isPromise(e)?e.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},e}(l.getComponent("BigPlayButton"));e.BigPlayButton=d},85221:(t,e)=>{"use strict";function n(t){if(null===t)return{top:0,left:0};var e=0,n=0;do{e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent}while(t);return{top:n,left:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.getPointerPosition=e.findPosition=e.getBoundingClientRect=e.getOffsetPosition=void 0,e.getOffsetPosition=n,e.getBoundingClientRect=function(t,e){void 0===e&&(e=1);var n=t.getBoundingClientRect();return{top:n.top*e,left:n.left*e,width:n.width*e,height:n.height*e}},e.findPosition=function(t,e){void 0===e&&(e=1);var i=n(t),r=i.top,o=i.left;return{left:Math.round(r)*e,top:Math.round(o)*e}},e.getPointerPosition=function(t,e,n){void 0===n&&(n=1);var i={x:0,y:0},r=t.getBoundingClientRect(),o=r.top,a=r.left,s=r.width,u=r.height,l=e.pageY/n,c=e.pageX/n;return e.changedTouches&&(c=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(o-l+u)/u)),i.x=Math.max(0,Math.min(1,(c-a)/s)),i}},25641:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTimeDisplay=void 0;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(t,e){var n=this,i=(0,this.options_.playerOptions.getExperienceScale)().scale,r=e*this.player_.duration(),o=1*t.width/i;this.getChild("timeTooltip").updateTime(t,e,r,(function(){n.el_.style.left=o*e+"px"}))},e}(s(n(70947)).getComponent("MouseTimeDisplay"));e.MouseTimeDisplay=u},80273:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressControl=void 0;var u=s(n(70947)),l=n(85221),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("playProgressBar"),i=e.getChild("mouseTimeDisplay");if(n||i){var r,o=e.el(),a=(0,this.options_.playerOptions.getExperienceScale)().zoomScale,s=l.getBoundingClientRect(o,a),u=l.getPointerPosition(o,t,a).x;0,1,r=u,u=Math.min(Math.max(r,0),1),i&&i.update(s,u),n&&n.update(s,e.getProgress())}}},e}(u.getComponent("progressControl"));e.ProgressControl=c},19140:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.SeekBar=void 0;var u=s(n(70947)),l=n(85221),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.calculateDistance=function(t){var e=(0,this.options_.playerOptions.getExperienceScale)().zoomScale,n=l.getPointerPosition(this.el_,t,e);return this.vertical()?n.y:n.x},e}(u.getComponent("SeekBar"));e.SeekBar=c},8157:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return s(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SubsCapsButton=void 0;var c=l(n(65311)),d=function(t){function e(e,n){var i=t.call(this,e,n)||this;return t.prototype.controlText.call(i,"Toggle Captions"),i}return r(e,t),e.prototype.createEl=function(e,n,i){var r=t.prototype.createEl.call(this,e,o(o({},n),{className:"vjs-subs-caps-button vjs-control vjs-button",title:"Toggle Captions",innerHTML:'<span class=\'captions-icon-active\' aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16">\n    <g fill="none" fill-rule="evenodd">\n        <g fill="#FFF">\n            <g>\n                <g>\n                    <path d="M16 0c1.105 0 2 .895 2 2v12c0 1.105-.895 2-2 2H2c-1.105 0-2-.895-2-2V2C0 .895.895 0 2 0h14zM5.957 5.133c-1.086 0-1.086 0-1.789.71-.809.817-.809.817-.809 2.325 0 1.395 0 1.395.711 2.195.711.797.711.797 1.953.797 1.004 0 1.004 0 1.647-.59.571-.524.571-.524.758-1.326l.04-.205h-1.19c-.122.445-.122.445-.305.668-.332.414-.332.414-.965.414-.617 0-.617 0-1.018-.482-.4-.483-.4-.483-.4-1.451 0-.97 0-.97.379-1.499.379-.529.379-.529 1.035-.529.644 0 .644 0 .973.375.146.169.146.169.25.468l.05.157H8.48c-.027-.539-.027-.539-.398-1.074-.672-.953-.672-.953-2.125-.953zm5.777 0c-1.086 0-1.086 0-1.789.71-.808.817-.808.817-.808 2.325 0 1.395 0 1.395.71 2.195.712.797.712.797 1.954.797 1.004 0 1.004 0 1.646-.59.571-.524.571-.524.758-1.326l.041-.205h-1.191c-.121.445-.121.445-.305.668-.332.414-.332.414-.965.414-.617 0-.617 0-1.017-.482-.4-.483-.4-.483-.4-1.451 0-.97 0-.97.378-1.499.379-.529.379-.529 1.035-.529.645 0 .645 0 .973.375.147.169.147.169.251.468l.05.157h1.203c-.028-.539-.028-.539-.399-1.074-.671-.953-.671-.953-2.125-.953z" transform="translate(-996 -856) translate(636 571) translate(360 285)"/>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n</span><span aria-hidden="true" class="captions-icon-inactive"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16">\n    <g fill="none" fill-rule="evenodd" opacity=".8">\n        <g>\n            <g>\n                <g transform="translate(-996 -429) translate(636 144) translate(360 285)">\n                    <path fill="#FFF" fill-rule="nonzero" d="M6.023 11.16c.67 0 1.219-.196 1.647-.59.428-.393.695-.903.799-1.53H7.277c-.08.296-.182.519-.304.667-.222.276-.543.414-.965.414-.412 0-.75-.16-1.018-.482-.267-.322-.4-.806-.4-1.451 0-.646.126-1.146.379-1.499.252-.352.597-.529 1.035-.529.43 0 .754.125.973.375.122.14.222.35.3.625H8.48c-.018-.36-.15-.717-.398-1.074-.448-.635-1.156-.953-2.125-.953-.724 0-1.32.237-1.789.71-.54.545-.809 1.32-.809 2.325 0 .93.237 1.661.711 2.195.474.532 1.125.797 1.953.797zm5.778 0c.67 0 1.218-.196 1.646-.59.429-.393.695-.903.8-1.53h-1.192c-.081.296-.183.519-.305.667-.221.276-.543.414-.965.414-.411 0-.75-.16-1.017-.482-.267-.322-.4-.806-.4-1.451 0-.646.125-1.146.378-1.499.253-.352.598-.529 1.035-.529.43 0 .754.125.973.375.122.14.223.35.3.625h1.204c-.018-.36-.151-.717-.399-1.074-.448-.635-1.156-.953-2.125-.953-.724 0-1.32.237-1.789.71-.539.545-.808 1.32-.808 2.325 0 .93.237 1.661.71 2.195.475.532 1.126.797 1.954.797z"/>\n                    <rect width="16" height="14" x="1" y="1" stroke="#FFF" stroke-width="2" rx="2"/>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n</span>'}),o(o({},i),{"aria-pressed":!1}));return c.default(r).on("mouseout",this.removeFocusOutline.bind(this)),r},e.prototype.handleClick=function(){if(!this.track)if(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)this.track=this.player().el_.getElementsByTagName("track")[0].track;else for(var t=this.player_.textTracks(),e=0;e<t.length;e++)"captions"===t[e].kind&&(this.track=t[e]);"showing"!==this.track.mode?(this.track.mode="showing",this.el_.classList.add("captions-active"),this.el_.setAttribute("aria-pressed","true")):(this.track.mode="disabled",this.el_.classList.remove("captions-active"),this.el_.setAttribute("aria-pressed","false"))},e.prototype.removeFocusOutline=function(t){"BUTTON"===t.target.tagName?c.default(t.target).blur():c.default(t.target).closest("button").blur()},e}(u(n(70947)).getComponent("Button"));e.SubsCapsButton=d},55619:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextTrackDisplay=void 0;var l=s(n(70947)),c=u(n(80771)),d=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.updateDisplayState=function(e){if(t.prototype.updateDisplayState.call(this,e),this.shouldUpdateTrackCss()){var n=this.options_.playerOptions.getExperienceScale().scale;if(1!==n)for(var i=0;i<e.activeCues.length;i++){var r=e.activeCues[i].displayState;r&&(r.style.width=parseFloat(r.style.width)/n+"px",r.style.top=parseFloat(r.style.top)/n+"px",r.style.height=parseFloat(r.style.height)/n+"px",r.style["font-size"]=parseFloat(r.style["font-size"])/n+"px")}}},e.prototype.shouldUpdateTrackCss=function(){return c.default.isIpadPretendingToBeDesktop()&&!this.player_.isFullscreen()||c.default.isBrowserFirefox()&&!this.player_.isFullscreen()},e}(l.getComponent("TextTrackDisplay"));e.TextTrackDisplay=d},4869:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Video=void 0;var o=r(n(70947)),a=n(25111),s=n(19140),u=n(75982),l=n(25641),c=n(80273),d=n(8157),h=n(55619);e.Video=function(t,e,n,r){void 0===n&&(n={mobile:!1,nativeTextTracks:!1}),o.default.registerComponent("BigPlayButton",a.BigPlayButton),o.default.registerComponent("VolumeBar",u.VolumeBar),o.default.registerComponent("MouseTimeDisplay",l.MouseTimeDisplay),o.default.registerComponent("SeekBar",s.SeekBar),o.default.registerComponent("ProgressControl",c.ProgressControl),o.default.registerComponent("SubsCapsButton",d.SubsCapsButton),o.default.registerComponent("TextTrackDisplay",h.TextTrackDisplay),o.default.log.level("error");var f={};return n.mobile&&(f={volumePanel:{inline:!1},children:["progressControl","playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","remainingTimeDisplay","subsCapsButton","fullscreenToggle"]}),o.default(t,i(i({},e),{controlBar:i({pictureInPictureToggle:!1,children:["progressControl","playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},f),html5:{nativeAudioTracks:!1,nativeTextTracks:n.nativeTextTracks}}),r)}},75982:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.VolumeBar=void 0;var u=s(n(70947)),l=n(85221),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.calculateDistance=function(t){var e=(0,this.options_.playerOptions.getExperienceScale)().zoomScale,n=l.getPointerPosition(this.el_,t,e);return this.vertical()?n.y:n.x},e}(u.getComponent("VolumeBar"));e.VolumeBar=c},59408:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPageViewTracker=void 0;var a=o(n(96486)),s=function(t){function e(){var e=t.call(this)||this;return e.EVENTS={USER_ACTIVITY_PING:"user-activity-ping"},e.PAGE_PING_INTERVAL_MILLIS=5e3,e.USER_INACTIVITY_TIMEOUT_MILLIS=3e4,e.pageNumber=1,e.timerStartTime=null,e.lastUserActivityTime=null,e.timerId=null,e.paused=!1,e.pageActivated=!1,document.addEventListener&&document.addEventListener("visibilitychange",a.default.bind((function(){"hidden"===document.visibilityState?e.pause():"visible"===document.visibilityState&&e.registerUserActivity()}),e)),e}return r(e,t),e.prototype.pause=function(){this.isRunning()&&(this.logDebug("Pausing page ping timer"),this.timerId&&clearTimeout(this.timerId),this.timerId=null,this.paused=!0)},e.prototype.registerUserActivity=function(){this.pageActivated&&(this.lastUserActivityTime=new Date,this.paused=!1,this.isRunning()||this.startTimer())},e.prototype.registerUserActivityIfNotPaused=function(){this.paused||this.registerUserActivity()},e.prototype.startTimer=function(){var t=this;this.logDebug("Starting page ping timer");var e=function(){t.timerId=setTimeout((function(){t.trigger(t.EVENTS.USER_ACTIVITY_PING,t.getDwellTimeEventData()),t.setPostEventFireData(),t.shouldStartPagePingEventTimer()?e():(t.logDebug("Stopping page pings. User is not active."),t.timerId=null)}),t.PAGE_PING_INTERVAL_MILLIS),t.timerStartTime=Date.now()};e()},e.prototype.getDwellTimeEventData=function(){return{dwellTime:this.PAGE_PING_INTERVAL_MILLIS/1e3}},e.prototype.setPostEventFireData=function(){},e.prototype.shouldStartPagePingEventTimer=function(){return this.isUserActive()},e.prototype.isUserActive=function(){return!!this.lastUserActivityTime&&new Date-this.lastUserActivityTime<this.USER_INACTIVITY_TIMEOUT_MILLIS},e.prototype.isRunning=function(){return null!==this.timerId},e.prototype.logDebug=function(t){console.log(t)},e}(o(n(41232)).default.Model);e.AbstractPageViewTracker=s},48467:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractUserAnalytics=void 0;var l=u(n(37136)),c=u(n(71053)),d=n(57225),h=n(46795),f=n(756),p=u(n(6651)),g=n(25509),m=n(55348),v=n(66844),y=n(32899),_=function(){function t(){var t=this;this.cerosTrackerApplicationSchemas={admin:["admin","studio","editor"],player:["player","previewer"]},this.setUserCerosTracker=function(e){t.cerosTrackerApplicationSchemas.admin.includes(t.application)&&t.cerosTracker.setUser(e.email,e.title,e.slug)},this.trackCerosEvent=function(e,n){t.cerosTrackerApplicationSchemas.admin.includes(t.application)&&t.cerosTracker.track(e,n)},this.isDevelopmentMode()?(this.mixpanelTracker=new h.NoOpMixpanelTracker,this.gtmTracker=new h.NoOpGoogleTagManagerTracker,this.logrocketTracker=new h.NoOpLogrocketTracker,this.logrocketPromise=Promise.resolve(this.logrocketTracker)):(this.mixpanelTracker=new d.MixpanelTracker,this.gtmTracker=new f.GoogleTagManagerTracker),this.cerosTracker=new p.default({enabled:!0,logger:y.LoggerUtils.logDebug,envPropertyList:["browser","browser_version","os","os_version","referrer","referring_domain","screen_height","screen_width","user_agent"]})}return t.prototype.isDevelopmentMode=function(){return!1},Object.defineProperty(t.prototype,"isPlayer",{get:function(){return"player"===this.application},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var e=this,i=t.mixpanelApiKey,r=t.logrocketAppId,o=t.application;this.isPlayer||this.isDevelopmentMode()||(this.application=null!=o?o:this.application,this.mixpanelTracker.init({mixpanelApiKey:i,application:this.application}),this.logrocketPromise=Promise.resolve().then((function(){return a(n(26916))})).then((function(t){var n=t.LogrocketTracker;return e.logrocketTracker=new n,e.logrocketTracker.init(r),e.logrocketTracker.setSessionUrl((function(t){e.mixpanelTracker.registerLogrocketUrl(t)})),e.logrocketTracker})).catch((function(t){var e;null===(e=window.Rollbar)||void 0===e||e.error("Failed to load LogrocketTracker",t)})))},t.prototype.setUser=function(t,e,n){var r,o=this,a=this.getUserEventData(t),u=this.getAccountEventData(e);this.setUserCerosTracker(t),this.gtmTracker.identifyUser({app:this.application,user:g.DataUtils.keysToSnakeCase(a),account:g.DataUtils.keysToSnakeCase(i(i({},u),{featureFlags:n}))});var l=a.userRole,c=s(a,["userRole"]);this.mixpanelTracker.identify(t.id),this.mixpanelTracker.setUserProperties(c),this.mixpanelTracker.addUserRole(e.id,l),this.mixpanelTracker.addAccountToUser(e.id),this.mixpanelTracker.setCurrentAccountId(e.id),null===(r=this.logrocketPromise)||void 0===r||r.then((function(){o.logrocketTracker.identify(t.id,t.title,t.email)}))},t.prototype.updateAccount=function(t,e){this.mixpanelTracker.setAccountProperties({id:t.id,title:t.title,accountTier:t.accountTier,usersLimit:t.usersLimit,trial:t.trial,startDate:t.startDate,slug:t.slug,publishedExperienceOpensThreshold:t.publishedExperienceOpensThreshold,publishedExperienceLimit:t.publishedExperienceLimit,opensPerMonth:t.opensPerMonth,monthlyExperienceGoals:t.monthlyExperienceGoals,pricingPlanLimit:t.pricingPlanLimit,pricingPlan:t.pricingPlan,organizationId:t.organizationId,isInternal:t.isInternal,initialSubscriptionContractStartDate:t.initialSubscriptionContractStartDate,hubspotId:t.hubspotId,endDate:t.endDate,disablePublishing:t.disablePublishing,contractStartDate:t.contractStartDate,contractEndDate:t.contractEndDate,commerceIntegration:t.commerceIntegration,eloquaIntegration:t.eloquaIntegration,marketoIntegration:t.marketoIntegration,googleTagManagerIntegration:t.googleTagManagerIntegration,hubspotIntegration:t.hubspotIntegration,gettyIntegration:t.gettyIntegration,embeddedPlayerSdk:t.embeddedPlayerSdk,whiteLabeling:t.whiteLabeling,analyticsTracking:t.analyticsTracking,concurrentLogins:t.concurrentLogins,adaptiveLayouts:t.adaptiveLayouts,universalAnalyticsIntegration:t.universalAnalyticsIntegration,isIndividualAccount:t.isIndividualAccount,origin:t.origin,subscriptionId:t.subscriptionId,notes:t.notes,featureFlags:e})},t.prototype.registerExperience=function(t){var e=t.experience_title,n=t.experience_slug,i=t.experience_alias,r=t.project_slug,o=t.account_slug;this.mixpanelTracker.register({experience_title:e,experience_slug:n,experience_alias:i,project_slug:r,account_slug:o})},t.prototype.registerExperiencePublished=function(t){var e=t.experience_published;this.mixpanelTracker.register({experience_published:e})},t.prototype.getUserEventData=function(t){var e;return{email:t.email,title:t.title,isSuperadmin:t.isSuperadmin,isSuperuser:t.isSuperuser,firstLoginDate:l.default(null!==(e=t.inviteAcceptedDate)&&void 0!==e?e:t.creationDate).unix(),userRole:this.getUserRole(t)}},t.prototype.getAccountEventData=function(t){return i(i({},t),{startDate:t.startDate?l.default(t.startDate).unix():null,endDate:t.endDate?l.default(t.endDate).unix():null,gracePeriodEndDate:t.gracePeriodEndDate?l.default(t.gracePeriodEndDate).unix():null,contractStartDate:t.contractStartDate?l.default(t.contractStartDate).unix():null,contractEndDate:t.contractEndDate?l.default(t.contractEndDate).unix():null,initialSubscriptionContractStartDate:t.initialSubscriptionContractStartDate?l.default(t.initialSubscriptionContractStartDate).unix():null,latePaymentNotificationLastUpdated:t.latePaymentNotificationLastUpdated?l.default(t.latePaymentNotificationLastUpdated).unix():null})},t.prototype.getUserRole=function(t){return(t.currentAccountMember?t.currentAccountMember.isOwner?m.RoleName.OWNER:t.currentAccountMember.projectRoleId?v.RoleUtils.getRoleName(t.currentAccountMember.projectRoleId):"unknown":"unknown").toLowerCase()},t.prototype.generateEventSlug=function(){return c.default.generate()},t.prototype.trackExperienceOpen=function(t){var e=t.experience_title,n=s(t,["experience_title"]),r=this.generateEventSlug();this.trackCerosEvent(this.application+".experience.open",i(i({},n),{event_slug:r})),this.gtmTracker.track(this.application+".experience.open",i(i({},n),{experience_title:e,event_slug:r})),this.mixpanelTracker.track("experience-opened",i(i({},n),{experience_title:e,event_slug:r}))},t.prototype.trackEmbedCodeCopy=function(t){var e=t.experience_title,n=s(t,["experience_title"]),r=this.generateEventSlug();this.trackCerosEvent(this.application+".experience.embed-code-copy",i(i({},n),{event_slug:r})),this.gtmTracker.track(this.application+".experience.embed-code-copy",i(i({},n),{experience_title:e,event_slug:r})),this.mixpanelTracker.track("embed-code-copy",i(i({},t),{event_slug:r}))},t.prototype.trackInviteUser=function(t){var e,n,i=this.generateEventSlug();this.trackCerosEvent(this.application+".user.invite",{event_slug:i}),this.gtmTracker.track(this.application+".user.invite",{new_user_email:t.new_user_email,new_user_role:null!==(n=null===(e=t.new_user_role)||void 0===e?void 0:e.toLowerCase())&&void 0!==n?n:"unknown",event_slug:i})},t.prototype.trackLogin=function(t){var e=this.generateEventSlug();this.trackCerosEvent(this.application+".user.login",{event_slug:e}),this.gtmTracker.track(this.application+".user.login",{event_slug:e}),this.mixpanelTracker.track("signin",i(i({},t),{event_slug:e}))},t.prototype.trackLogout=function(t){var e=this.generateEventSlug();this.gtmTracker.track(this.application+".user.logout",i(i({},t),{event_slug:e}))},t.prototype.trackPublishExperience=function(t){var e=this.generateEventSlug();this.trackCerosEvent(this.application+".experience.publish",i(i({},t),{event_slug:e})),this.gtmTracker.track(this.application+".experience.publish",i(i({},t),{event_slug:e})),this.mixpanelTracker.track("experience-publish",i(i({},t),{event_slug:e}))},t.prototype.trackContactLoaded=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("contact-loaded",i(i({},t),{event_slug:e}))},t.prototype.trackContactClicked=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("contact-clicked",i(i({},t),{event_slug:e}))},t.prototype.trackSignpostClicked=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("signpost-clicked",i(i({},t),{event_slug:e}))},t.prototype.trackOpenInStudioClicked=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("studio-clicked",i(i({},t),{event_slug:e}))},t.prototype.trackOpenInEditorClicked=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("editor-clicked",i(i({},t),{event_slug:e}))},t.prototype.trackOpenInPreviewClicked=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("preview-clicked",i(i({},t),{event_slug:e}))},t.prototype.trackOpenInMarkupClicked=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("markup-clicked",i(i({},t),{event_slug:e}))},t.prototype.trackOpenInGemmaClicked=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("gemma-clicked",i(i({},t),{event_slug:e}))},t.prototype.trackOnShowIntercom=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("intercom-show",i(i({},t),{event_slug:e}))},t.prototype.trackExperienceShared=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("experience-shared",i(i({},t),{event_slug:e}))},t.prototype.trackRequestFeedbackSent=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("request-feedback-sent",i(i({},t),{event_slug:e}))},t.prototype.trackRequestFeedbackClicked=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("request-feedback-clicked",i(i({},t),{event_slug:e}))},t}();e.AbstractUserAnalytics=_},24848:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AnalyticsLocalStorage=void 0;var r=i(n(68814)),o=i(n(54400)),a=n(33156).storageFactory((function(){return window.localStorage})),s=function(){function t(){}return t.setUserConsent=function(t,e){var n=this.generateUserConsentKey(e);a.setItem(n,t.toString())},t.getUserConsent=function(t){var e=this.generateUserConsentKey(t);switch(a.getItem(e)){case"true":return!0;case"false":return!1;default:return null}},t.deleteUserConsent=function(t){var e=this.generateUserConsentKey(t);a.removeItem(e)},t.setExperienceTracker=function(t,e){var n=this.generateExperienceTrackerKey(e);a.setItem(n,JSON.stringify(t))},t.getExperienceTracker=function(t){var e=r.default.getExperienceTrackingCookieData();if((null==e?void 0:e.initial_referrer)||(null==e?void 0:e.initial_referring_domain)){this.setExperienceTracker(e,t);var n=o.default.getRootDomain();r.default.deleteExperienceTrackingCookie(t,n)}var i=this.generateExperienceTrackerKey(t),s=a.getItem(i);return s?JSON.parse(s):null},t.deleteExperienceTracker=function(t){var e=o.default.getRootDomain();r.default.deleteExperienceTrackingCookie(t,e);var n=this.generateExperienceTrackerKey(t);a.removeItem(n)},t.setDomainTracker=function(t,e){var n=this.generateDomainTrackerKey(e);a.setItem(n,JSON.stringify(t))},t.getDomainTracker=function(t){var e=r.default.getDomainTrackingCookieData();if(null==e?void 0:e.user_token){this.setDomainTracker(e,t);var n=o.default.getRootDomain();r.default.deleteDomainTrackingCookie(t,n)}var i=this.generateDomainTrackerKey(t),s=a.getItem(i);return s?JSON.parse(s):null},t.deleteDomainTracker=function(t){var e=o.default.getRootDomain();r.default.deleteDomainTrackingCookie(t,e),r.default.deleteDomainTrackingCookie("/",e);var n=this.generateDomainTrackerKey(t);a.removeItem(n)},t.generateUserConsentKey=function(t){return""+this.USER_CONSENT_KEY_PREFIX+t},t.generateExperienceTrackerKey=function(t){return""+this.EXPERIENCE_TRACKER_KEY_PREFIX+t},t.generateDomainTrackerKey=function(t){return""+this.DOMAIN_TRACKER_KEY_PREFIX+t},t.USER_CONSENT_KEY_PREFIX="user_consent",t.EXPERIENCE_TRACKER_KEY_PREFIX="experience_tracker",t.DOMAIN_TRACKER_KEY_PREFIX="domain_tracker",t}();e.AnalyticsLocalStorage=s},46795:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpLogrocketTracker=e.NoOpMixpanelTracker=e.NoOpGoogleTagManagerTracker=void 0;var o=n(756),a=n(57225),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.track=function(){},e.prototype.identifyUser=function(){},e}(o.GoogleTagManagerTracker);e.NoOpGoogleTagManagerTracker=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(){},e.prototype.register=function(){},e.prototype.registerLogrocketUrl=function(){},e.prototype.track=function(){},e.prototype.identify=function(){},e.prototype.addAccountToUser=function(){},e.prototype.setCurrentAccountId=function(){},e.prototype.setUserProperties=function(){},e.prototype.addUserRole=function(){},e.prototype.setAccountProperties=function(){},e}(a.MixpanelTracker);e.NoOpMixpanelTracker=u;var l=function(){function t(){}return t.prototype.init=function(){},t.prototype.identify=function(){},t.prototype.setSessionUrl=function(t){t("")},t}();e.NoOpLogrocketTracker=l},98134:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return s(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseAnalytics=void 0;var c=l(n(97575)),d=l(n(96486)),h=l(n(80771)),f=l(n(22754)),p=l(n(96746)),g=l(n(42519)),m=l(n(54400)),v=n(24848),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._documentVersion=null,e.lastPageLoadedAttr=null,e.ready=!1,e.userRole=null,e}return r(e,t),e.prototype.init=function(t){this.options=o({},t),this.initTrackers(t),this.initEvents(),this.initUserInfo(),this.ready=!0},e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.initTrackers=function(t){this.analyticsTrackerManager=new f.default(null==t?void 0:t.analyticsTrackers),this.performanceTracker=new p.default,this.pageViewTracker=new g.default},e.prototype.initEvents=function(){this.performanceTracker&&this.performanceTracker.on(this.performanceTracker.EVENTS.PERFORMANCE_MARK,this.sendPerformanceMarkEvent,this),this.pageViewTracker&&this.pageViewTracker.on(this.pageViewTracker.EVENTS.USER_ACTIVITY_PING,this.sendPageDwellEvent,this)},e.prototype.initUserInfo=function(){},e.prototype.setUser=function(){},e.prototype.setUserRole=function(){},e.prototype.updateDocumentVersion=function(t){},e.prototype.getConcurrentUsersCount=function(){return 0},e.prototype.setActiveUsersCount=function(){},e.prototype.getPerformanceTracker=function(){return this.performanceTracker},e.prototype.updateScale=function(t){return this.analyticsTrackerManager.updateScale(t)},e.prototype.unsupportedOpen=function(t){return this._track(this.options.application+".unsupported_browser.open",t)},e.prototype._openExperience=function(t){this._track(this.options.application+".experience.open",t)},e.prototype.viewExperience=function(t){if(window.cerosPlayerLoadStart){var e=new Date,n=(e-window.cerosPlayerLoadStart)/1e3;c.default.info("First Page Load Time: "+n),n<0&&(c.default.warn(new Error("Analytics: negative load time calculated. Start time: "+window.cerosPlayerLoadStart+", End time: "+e)),n=0),this._openExperience(d.default.extend({load_time:n},t)),window.cerosPlayerLoadStart=null}},e.prototype.reloadExperience=function(t){return void 0===t&&(t={}),this._track(this.options.application+".experience.reload",t)},e.prototype.viewPage=function(t){h.default.isBot()||this._trackViewPage(t)},e.prototype.playVideo=function(t){this._track(this.options.application+".video.play",t)},e.prototype.trackVideoProgressTime=function(t){this._track(this.options.application+".video.progress_time",t)},e.prototype.trackVideoProgressPercent=function(t){this._track(this.options.application+".video.progress_percent",t)},e.prototype.clickComponent=function(t){this._track(this.options.application+".component.click",t)},e.prototype.saveComponent=function(t){this._track(this.options.application+".component.save",t)},e.prototype.undoComponent=function(t){this._track(this.options.application+".component.undo",t)},e.prototype.redoComponent=function(t){this._track(this.options.application+".component.redo",t)},e.prototype.hoverComponent=function(t){this._track(this.options.application+".component.hover",t)},e.prototype.clickLink=function(t){this._track(this.options.application+".link.click",t)},e.prototype.clickLightbox=function(t){this._track(this.options.application+".lightbox.click",t)},e.prototype.clickProduct=function(t){this._track(this.options.application+".product.click",t)},e.prototype.clickShoppingCart=function(t){this._track(this.options.application+".shopping_cart.click",t)},e.prototype.clickPageShare=function(t){this._track(this.options.application+".page.share",t)},e.prototype.clickCerosBranding=function(t){this._track(this.options.application+".ceros_branding.click",t)},e.prototype.experienceLoadInteraction=function(t){this._track(this.options.application+".experience_load.timed",t)},e.prototype.formSubmit=function(t){d.default.isNil(t.form_origin_form_id)||((t=d.default.clone(t)).form_origin_form_id=""+t.form_origin_form_id),this._track(this.options.application+".component.form_submit",t)},e.prototype.handleApiRequest=function(t,e){this._track(this.options.application+".ceros.api.request",{sdk_event_name:t.name,sdk_version:t.client.sdkVersion})},e.prototype.sendPerformanceMarkEvent=function(t){this._track(this.options.application+".performance.marker",t,!0)},e.prototype._trackViewPage=function(t){this.lastPageLoadedAttr&&this.lastPageLoadedAttr.page_num===t.page_num||(this._track(this.options.application+".page.view",t),this.pageViewTracker.activatePage(t.topY,t.bottomY,t.pageHeight,t.page_num),this.lastPageLoadedAttr=t)},e.prototype.trackPageScroll=function(t){this.lastPageLoadedAttr&&this.lastPageLoadedAttr.page_slug===t.page_slug&&this.pageViewTracker.trackPageScroll(t.topY,t.bottomY)},e.prototype._track=function(t,e,n){if(void 0===n&&(n=!1),!this.ready)throw Error("please call init() before attempting to capture analytics!");return h.default.isBot()?Promise.resolve():(n||this.registerUserActivity(),this.analyticsTrackerManager.sendEvent(t,e))},e.prototype.trackPublishExperience=function(t,e,n,i,r){},e.prototype.registerUserActivity=function(){},e.prototype.sendPageDwellEvent=function(t){if(!h.default.isBot()&&this.isPlayer()&&this.lastPageLoadedAttr){var e={page_slug:this.lastPageLoadedAttr.page_slug,page_num:this.lastPageLoadedAttr.page_num,page_height:this.lastPageLoadedAttr.pageHeight,min_y:t.minY,max_y:t.maxY,dwell_time:t.dwellTime};c.default.debug("SENDING PING, min_y: "+e.min_y+", max_y: "+e.max_y+", Dur: "+e.dwell_time+", page_height: "+e.page_height),this.analyticsTrackerManager.sendEvent(this.options.application+".page.dwell",e)}},e.prototype.isPlayer=function(){return"player"===this.options.application},e.prototype.getUserToken=function(){var t=m.default.getExperiencePath(),e=v.AnalyticsLocalStorage.getDomainTracker(t);return e?e.user_token:null},e.prototype.trackInGoogleTagManager=function(t,e){window.dataLayer&&window.dataLayer.push(o(o({},e),{event:"ceros-user-analytics",event_category:"ceros-user-analytics",event_action:t}))},e._instance=null,e}(u(n(41232)).Model);e.BaseAnalytics=y,e.default=y},74228:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.playerAnalytics=e.PlayerAnalytics=void 0;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(e){t.prototype.init.call(this,o({application:"player"},e))},e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.resetPageTrackingMinMaxY=function(){this.pageViewTracker.resetYMinMax()},e.prototype.registerUserActivity=function(){var t=e.getInstance();null==t||t.pageViewTracker.registerUserActivity()},e.prototype.registerUserActivityIfVisible=function(){this.pageViewTracker.registerUserActivityIfNotPaused()},e._instance=null,e}(a(n(98134)).default);e.PlayerAnalytics=s,e.playerAnalytics=s.getInstance(),e.default=e.playerAnalytics},42519:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(65311)),s=o(n(97575)),u=o(n(96486)),l=function(t){function e(){var e=t.call(this)||this;return e.TRACK_PAGE_SCROLL_THROTTLE=200,e.minY=void 0,e.maxY=void 0,e.lastTopY=void 0,e.lastBottomY=void 0,e.pageHeight=void 0,e.PAGE_PING_INTERVAL_MILLIS=5e3,e.trackPageScroll=u.default.throttle((function(t,n){isNaN(t)||isNaN(n)||(e.minY=void 0===e.minY?t:Math.min(t,e.minY),e.maxY=void 0===e.maxY?n:Math.max(n,e.maxY),e.lastTopY=t,e.lastBottomY=n,e.registerUserActivity())}),e.TRACK_PAGE_SCROLL_THROTTLE),e}return r(e,t),e.prototype.activatePage=function(t,e,n,i){this.timerId&&(s.default.debug("Stopping page ping timer"),clearTimeout(this.timerId),this.timerId=null),this.setActivatedPageValues(t,e,n,i),this.registerUserActivity()},e.prototype.setActivatedPageValues=function(t,e,n,i){t=isNaN(t)?0:t,e=isNaN(e)?n:e,this.minY=t,this.maxY=e,this.lastTopY=t,this.lastBottomY=e,this.pageHeight=n,this.pageNumber=i,this.pageActivated=!0},e.prototype.resetYMinMax=function(){this.minY=void 0,this.maxY=void 0},e.prototype.setPostEventFireData=function(){this.minY=this.lastTopY,this.maxY=this.lastBottomY},e.prototype.shouldStartPagePingEventTimer=function(){return this.isUserActive()||this.isLightboxOpen()},e.prototype.getDwellTimeEventData=function(){var t=Math.max(0,this.minY||0),e=this.maxY||0;return this.pageHeight&&(e=Math.min(this.pageHeight,e)),{minY:t,maxY:e,dwellTime:this.PAGE_PING_INTERVAL_MILLIS/1e3}},e.prototype.isLightboxOpen=function(){return a.default(".ceros-lightbox").is(":visible")},e}(n(59408).AbstractPageViewTracker);e.default=l},15849:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=function(){function t(t){this.options=t||{},this.enabled=!!t.enabled}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.applyUserConsentGranted=function(){},t.prototype.applyUserConsentDenied=function(){},t.prototype.sendEvent=function(t,e){return r.default.Deferred().resolve()},t.prototype.updateScale=function(t){},t}();e.default=o},756:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.GoogleTagManagerTracker=void 0;var a=n(32899),s=function(){function t(){}return t.prototype.track=function(t,e){var n,r=i(i({},e||{}),{event:"ceros-user-analytics",event_category:"ceros-user-analytics",event_action:t});null===(n=window.dataLayer)||void 0===n||n.push(r),this.log("track",r)},t.prototype.identifyUser=function(t){var e,n=i(i({},t),{event:"ceros-user-analytics",event_category:"ceros-user-analytics",event_action:"user.info"});null===(e=window.dataLayer)||void 0===e||e.push(n),this.log("identifyUser",n)},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.LoggerUtils.logDebug.apply(a.LoggerUtils,o(["GTM Tracker:"],t))},t}();e.GoogleTagManagerTracker=s},26916:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LogrocketTracker=void 0;var r=i(n(19258)),o=/^.*(\/api\/v2\/api-keys.*|\/api\/v1\/auth\/token|\/api\/v1\/authn|\/api\/v1\/password\/change|\/oauth2\/.*|\/auth|\/reset-password\/.*|\/confirm-member\/.*)$/,a=/^.*(www\.google-analytics\.com)|(.*www\.facebook\.com)|(.*www\.googletagmanager\.com)|(.*app\.pendo\.io)|(.*connect\.facebook\.net)|(.*r\.lr-in\.com).*$/,s="<Removed>",u=function(){function t(){}return t.prototype.init=function(t){r.default.init(t,{console:{isEnabled:!0},network:{requestSanitizer:this.requestSanitizer},browser:{urlSanitizer:this.urlSanitizer},dom:{isEnabled:!this.shouldBlockDomTracking()}}),window.LogRocket=r.default},t.prototype.identify=function(t,e,n){r.default.identify(String(t),{name:e,email:n})},t.prototype.setSessionUrl=function(t){r.default.getSessionURL((function(e){t(e)}))},t.prototype.requestSanitizer=function(t){var e;if(t&&!o.test(t.url)&&!a.test(t.url))return(null===(e=t.headers)||void 0===e?void 0:e.authorization)&&(t.headers.authorization=s),t},t.prototype.urlSanitizer=function(t){var e=t;return(e=e.replace(/(\/reset-password\/)(.*)/,"$1"+s)).replace(/(\/confirm-member\/)(.*)/,"$1"+s)},t.prototype.shouldBlockDomTracking=function(){return o.test(window.location.pathname)},t}();e.LogrocketTracker=u},57225:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MixpanelTracker=void 0;var s=a(n(8891)),u=a(n(37136)),l=n(32899),c=function(){function t(){this.ready=!1,this.eventQueue=[],this.registeredData={}}return t.prototype.init=function(t){var e=t.mixpanelApiKey,n=t.application;s.default.init(e,{track_pageview:!1,persistence:"localStorage"}),this.register({application:n}),this.ready=!0,this.initEventQueueTimeout()},t.prototype.register=function(t){this.registeredData=i(i({},this.registeredData),t),this.log("Registering data to send with all events:",t)},t.prototype.registerLogrocketUrl=function(t){this.registeredData=i(i({},this.registeredData),{logrocketUrl:t}),this.log("Registering logrocketUrl to send with all events:",t)},t.prototype.track=function(t,e){if(!this.ready||!this.registeredData.logrocketUrl)return this.eventQueue.push({event:t,data:e}),void this.initEventQueueTimeout();s.default.track(t,i(i({},e),this.registeredData)),this.log("track:",t,i(i({},e),this.registeredData))},t.prototype.initEventQueueTimeout=function(t){var e=this;void 0===t&&(t=500),setTimeout((function(){!e.ready||!e.registeredData.logrocketUrl||t>5e3?e.initEventQueueTimeout(t+500):e.clearEventQueue()}),t)},t.prototype.clearEventQueue=function(){var t=this;this.eventQueue.forEach((function(e){var n=e.event,i=e.data;return t.track(n,i)})),this.eventQueue=[]},t.prototype.identify=function(t){s.default.identify(String(t)),this.log("Identify User: "+String(t))},t.prototype.addAccountToUser=function(t){s.default.add_group("account_id",String(t)),this.log("Add Group to User: account_id = "+String(t))},t.prototype.setCurrentAccountId=function(t){this.register({account_id:t})},t.prototype.setUserProperties=function(t){var e=i(i({},t),{$name:t.title,$email:t.email,firstLoginDate:this.toISOString(t.firstLoginDate)});s.default.people.set(e),this.log("Set User Data",e)},t.prototype.addUserRole=function(t,e){var n=t+"-"+e;s.default.people.union("account_role",n),this.log("Add Role to User: "+n)},t.prototype.setAccountProperties=function(t){var e=i(i({},t),{$name:t.title,startDate:this.toISOString(t.startDate),endDate:this.toISOString(t.endDate),contractStartDate:this.toISOString(t.contractStartDate),contractEndDate:this.toISOString(t.contractEndDate),subscriptionId:t.subscriptionId,notes:t.notes});s.default.get_group("account_id",String(t.id)).set(e),this.log("Set Account ("+String(t.id)+") Data",e)},t.prototype.toISOString=function(t){var e="number"==typeof t?u.default.unix(t):u.default(t);return(null==e?void 0:e.isValid())?e.toISOString():null},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l.LoggerUtils.logDebug.apply(l.LoggerUtils,o(["Mixpanel Tracker:"],t))},t}();e.MixpanelTracker=c},96746:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(96486)),a=r(n(41232)),s=function(){function t(){this.startTime=null,this.optionalProperties={},this.EVENTS={PERFORMANCE_MARK:"performance_mark"},this.MARKS={PLAYER:{RUN_START:"run-start",DOM_READY:"dom-ready",SPINNER_SHOWN:"spinner-shown",DOC_VERSION_LOADED:"doc-version-loaded",SPINNER_HIDDEN:"spinner-hidden",HIGH_PRIORITY_IMAGES_START_LOADING:"high-priority-images-start-loading",LOW_PRIORITY_IMAGES_START_LOADING:"low-priority-images-start-loading",BEGIN_PRERENDERING_PAGES:"begin-prerendering-pages",ALL_PAGES_PRERENDERED:"all-pages-prerendered",PRIORITY_QUEUE_EMPTIED:"priority-queue-emptied",ALL_RESOURCES_LOADED:"all-resources-loaded"},STUDIO:{SHAREJS_CONNECTION_INITIALIZED:"sharejs-connection-initialized",ALL_DATA_LOADED:"all-data-loaded",ALL_PAGES_LOADED:"all-pages-loaded",USER_LOADED:"user-loaded",THUMBNAIL_POLICY_LOADED:"thumbnail-policy-loaded"}},o.default.extend(this,a.default.Events),this.startTime=null}return t.prototype.setOptionalProperties=function(t){return this.optionalProperties=t,this},t.prototype.startTracking=function(t){this.startTime=null!=t?t:this.getDateNow().getTime(),this.trigger(this.EVENTS.PERFORMANCE_MARK,i(i({},this.optionalProperties),{performance_marker_name:"start-tracking",performance_marker_time:0}))},t.prototype.mark=function(t){if(null===this.startTime)return!1;var e=this.getDateNow().getTime()-this.startTime;return!(e<0||e>18e5||(this.trigger(this.EVENTS.PERFORMANCE_MARK,i(i({},this.optionalProperties),{performance_marker_name:t,performance_marker_time:e})),0))},t.prototype.getDateNow=function(){return new Date(Date.now())},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.on=function(t,e,n){},t}();e.default=s},36102:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.CookieName=void 0,(n=e.CookieName||(e.CookieName={})).CEROS_ID="ceros_id",n.CEROS_USER="ceros_user",n.AUTH_REFERER="auth_referer",n.ORIGINAL_REFERER="original_referer",n.CEROS_DOMAIN_TRACKING="cerosdomaintracking",n.CEROS_EXPERIENCE_TRACKING="cerosexperiencetracking",n.USER_CONSENT="user_consent"},25509:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataUtils=void 0;var r=i(n(96486)),o=function(){function t(){}return t.isNullOrUndefined=function(t){return r.default.isNull(t)||r.default.isUndefined(t)},t.keysToSnakeCase=function(e){var n=r.default.cloneDeep(e);return n=r.default.mapKeys(n,(function(t,e){return r.default.snakeCase(e)})),r.default.mapValues(n,(function(e){return r.default.isPlainObject(e)?t.keysToSnakeCase(e):r.default.isArray(e)?r.default.map(e,t.keysToSnakeCase):e}))},t.getPropName=function(t,e){return e(Object.keys(t).reduce((function(t,e){var n=e;return t[n]=n,t}),{}))},t}();e.DataUtils=o},68814:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(98720)),o=n(36102),a=n(25509);e.default={setUserConsentCookie:function(t,e,n){this.setCookie(o.CookieName.USER_CONSENT,t,e,n,!1)},setExperienceTrackingCookie:function(t,e,n){this.setCookie(o.CookieName.CEROS_EXPERIENCE_TRACKING,t,e,n,!1)},setDomainTrackingCookie:function(t,e,n){this.setCookie(o.CookieName.CEROS_DOMAIN_TRACKING,t,e,n,!1)},setCerosUserCookie:function(t,e,n){this.setCookie(o.CookieName.CEROS_USER,t,e,n,!0)},getUserConsentCookie:function(){return this.getCookieData(o.CookieName.USER_CONSENT)},getExperienceTrackingCookieData:function(){return this.getCookieData(o.CookieName.CEROS_EXPERIENCE_TRACKING)},getDomainTrackingCookieData:function(){return this.getCookieData(o.CookieName.CEROS_DOMAIN_TRACKING)},getCerosUserCookie:function(){return this.getCookieData(o.CookieName.CEROS_USER)},deleteUserConsentCookie:function(t,e){this.deleteCookie(o.CookieName.USER_CONSENT,t,e)},deleteExperienceTrackingCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_EXPERIENCE_TRACKING,t,e)},deleteDomainTrackingCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_DOMAIN_TRACKING,t,e)},deleteCerosUserCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_USER,t,e)},getCookieData:function(t){var e=r.default.get(t);if(e){var n=decodeURIComponent(e);try{return JSON.parse(n)}catch(e){this.parseError(t,e)}}return{}},setCookie:function(t,e,n,i,o){e=encodeURIComponent(JSON.stringify(e)),o=!!a.DataUtils.isNullOrUndefined(o)||o,r.default.set(t,e,{expires:365,path:n||"/",domain:i||"",samesite:"lax",secure:o})},deleteCookie:function(t,e,n){r.default.remove(t,{path:e||"/",domain:n||""})},parseError:function(t,e){var n=(new Date).getTime();n-(this.lastParseError||0)>36e5&&(window.Rollbar.error("Unable to parse "+t+" cookie data, the content was malformed. Exception was: "+e),this.lastParseError=n)}}},82100:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(80771)),a=i(n(8030)),s=i(n(54400)),u=i(n(55099)),l=window.navigator.userAgent,c=function(){};c.prototype={data:null,scale:null,initialScale:null,getData:function(){return this.data||(this.data=r.default.extend(this.getStandardParams(),this.getCampaignParams())),r.default.extend(this.data,this.getDynamicTrackingInfo())},updateScale:function(t){this.initialScale=this.initialScale||t,this.scale=t},getDynamicTrackingInfo:function(){var t=u.default.getDimensions(),e={screen_width:t.width,screen_height:t.height};return this.initialScale&&(e.initial_scale=this.initialScale),this.scale&&(e.scale=this.scale),e},getBrowserAndVersionUsingMixpanelAlgorithm:function(t,e,n){var i=function(e){var n=t.match(e);return n&&n[1]},o=null,a=null;e=e||"",r.default.includes(t,"PhantomJS")?(o="PhantomJS",a=i(/PhantomJS\/(\d+)/)):r.default.includes(t,"jsdom")?(o="jsdom",a=i(/jsdom\/([0-9._a-z]+)/)):n?o=r.default.includes(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?o="BlackBerry":r.default.includes(t,"Edg")?(o="Microsoft Edge",a=i(/Edg\/(\d+)/)):r.default.includes(t,"FBIOS")?o="Facebook Mobile":r.default.includes(t,"Chrome")?(o="Chrome",a=i(/Chrome\/(\d+)/)):r.default.includes(t,"CriOS")?(o="Chrome iOS",a=i(/CriOS\/(\d+)/)):r.default.includes(e||"","Apple")?(o=r.default.includes(t,"Mobile")?"Mobile Safari":"Safari",a=i(/Version\/(\d+)/)):r.default.includes(t,"Android")?o="Android Mobile":r.default.includes(t,"Konqueror")?o="Konqueror":r.default.includes(t,"Firefox")?(o="Firefox",a=i(/Firefox\/(\d+)/)):r.default.includes(t,"Gecko")&&(o="Mozilla");var s={};return o&&(s.name=o),a&&(s.version=a),s},getStandardParams:function(){var t=window.document.referrer,e=this.getSearchEngine(t),n=this.getBrowserAndVersionUsingMixpanelAlgorithm(l,navigator.vendor,window.opera);return{browser:n.name,trial:!!a.default.isTrialAccount,browser_version:n.version,user_agent:l,device_type:o.default.deviceType(),player_type:o.default.playerType(),initial_orientation:o.default.orientation(),cookies_enabled:!!o.default.cookies(),embedded:!!o.default.isIframe(),https:"https:"===window.location.protocol,device:this.getDevice(),device_pixel_ratio:o.default.pixelRatio(),search_engine:e,search_keyword:this.getSearchKeyword(e,t),os:o.default.os.name,os_version:o.default.os.version,referrer:t||null,referring_domain:this.extractReferringDomain(t)}},extractReferringDomain:function(t){var e=null;return t&&((e=s.default.extractDomain(t))||(e=t)),e},getDevice:function(){return/Windows Phone/i.test(l)||/WPDesktop/.test(l)?"Windows Phone":o.default.isIpad()?"iPad":/iPod/.test(l)?"iPod Touch":/iPhone/.test(l)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(l)?"BlackBerry":/Android/.test(l)?"Android":null},getSearchEngine:function(t){return 0===t.search("https?://(.*)google.([^/?]*)")?"google":0===t.search("https?://(.*)bing.com")?"bing":0===t.search("https?://(.*)yahoo.com")?"yahoo":0===t.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},getSearchKeyword:function(t,e){var n="yahoo"!=t?"q":"p";if(null!==t){var i=s.default.getUrlParams(e)[n];if(i&&i.length)return i}return null},getCampaignParams:function(){return r.default.pick(s.default.getUrlParams(window.document.URL),"utm_source","utm_medium","utm_campaign","utm_content","utm_term")}},e.default=c},6651:function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(65311)),s=o(n(96486)),u=o(n(8030)),l=o(n(71053)),c=o(n(80771)),d=o(n(54400)),h=o(n(82100)),f=o(n(94912)),p=o(n(68814)),g=o(n(15849)),m=n(24848),v=n(13791),y=["player.page.dwell","editor.page.dwell","player.video.progress_percent","player.video.progress_time","player.performance.marker","previewer.performance.marker","studio.performance.marker","admin.performance.marker"],_=function(t){g.default.call(this,t),this.options=t||{},this.hasUserConsentForAnalytics=t.hasUserConsentForAnalytics||!1,this.domain=d.default.getRootDomain(),this.path=d.default.getExperiencePath(),this.cerosUserCookiePath="/",this.environmentData=new h.default,this.logger=this.options.logger,void 0!==t.hasUserConsentForAnalytics&&(this.hasUserConsentForAnalytics?this.applyUserConsentGranted():this.applyUserConsentDenied()),this.userEmail=null,this.fullName=null,this.userSlug=null,this.clientVersion=11,this.userToken=null,this.defaultAttributes={timezone:this.getTimezoneOffset(),user_agent:navigator.userAgent,visit_slug:l.default.generate()},this.eventQueue=new f.default,this.eventQueue.on(this.eventQueue.EVENTS.AGGREGATE_EVENT,s.default.bind((function(t){this.trackEvents(t,!1)}),this))};(_.prototype=Object.create(g.default.prototype)).constructor=_,s.default.extend(_.prototype,{log:function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=this.logger)||void 0===t||t.call.apply(t,r([this,"Ceros Tracker:"],e))},applyUserConsentGranted:function(){if(this.hasUserConsentForAnalytics=!0,this.isPlayerOrPreviewer()){var t=this.getDomainTrackingData();this.setDomainTracker(t),this.setInitialReferrerInExperienceTracker()}},applyUserConsentDenied:function(){this.hasUserConsentForAnalytics=!1,this.isPlayerOrPreviewer()&&(this.userToken=null,m.AnalyticsLocalStorage.deleteDomainTracker(this.path),m.AnalyticsLocalStorage.deleteExperienceTracker(this.path))},setUser:function(t,e,n){if(!this.isPlayerOrPreviewer()){this.userEmail=t,this.fullName=e,this.userSlug=n,this.log("setUser",{userEmail:t,fullName:e,slug:n});var i=v.StringUtils.getEmailDomain(t);i?this.setCerosUserCookie({emailDomain:i}):this.deleteCerosUserCookie()}},setInitialReferrerInExperienceTracker:function(){if(this.isPlayerOrPreviewer()&&this.options.trackInitialReferrer){var t=m.AnalyticsLocalStorage.getExperienceTracker(this.path);if(s.default.isUndefined(null==t?void 0:t.initial_referrer)||s.default.isUndefined(null==t?void 0:t.initial_referring_domain)){var e=this.environmentData.getData();t={initial_referrer:e.referrer||null,initial_referring_domain:e.referring_domain||null},this.setExperienceTracker(t)}}},encodeData:function(t){return encodeURIComponent(btoa(unescape(encodeURIComponent(JSON.stringify(t)))))},getEvent:function(t,e){var n=s.default.extend({},{event_slug:l.default.generate()},e||{},{event_name:t,client_timestamp:(new Date).getTime()});return s.default.omitBy(n,s.default.isNull)},track:function(t,e){var n=this.getEvent(t,e);return s.default.includes(y,n.event_name)?(this.eventQueue.addEvent(n),a.default.Deferred().resolve()):this.trackEvents([n],!0)},trackEvents:function(t,e){if(!this.isEnabled())return a.default.Deferred().resolve();if(!u.default.analyticsUrl)return a.default.Deferred().resolve();if(!t||0===t.length)return a.default.Deferred().resolve();var n=this.getDomainTrackingData();this.isPlayerOrPreviewer()&&this.setDomainTracker(n);var i=this.getCommonProps(n),r=this.getExtendedCommonProps();e&&(t=t.concat(this.eventQueue.popEvents()));var o={common:i,extended_common:r,events:t},s=u.default.analyticsUrl+"?data="+this.encodeData(o);return this.log("trackEvents",o),this._sendTrackingRequest(s,0)},getDomainTrackingData:function(){return{user_token:this.getUserToken()}},getCommonProps:function(t){var e={account_slug:u.default.accountSlug,client_version:this.clientVersion,user_token:t.user_token,visit_slug:this.defaultAttributes.visit_slug};return this.isPlayerOrPreviewer()&&(e=s.default.extend(e,{user_consent:this.hasUserConsentForAnalytics})),s.default.omitBy(e,s.default.isNull)},getExtendedCommonProps:function(){var t=this.environmentData.getData();if(this.options.envPropertyList&&(t=s.default.pick(t,this.options.envPropertyList)),this.isPlayerOrPreviewer()){var e=m.AnalyticsLocalStorage.getExperienceTracker(this.path);t=s.default.extend(t,{timezone:this.defaultAttributes.timezone,user_agent:this.defaultAttributes.user_agent,initial_referrer:null==e?void 0:e.initial_referrer,initial_referring_domain:null==e?void 0:e.initial_referring_domain})}else t=s.default.extend(t,{timezone:this.defaultAttributes.timezone,user_agent:this.defaultAttributes.user_agent,email:this.userEmail,full_name:this.fullName});return s.default.omitBy(t,s.default.isNull)},_handleTrackingError:function(t,e,n,i){var r=this;i<3?setTimeout((function(){r._sendTrackingRequest(n,i)}),3e3):3!==i||window.sentRollbarForAnalyticsRetryFail||(window.Rollbar&&window.Rollbar.error("One or more analytics events are failing due to HTTP or connection errors.",{errorThrown:e,errorCode:t.status,url:n}),window.sentRollbarForAnalyticsRetryFail=!0)},_sendTrackingRequest:function(t,e){var n=this,i=new a.default.Deferred;if(c.default.isIE9OrEarlier()&&"http:"===location.protocol){var r=new Image;r.crossOrigin="Anonymous",r.src=t+"&_="+Math.random(),r.onload=function(){i.resolve()},r.onerror=function(){i.resolve()}}else a.default.ajax({url:t,type:"GET",cache:!1,crossDomain:!0}).done((function(){i.resolve()})).fail((function(r,o,a){n._handleTrackingError(r,a,t,++e),i.resolve()}));return i},getTimezoneOffset:function(){var t=(new Date).getTimezoneOffset()/60;return Math.abs(t)>15?null:t},getUserToken:function(){if(this.userToken)return this.userToken;var t=null;if(this.isPlayerOrPreviewer()){var e=m.AnalyticsLocalStorage.getDomainTracker(this.path);t=e?e.user_token:null}return t||(t=this.generateUserToken()),this.userToken=t,this.userToken},generateUserToken:function(){return l.default.generate()},setDomainTracker:function(t){this.isEnabled()&&this.hasUserConsentForAnalytics&&m.AnalyticsLocalStorage.setDomainTracker(t,this.path)},setExperienceTracker:function(t){this.isEnabled()&&this.hasUserConsentForAnalytics&&m.AnalyticsLocalStorage.setExperienceTracker(t,this.path)},setCerosUserCookie:function(t){p.default.setCerosUserCookie(t,this.cerosUserCookiePath,this.domain)},deleteCerosUserCookie:function(){p.default.deleteCerosUserCookie(this.cerosUserCookiePath,this.domain)},updateScale:function(t){this.environmentData.updateScale(t)},isPlayerOrPreviewer:function(){return!u.default.isAdmin&&!u.default.isStudio}}),e.default=_},94912:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=function(){this.queue=[],this.timerId=null};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{AGGREGATE_EVENT:"aggregate-event"},addEvent:function(t){this.queue.push(t),this.startTimer()},isEmpty:function(){return 0===this.queue.length},popEvents:function(){var t=this.queue.splice(0,5);return this.clearTimer(),r.default.isEmpty(this.queue)||this.startTimer(),t},startTimer:function(){null===this.timerId&&(this.timerId=setTimeout(r.default.bind(this.postEvents,this),5e3))},clearTimer:function(){null!==this.timerId&&(clearTimeout(this.timerId),this.timerId=null)},postEvents:function(){this.queue.length>0?this.trigger(this.EVENTS.AGGREGATE_EVENT,this.popEvents()):this.clearTimer()}}),e.default=a},54868:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o="Microsoft Edge",a="mozilla",s="webkit",u="trident",l={browser:function(t){var e,n={name:"unknown",version:"unknown",engine:null,isMsie:function(){return"MSIE"===this.name},isEdge:function(){return o===this.name},msieVersion:function(){return!!this.isMsie()&&Math.floor(this.version)},isWebkit:function(){return s===this.engine},isMozilla:function(){return a===this.engine},isTrident:function(){return u===this.engine}};return(e=t.match(/(PhantomJS)\/([0-9.]*)/))||(e=t.match(/(jsdom)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):(e=t.match(/(Edg)\/([0-9.]*)/))?(n.name=o,n.version=e[2],n.engine=s):(e=t.match(/(Firefox)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=a):(e=t.match(/(Chrome|CriOS)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):/Safari/.test(t)?(e=t.match(/(Version)\/([0-9.]*)/))&&(n.name=(/Mobile/.test(t)?"Mobile ":"")+"Safari",n.version=e[2],n.engine=s):(e=t.match(/(Silk)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):(e=t.match(/(MSIE) ([0-9]+)/))&&(n.name=e[1],n.version=e[2],n.engine=u),r.default.isNull(n.engine)&&t.match(/(webkit)[ \/]([\w.]+)/i)&&(n.engine=s),n}};e.default=l},80771:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a,s,u,l,c,d,h,f,p,g,m,v,y,_,b,w,T,S,E,O,P,C,A,k,x,I,M,R,N=i(n(96486)),D=i(n(86836)),L=i(n(71068)),j=i(n(98720)),F=i(n(54868)),V=i(n(55099)),U="smartphone",B="tablet",H="desktop",G="other",W=5e5,Z=(r=function(){var t=V.default.getDimensions();return t.width*t.height<W},o=function(){return window.innerWidth*window.innerHeight<W},a=function(){return L.default.isMobile},s=function(){return!a()},u=function(){return a()&&r()},l=function(){return h(navigator.userAgent)||a()&&!r()},c=function(){return D.default.canvas&&D.default.video},d=N.default.once((function(){return F.default.browser(navigator.userAgent)})),h=function(t){var e=(t=t||navigator.userAgent).match(/(Macintosh; Intel Mac)(.*Version\/([\d.]+)\sSafari)/i);return!!(e&&(window.navigator.maxTouchPoints||0)>1)&&e},p=(f=function(t){var e,n,i;/Windows/i.test(t)?(e=t.match(/Phone( (OS )?([\d.]+))?/))?(n="Windows Mobile",i=e[3]):(e=t.match(/Windows NT\s([0-9.]+)/))?(n="Windows",i=e[1]):n="Windows":(e=t.match(/(iPad|iPod|iPhone)(.*OS ([\d_]+))?/))?(n="iOS",e[3]&&(i=e[3].replace(/_/g,"."))):(e=h(t))?(n="iOS",i=e[3]):(e=t.match(/(Android ?([\d.]+)?)/))?(n="Android",i=e[2]):(e=t.match(/(BlackBerry|PlayBook|BB10)(.*Version\/(\d+\.\d+\.\d+))?/i))?(n="BlackBerry",i=e[3]):(e=t.match(/\(Macintosh(;\D*([\d_.]+)[);])?/))?(n="Mac OS X",e[2]&&(i=e[2].replace(/_/g,"."))):(e=t.match(/Linux\s([0-9._a-z]+)?/))?(n="Linux",i=e[1]):(e=t.match(/CrOS ?(\S+)?/))?(n="Chrome OS",i=e[1]):(e=t.match(/jsdom\/([0-9._a-z]+)/))&&(n="jsdom",i=e[1]);var r={};return n&&(r.name=n),i&&(r.version=i),r})(navigator.userAgent),g=function(){return window.orientation%180==0?"portrait":"landscape"},m=o()?50:200,v=N.default.once((function(){j.default.set("testcookie",1);var t=j.default.get("testcookie");return t&&j.default.remove("testcookie"),t})),y=function(){return d().msieVersion()},_=d().isEdge(),b=d().isWebkit(),w=d().isMozilla(),S=function(){return T()&&d().version.match(/^7\..*/)},E=function(t,e){if(!t)return!1;var n=t.split("."),i=Number(n[0]);return!isNaN(i)&&i<e},O=function(t,e){if(!t)return!1;var n=t.split("."),i=Number(n[0]);return!isNaN(i)&&i>=e},P=function(){return a()&&"Mobile Safari"===d().name},C=function(){return!a()&&"Safari"===d().name},x=function(){return A()&&!window.navigator.standalone&&P()},I=function(){return"Chrome"===d().name},M=function(){return d().isMozilla()},{touch:function(){return D.default.touch},mobile:a,desktop:s,smartPhone:u,tablet:l,retina:function(){var t=1;return void 0!==window.devicePixelRatio&&(t=window.devicePixelRatio),t>=2},renderingEngine:function(){return d().engine},edge:_,webkit:b,mozilla:w,html5:c,isBot:function(){return/(google web preview|google search console|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(window.navigator.userAgent)},browser:d,os:p,parseOS:f,standalone:function(){return!0===window.navigator.standalone},smallWindow:o,deviceType:function(){return u()?U:l()?B:s()?H:G},playerType:function(){return c()?"html5":"html4"},orientation:g,portrait:function(){return"portrait"===g()},landscape:function(){return"landscape"===g()},supportsOrientationChange:function(){return"onorientationchange"in window},getSlackHeight:function(t){var e=V.default.getDimensions();if(!R()&&t<e.width){if(k()&&!window.navigator.standalone&&S())return-20;if(x()&&S())return-65;if(x())return 60}return 0},getRubberBandLimit:function(){return m},cookies:v,pixelRatio:function(){return N.default.isNumber(window.devicePixelRatio)?window.devicePixelRatio:1},isIphoneFullscreenMobileSafari:function(t,e){var n=V.default.getDimensions();return x()&&t===n.height&&e>=n.width},isIframe:R=function(){return top!=window},isMac:function(){return"Mac OS X"===p.name},isWindows:function(){return"Windows"===p.name},isIos:T=function(){return"iOS"===p.name},isIosLessThan:function(t){return!!T()&&E(p.version,t)},isIosGreaterThanOrEqualTo:function(t){return!!T()&&O(p.version,t)},isBrowserChromeLessThan:function(t){return!!I()&&E(d().version,t)},isBrowserChromeGreaterThanOrEqualTo:function(t){return!!I()&&O(d().version,t)},isStudioDesktopApp:function(){return N.default.includes(navigator.userAgent,"CerosDesktop")},isBrowserFirefoxGreaterThanOrEqualTo:function(t){return!!M()&&O(d().version,t)},isDesktopSafariLessThan:function(t){return!!C()&&E(d().version,t)},isAndroid:function(){return"Android"===p.name},isIphone:A=function(){return/iPhone/i.test(navigator.userAgent)},isIpad:k=function(){return/iPad/i.test(navigator.userAgent)||!!h(navigator.userAgent)},isPhantomJS:function(){return"PhantomJS"===d().name},isJsDom:function(){return N.default.includes(navigator.userAgent,"jsdom")},isIE9OrEarlier:function(){return!1!==y()&&y()<=9},isBrowserChrome:I,isBrowserFirefox:M,isDesktopSafari:C,isMobileSafari:P,isIpadPretendingToBeDesktop:h,isIosSafari:function(){return T()&&d().name.includes("Safari")},reload:function(){d=N.default.once((function(){return F.default.browser(navigator.userAgent)})),p=f(navigator.userAgent)},DEVICE_TYPE_SMARTPHONE:U,DEVICE_TYPE_TABLET:B,DEVICE_TYPE_DESKTOP:H,DEVICE_TYPE_OTHER:G});e.default=Z},71068:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=(n=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)));e.default={isMobile:i}},36179:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=function(t){this.resourceReady=r.default.Deferred(),this.image=new Image,this.data=this.image,t&&t.useCorsAnonymous&&(this.image.crossOrigin="Anonymous")};o.prototype={onload:function(){return this.resourceReady.done.apply(this.resourceReady,arguments),this.resourceReady},onerror:function(){return this.resourceReady.fail.apply(this.resourceReady,arguments),this.resourceReady},ready:function(){return"resolved"===this.resourceReady.state()},getPromise:function(){return this.resourceReady.promise()},getImage:function(){return this.image},getWidth:function(){return this.image.width},getHeight:function(){return this.image.height},remove:function(){delete this.image},getSrc:function(){return this.image.src}},e.default=o},76653:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(36179)),a=function(t,e){var n=this;o.default.call(this,e),this.url=t;var i=!0;return e&&e.makeCORSCompatible&&this.image.setAttribute("crossOrigin","anonymous"),this.image.onload=r.default.bind((function(){this.resourceReady.resolve(this)}),this),this.image.onerror=r.default.bind((function(){i?(function(){try{var t=new URL(n.url);"0"!==t.searchParams.get("imageOpt")?(t.searchParams.set("imageOpt","0"),n.url=t.toString(),n.image.src=n.url):n.resourceReady.reject()}catch(t){n.resourceReady.reject()}}(),i=!1):this.resourceReady.reject()}),this),this.image.src=t,this};(a.prototype=Object.create(o.default.prototype)).constructor=a,e.default=a},68686:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=i(n(80771)),s=i(n(8030)),u=i(n(48710)),l=i(n(54400)),c=i(n(72263)),d=i(n(43039)),h=i(n(39536)),f=i(n(76653)),p=i(n(12062)),g=i(n(56455)),m=i(n(60115)),v=.05,y=new p.default,_=new c.default,b={getOrCreateRasterImageResource:function(t,e,n){var i=o.default.Deferred();return h.default.getOriginalDimensions(t).then((function(r){if(!r)return window.console.warn("No info was found for image: "+t),void i.resolve(null);m.default.isValidCropObject(n)?r=m.default.createOriginalDimensionsFromCropDimensions(r,n):n=null;var o=b.getRasterImage(t,n),a=b.isUriForGif(t),s=b.calculateVariantDimensions(r,e,a);o?o.getPromise().then((function(){b.shouldRequestHigherResolution(null==r?void 0:r.width,o.getWidth(),s)?i.resolve(b.createRasterImageResource(t,s,n)):i.resolve(o)})).fail(i.reject):i.resolve(b.createRasterImageResource(t,s,n))})),i.promise().then((function(t){return t?t.getPromise():null}))},getOrCreateRasterImageResourceSync:function(t,e){var n=y.get(t),i=b.isUriForGif(t),r=d.default.getOriginalDimensions(t);if(!r)return n&&(!n.ready()||n.getWidth()>=e)?n:b.createRasterImageResource(t,e);var o=b.calculateVariantDimensions(r,e,i);return n?n.ready()&&b.shouldRequestHigherResolution(r.width,n.getWidth(),o)?b.createRasterImageResource(t,o):n:b.createRasterImageResource(t,o)},getRasterImage:function(t,e){var n=y.createCacheKey(t,e);return y.get(n)},getOrCreateVectorImageResourceFactory:function(t,e,n,i,r){return r?this.createVectorImageResourceFactory(t,e,n,i,!0):_.has(t)?_.get(t):this.createVectorImageResourceFactory(t,e,n,i,!1)},createVectorImageResourceFactory:function(t,e,n,i,r){var o=b.createImageProxyUri(t),a=new g.default(o,e,n,i);return r&&_.has(t)||_.put(t,a),a},getVectorImageResourceFactory:function(t){return _.get(t)},createRasterImageResource:function(t,e,n){var i=b.createImageResourceUrl(t,e,n),r=new f.default(i),o=y.createCacheKey(t,n);return y.put(o,r),r},calculateOptimizedGifWidth:function(t,e){return t<=e/8?e/8:t<=e/4?e/4:t<=e/2?e/2:e},calculateOptimizedNonGifWidth:function(t,e){if(t>e)return e;var n=v*Math.ceil(t/e/v);return e*Math.max(n,v)},calculateVariantDimensions:function(t,e,n){if(s.default.isExported||(n?e=this.calculateOptimizedGifWidth(e,t.width):a.default.desktop()&&(e=this.calculateOptimizedNonGifWidth(e,t.width))),e>=t.width)return null;var i=Math.round(e),r=this._calculateMinimumValidWidth(t);return Math.max(r,i)},_calculateMinimumValidWidth:function(t){return t.height>=t.width?1:Math.ceil(t.width/t.height)},isUriForGif:function(t){return"gif"===t.substr(-3)},shouldRequestHigherResolution:function(t,e,n){return r.default.isNull(n)||n>=t?e<t:(n-e)/e>=.25},primeCachesWithOriginalImageResource:function(t,e){r.default.isNull(e)||(y.put(t,e),d.default.putImageResource(t,e))},primeCacheWithImageInfo:function(t,e,n,i){d.default.putImageInfo(t,e,n,i)},primeCacheWithVectorImageResourceFactory:function(t,e){_.put(t,e)},loadImageInfoForPage:function(t){return h.default.loadImagesForUri(t)},loadImageInfoForDocVersion:function(t){return h.default.loadImagesForRestUri(t)},createImageUri:function(t,e){return"/v1/account/"+s.default.accountSlug+"/"+t+"/"+e},createImageResourceUrl:function(t,e,n){return s.default.isStudio?b.createImageProxyUri(t,e,n):s.default.isExported?b.createExportUrl(t,e):b.createMediaUrl(t,e,n)},createImageProxyUri:function(t,e,n){t+="/proxy";var i={};return r.default.isNumber(e)&&(i.width=e),r.default.isObject(n)&&(i.crop=m.default.createCropDimensionsString(n)),l.default.appendQueryParams(t,i,!0)},createMediaUrl:function(t,e,n){var i=d.default.get(t),o=r.default.get(i,"url");if(!r.default.isString(o))return"";var a={imageOpt:1};return r.default.isNumber(e)&&(a.fit="bounds",a.width=e),r.default.isObject(n)&&(a.crop=m.default.createCropDimensionsString(n)),o=l.default.appendQueryParams(o,a,!0),l.default.replaceProtocolIfHttpsRequest(o)},createExportUrl:function(t,e){var n=d.default.get(t),i=r.default.get(n,"thumbnails");if(!r.default.isObject(i))return"";var o=u.default.getComponentImageThumbnail(i,e);return r.default.get(o,"url","")},getRasterImageResourceCache:function(){return y},getVectorImageResourceFactoryCache:function(){return _}};e.default=b},12062:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(72263)),a=i(n(60115));function s(){o.default.call(this)}r.default.extend(s.prototype,o.default.prototype,{createCacheKey:function(t,e){var n=a.default.createCropDimensionsString(e);return r.default.isString(n)&&n.length>0?t+"|"+n:t}}),e.default=s},94342:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(68843)),a=i(n(36179)),s=function(t){a.default.call(this),t.done(r.default.bind((function(t){this.initImage(t)}),this)).fail(r.default.bind((function(){this.resourceReady.reject()}),this))};(s.prototype=Object.create(a.default.prototype)).constructor=s,r.default.extend(s.prototype,{initImage:function(t){this.image.onerror=r.default.bind((function(){o.default.revokeObjectURL(t),this.resourceReady.reject()}),this),this.image.onload=r.default.bind((function(){this.resourceReady.resolve(this)}),this),this.image.src=t}}),e.default=s},56455:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(94342)),s=i(n(68843)),u=i(n(72263)),l=i(n(87959)),c=function(t,e,n,i,a){void 0===i&&(i=l.default.randomId()),void 0===a&&(a=!1),this.url=t,this.isPlayerOrPreviewer=a,this.shouldRenameCssClassesAndIds=n,this.queue=e,this.vectorImageResourceCache=new u.default,this.objectUrlPromiseCache=new u.default,this.xmlString=null,this.resourceReady=r.default.Deferred(),this.originalAspectRatio=null,this.loadImageXML(t).done(o.default.bind((function(t){this.xmlString=n&&!a?s.default.renameCssClassesAndIds(t,i):t,this.resourceReady.resolve(this)}),this)).fail(o.default.bind((function(){this.resourceReady.reject()}),this))};o.default.extend(c.prototype,{vectorImageResourceCache:null,objectUrlPromiseCache:null,getSrc:function(){return this.getOrCreateImageResource().getSrc()},getPromise:function(){return this.resourceReady.promise()},getOrCreateImageResource:function(t){var e=this.getCacheKey(t);if(this.imageResourceCacheHas(e))return this.getFromImageResourceCache(e);var n=this.createObjectURL(t),i=new a.default(n);return this.putInImageResourceCache(e,i),i},getImageResource:function(t){var e=this.getCacheKey(t);return this.getFromImageResourceCache(e)},imageResourceCacheHas:function(t){return this.vectorImageResourceCache.has(t)},getFromImageResourceCache:function(t){return this.vectorImageResourceCache.get(t)},putInImageResourceCache:function(t,e){this.vectorImageResourceCache.put(t,e)},objectUrlPromiseCacheHas:function(t){return this.objectUrlPromiseCache.has(t)},getFromObjectUrlPromiseCache:function(t){return this.objectUrlPromiseCache.get(t)},putInObjectUrlPromiseCache:function(t,e){this.objectUrlPromiseCache.put(t,e)},getCacheKey:function(t){return o.default.has(t,"gradient")?"gradient|"+o.default.get(t,"gradient.angle",null)+"|"+o.default.get(t,"gradient.stops[0].color",null)+"|"+o.default.get(t,"gradient.stops[1].color",null)+"|"+o.default.get(t,"backgroundHasBeenSet",null):"solid|"+o.default.get(t,"color",null)+"|"+o.default.get(t,"backgroundHasBeenSet",!1)},createObjectURL:function(t){var e=this.getCacheKey(t);if(this.objectUrlPromiseCacheHas(e))return this.getFromObjectUrlPromiseCache(e);var n=r.default.Deferred();return this.resourceReady.done(o.default.bind((function(){var e=this.createXMLDoc(t);if(e){var i=s.default.createObjectURL(e);n.resolve(i)}else n.reject()}),this)),this.resourceReady.fail(n.reject),this.putInObjectUrlPromiseCache(e,n),n},createBlob:function(t){var e=r.default.Deferred();return this.resourceReady.done(o.default.bind((function(){var n=this.createXMLDoc(t);if(n){var i=s.default.createBlob(n);e.resolve(i)}else e.reject()}),this)),this.resourceReady.fail(e.reject),e},createImageElement:function(t,e){return this.createObjectURL(t).then((function(t){return s.default.createImageElement(t,e)}))},createXMLDoc:function(t,e,n){var i,o=l.default.randomId();this.shouldRenameCssClassesAndIds&&this.isPlayerOrPreviewer&&(this.xmlString=s.default.renameCssClassesAndIds(this.xmlString,o));try{i=r.default.parseXML(this.xmlString)}catch(t){}if(!i||!r.default.isXMLDoc(i))return null;s.default.handleTitle(i,e,n);var a="CerosGradient_"+o,u={angle:0,stops:[{color:"#d1d1d1"},{color:"#d1d1d1"}]};t&&(t.color?(u=s.default.colorToGradient(t.color),s.default.updateSVGColorStyle(i,"url(#"+a+")")):t.gradient?(u=t.gradient,s.default.updateSVGColorStyle(i,"url(#"+a+")")):t.backgroundHasBeenSet&&s.default.updateSVGColorStyle(i,"rgba(0,0,0,0)")),s.default.addLinearGradient(i,a,u),s.default.removeIllegalNodes(i);var c=s.default.getImageAspectRatio(i);return this.originalAspectRatio=c,c&&c.width>0&&c.height>0&&s.default.setViewportDimensions(i,c.width,c.height),i},getOriginalAspectRatio:function(){return this.originalAspectRatio},loadImageXML:function(t){var e=r.default.Deferred();if(s.default.isDataURL(t))if(s.default.isVectorDataURL(t)){var n=s.default.convertToXMLString(t);e.resolve(n)}else e.reject();else this.queue?this.queue.add(t,e):s.default.fetchSvg(t,e);return e},getVectorImageResourceCache:function(){return this.vectorImageResourceCache},getObjectUrlPromiseCache:function(){return this.objectUrlPromiseCache}}),e.default=c},43039:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=new(i(n(72263)).default),a=function(t,e,n,i){return{id:t,url:e,original:{width:n,height:i}}},s={get:function(t){return o.get(t)},getOriginalWidth:function(t){var e=s.get(t);return r.default.get(e,["original","width"],null)},getOriginalDimensions:function(t){var e=s.get(t),n=r.default.get(e,["original","width"],null),i=r.default.get(e,["original","height"],null);return n&&i?{width:n,height:i}:null},put:function(t,e){o.put(t,e)},putMediaArray:function(t){r.default.each(r.default.keyBy(t,"id"),(function(t,e){o.put(e,t)}))},putImageResource:function(t,e){e.ready()?s.putImageInfo(t,e.getSrc(),e.getWidth(),e.getHeight()):window.console.warn("Tried to put image info into cache from an image resource that was not ready")},putImageInfo:function(t,e,n,i){var r=a(t,e,n,i);return o.put(t,r),r},putVideoInfo:function(t,e,n,i,r){var s=a(t,e,n,i);return s.posterFrameUri=r,o.put(t,s),s},purgeAll:function(){o.purgeAll()},has:function(t){return o.has(t)}};e.default=s},39536:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(8030)),s=i(n(43039)),u=[],l={loadImagesForUri:function(t){return l.loadImagesForRestUri("/rest"+t)},loadImagesForRestUri:function(t){return l.loadMediaForRestUri(t,!0)},loadMediaForUri:function(t,e){return l.loadMediaForRestUri("/rest"+t,e)},loadMediaForRestUri:function(t,e){var n=t+"/media";e&&(n+="?imagesOnly=true");var i=r.default.ajax({url:n,type:"GET",dataType:"json"}).then((function(t){s.default.putMediaArray(t)})).fail((function(e,n,i){window.console.warn("Unable to load image info for uri: "+t+" due to error: "+i)}));return u.push(i),i},loadMedia:function(t){return r.default.ajax({url:"/rest"+t+"/metadata",type:"GET",dataType:"json"}).then((function(e){if(o.default.isObject(e)){var n=o.default.get(e,"url",null),i=o.default.get(e,["meta","width"],null),r=o.default.get(e,["meta","height"],null),a=o.default.get(e,"posterFrameUri",null);return a?s.default.putVideoInfo(t,n,i,r,a):s.default.putImageInfo(t,n,i,r)}window.console.warn("Unexpected image metadata format")})).fail((function(){window.console.warn("Unable to load info for image: "+t)}))},getMediaInfo:function(t){var e=r.default.Deferred();return t?s.default.has(t)||!a.default.isStudio&&!a.default.editMode?(e.resolve(s.default.get(t)),e.promise()):(r.default.when.apply(r.default,u).always((function(){s.default.has(t)?e.resolve(s.default.get(t)):l.loadMedia(t).always((function(){e.resolve(s.default.get(t))}))})),e.promise()):(e.resolve(),e.promise())},getOriginalWidth:function(t){return l.getMediaInfo(t).then((function(t){return o.default.get(t,["original","width"],null)}))},getOriginalDimensions:function(t){return l.getMediaInfo(t).then((function(t){var e=o.default.get(t,["original","width"]),n=o.default.get(t,["original","height"]);return e&&n?{width:e,height:n}:null}))}};e.default=l},71053:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=navigator.userAgent;e.default={generate:(n=function(){for(var t=1*new Date,e=0;t==1*new Date;)e++;return t.toString(16)+e.toString(16)},function(){var t=(screen.height*screen.width).toString(16);return n()+"-"+Math.random().toString(16).replace(".","")+"-"+function(t){var e,n,r=i,o=[],a=0;function s(t,e){var n,i=0;for(n=0;n<e.length;n++)i|=o[n]<<8*n;return t^i}for(e=0;e<r.length;e++)n=r.charCodeAt(e),o.unshift(255&n),o.length>=4&&(a=s(a,o),o=[]);return o.length>0&&(a=s(a,o)),a.toString(16)}()+"-"+t+"-"+n()})}},60163:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(41232)),s=i(n(62220)),u=i(n(33521)),l=i(n(8030)),c=i(n(1879)),d={slug:null,account:null,userAccounts:null,accountsFeatureFlagsCollection:null,getActiveAccountSlug:function(){var t=this.getActiveAccount();return!!t&&t.get("slug")},getActiveAccount:function(){return c.default.getCurrentUser().getCurrentAccountModel()},isMemberOfAccount:function(t){return c.default.getCurrentUser().getAccounts().some((function(e){return e.slug===t}))},setActiveAccountSlug:function(t,e){var n=this,i=new r.default.Deferred;return i.fail(o.default.bind((function(){e&&"function"==typeof e.error&&e.error.call(this)}),this)),t?(this.addToAccountIfSuperUserFirstAccess(t).then((function(){var e=c.default.getCurrentUser();e.get("lastAccessedAccountSlug")!=t&&e.updateAndPersistFields({lastAccessedAccountSlug:t},{silent:!0}),l.default.absorb({accountSlug:t})})).then((function(){return u.default.getInstanceForAccount(n.getActiveAccountSlug()).fetch()})).then((function(){e&&"function"==typeof e.success&&e.success.call(n),i.resolve()})).fail(i.reject),i):(i.reject(),i)},addToAccountIfSuperUserFirstAccess:function(t){var e=new r.default.Deferred,n=c.default.getCurrentUser();if(this.isMemberOfAccount(t))e.resolve();else if(n.get("isSuperuser")){var i=new s.default({slug:t});i.fetch().done((function(){c.default.inviteMemberToAccount(n,i,!1).done((function(){n.fetch().done(e.resolve).fail(e.reject)})).fail(e.reject)})).fail((function(){e.reject()}))}else e.reject();return e.promise()},currentUserHasAccount:function(t){return!!c.default.getCurrentUser().get("isSuperuser")||this.isMemberOfAccount(t)},getFirstAccountSlug:function(){var t=c.default.getCurrentUser();return t.accounts.length>0&&t.accounts[0].slug},getFallbackAccountSlug:function(t){if(!t)return!1;var e=c.default.getCurrentUser().get("lastAccessedAccountSlug");if(!o.default.isUndefined(e)&&t!=e&&this.currentUserHasAccount(e))return e;var n=this.getFirstAccountSlug();return!(!n||t==n)&&n},navigateAccount:function(t,e){"/"!=t.charAt(0)&&(t="/"+t),a.default.history.navigate("/account/"+this.getActiveAccountSlug()+t,e)}};o.default.extend(d,a.default.Events),e.default=d},72263:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486));function o(){this.cache={}}r.default.extend(o.prototype,{get:function(t){return r.default.get(this.cache,t,null)},put:function(t,e){this.cache[t]=e},has:function(t){return r.default.has(this.cache,t)},purgeAll:function(){this.cache={}}}),e.default=o},29954:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(37136)),a={toString:function(){return this.isValid()?this.format("D MMMM, YYYY"):""},toDateDbString:function(){return this.isValid()?this.format("YYYY-MM-DD"):""}};e.default=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.default.apply(this,t);return n&&r.default.extend(n,a)}},29231:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.rotatePointAtOrigin=e.rotateCoord=e.isTangentZeroForOneRotation=e.hasTangentForOneRotation=e.maintainOffsetWhenRotated=e.toNextMultiple=e.round=e.evaluateBezierCurve=e.splitBezierCurveAtPoint=e.cubicBezierCurveFirstDerivativeRoots=e.sqDiag2D=e.vectorToSegment2D=e.closestPointOnLine=e.closestPointOnBezierCurve=e.lineLength=e.distance=e.scaleBoxToMaxDimension=e.calcPointOnRect=e.calcRotatedLineIntersect=e.Point=e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT=void 0,e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT=.01,e.Point=function(t,e){this.x=t,this.y=e,this.getX=function(){return this.x},this.getY=function(){return this.y},this.setX=function(t){this.x=t},this.setY=function(t){this.y=t},this.rotate=function(t,e,n){var i=Math.rotateCoord(this.x,this.y,t,e,n);this.setX(i.x),this.setY(i.y)}},e.Point.diff=function(t,n){return new e.Point(t.getX()-n.getX(),t.getY()-n.getY())},e.Point.sum=function(t,n){return new e.Point(t.getX()+n.getX(),t.getY()+n.getY())},e.Point.ORIGIN=new e.Point(0,0),e.calcRotatedLineIntersect=function(t,e,n){return{startPt:this.calcPointOnRect(t-270,e,n),endPt:this.calcPointOnRect(t-90,e,n)}},e.calcPointOnRect=function(t,n,i){var r=n/2,o=i/2;(t%=360)<0&&(t+=360);var a,s,u,l=Math.toRad(t),c=Math.tan(l),d=50*c,h=50/c;return Math.abs(d)<=50?(a=n/100*50,s=i/100*d,u=l<=Math.PI/2||l>3*Math.PI/2?{x:a,y:s}:{x:-a,y:-s}):(a=n/100*h,s=i/100*50,u=l<Math.PI?{x:a,y:s}:{x:-a,y:-s}),u.x+=r,u.y+=o,u.x=Math.round(u.x),u.y=Math.round(u.y),new e.Point(u.x,u.y)},e.scaleBoxToMaxDimension=function(t,e,n){var i=t,r=e;return t>0&&e>0&&(t>e?(i=n,r=Math.round(n/t*e)):(i=Math.round(n/e*t),r=n)),{width:i,height:r}},e.distance=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},e.lineLength=function(t){return e.distance({x:t.x1,y:t.y1},{x:t.x2,y:t.y2})},e.closestPointOnBezierCurve=function(t,n,i,r,o,a){if(null==a&&(a=e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT),a<=0)return null;for(var s=1/0,u=null,l=a;l<1;l+=a){var c={x:e.evaluateBezierCurve(n.x,i.cx2,o.cx1,r.x,l),y:e.evaluateBezierCurve(n.y,i.cy2,o.cy1,r.y,l)},d=e.distance(t,c);d<s&&(s=d,u=c)}return u},e.closestPointOnLine=function(t,n){var i=[n.x2-n.x1,n.y2-n.y1],r=[n.x1-t.x,n.y1-t.y],o=-(i[0]*r[0]+i[1]*r[1])/(Math.pow(i[0],2)+Math.pow(i[1],2));return o>=0&&o<=1?e.vectorToSegment2D(o,{x:0,y:0},n):e.sqDiag2D(e.vectorToSegment2D(0,t,n))<=e.sqDiag2D(e.vectorToSegment2D(1,t,n))?{x:n.x1,y:n.y1}:{x:n.x2,y:n.y2}},e.vectorToSegment2D=function(t,e,n){return{x:(1-t)*n.x1+t*n.x2-e.x,y:(1-t)*n.y1+t*n.y2-e.y}},e.sqDiag2D=function(t){return Math.pow(t.x,2)+Math.pow(t.y,2)},e.cubicBezierCurveFirstDerivativeRoots=function(t,n,i,r){var o=[],a=3*(3*n-t-3*i+r),s=6*(t-2*n+i),u=s*s-4*a*(3*(n-t));if(u>=0){var l=(-s+Math.sqrt(u))/(2*a),c=(-s-Math.sqrt(u))/(2*a);l>0&&l<1&&o.push(e.evaluateBezierCurve(t,n,i,r,l)),c>0&&c<1&&o.push(e.evaluateBezierCurve(t,n,i,r,c))}return o},e.splitBezierCurveAtPoint=function(t,e,i){var r={x:t.x,y:t.y},o={x:t.cx2||t.x,y:t.cy2||t.y},a={x:e.cx1||e.x,y:e.cy1||e.y},s={x:e.x,y:e.y},u=function(t,e){return{x:(t.x+e.x)*(1-i),y:(t.y+e.y)*(1-i)}},l=u(r,o),c=u(o,a),d=u(a,s),h=u(l,c),f=u(c,d),p=u(h,f);return{left:n(n({},t),{cx2:l.x,cy2:l.y}),center:{x:p.x,y:p.y,cx1:h.x,cy1:h.y,cx2:f.x,cy2:f.y},right:n(n({},e),{cx1:d.x,cy1:d.y})}},e.evaluateBezierCurve=function(t,e,n,i,r){return t*(1-r)*(1-r)*(1-r)+3*e*r*(1-r)*(1-r)+3*n*r*r*(1-r)+i*r*r*r},e.round=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},e.toNextMultiple=function(t,e){return t>0?Math.ceil(t/e)*e:t<0?Math.floor(t/e)*e:0},e.maintainOffsetWhenRotated=function(t,e){var n=e.x,i=e.y;if(t&&0!==t&&void 0!==e.x&&void 0!==e.y){var r=e.x,o=e.y;t=Math.toRad(t),n=r*Math.cos(t)+o*Math.sin(t),i=o*Math.cos(t)-r*Math.sin(t)}return{x:n,y:i}};var i=Math.PI/2,r=Math.PI+i,o=2*Math.PI,a=o+i;e.hasTangentForOneRotation=function(t){if(t<0||t>a)throw new Error("Angle must be between 0 and 2");return t!==i&&t!==r&&t!==a},e.isTangentZeroForOneRotation=function(t){if(t<0||t>a)throw new Error("Angle must be between 0 and 2");return t===Math.PI||t===o},e.rotateCoord=function(t,e,n,i,r){var o=t-n,a=e-i;return t=Math.cos(r)*o+Math.sin(r)*a,e=-Math.sin(r)*o+Math.cos(r)*a,t+=n,e+=i,new s.Point(t,e)},e.rotatePointAtOrigin=function(t,e,n){var i=t.getX(),r=t.getY(),o=e.getX(),a=e.getY();return new s.rotateCoord(i,r,o,a,n)};var s={BEZIER_CURVE_POINT_INCREMENT_DEFAULT:e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT,Point:e.Point,calcRotatedLineIntersect:e.calcRotatedLineIntersect,calcPointOnRect:e.calcPointOnRect,scaleBoxToMaxDimension:e.scaleBoxToMaxDimension,distance:e.distance,lineLength:e.lineLength,closestPointOnBezierCurve:e.closestPointOnBezierCurve,closestPointOnLine:e.closestPointOnLine,vectorToSegment2D:e.vectorToSegment2D,sqDiag2D:e.sqDiag2D,cubicBezierCurveFirstDerivativeRoots:e.cubicBezierCurveFirstDerivativeRoots,evaluateBezierCurve:e.evaluateBezierCurve,round:e.round,toNextMultiple:e.toNextMultiple,maintainOffsetWhenRotated:e.maintainOffsetWhenRotated,hasTangentForOneRotation:e.hasTangentForOneRotation,isTangentZeroForOneRotation:e.isTangentZeroForOneRotation,rotateCoord:e.rotateCoord,rotatePointAtOrigin:e.rotatePointAtOrigin};window.CerosMath=s,e.default=s},20602:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486));e.default={promises:[],add:function(t){var e=this;e.contains(t)||(e.promises.push(t),t.always((function(){e.remove(t)})))},contains:function(t){return this.promises.indexOf(t)>-1},clear:function(){this.promises=[]},remove:function(t){var e=this.promises.indexOf(t);e>-1&&this.promises.splice(e,1)},isEmpty:function(){return 0===this.size()},size:function(){return this.promises.length},anyPromisesPending:function(){return r.default.some(this.promises,(function(t){return"pending"===t.state()}))},allClearToSwitchVariants:function(){return!this.anyPromisesPending()}}},87959:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o={textareaFitContent:function(t,e){e=e||{};var n=function(){var n;t.height(0);var i=t.prop("scrollHeight"),r=(null===(n=t.val())||void 0===n?void 0:n.split("\n").length)||1;e.min&&(i=Math.max(e.min*r,i)),e.max&&(i=Math.min(e.max,i)),t.length>0&&(t[0].style.height=i+2+"px",t.toggle().toggle())};(t=r.default(t)).on("input",n),requestAnimationFrame(n)},selectAllOrDragTextInInput:function(t){var e=function(){this.select()};r.default(t.target).one("mouseup",e),setTimeout((function(){r.default(t.target).off("mouseup",e)}),500)},randomId:function(){return"id"+Math.random().toString(16).substr(2,9)}};e.default=o},73926:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(32899),r=[],o=["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications."];e.default={registerObserver:function(t){r.push(t)},registerRollbarObserver:function(t){if(t){var e=t;this.registerObserver((function(t,n,r,o,a){a&&a.metadata?i.LoggerUtils.sendErrorToRollbar(a):e(t,n,r,o,a)}))}},handleFatalError:function(t,e,n,i,a){if(!o.some((function(e){return e===t})))for(var s=0;s<r.length;s++)r[s](t,e,n,i,a)}}},79214:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){this.getField=function(){return t},this.getMessage=function(){return e}}},60115:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=["width","height","x","y"],a={isValidCropObject:function(t){if(!r.default.isObject(t))return!1;var e=r.default.keys(t);return 0===r.default.xor(e,o).length},createCropDimensionsString:function(t){return a.isValidCropObject(t)?[t.width,t.height,"x"+t.x,"y"+t.y].join(","):""},createOriginalDimensionsFromCropDimensions:function(t,e){return{width:Math.clamp(e.width,1,t.width),height:Math.clamp(e.height,1,t.height)}}};e.default=a},67189:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(80771)),a=i(n(68843)),s=i(n(29231)),u=function(){function t(){}return t.calculateWidthForDevicePixelRatio=function(t){return t*o.default.pixelRatio()},t.calculateDimensions=function(e,n,i,r){var o;if(a.default.isVectorBased(e)){var u=r?t.CONSTANTS.DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE:Math.min(n,i);o=s.default.scaleBoxToMaxDimension(n,i,u)}else o={width:Math.round(n/2),height:Math.round(i/2)};return o},t.shouldConstrainImageSize=function(t,e,n,i){return!!(a.default.isVectorBased(t)&&i||a.default.isVectorBased(t)&&(!e||!n))||!a.default.isVectorBased(t)},t.base64toBlob=function(t,e,n){e=r.default.isString(e)?e:"",n=r.default.isNumber(n)?n:512;for(var i=atob(t),o=[],a=0;a<i.length;a+=n){for(var s=i.slice(a,a+n),u=new Array(s.length),l=0;l<s.length;l++)u[l]=s.charCodeAt(l);var c=new Uint8Array(u);o.push(c)}return new Blob(o,{type:e})},t.createFileFromBase64=function(t,e,n){return new File([this.base64toBlob(t)],e,{type:n})},t.isBase64EncodedImage=function(t){return"data:image"===t.slice(0,10)},t.encodedSvgStringAsBase64=function(t){return"url('data:image/svg+xml;base64,"+(t=btoa(t.trim()))+"')"},t.getScaleValueFromFlip=function(t){return{scaleXValue:t.flipHorizontal?-1:1,scaleYValue:t.flipVertical?-1:1}},t.getDimensionsForReplacementImage=function(t,e){var n=t.width,i=t.height,r=t.x,o=t.y,a=e.width,s=e.height,u=n/a,l=i/s,c=Math.min(u,l);return{width:a=Math.round(a*c),height:s=Math.round(s*c),x:Math.round(r+(n-a)/2),y:Math.round(o+(i-s)/2)}},t.CONSTANTS={DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE:100},t}();e.default=u},89184:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(80771)),o=i(n(87967)),a={isMetaKeyPressed:function(t){return r.default.isMac()?t.metaKey:t.ctrlKey},isAltKeyPressed:function(t){return t.altKey||t.which===o.default.ALT&&"keydown"===t.type},isCtrlKeyPressed:function(t){return t.ctrlKey},isCtrlOnWindowsOrAltOnMacsPressed:function(t){return r.default.isWindows()?t.ctrlKey:this.isAltKeyPressed(t)},isSemicolonKeyPressed:function(t){var e=r.default.mozilla?o.default.SEMICOLON_FIREFOX:o.default.SEMICOLON;return t.which===e},isMacCtrlKeyPressed:function(t){return!!r.default.isMac()&&t.ctrlKey},isDeleteKeyPressed:function(t){return t.which===o.default.DELETE},isBackspaceKeyPressed:function(t){return t.which===o.default.BACKSPACE},isEscKeyPressed:function(t){return t.which===o.default.ESC},isEnterKeyPressed:function(t){return t.which===o.default.ENTER},isArrowKey:function(t){return t==o.default.RIGHT_ARROW||t==o.default.LEFT_ARROW||t==o.default.UP_ARROW||t==o.default.DOWN_ARROW},isShiftKeyPressed:function(t){return t.shiftKey||t.which===o.default.SHIFT},isAKeyPressed:function(t){return t.which===o.default.A},isEKeyPressed:function(t){return t.which===o.default.E},isGKeyPressed:function(t){return t.which===o.default.G},isRKeyPressed:function(t){return t.which===o.default.R},isOptionRPressed:function(t){return a.isAltKeyPressed(t)&&a.isRKeyPressed(t)},isCommandZPressed:function(t){return a.isMetaKeyPressed(t)&&t.which===o.default.Z},isUndoCombinationPressed:function(t){return a.isCommandZPressed(t)&&!t.shiftKey},isCommandYPressed:function(t){return a.isMetaKeyPressed(t)&&t.which===o.default.Y},isCommandShiftQuotePressed:function(t){return a.isMetaKeyPressed(t)&&a.isShiftKeyPressed(t)&&t.which===o.default.SINGLE_QUOTE},isAltLPressed:function(t){return a.isAltKeyPressed(t)&&t.which===o.default.L},isCommandShiftZPressed:function(t){return a.isCommandZPressed(t)&&t.shiftKey},isRedoCombinationPressed:function(t){return a.isCommandYPressed(t)||a.isCommandShiftZPressed(t)},isHKeyPressed:function(t){return t.which===o.default.H},isPKeyPressed:function(t){return t.which===o.default.P},isInputNavigation:function(t){return-1!==[o.default.DELETE,o.default.BACKSPACE,o.default.TAB,o.default.ESCAPE,o.default.ENTER,o.default.SHIFT,o.default.CTRL,o.default.LEFT_CMD].indexOf(t.which)||-1!==[o.default.A,o.default.C,o.default.R,o.default.X,o.default.Z].indexOf(t.which)&&this.isMetaKeyPressed(t)||-1!==[o.default.HOME,o.default.END,o.default.LEFT_ARROW,o.default.RIGHT_ARROW].indexOf(t.which)},isZoomCommand:function(t){return this.isMetaKeyPressed(t)&&(t.which===o.default.EQUALS_WEBKIT||t.which===o.default.EQUALS_FF||t.which===o.default.MINUS_WEBKIT||t.which===o.default.MINUS_FF||t.which===o.default.ONE||t.which===o.default.ZERO)},isInteger:function(t){return t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105},isLetter:function(t){return t.keyCode>=65&&t.keyCode<=90},isSpace:function(t){return t.which===o.default.SPACE},isCharOrNumber:function(t){return a.isInteger(t)||a.isLetter(t)||a.isSpace(t)}};e.default=a},87967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={NIL:0,ESC:27,SHIFT:16,CTRL:17,LEFT_CMD:91,RIGHT_CMD:93,CMD_FIREFOX:224,ALT:18,RETURN:13,ENTER:13,BACKSPACE:8,DELETE:46,SPACE:32,TAB:9,HOME:36,END:35,RIGHT_ARROW:39,LEFT_ARROW:37,UP_ARROW:38,DOWN_ARROW:40,EQUALS_FF:61,EQUALS_WEBKIT:187,MINUS_FF:173,MINUS_WEBKIT:189,ZERO:48,ONE:49,SEMICOLON:186,SEMICOLON_FIREFOX:59,BRACKET_OPEN:219,BRACKET_CLOSE:221,SINGLE_QUOTE:222,A:65,C:67,D:68,E:69,G:71,H:72,I:73,J:74,K:75,L:76,M:77,P:80,R:82,V:86,X:88,Y:89,Z:90,COMMA:188,PERIOD:190}},69107:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=i(n(41232)),s=function(t){this.options=r.default.extend({debug:!1,history:100},t||{}),this.queue=[],this.isOnline=!0},u="pending";s.prototype=r.default.extend(a.default.Events,{push:function(t){if(!this.isOnline)throw new Error("Queue is Offline");var e=new o.default.Deferred,n={_c:t,_d:e,_t:new Date};return this.options.debug&&(console.debug("COMMAND PUSHED: "+t.label),e.done((function(){console.debug("COMMAND DONE: "+t.label)})),e.fail((function(){console.debug("COMMAND FAILED: "+t.label)}))),this.queue.push(n),this.trigger("add",{command:t,promise:e.promise()}),e.always(r.default.bind((function(){this.fireEvents()}),this)),e},fireEvents:function(){this.isOnline&&(this.trigger("complete"),this.isEmpty()&&this.trigger("empty"),this.purge())},isEmpty:function(){return r.default.every(this.queue,(function(t){return t._d.state()!==u}))},getPendingCount:function(){return r.default.reduce(this.queue,(function(t,e){return t+(e._d.state()===u?1:0)}),0)},getCompleteCount:function(){return this.queue.length-this.getPendingCount()},setOffline:function(){this.trigger("offline"),this.isOnline=!1},purge:function(){if(null!==this.options.history&&!(this.queue.length<=this.options.history))for(var t=this.queue.length-this.options.history,e=0;t-- >0;)"resolved"===this.queue[e]._d.state()&&this.queue.splice(e,1),e++},_dump:function(){r.default.each(this.queue,(function(t,e){console.debug(e+".  "+t._d.state()+"  "+JSON.stringify(t._c)+"  "+t._t)}))}}),e.default=new s({debug:!1})},55099:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={setDimensions:function(t,e){window.cerosScreenDimensions={width:t,height:e}},getDimensions:function(){return window.cerosScreenDimensions}};window.cerosScreenDimensions||n.setDimensions(window.screen.width,window.screen.height),e.default=n},19201:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={COLORS:{DUSTY_GRAY:"#999999",CEROS_BLUE:"#05c3de",CEROS_RED:"#f6323e",CEROS_GOLD:"#EFB16B",CASTLE_ROCK:"#192024",LAVA_STONE:"#282f36",PEBBLE:"#353D43",PEBBLE_70P:"rgba(53, 61, 67, 0.7)",RIVER_BED:"#47535B",COAL:"#161A1F",PEWTER:"#414B51",ASH:"#5f6568",WHITE:"#FFFFFF",ALIEN:"#00ffb4",COLLABORATORS_GREEN:"#57B99D",MAGENTA:"#FF00FF",PINK:"#FF75FF",RED:"#FF0000",HYPERLINK_BLUE:"#0000FF",GREY100:"#F5F6F7",GREY200:"#E9EBEC",GREY200_70P:"rgba(233, 235, 236, 0.7)",GREY300:"#DCDFE1",GREY400:"#979A9B",PRIMARY_BLUE:"#1B00FB",PRIMARY_BLUE_ACTIVE:"#040B97",PRIMARY_BLUE_ALT:"#0D99FF",BLACK:"#000000"}}},48710:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486));e.default={VARIANTS:{FULL:"full",HALF:"half",QUARTER:"quarter",TENTH:"tenth"},getThumbnailVariant:function(t,e){var n=null;return r.default.has(t,e)?n=t[e]:r.default.has(t,this.VARIANTS.FULL)&&(n=t[this.VARIANTS.FULL]),n},getComponentImageThumbnail:function(t,e){if(!e)return this.getThumbnailVariant(t,this.VARIANTS.FULL);var n=[];r.default.each(t,(function(t){n.push(t)})),n.sort((function(t,e){return t.width<e.width?-1:t.width>e.width?1:0}));var i=r.default.find(n,(function(t){return t.width>=e}));return r.default.isObject(i)||(i=this.getThumbnailVariant(t,this.VARIANTS.FULL)),i}}},54400:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(8030)),a=/^(https?|ftp):\/\/[^\s\/$.?#].[^\s]*$/i,s={isValidUrl:function(t){return a.test(t)},beginsWithHttpOrHttps:function(t){return/^(http(s?))\:\/\//gi.test(t)},getUrlParams:function(t){var e,n={};if(-1===(t=String(t)).indexOf("?"))return n;var i=t.split("?")[1];if(r.default.isEmpty(i))return n;i=i.split("&");for(var o=0;o<i.length;o++)-1===i[o].indexOf("=")?n[decodeURIComponent(i[o])]=void 0:(e=i[o].split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]));return n},removeEmbedParams:function(t){var e=t.replace(/heightOverride=\d+&?/g,"").replace(/tabletHeightOverride=\d+&?/g,"").replace(/mobileHeightOverride=\d+&?/g,"");return-1!==e.indexOf("?",e.length-1)&&(e=e.substring(0,e.length-1)),e},getBaseUrl:function(t){return-1===(t=String(t)).indexOf("?")?t:t.split("?")[0]},appendQueryParams:function(t,e,n){if(r.default.isEmpty(e))return t;var i="",o=t.lastIndexOf("#");-1!==o&&(i=t.substr(o),t=t.substr(0,o));var a=this.getUrlParams(t);e=r.default.extend({},a,e);var s=[];r.default.each(e,(function(t,e){var i=n?e:encodeURIComponent(e);r.default.isUndefined(t)||(n||(t=encodeURIComponent(t)),i+="="+t),s.push(i)}));var u=s.join("&");return this.getBaseUrl(t)+"?"+u+i},extractDomain:function(t){var e=t.match(/^https?:\/\/([^\/]+)/);return e?e[1]:""},replaceProtocolIfHttpsRequest:function(t){return"https:"===location.protocol&&(t=s.makeHttps(t)),t},makeHttps:function(t){return t.replace(/^http:/,"https:")},linkifyText:function(t,e){var n=e?' target="_blank"':"";return t.replace(/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,'<a href="$&"'+n+">$&</a>").replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'$1<a href="http://$2"'+n+">$2</a>").replace(/[\w.]+@[a-zA-Z_-]+?(?:\.[a-zA-Z]{2,6})+/gim,'<a href="mailto:$&"'+n+">$&</a>")},locationIsHtmlFile:function(){return!!window.location.pathname.match(/\.html$/)},makeUrlAbsolute:function(t){if(this.extractDomain(t))return t;if(!window.cerosBaseUrl)return t;var e="/"===t[0],n=window.cerosBaseUrl.lastIndexOf("/")===window.cerosBaseUrl.length-1;return n&&e?window.cerosBaseUrl+t.slice(1):n||e?window.cerosBaseUrl+t:window.cerosBaseUrl+"/"+t},hasQueryParam:function(t,e){return!r.default.isUndefined(this.getQueryParamValue(t,e))},getQueryParamValue:function(t,e){var n=s.getUrlParams(t);return r.default.find(n,(function(t,n){if(n.toLowerCase()===e.toLowerCase())return!0}))},prependProtocol:function(t,e){var n=e?"https://":"http://";return s.beginsWithHttpOrHttps(t)?t:n+t},replaceUrlContextVariables:function(t){return t.replace(/\{api-version\}/,o.default.apiVersion).replace(/\{account-slug\}/,o.default.accountSlug).replace(/\{scope\}/,o.default.accountSlug)},filterUrl:function(t){var e=0===t.trim().toLowerCase().indexOf("javascript:");return-1===t.indexOf(":")||e?"http://"+t:t},getRootDomain:function(){var t=location.host.split(".").reverse();return"."+t[1]+"."+t[0]},getExperiencePath:function(){var t=window.location.pathname,e=o.default.previewMode?t.search(/\/page\/page-.+/g):t.search(/\/p\/\d+/g);return e>=0?t.substr(0,e):t}};e.default=s},1879:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(65311)),a=r(n(96486)),s=r(n(41232)),u=r(n(33340)),l=r(n(8030)),c={currentUser:null,getCurrentUserSlug:function(){return this.currentUser?this.currentUser.get("slug"):null},getCurrentUser:function(){return this.currentUser},fetchCurrentUser:function(t){void 0===t&&(t={});var e=new u.default,n=new o.default.Deferred,r=i(i({},t),{accountSlug:l.default.accountSlug});return e.fetch(r).done(a.default.bind((function(){this.currentUser=e,n.resolve(this.currentUser)}),this)).fail(n.reject),n},signin:function(t){this._post(a.default.extend(t,{url:"/rest/v1/process/signin",eventName:"currentuser:signin"}))},checkPasswordResetToken:function(t){return o.default.ajax({url:"/rest/v1/process/reset-password",type:"GET",data:{token:t}})},checkConfirmMemberToken:function(t){return o.default.ajax({url:"/rest/v1/process/confirm-member",data:{token:t},type:"GET",dataType:"json"})},sendPasswordResetEmail:function(t){return o.default.ajax({url:"/rest/v1/process/send-password-reset",type:"POST",data:JSON.stringify({email:t}),processData:!1,contentType:"application/json"})},resetPassword:function(t){this._post(a.default.extend(t,{url:"/rest/v1/process/reset-password",eventName:"currentuser:resetpassword"}))},confirmMember:function(t){this._post(a.default.extend(t,{url:"/rest/v1/process/confirm-member"}))},getAuthUser:function(t){return o.default.ajax({url:"/rest/v1/process/get-auth-user",type:"GET",data:{token:t}})},linkUser:function(t){this._post(a.default.extend(t,{url:"/rest/v1/process/link-user"}))},resendInitialInvite:function(t){this._post(a.default.extend(t,{url:"/rest/v1/process/resend-initial-invite"}))},validateEmailDomain:function(t){return o.default.ajax({url:"/rest/v1/process/validate-email",type:"POST",data:JSON.stringify({email:t}),processData:!1,contentType:"application/json"})},inviteMemberToAccount:function(t,e,n){return n=!1===n?0:1,o.default.ajax({url:"/rest/v1/account/"+e.get("slug")+"/invite-member",type:"POST",data:JSON.stringify({email:t.get("email"),title:t.get("title"),sendInvitationEmail:n})})},_post:function(t){o.default.ajax({url:t.url,type:"POST",data:JSON.stringify(t.data),processData:!1,contentType:"application/json",success:a.default.bind((function(e,n,i){t.eventName&&this.trigger(t.eventName,"UserManager"),t.success&&"function"==typeof t.success&&t.success(e,n,i)}),this),error:function(e,n,i){t.error&&"function"==typeof t.error&&t.error(e,n,i)}})}};a.default.extend(c,s.default.Events),e.default=c},16080:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(41232)),s=i(n(8030)),u=i(n(60163)),l=i(n(20602)),c=i(n(1879)),d=n(74122),h={VARIANT_ADDED:"variantAdded",VARIANT_ADDED_REMOTE:"variantAddedRemote",VARIANT_CHANGED:"variantChanged",VARIANT_DELETION_STARTED:"variantDeletionStarted",VARIANT_ABOUT_TO_DELETE:"variantAboutToDelete",VARIANT_DELETED:"variantDeleted",VARIANT_DELETED_REMOTE:"variantDeletedRemote",VARIANT_DELETED_FROM_ALL_PAGES:"variantDeletedFromAllPages",VARIANT_DELETE_FAILED:"variantDeleteFailed",VARIANT_SAVED:"variantSaved",VARIANT_SAVE_FAILED:"variantSaveFailed"},f=["desktop"],p={docVersion:null,currentVariant:d.Layout.DESKTOP,creatingComponent:!1,inIsolationMode:!1,EVENTS:h,doingCycleHack:!1,cachedAdaptiveLayoutsEnabled:null,defaultVariantValues:{mobile:{viewportWidth:800,viewportHeight:1422},tablet:{viewportWidth:1024,viewportHeight:1366}},setDocumentVersion:function(t){this.docVersion=t},setInIsolationMode:function(t){this.inIsolationMode=t},setCurrentVariant:function(t){t!==this.currentVariant&&(this.currentVariant=t,this.trigger(h.VARIANT_CHANGED))},setDoingCycleHack:function(t){this.doingCycleHack=t},isDoingCycleHack:function(){return this.doingCycleHack},setIsDeletingAVariant:function(t){this.deletingAVariant=t},isDeletingAVariant:function(){return this.deletingAVariant},isCurrentVariant:function(t){return this.currentVariant===t},isInIsolationMode:function(){return this.inIsolationMode},getExistingVariants:function(){if(!this.adaptiveLayoutsEnabled())return[];var t=this.docVersion.doc.at("overrides").get();return o.default.keys(t)},areAllVariantsCreated:function(){return 2===this.getExistingVariants().length},getMissingVariants:function(){return o.default.difference(o.default.keys(this.defaultVariantValues),this.getExistingVariants())},getOtherVariantIfExists:function(t){var e=t===d.Layout.MOBILE?d.Layout.TABLET:d.Layout.MOBILE;return this.doesVariantExist(e)?e:null},doesVariantExist:function(t){var e=this.getExistingVariants();return o.default.includes(e,t)||t===d.Layout.DESKTOP},doesAnyVariantExist:function(){return this.getExistingVariants().length>0},getCurrentVariant:function(){return this.adaptiveLayoutsEnabled()?this.currentVariant:d.Layout.DESKTOP},getAllExistingLayouts:function(){return this.getExistingVariants().concat("desktop")},getNonCurrentLayouts:function(){if(!this.adaptiveLayoutsEnabled())return[];if(this.currentVariant===d.Layout.DESKTOP)return this.getExistingVariants();var t=[d.Layout.DESKTOP],e=this.getOtherVariantIfExists(this.currentVariant);return e&&t.push(e),t},hasMultipleVariants:function(){return o.default.size(this.docVersion.doc.at("overrides").get())>0},addNewVariantToDocVersion:function(t){var e=r.default.Deferred();if(this.adaptiveLayoutsEnabled())if(this.doesVariantExist(t))e.reject("error-variant-exists");else try{var n=this.getSourceVariantName(),i=o.default.cloneDeep(this.docVersion.get("overrides"))||{};i[t]=this.defaultVariantValues[t],o.default.extend(i[t],this.getDocVersionAttributesToCopyFromSourceVariant(this.docVersion,n)),this.docVersion.set("overrides",i),this.trigger(h.VARIANT_ADDED,{newVariantName:t,sourceVariantName:n}),e.resolve()}catch(t){e.reject(t)}else e.reject("error-adaptiveLayouts-disabled");return e.promise()},beginVariantDelete:function(t){this.doesVariantExist(t)&&(this.setIsDeletingAVariant(!0),this.trigger(h.VARIANT_DELETION_STARTED),this.trigger(h.VARIANT_ABOUT_TO_DELETE,{variantName:t}))},deleteVariantFromDocVersion:function(t){var e=r.default.Deferred();if(this.doesVariantExist(t))try{this.setCurrentVariant("desktop");var n=o.default.cloneDeep(this.docVersion.get("overrides"));delete n[t],this.docVersion.set("overrides",n),this.setIsDeletingAVariant(!1),this.trigger(h.VARIANT_DELETED,{variantName:t}),e.resolve()}catch(t){e.reject(t),this.trigger(h.VARIANT_DELETE_FAILED)}else e.reject("error-variant-missing"),this.trigger(h.VARIANT_DELETE_FAILED);return e.promise()},saveVariant:function(t){this.trigger(h.VARIANT_SAVED,{variantName:t})},variantSaveFailed:function(t){this.trigger(h.VARIANT_SAVE_FAILED,{variantName:t})},listenForVariantSavedOrFailed:function(){var t=r.default.Deferred();return this.listenToOnce(p,p.EVENTS.VARIANT_SAVED,t.resolve),this.listenToOnce(p,p.EVENTS.VARIANT_SAVE_FAILED,t.reject),t},getDocVersionAttributesToCopyFromSourceVariant:function(t,e){return"desktop"!==e&&this.adaptiveLayoutsEnabled()?{scaleExperienceType:t.get("overrides")[e].scaleExperienceType}:{scaleExperienceType:t.get("scaleExperienceType")}},adaptiveLayoutsEnabled:function(){if(null!==this.cachedAdaptiveLayoutsEnabled)return this.cachedAdaptiveLayoutsEnabled;if(c.default.getCurrentUser()){var t=u.default.getActiveAccount().hasAdaptiveLayouts();return this.cachedAdaptiveLayoutsEnabled=t,t}return!1},getSourceVariantName:function(){var t=this.getExistingVariants();if(0===t.length)return"desktop";if(1===t.length)return t[0];throw"All 3 variants already exist"},cloneOverrides:function(t){var e=o.default.clone(t);return o.default.each(t,(function(t,n){e[n]=o.default.clone(t)})),e},reconcileJSONForCurrentVariant:function(t,e){var n;if(e&&e.isSyncedObject()||this.currentVariant===d.Layout.DESKTOP)n=o.default.extend({},t);else{var i=t.overrides[this.currentVariant];if(i){var r=t.synced?o.default.omit(i,e.getSyncedProperties()):i;n=o.default.extend({},t,r)}else{var a={variant:this.currentVariant,modelJSON:JSON.stringify(t),issue:s.default.issueSlug,docDictionaryJson:JSON.stringify(this.docVersion.pageCollection.getCurrentPage().doc.at("layerDictionary").at(t.id).get())};window.Rollbar.warn("Missing Variant Overrides Object on reconcileJSONForCurrentVariant",a)}}return delete n.overrides,n},disableLayoutSwitch:function(){this.trigger("disableLayoutSwitch")},enableLayoutSwitchIfReady:function(){l.default.allClearToSwitchVariants()&&this.trigger("enableLayoutSwitch")},doesCurrentVariantSupportHover:function(){var t=this.getCurrentVariant();return f.indexOf(t)>-1}};o.default.extend(p,a.default.Events),e.default=p},68843:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(65311)),l=s(n(96486)),c=o(n(29231)),d=s(n(80771)),h=s(n(87959)),f="image/svg+xml",p="data:",g=p+f+";base64,",m=["svg","path","rect","circle","ellipse","line","polyline","polygon","text"];e.default={VECTOR_IMAGE_CONVERSION_VERSION:2,isVectorBased:function(t){return t===f},hasCurrentConvertedVectorImageUri:function(t,e){return 2===t&&!!e},getImageAspectRatio:function(t){var e=this.getViewportDimensions(t);if(e&&e.height>0&&e.width>0)return e;var n=this.getViewBoxDimensions(t);return n&&n.height>0&&n.width>0?n:null},getViewBoxDimensions:function(t){var e=(t.documentElement.getAttribute("viewBox")||"").match(/-?[\d\.]+/g);if(e&&4===e.length){var n=parseInt(e[2],10),i=parseInt(e[3],10);if(n>0&&i>0)return{width:n,height:i}}return null},getViewportDimensions:function(t){var e=t.documentElement,n=parseInt(e.getAttribute("width"),10),i=parseInt(e.getAttribute("height"),10);return n>0&&i>0?{width:n,height:i}:null},setViewportDimensions:function(t,e,n){var i=t.documentElement;i.setAttribute("width",e+"px"),i.setAttribute("height",n+"px")},updateSVGColorStyle:function(t,e){l.default.each(m,l.default.bind((function(n){var i=t.getElementsByTagName(n);l.default.each(i,l.default.bind((function(t){this.canFillStyleBeUpdated(t)&&this.appendStyle(t,"fill",e),this.canStrokeStyleBeUpdated(t)&&this.appendStyle(t,"stroke",e)}),this))}),this))},canFillStyleBeUpdated:function(t){var e=this.getStyle(t,"fill");return!e||"none"!==e.trim()},canStrokeStyleBeUpdated:function(t){var e=this.getStyle(t,"stroke");return e&&"none"!==e.trim()},getStyle:function(t,e){var n=this.getStyleValue(t,e);return n||(n=t.getAttribute(e)),n},removeIllegalNodes:function(t){this.removeNodesByNodeName(t,"foreignObject")},removeNodesByNodeName:function(t,e){var n=t.getElementsByTagName(e);if(n)for(var i=n.length-1;i>=0;i--){var r=n[i];r.parentNode.removeChild(r)}},handleTitle:function(t,e,n){var i=t.getElementsByTagName("title"),r=t.documentElement;if(e||n){var o="title"+h.default.randomId();if(r.setAttribute("role","img"),r.setAttribute("aria-labelledby",o),r.removeAttribute("aria-hidden"),null==i||0===i.length){var a=t.createElement("title");r.appendChild(a),i=t.getElementsByTagName("title")}i[0].innerHTML=e,i[0].setAttribute("id",o)}else r.setAttribute("aria-hidden","true")},findChildNode:function(t,e){return l.default.find(t.childNodes,(function(t){return t.nodeName===e}))},appendNewChildNode:function(t,e,n){var i=this.createSVGNode(t,n);return e.appendChild(i,e.firstChild),i},prependNewChildNode:function(t,e,n){var i=this.createSVGNode(t,n);return e.insertBefore(i,e.firstChild),i},addLinearGradient:function(t,e,n){var i=t.documentElement,r=this.findChildNode(i,"defs");r||(r=this.prependNewChildNode(t,i,"defs"));var o=this.findChildNode(r,"linearGradient"),a=(null==o?void 0:o.getAttribute("id"))||"";null!=o&&0!==o.length||(o=this.prependNewChildNode(t,r,"linearGradient")),o.getAttribute("data-cerosgradient")||0===a.indexOf("CerosGradient_")||(o=this.prependNewChildNode(t,r,"linearGradient")),o.setAttribute("class","cerosgradient"),o.setAttribute("data-cerosgradient",!0),o.setAttribute("id",e),o.setAttribute("gradientUnits","userSpaceOnUse");var s=c.calcRotatedLineIntersect(n.angle,100,100);o.setAttribute("x1",s.startPt.getX()+"%"),o.setAttribute("y1",s.startPt.getY()+"%"),o.setAttribute("x2",s.endPt.getX()+"%"),o.setAttribute("y2",s.endPt.getY()+"%"),l.default.each(n.stops,l.default.bind((function(e,i){var r=100*i/(n.stops.length-1),a=o.getElementsByTagName("stop")[i];null!=a&&0!==a.length||(a=this.appendNewChildNode(t,o,"stop")),a.setAttribute("offset",r+"%"),a.setAttribute("stop-color",e.color)}),this))},createSVGNode:function(t,e){return t.createElementNS("http://www.w3.org/2000/svg",e)},supportsObjectURLs:function(){return!d.default.isPhantomJS()&&!d.default.isJsDom()},createObjectURL:function(t){if(this.supportsObjectURLs()){var e=this.createBlob(t);return this.getDOMURL().createObjectURL(e)}var n=this.createXmlString(t);return g+window.btoa(n)},createBlob:function(t){var e=this.createXmlString(t);return new Blob([e],{type:f})},createXmlString:function(t){return(new XMLSerializer).serializeToString(t)},revokeObjectURL:function(t){this.supportsObjectURLs()&&this.getDOMURL().revokeObjectURL(t)},getDOMURL:function(){return window.URL||window.webkitURL||window},isDataURL:function(t){return l.default.isString(t)&&0===t.indexOf(p)},isVectorDataURL:function(t){return l.default.isString(t)&&0===t.indexOf(g)},convertToXMLString:function(t){if(!this.isVectorDataURL(t))throw new Error("Expected data url to start with "+g);var e=t.substring(26);return window.atob(e)},appendStyle:function(t,e,n){var i=t.getAttribute("style"),r=e+":"+n+";";i&&i.length>0?(";"!==i.substr(i.length-1)&&(i+=";"),i+=r):i=r,t.setAttribute("style",i)},getStyleValue:function(t,e){var n=t.getAttribute("style");if(!n||0===n.length)return null;var i=n.split(";");if(!i)return null;for(var r=null,o=i.length-1;o>=0;o--){var a=i[o].split(":");if(a&&2==a.length&&a[0].trim()===e){r=a[1].trim();break}}return r},createImageElement:function(t,e){var n=u.default("<img/>");return e&&n.attr(e),n.on("error",l.default.bind((function(){this.revokeObjectURL(t)}),this)),n.attr("src",t),n},renameCssClassesAndIds:function(t,e){return t=this.renameCssClasses(t,e),this.renameIds(t,e)},renameCssClasses:function(t,e){var n,i,r,o,s,u,c=this.extractStyleFromSvg(t),d=this.extractClassesFromSvg(t),h=null;c&&d&&(h=this.matchCssClasses(c[2]));var f=function(t){return t.original+t.newOne};if(h&&h.length>0){var p=l.default.uniq(h),g=[],m=new Set;try{for(var v=a(p),y=v.next();!y.done;y=v.next()){var _=y.value,b=_.indexOf("{")===_.length-1,w=new RegExp("[.|{|,]","gi"),T=_.replace(w,"").replace(" ","")+"-"+e,S=f(x={original:_,newOne:b?"."+T+"{":"."+T+","});m.has(S)||(g.push(x),m.add(S))}}catch(t){n={error:t}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}try{for(var E=a(d),O=E.next();!O.done;O=E.next()){var P=O.value,C=P.replace("class=","").replace('"',"").replace('"',"").split(" ");S=f(x={original:P,newOne:'class="'+(C=this.formatClasses(C,e)).join(" ")+'"'}),m.has(S)||(g.push(x),m.add(S))}}catch(t){r={error:t}}finally{try{O&&!O.done&&(o=E.return)&&o.call(E)}finally{if(r)throw r.error}}try{for(var A=a(g),k=A.next();!k.done;k=A.next()){var x=k.value;t=t.replaceAll(x.original,x.newOne)}}catch(t){s={error:t}}finally{try{k&&!k.done&&(u=A.return)&&u.call(A)}finally{if(s)throw s.error}}}return t},formatClasses:function(t,e){for(var n=0;n<t.length;n++){var i=t[n].indexOf("cerosgradient")>-1;t[n]=i?t[n]:t[n]+"-"+e}return t},renameIds:function(t,e){var n=this.matchIds(t);if(n)for(var i=l.default.uniq(n),r=0;r<i.length;r++){var o=i[r].replace("id=","").replace(/\"/gi,""),a=""+o+e,s=new RegExp('id=\\"'+o+'\\"',"gi");t=t.replace(s,'id="'+a+'"');var u=new RegExp('begin=\\"(.+)?'+o+"\\.","gi");t=t.replace(u,'begin="$1'+a+".");var c=new RegExp('end=\\"'+o+"\\.","gi");t=t.replace(c,'end="'+a+".");var d=new RegExp('xlink:href=\\"#'+o+'\\"',"gi");t=t.replace(d,'xlink:href="#'+a+'"');var h=new RegExp("url\\(\\&quot\\;#"+o+"\\&quot\\;\\)","gi");t=t.replace(h,"url(&quot;#"+a+"&quot;");var f=new RegExp(o+"\\)","gi");t=t.replace(f,a+")")}return t},extractClassesFromSvg:function(t){return t.match(/class=\"([^"]*)\"/g)},extractStyleFromSvg:function(t){return t.match(/<style(.+)?>([\s\S]+?)<\/style>/)},matchCssClasses:function(t){return t.match(/(\.(?![^{]*})([\w+\-]+?)(\s+)?[\{|(\,])/g)},matchIds:function(t){var e=new RegExp('id=\\"?([a-zA-Z][\\w|\\:|\\.|\\-]*)\\"?',"gi");return t.match(e)},colorToGradient:function(t){return{angle:0,stops:[{color:t},{color:t}]}},preventXss:function(t){var e=/\b(on\w+=[\w|\(|\)|\'|\"| ]+)[ |\>|\/]/i,n=t.match(e);if(n){for(;n;)n=(t=t.replace(n[1]," ")).match(e);t=t.replace(/\s\s+/g," ").replace(" >",">")}return t},fetchSvg:function(t,e){var n=this;t.startsWith("http://")&&(t="https"+t.substring(4)),u.default.ajax({type:"GET",url:t,dataType:"text",cache:!0,success:function(t){t=n.preventXss(t),e.resolve(t)},error:function(){e.reject()}})}}},71381:(t,e,n)=>{"use strict";Math.toRad=function(t){return t*(Math.PI/180)},Math.toDeg=function(t){return t*(180/Math.PI)},Math.format=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},Math.dot=function(t,e,n,i){return t*n+e*i},Math.hit=function(t,e,n,i,r,o,a){return a?t>=n-r/2&&t<=n-r/2+r&&e>=i-o/2&&e<=i-o/2+o:t>=n&&t<=n+r&&e>=i&&e<=i+o},Math.boxhit=function(t,e,n,i,r,o,a,s){return!(t+n<r||t>r+a||e+i<o||e>o+s)},Math.clamp=function(t,e,n){return t<e?e:t>n?n:t},Math.rotateCoord=function(t,e,n,i,r){3===arguments.length&&(t=arguments[0].getX(),e=arguments[0].getY(),n=arguments[1].getX(),i=arguments[1].getY(),r=arguments[2]);var o=t-n,a=e-i;return t=Math.cos(r)*o+Math.sin(r)*a,e=-Math.sin(r)*o+Math.cos(r)*a,t+=n,e+=i,new window.CerosMath.Point(t,e)},Math.oneRotatedBoxHit=function(t,e,n,i,r,o,a,s,u){var l=t+n/2,c=e+i/2;r*=-1;var d=Math.rotateCoord(t,e,l,c,r),h=d.x,f=d.y,p=(d=Math.rotateCoord(t+n,e,l,c,r)).x,g=d.y,m=(d=Math.rotateCoord(t,e+i,l,c,r)).x,v=d.y,y=(d=Math.rotateCoord(t+n,e+i,l,c,r)).x,_=d.y,b=o,w=o+s,T=a,S=a+u;if(h<b&&p<b&&m<b&&y<b)return!1;if(h>w&&p>w&&m>w&&y>w)return!1;if(f<T&&g<T&&v<T&&_<T)return!1;if(f>S&&g>S&&v>S&&_>S)return!1;var E=-1*(g-f),O=p-h,P=Math.dot(E,O,b-h,T-f),C=Math.dot(E,O,w-h,T-f),A=Math.dot(E,O,b-h,S-f),k=Math.dot(E,O,w-h,S-f);return!(P<=0&&C<=0&&A<=0&&k<=0||(E=-1*(_-g),O=y-p,P=Math.dot(E,O,b-p,T-g),C=Math.dot(E,O,w-p,T-g),A=Math.dot(E,O,b-p,S-g),k=Math.dot(E,O,w-p,S-g),P<=0&&C<=0&&A<=0&&k<=0||(E=-1*(v-_),O=m-y,P=Math.dot(E,O,b-y,T-_),C=Math.dot(E,O,w-y,T-_),A=Math.dot(E,O,b-y,S-_),k=Math.dot(E,O,w-y,S-_),P<=0&&C<=0&&A<=0&&k<=0||(E=-1*(f-v),O=h-m,P=Math.dot(E,O,b-m,T-v),C=Math.dot(E,O,w-m,T-v),A=Math.dot(E,O,b-m,S-v),k=Math.dot(E,O,w-m,S-v),P<=0&&C<=0&&A<=0&&k<=0))))},Math.angleBetweenLines=function(t,e){var n={x:t.x2-t.x1,y:t.y2-t.y1},i={x:e.x2-e.x1,y:e.y2-e.y1},r=Math.dot(n.x,n.y,i.x,i.y),o=n.x*i.y-n.y*i.x;return Math.atan2(o,r)},n.g.Math=Math},33241:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};e.default=function(t,e){var i;void 0===t&&(t="");var r=function(t,e){return e<(t=parseInt(t,10).toString(16)).length?t.slice(t.length-e):e>t.length?new Array(e-t.length+1).join("0")+t:t};return n.uniqidSeed||(n.uniqidSeed=Math.floor(123456789*Math.random())),n.uniqidSeed++,i=t,i+=r(parseInt((new Date).getTime()/1e3,10),8),i+=r(n.uniqidSeed,5),e&&(i+=(10*Math.random()).toFixed(8).toString()),i}},66875:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SecurityUtils=void 0;var r=i(n(8030)),o=i(n(52272)),a=n(57824),s=function(){function t(){}return t.removeWindowEval=function(){o.default.hasFeature(a.FeatureFlagName.REMOVE_WINDOW_EVAL)&&r.default.useOptimizedJs&&window.eval&&(window.eval=function(){})},t}();e.SecurityUtils=s},41232:(t,e,n)=>{"use strict";var i,r,o;o="object"==typeof self&&self.self==self&&self||"object"==typeof n.g&&n.g.global==n.g&&n.g,i=[n(96486),n(65311),e],r=function(t,e,n){o.Backbone=function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.2.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,i){n.each(e,(function(e,r){n[r]&&(t.prototype[r]=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],s(t,this),r)};case 4:return function(t,r,o){return n[e](this[i],s(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}}(e,r,i))}))},s=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},l=e.Events={},c=/\s+/,d=function(t,e,i,r,o){var a,s=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(a=n.keys(i);s<a.length;s++)e=d(t,e,a[s],i[a[s]],o)}else if(i&&c.test(i))for(a=i.split(c);s<a.length;s++)e=t(e,a[s],r,o);else e=t(e,i,r,o);return e};l.on=function(t,e,n){return h(this,t,e,n)};var h=function(t,e,n,i,r){return t._events=d(f,t._events||{},e,n,{context:i,ctx:t,listening:r}),r&&((t._listeners||(t._listeners={}))[r.id]=r),t};l.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[r];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[r]={obj:t,objId:r,id:s,listeningTo:o,count:0}}return h(t,e,i,this,a),this};var f=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,a=i.ctx,s=i.listening;s&&s.count++,r.push({callback:n,context:o,ctx:o||a,listening:s})}return t};l.off=function(t,e,n){return this._events?(this._events=d(p,this._events,t,e,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),a=0;a<o.length;a++){var s=r[o[a]];if(!s)break;s.obj.off(e,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var p=function(t,e,i,r){if(t){var o,a=0,s=r.context,u=r.listeners;if(e||i||s){for(var l=e?[e]:n.keys(t);a<l.length;a++){var c=t[e=l[a]];if(!c)break;for(var d=[],h=0;h<c.length;h++){var f=c[h];i&&i!==f.callback&&i!==f.callback._callback||s&&s!==f.context?d.push(f):(o=f.listening)&&0==--o.count&&(delete u[o.id],delete o.listeningTo[o.objId])}d.length?t[e]=d:delete t[e]}return n.size(t)?t:void 0}for(var p=n.keys(u);a<p.length;a++)delete u[(o=u[p[a]]).id],delete o.listeningTo[o.objId]}};l.once=function(t,e,i){var r=d(g,{},t,e,n.bind(this.off,this));return this.on(r,void 0,i)},l.listenToOnce=function(t,e,i){var r=d(g,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var g=function(t,e,i,r){if(i){var o=t[e]=n.once((function(){r(e,o),i.apply(this,arguments)}));o._callback=i}return t};l.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return d(m,this._events,t,void 0,n),this};var m=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&v(r,i),o&&v(o,[e].concat(i))}return t},v=function(t,e){var n,i=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};l.bind=l.on,l.unbind=l.off,n.extend(e,l);var y=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,a=i.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,d=this._previousAttributes;for(var h in r)e=r[h],n.isEqual(l[h],e)||s.push(h),n.isEqual(d[h],e)?delete c[h]:c[h]=e,o?delete l[h]:l[h]=e;if(this.id=this.get(this.idAttribute),!a){s.length&&(this._pending=i);for(var f=0;f<s.length;f++)this.trigger("change:"+s[f],this,l[s[f]],i)}if(u)return this;if(!a)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var o=t[r];n.isEqual(e[r],o)||(i[r]=o)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;if(!e.set(r,t))return!1;i&&i.call(t.context,e,n,t),e.trigger("sync",e,n,t)},j(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e;var o=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var a=this,s=i.success,u=this.attributes;i.success=function(t){a.attributes=u;var e=i.parse?a.parse(t,i):t;if(o&&(e=n.extend({},r,e)),e&&!a.set(e,i))return!1;s&&s.call(i.context,a,t,i),a.trigger("sync",a,t,i)},j(this,i),r&&o&&(this.attributes=n.extend({},u,r));var l=this.isNew()?"create":i.patch?"patch":"update";"patch"!==l||i.attrs||(i.attrs=r);var c=this.sync(l,this,i);return this.attributes=u,c},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(j(this,t),a=this.sync("delete",this,t)),r||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||L();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}}),a(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var _=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},T=function(t,e,n){n=Math.min(Math.max(n,0),t.length);for(var i=Array(t.length-n),r=e.length,o=0;o<i.length;o++)i[o]=t[o+n];for(o=0;o<r;o++)t[o+n]=e[o];for(o=0;o<i.length;o++)t[o+r+n]=i[o]};n.extend(_.prototype,l,{model:y,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:n.clone(t);var r=this._removeModels(t,e);return!e.silent&&r&&this.trigger("update",this,e),i?r[0]:r},set:function(t,e){if(null!=t){(e=n.defaults({},e,b)).parse&&!this._isModel(t)&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r<0&&(r+=this.length+1);for(var o,a=[],s=[],u=[],l={},c=e.add,d=e.merge,h=e.remove,f=!1,p=this.comparator&&null==r&&!1!==e.sort,g=n.isString(this.comparator)?this.comparator:null,m=0;m<t.length;m++){o=t[m];var v=this.get(o);if(v){if(d&&o!==v){var y=this._isModel(o)?o.attributes:o;e.parse&&(y=v.parse(y,e)),v.set(y,e),p&&!f&&(f=v.hasChanged(g))}l[v.cid]||(l[v.cid]=!0,a.push(v)),t[m]=v}else c&&(o=t[m]=this._prepareModel(o,e))&&(s.push(o),this._addReference(o,e),l[o.cid]=!0,a.push(o))}if(h){for(m=0;m<this.length;m++)l[(o=this.models[m]).cid]||u.push(o);u.length&&this._removeModels(u,e)}var _=!1,w=!p&&c&&h;if(a.length&&w?(_=this.length!=a.length||n.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,T(this.models,a,0),this.length=this.models.length):s.length&&(p&&(f=!0),T(this.models,s,null==r?this.length:r),this.length=this.models.length),f&&this.sort({silent:!0}),!e.silent){for(m=0;m<s.length;m++)null!=r&&(e.index=r+m),(o=s[m]).trigger("add",o,this,e);(f||_)&&this.trigger("sort",this,e),(s.length||u.length)&&this.trigger("update",this,e)}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},j(this,t),this.sync("read",this,t)},create:function(t,e){var i=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return!!n.length&&n},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e._previousAttributes),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}}),a(_,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var S=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,O)),this._ensureElement(),this.initialize.apply(this,arguments)},E=/^(\S+)\s*(.*)$/,O=["model","collection","el","id","attributes","className","tagName","events"];n.extend(S.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(E);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var o=P[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=n.result(i,"url")||L()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var u=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,u&&u.call(r.context,t,e,n)};var l=r.xhr=e.ajax(n.extend(a,r));return i.trigger("request",i,l,r),l};var P={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var C=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,x=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,l,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,(function(n){var a=o._extractParameters(t,n);!1!==o.execute(r,a,i)&&(o.trigger.apply(o,["route:"+i].concat(a)),o.trigger("route",i,a),e.history.trigger("route",o,i,a))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(I,"\\$&").replace(A,"(?:$1)?").replace(k,(function(t,e){return e?t:"([^/?]+)"})).replace(x,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,(function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null}))}});var M=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},R=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,D=/#.*$/;M.started=!1,n.extend(M.prototype,l,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(R,"")},start:function(t){if(M.started)throw new Error("Backbone.history has already been started");if(M.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(N,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!M.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(D,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new M;y.extend=_.extend=C.extend=S.extend=M.extend=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};var L=function(){throw new Error('A "url" property or function must be specified')},j=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e}(o,n,t,e)}.apply(e,i),void 0===r||(t.exports=r)},98720:(t,e,n)=>{"use strict";var i,r,o;void 0===(r="function"==typeof(i=o=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,!0!==o[u]&&(s+="="+o[u].split(";")[0]));return document.cookie=e+"="+n+s}}function a(t,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=e(s[0]);if(u=(i.read||i)(u,l)||e(u),n)try{u=JSON.parse(u)}catch(t){}if(r[l]=u,t===l)break}catch(t){}}return t?r[t]:r}}return r.set=o,r.get=function(t){return a(t,!1)},r.getJSON=function(t){return a(t,!0)},r.remove=function(e,n){o(e,"",t(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))})?i.call(e,n,e,t):i)||(t.exports=r),t.exports=o()},8316:()=>{},37136:function(t,e,n){"use strict";var i;(function(r){var o,a,s=Math.round,u={},l=t.exports,c=/^\/?Date\((\-?\d+)/i,d=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,h=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,f=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,p=/\d\d?/,g=/\d{1,3}/,m=/\d{3}/,v=/\d{1,4}/,y=/[+\-]?\d{1,6}/,_=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,b=/Z|[\+\-]\d\d:?\d\d/i,w=/T/i,T=/[\+\-]?\d+(\.\d{1,3})?/,S=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,E=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],O=/([\+\-]|\d\d)/gi,P="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),C={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},A={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},k={},x="DDD w W M D d".split(" "),I="M D H h m s w W".split(" "),M={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return U(this.year()%100,2)},YYYY:function(){return U(this.year(),4)},YYYYY:function(){return U(this.year(),5)},gg:function(){return U(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return U(this.weekYear(),5)},GG:function(){return U(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return U(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return U(~~(this.milliseconds()/10),2)},SSS:function(){return U(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+U(~~(t/60),2)+":"+U(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+U(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};function R(t,e){return function(n){return U(t.call(this,n),e)}}function N(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}for(;x.length;)a=x.pop(),M[a+"o"]=N(M[a],a);for(;I.length;)a=I.pop(),M[a+a]=R(M[a],2);function D(){}function L(t){F(this,t)}function j(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,i=t.weeks||t.week||t.w||0,r=t.days||t.day||t.d||0,o=t.hours||t.hour||t.h||0,a=t.minutes||t.minute||t.m||0,s=t.seconds||t.second||t.s||0,u=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=u+1e3*s+6e4*a+36e5*o,this._days=r+7*i,this._months=n+12*e,this._data={},this._bubble()}function F(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function V(t){return t<0?Math.ceil(t):Math.floor(t)}function U(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function B(t,e,n,i){var r,a,s=e._milliseconds,u=e._days,l=e._months;s&&t._d.setTime(+t._d+s*n),(u||l)&&(r=t.minute(),a=t.hour()),u&&t.date(t.date()+u*n),l&&t.month(t.month()+l*n),s&&!i&&o.updateOffset(t),(u||l)&&(t.minute(r),t.hour(a))}function H(t){return"[object Array]"===Object.prototype.toString.call(t)}function G(t,e){var n,i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(n=0;n<i;n++)~~t[n]!=~~e[n]&&o++;return o+r}function W(t){return t?A[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function Z(t){if(!t)return o.fn._lang;if(!u[t]&&l)try{n(17246)("./"+t)}catch(t){return o.fn._lang}return u[t]}function z(t,e){var n=5;function i(e){return t.lang().longDateFormat(e)||e}for(;n--&&f.test(e);)e=e.replace(f,i);return k[e]||(k[e]=function(t){var e,n,i,r=t.match(h);for(e=0,n=r.length;e<n;e++)M[r[e]]?r[e]=M[r[e]]:r[e]=(i=r[e]).match(/\[.*\]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(i){var o="";for(e=0;e<n;e++)o+=r[e]instanceof Function?r[e].call(i,t):r[e];return o}}(e)),k[e](t)}function q(t,e){switch(t){case"DDDD":return m;case"YYYY":return v;case"YYYYY":return y;case"S":case"SS":case"SSS":case"DDD":return g;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return _;case"a":case"A":return Z(e._l)._meridiemParse;case"X":return T;case"Z":case"ZZ":return b;case"T":return w;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return p;default:return new RegExp(t.replace("\\",""))}}function $(t){var e=((b.exec(t)||[])[0]+"").match(O)||["-",0,0],n=60*e[1]+~~e[2];return"+"===e[0]?-n:n}function Y(t,e,n){var i,r=n._a;switch(t){case"M":case"MM":r[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":null!=(i=Z(n._l).monthsParse(e))?r[1]=i:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(r[2]=~~e);break;case"YY":r[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~e;break;case"a":case"A":n._isPm=Z(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[3]=~~e;break;case"m":case"mm":r[4]=~~e;break;case"s":case"ss":r[5]=~~e;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=$(e)}null==e&&(n._isValid=!1)}function K(t){var e,n,i=[];if(!t._d){for(e=0;e<7;e++)t._a[e]=i[e]=null==t._a[e]?2===e?1:0:t._a[e];i[3]+=~~((t._tzm||0)/60),i[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(i[0],i[1],i[2]),n.setUTCHours(i[3],i[4],i[5],i[6])):(n.setFullYear(i[0],i[1],i[2]),n.setHours(i[3],i[4],i[5],i[6])),t._d=n}}function X(t){var e,n,i=t._f.match(h),r=t._i;for(t._a=[],e=0;e<i.length;e++)(n=(q(i[e],t).exec(r)||[])[0])&&(r=r.slice(r.indexOf(n)+n.length)),M[i[e]]&&Y(i[e],n,t);r&&(t._il=r),t._isPm&&t._a[3]<12&&(t._a[3]+=12),!1===t._isPm&&12===t._a[3]&&(t._a[3]=0),K(t)}function J(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function Q(t,e,n){var i,r=n-e,a=n-t.day();return a>r&&(a-=7),a<r-7&&(a+=7),i=o(t).add("d",a),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function tt(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=Z().preparse(e)),o.isMoment(e)?(t=F({},e))._d=new Date(+e._d):n?H(n)?function(t){var e,n,i,r,o,a=99;for(r=0;r<t._f.length;r++)(e=F({},t))._f=t._f[r],X(e),n=new L(e),o=G(e._a,n.toArray()),n._il&&(o+=n._il.length),o<a&&(a=o,i=n);F(t,i)}(t):X(t):function(t){var e=t._i,n=c.exec(e);e===r?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof e?function(t){var e,n=t._i,i=S.exec(n);if(i){for(t._f="YYYY-MM-DD"+(i[2]||" "),e=0;e<4;e++)if(E[e][1].exec(n)){t._f+=E[e][0];break}b.exec(n)&&(t._f+=" Z"),X(t)}else t._d=new Date(n)}(t):H(e)?(t._a=e.slice(0),K(t)):t._d=e instanceof Date?new Date(+e):new Date(e)}(t),new L(t))}function et(t,e){o.fn[t]=o.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),o.updateOffset(this),this):this._d["get"+n+e]()}}for(M.DDDD=R(M.DDD,3),D.prototype={set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;e<12;e++)if(this._monthsParse[e]||(n=o([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=o([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return Q(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},(o=function(t,e,n){return tt({_i:t,_f:e,_l:n,_isUTC:!1})}).utc=function(t,e,n){return tt({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},o.unix=function(t){return o(1e3*t)},o.duration=function(t,e){var n,i,r=o.isDuration(t),a="number"==typeof t,s=r?t._input:a?{}:t,u=d.exec(t);return a?e?s[e]=t:s.milliseconds=t:u&&(n="-"===u[1]?-1:1,s={y:0,d:~~u[2]*n,h:~~u[3]*n,m:~~u[4]*n,s:~~u[5]*n,ms:~~u[6]*n}),i=new j(s),r&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},o.version="2.1.0",o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.updateOffset=function(){},o.lang=function(t,e){if(!t)return o.fn._lang._abbr;e?function(t,e){e.abbr=t,u[t]||(u[t]=new D),u[t].set(e),u[t]}(t,e):u[t]||Z(t),o.duration.fn._lang=o.fn._lang=Z(t)},o.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),Z(t)},o.isMoment=function(t){return t instanceof L},o.isDuration=function(t){return t instanceof j},o.fn=L.prototype={clone:function(){return o(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return z(o(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._a?this._isValid=!G(this._a,(this._isUTC?o.utc(this._a):o(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=z(this,t||o.defaultFormat);return this.lang().postformat(e)},add:function(t,e){return B(this,"string"==typeof t?o.duration(+e,t):o.duration(t,e),1),this},subtract:function(t,e){return B(this,"string"==typeof t?o.duration(+e,t):o.duration(t,e),-1),this},diff:function(t,e,n){var i,r,a=this._isUTC?o(t).zone(this._offset||0):o(t).local(),s=6e4*(this.zone()-a.zone());return"year"===(e=W(e))||"month"===e?(i=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),r+=(this-o(this).startOf("month")-(a-o(a).startOf("month")))/i,r-=6e4*(this.zone()-o(this).startOf("month").zone()-(a.zone()-o(a).startOf("month").zone()))/i,"year"===e&&(r/=12)):(i=this-a,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?r:V(r)},from:function(t,e){return o.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(o(),t)},calendar:function(){var t=this.diff(o().startOf("day"),"days",!0),e=t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return t%4==0&&t%100!=0||t%400==0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&"number"!=typeof(t=this.lang().weekdaysParse(t))?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?("string"==typeof t&&"number"!=typeof(t=this.lang().monthsParse(t))||(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),o.updateOffset(this)),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=W(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)>+o(t).startOf(e)},isBefore:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)<+o(t).startOf(e)},isSame:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)==+o(t).startOf(e)},min:function(t){return(t=o.apply(null,arguments))<this?this:t},max:function(t){return(t=o.apply(null,arguments))>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=$(t)),Math.abs(t)<16&&(t*=60),this._offset=t,this._isUTC=!0,e!==t&&B(this,o.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return o.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=s((o(this).startOf("day")-o(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=Q(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=Q(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=Q(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(t){return t===r?this._lang:(this._lang=Z(t),this)}},a=0;a<P.length;a++)et(P[a].toLowerCase().replace(/s$/,""),P[a]);function nt(t){o.duration.fn[t]=function(){return this._data[t]}}function it(t,e){o.duration.fn["as"+t]=function(){return+this/e}}for(a in et("year","FullYear"),o.fn.days=o.fn.day,o.fn.months=o.fn.month,o.fn.weeks=o.fn.week,o.fn.isoWeeks=o.fn.isoWeek,o.fn.toJSON=o.fn.toISOString,o.duration.fn=j.prototype={_bubble:function(){var t,e,n,i,r=this._milliseconds,o=this._days,a=this._months,s=this._data;s.milliseconds=r%1e3,t=V(r/1e3),s.seconds=t%60,e=V(t/60),s.minutes=e%60,n=V(e/60),s.hours=n%24,o+=V(n/24),s.days=o%30,a+=V(o/30),s.months=a%12,i=V(a/12),s.years=i},weeks:function(){return V(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(t){var e,n,i,r,o,a,u,l,c,d=+this,h=(e=d,n=!t,i=this.lang(),r=s(Math.abs(e)/1e3),o=s(r/60),a=s(o/60),u=s(a/24),l=s(u/365),(c=r<45&&["s",r]||1===o&&["m"]||o<45&&["mm",o]||1===a&&["h"]||a<22&&["hh",a]||1===u&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",s(u/30)]||1===l&&["y"]||["yy",l])[2]=n,c[3]=e>0,c[4]=i,J.apply({},c));return t&&(h=this.lang().pastFuture(d,h)),this.lang().postformat(h)},add:function(t,e){var n=o.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=o.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return this[(t=W(t)).toLowerCase()+"s"]()},as:function(t){return this["as"+(t=W(t)).charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:o.fn.lang},C)C.hasOwnProperty(a)&&(it(a,C[a]),nt(a.toLowerCase()));it("Weeks",6048e5),o.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},o.lang("en",{ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),l&&(t.exports=o),"undefined"==typeof ender&&(this.moment=o),(i=function(){return o}.apply(e,[]))===r||(t.exports=i)}).call(this)},42216:function(t,e){"use strict";var n,i,r,o;o=function(t){var e=Object.prototype.toString,n=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&e in t}var a=RegExp.prototype.test,s=/\S/;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,c=/\s+/,d=/\s*=/,h=/\s*\}/,f=/#|\^|\/|>|\{|&|=|!/;function p(t){this.string=t,this.tail=t,this.pos=0}function g(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function m(){this.cache={}}p.prototype.eos=function(){return""===this.tail},p.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},p.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},g.prototype.push=function(t){return new g(t,this)},g.prototype.lookup=function(t){var e,n=this.cache;if(n.hasOwnProperty(t))e=n[t];else{for(var r,a,s=this,u=!1;s;){if(t.indexOf(".")>0)for(e=s.view,r=t.split("."),a=0;null!=e&&a<r.length;)a===r.length-1&&(u=o(e,r[a])),e=e[r[a++]];else e=s.view[t],u=o(s.view,t);if(u)break;s=s.parent}n[t]=e}return i(e)&&(e=e.call(this.view)),e},m.prototype.clearCache=function(){this.cache={}},m.prototype.parse=function(e,i){var o=this.cache,u=o[e];return null==u&&(u=o[e]=function(e,i){if(!e)return[];var o,u,g,m,v=[],y=[],_=[],b=!1,w=!1;function T(){if(b&&!w)for(;_.length;)delete y[_.pop()];else _=[];b=!1,w=!1}function S(t){if("string"==typeof t&&(t=t.split(c,2)),!n(t)||2!==t.length)throw new Error("Invalid tags: "+t);o=new RegExp(r(t[0])+"\\s*"),u=new RegExp("\\s*"+r(t[1])),g=new RegExp("\\s*"+r("}"+t[1]))}S(i||t.tags);for(var E,O,P,C,A,k,x=new p(e);!x.eos();){if(E=x.pos,P=x.scanUntil(o))for(var I=0,M=P.length;I<M;++I)m=C=P.charAt(I),function(t,e){return a.call(t,e)}(s,m)?w=!0:_.push(y.length),y.push(["text",C,E,E+1]),E+=1,"\n"===C&&T();if(!x.scan(o))break;if(b=!0,O=x.scan(f)||"name",x.scan(l),"="===O?(P=x.scanUntil(d),x.scan(d),x.scanUntil(u)):"{"===O?(P=x.scanUntil(g),x.scan(h),x.scanUntil(u),O="&"):P=x.scanUntil(u),!x.scan(u))throw new Error("Unclosed tag at "+x.pos);if(A=[O,P,E,x.pos],y.push(A),"#"===O||"^"===O)v.push(A);else if("/"===O){if(!(k=v.pop()))throw new Error('Unopened section "'+P+'" at '+E);if(k[1]!==P)throw new Error('Unclosed section "'+k[1]+'" at '+E)}else"name"===O||"{"===O||"&"===O?w=!0:"="===O&&S(P)}if(k=v.pop())throw new Error('Unclosed section "'+k[1]+'" at '+x.pos);return function(t){for(var e,n=[],i=n,r=[],o=0,a=t.length;o<a;++o)switch((e=t[o])[0]){case"#":case"^":i.push(e),r.push(e),i=e[4]=[];break;case"/":r.pop()[5]=e[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(e)}return n}(function(t){for(var e,n,i=[],r=0,o=t.length;r<o;++r)(e=t[r])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}(y))}(e,i)),u},m.prototype.render=function(t,e,n){var i=this.parse(t),r=e instanceof g?e:new g(e);return this.renderTokens(i,r,n,t)},m.prototype.renderTokens=function(t,e,n,i){for(var r,o,a,s="",u=0,l=t.length;u<l;++u)a=void 0,"#"===(o=(r=t[u])[0])?a=this.renderSection(r,e,n,i):"^"===o?a=this.renderInverted(r,e,n,i):">"===o?a=this.renderPartial(r,e,n,i):"&"===o?a=this.unescapedValue(r,e):"name"===o?a=this.escapedValue(r,e):"text"===o&&(a=this.rawValue(r)),void 0!==a&&(s+=a);return s},m.prototype.renderSection=function(t,e,r,o){var a=this,s="",u=e.lookup(t[1]);if(u){if(n(u))for(var l=0,c=u.length;l<c;++l)s+=this.renderTokens(t[4],e.push(u[l]),r,o);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)s+=this.renderTokens(t[4],e.push(u),r,o);else if(i(u)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(e.view,o.slice(t[3],t[5]),(function(t){return a.render(t,e,r)})))&&(s+=u)}else s+=this.renderTokens(t[4],e,r,o);return s}},m.prototype.renderInverted=function(t,e,i,r){var o=e.lookup(t[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(t[4],e,i,r)},m.prototype.renderPartial=function(t,e,n){if(n){var r=i(n)?n(t[1]):n[t[1]];return null!=r?this.renderTokens(this.parse(r),e,n,r):void 0}},m.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},m.prototype.escapedValue=function(e,n){var i=n.lookup(e[1]);if(null!=i)return t.escape(i)},m.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.2.1",t.tags=["{{","}}"];var v=new m;t.clearCache=function(){return v.clearCache()},t.parse=function(t,e){return v.parse(t,e)},t.render=function(t,e,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(r=t)?"array":typeof r)+'" was given as the first argument for mustache#render(template, view, partials)');var r;return v.render(t,e,i)},t.to_html=function(e,n,r,o){var a=t.render(e,n,r);if(!i(o))return a;o(a)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return u[t]}))},t.Scanner=p,t.Context=g,t.Writer=m},e&&"string"!=typeof e.nodeName?o(e):(i=[e],void 0===(r="function"==typeof(n=o)?n.apply(e,i):n)||(t.exports=r))},14364:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SessionState=e.setStudioApiVersionRequestHeader=e.shouldUpdateState=e.LoginStatus=e.SessionStateEvent=e.STUDIO_API_VERSION_HEADER_NAME=e.STUDIO_API_VERSION=e.POLL_INTERVAL_IN_MS=void 0;var u=s(n(8030)),l=s(n(9669)),c=s(n(65311));e.POLL_INTERVAL_IN_MS=6e4,e.STUDIO_API_VERSION="V1",e.STUDIO_API_VERSION_HEADER_NAME="x-ceros-studioapi-version";var d,h,f=["x-user-status","x-ceros-user","x-ceros-config","x-ceros-version"];function p(t){var e;if(!t)return!0;var n=t.split(",").map((function(t){return t.trim()})).find((function(t){return t.startsWith("max-age")}));return!n||"0"===(null===(e=n.split("=").pop())||void 0===e?void 0:e.trim())}function g(t,n){t&&t.startsWith("/api/")&&n(e.STUDIO_API_VERSION_HEADER_NAME,e.STUDIO_API_VERSION)}!function(t){t.VERSION_UPDATE="x-ceros-version",t.STATUS_UPDATE="x-user-status",t.CONFIG_UPDATE="x-ceros-config",t.ADMIN_CONFIG_UPDATE="x-ceros-config.admin",t.STUDIO_CONFIG_UPDATE="x-ceros-config.studio",t.USER_UPDATE="x-ceros-user",t.VERSION_CHANGE="x-ceros-version.change",t.STATUS_CHANGE="x-user-status.change",t.CONFIG_CHANGE="x-ceros-config.change",t.ADMIN_CONFIG_CHANGE="x-ceros-config.admin.change",t.STUDIO_CONFIG_CHANGE="x-ceros-config.studio.change",t.USER_CHANGE="x-ceros-user.change",t.SESSION_OK="x-user-status.200",t.CONCURRENT_LOGIN="x-user-status.409",t.SESSION_EXPIRED="x-user-status.410",t.KEEP_ALIVE_ERROR="keep-alive-error"}(d=e.SessionStateEvent||(e.SessionStateEvent={})),function(t){t.NoSession="",t.SessionOk="200",t.ConcurrentLogin="409",t.SessionExpired="410"}(h=e.LoginStatus||(e.LoginStatus={})),e.shouldUpdateState=p,e.setStudioApiVersionRequestHeader=g;var m=function(){function t(){this.eventTarget=new EventTarget,this.signOutUrl=window.location.origin+"/signout",this.keepAliveUrl="/rest/v1/keep-alive",this.running=!1,this.addReferrerParameter=!0,this.createListeners(),this.createInterceptors(),this.resetStates()}return Object.defineProperty(t.prototype,"currentTimer",{get:function(){return this.timer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentAccountSlug",{get:function(){return u.default.accountSlug},enumerable:!1,configurable:!0}),t.prototype.createListeners=function(){var t=this;this.on(d.STATUS_UPDATE,(function(e){return t.handleStatusUpdate(e)})),this.on(d.CONFIG_UPDATE,(function(e){return t.handleConfigUpdate(e)})),this.on(d.CONFIG_CHANGE,(function(e){return t.handleConfigChange(e)})),this.on(d.USER_CHANGE,(function(){return t.handleUserChange()})),document.addEventListener("visibilitychange",(function(){t.visibilityHandler(document.visibilityState)}))},t.prototype.dispatchEvent=function(t,e){this.eventTarget.dispatchEvent(new CustomEvent(t,{detail:e}))},t.prototype.hasUpdatedState=function(t){return!!Object.keys(t).find((function(e){return f.includes(e)&&t[e]}))},t.prototype.updateState=function(t){var e=this;this.accountSlug!==u.default.accountSlug&&this.resetStates(),f.forEach((function(n){var r=t[n],o=e.currentState[n];if(r){var a={previousValue:o,currentValue:r};e.dispatchEvent(n,i({type:n},a)),o&&o!==r&&e.dispatchEvent(n+".change",i({type:n+".change"},a)),e.currentState[n]=r}})),this.hasUpdatedState(t)&&(this.updatedTime=Date.now())},t.prototype.handleStatusUpdate=function(t){var e=t.detail,n=e.currentValue;if(n!==h.SessionOk)return n===h.ConcurrentLogin?(this.dispatchEvent(d.CONCURRENT_LOGIN,e),void window.location.assign(this.buildSignOutRedirectUrl("concurrentLogin"))):n===h.SessionExpired?(this.dispatchEvent(d.SESSION_EXPIRED,e),void window.location.assign(this.buildSignOutRedirectUrl("invalidSession"))):void 0;this.dispatchEvent(d.SESSION_OK,e)},t.prototype.handleUserChange=function(){window.location.reload()},t.prototype.handleConfigUpdate=function(t){var e=t.detail;this.dispatchEvent(d.ADMIN_CONFIG_UPDATE,e),this.dispatchEvent(d.STUDIO_CONFIG_UPDATE,e)},t.prototype.handleConfigChange=function(t){var e=t.detail,n=a(e.currentValue.split(","),2),i=n[0],r=n[1],o=a(e.previousValue.split(","),2),s=o[0],u=o[1];i!=s&&this.dispatchEvent(d.ADMIN_CONFIG_CHANGE,e),r!=u&&this.dispatchEvent(d.STUDIO_CONFIG_CHANGE,e)},t.prototype.createAjaxInterceptor=function(){var t=this,e=function(e){var n=f.reduce((function(t,n){var r;return i(i({},t),((r={})[n]=e.getResponseHeader(n),r))}),{});p(e.getResponseHeader("cache-control"))&&t.updateState(n)};c.default(document).ajaxSuccess((function(t,n){return e(n)})).ajaxError((function(t,n){return e(n)}));var n=this.setAccountSlugHeaderRequest;c.default.ajaxSetup({beforeSend:function(t){n(this.url,t.setRequestHeader),g(this.url,t.setRequestHeader)}})},t.prototype.createAxiosInterceptor=function(){var t=this;l.default.interceptors.response.use((function(e){var n=e.headers["cache-control"];return e.headers&&p(n)&&t.updateState(e.headers),e}),(function(e){var n,i=e.response,r=null===(n=null==i?void 0:i.headers)||void 0===n?void 0:n["cache-control"];return i&&p(r)&&t.updateState(i.headers),Promise.reject(e)})),l.default.interceptors.request.use((function(e){var n=function(t,n){e.headers&&(e.headers[t]=n)};return t.setAccountSlugHeaderRequest(e.url,n),g(e.url,n),e}))},t.prototype.setAccountSlugHeaderRequest=function(e,n){e&&e.startsWith("/")&&n(t.ACCOUNT_SLUG_HEADER_NAME,u.default.accountSlug)},t.prototype.createInterceptors=function(){this.createAxiosInterceptor(),this.createAjaxInterceptor()},t.prototype.visibilityHandler=function(t){"hidden"===t?this.pause():"visible"===t&&(this.running=!0,this.internalPollForSession())},t.prototype.pause=function(){this.timer&&clearTimeout(this.timer),this.running=!1},t.prototype.buildSignOutRedirectUrl=function(t){var e=new URL(this.signOutUrl);return this.addReferrerParameter&&e.searchParams.append("referrer",encodeURI(window.location.href)),e.searchParams.append(t,"yes"),e.href},t.prototype.setKeepAliveUrl=function(t){return this.keepAliveUrl=t,this},t.prototype.setSignOutUrl=function(t){return this.signOutUrl=t,this},t.prototype.skipReferrerFromSignOutUrl=function(){return this.addReferrerParameter=!1,this},t.prototype.on=function(t,e){return this.eventTarget.addEventListener(t,e),this},t.prototype.pollForSession=function(){var t=this;this.running=!0,this.timer=setTimeout((function(){return t.internalPollForSession()}),e.POLL_INTERVAL_IN_MS)},t.prototype.resetStates=function(){this.currentState={"x-user-status":"","x-ceros-user":"","x-ceros-config":"","x-ceros-version":""},this.updatedTime=0,this.accountSlug=u.default.accountSlug},t.prototype.getInterval=function(){var t=Date.now()-this.updatedTime;return this.updatedTime&&t<e.POLL_INTERVAL_IN_MS?{expired:!1,nextIteration:e.POLL_INTERVAL_IN_MS-t}:{expired:!0,nextIteration:e.POLL_INTERVAL_IN_MS}},t.prototype.sendKeepAliveRequest=function(){return r(this,void 0,Promise,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,l.default.get(this.keepAliveUrl,{headers:{"X-Requested-With":"XMLHttpRequest"}})];case 1:return e.sent(),[3,3];case 2:return t=e.sent(),this.dispatchEvent(d.KEEP_ALIVE_ERROR,t),[3,3];case 3:return[2]}}))}))},t.prototype.internalPollForSession=function(){return r(this,void 0,Promise,(function(){var t,e=this;return o(this,(function(n){switch(n.label){case 0:return this.running?(t=this.getInterval()).expired?[4,this.sendKeepAliveRequest()]:[3,2]:[3,3];case 1:n.sent(),n.label=2;case 2:this.timer=setTimeout((function(){return e.internalPollForSession()}),t.nextIteration),n.label=3;case 3:return[2]}}))}))},t.ACCOUNT_SLUG_HEADER_NAME="x-ceros-account-slug",t}();e.SessionState=m},76230:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentsAnalyticsEventManager=void 0;var c=o(n(4020)),d=l(n(23279)),h=function(){function t(){this.events={},this.timerId=null,this.TIMER_DURATION=2e4,this.addEvent=d.default(this.addEvent.bind(this),500)}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.addEvent=function(t){var e=this,n=(null==t?void 0:t.component_ids.length)>0?t.component_ids.join("-"):t.component_ids[0];if(n){var i=this.events[n];if(i){var r=Array.isArray(i.component_types)?i.component_types:[i.component_types],o=Array.isArray(t.component_types)?t.component_types:[t.component_types];i.component_types=Array.from(new Set(s(r,o))),i.tools_used=Array.from(new Set(s(i.tools_used,t.tools_used)))}else Object.keys(this.events).length>0&&this.sendEvents(),this.events[n]=t;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){return e.sendEvents()}),this.TIMER_DURATION)}},t.prototype.sendEvents=function(){var t,e,n=Object.values(this.events);if(0!==n.length){try{for(var i=u(n),r=i.next();!r.done;r=i.next()){var o=r.value;c.default.trackComponentEvent({component_ids:o.component_ids,component_types:o.component_types,tools_used:o.tools_used,event_origin:o.event_origin,layout:o.layout},c.ComponentActions.UPDATED)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.events={}}},t.instance=null,t}();e.ComponentsAnalyticsEventManager=h},88320:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(8030)),s=function(t){function e(){var e=t.call(this)||this;return e.PAGE_PING_INTERVAL_MILLIS=6e4,e.USER_INACTIVITY_TIMEOUT_MILLIS=6e5,e.MINIMUM_DWELL_TIME=5e3,e}return r(e,t),e.prototype.activatePage=function(t){this.timerId&&Date.now()-(this.timerStartTime||Date.now())>this.MINIMUM_DWELL_TIME&&(this.logDebug("Spent longer than minimum dwell time on previous page, sending dwell event."),this.trigger(this.EVENTS.USER_ACTIVITY_PING,this.getDwellTimeEventData()),this.logDebug("Clearing existing page ping timer"),clearTimeout(this.timerId),this.timerId=null),this.pageNumber=t,this.pageActivated=!0,this.registerUserActivity()},e.prototype.getDwellTimeEventData=function(){return{concurrent_users:this.activeUsers?this.activeUsers.models.length:0,page_num:this.pageNumber,dwell_time:Math.round((Date.now()-(this.timerStartTime||Date.now()))/1e3),experience_slug:a.default.issueSlug,experience_alias:a.default.experienceAlias,project_slug:a.default.projectSlug}},e.prototype.setActiveUsers=function(t){this.activeUsers=t},e}(n(59408).AbstractPageViewTracker);e.default=s},4020:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EventOrigin=e.ComponentActions=e.PageEvents=e.ComponentEvents=e.StudioUserAnalytics=e.ViewedInLocations=void 0;var u=s(n(88320)),l=n(48467);(e.ViewedInLocations||(e.ViewedInLocations={})).SEISMIC="seismic";var c,d,h,f,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.application="studio",e.experience_title="",e}return r(e,t),e.prototype.setIssueModel=function(t){this.issueModel=t},e.prototype.isPublished=function(){var t;return null===(t=this.issueModel)||void 0===t?void 0:t.isPublished()},e.prototype.enablePageViewTracking=function(t){this.experience_title=t,this.studioPageViewTracker=new u.default,this.studioPageViewTracker.on(this.studioPageViewTracker.EVENTS.USER_ACTIVITY_PING,this.handleUserActivityPing.bind(this))},e.prototype.handleUserActivityPing=function(t){t.concurrent_users>0&&this.trackStudioDwell(o(o({},t),{experience_title:this.experience_title}))},e.prototype.registerStudioPageSwitch=function(t){var e;null===(e=this.studioPageViewTracker)||void 0===e||e.activatePage(t)},e.prototype.registerUserActivity=function(){var t;null===(t=this.studioPageViewTracker)||void 0===t||t.registerUserActivityIfNotPaused()},e.prototype.setActiveUsers=function(t){var e;null===(e=this.studioPageViewTracker)||void 0===e||e.setActiveUsers(t)},e.prototype.trackCustomCanvasSize=function(t){var e=this.generateEventSlug();this.cerosTracker.track(this.application+".experience.canvas.size.custom",{event_slug:e}),this.gtmTracker.track(this.application+".experience.canvas.size.custom",o(o({},t),{event_slug:e}))},e.prototype.trackOverHeight=function(t){var e=this.generateEventSlug();this.cerosTracker.track(this.application+".experience.page.overheight.custom",{event_slug:e}),this.gtmTracker.track(this.application+".experience.page.overheight.custom",o(o({},t),{event_slug:e}))},e.prototype.trackStudioDwell=function(t){var e=t.experience_title,n=a(t,["experience_title"]),i=this.generateEventSlug();this.cerosTracker.track(this.application+".experience.dwell",o(o({},n),{event_slug:i})),this.gtmTracker.track(this.application+".experience.dwell",o(o({},n),{experience_title:e,event_slug:i}))},e.prototype.trackPerformanceMark=function(t){var e=t.experience_title,n=a(t,["experience_title"]),i=this.generateEventSlug();this.cerosTracker.track(this.application+".performance.marker",o(o({},n),{event_slug:i})),this.gtmTracker.track(this.application+".performance.marker",o(o({},n),{experience_title:e,event_slug:i})),this.mixpanelTracker.track(this.application+".performance.marker",o(o({},n),{experience_title:e,event_slug:i}))},e.prototype.trackInteractionUpdated=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("interaction-updated",o(o({},t),{event_slug:e}))},e.prototype.trackComponentLibraryCategoryEdited=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("asset-library-category-edited",o(o({},t),{event_slug:e}))},e.prototype.trackComponentAddedToLibrary=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("asset-library-added",o(o({},t),{event_slug:e}))},e.prototype.trackComponentEdited=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("asset-library-edited",o(o({},t),{event_slug:e}))},e.prototype.trackComponentLibraryUsed=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("asset-library-used",o(o({},t),{event_slug:e}))},e.prototype.trackComponentLibraryDeleted=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("asset-library-deleted",o(o({},t),{event_slug:e}))},e.prototype.trackPreviewerPaused=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("preview-paused",o(o({},t),{event_slug:e}))},e.prototype.trackPreviewerModalResized=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("preview-toggled",o(o({},t),{event_slug:e}))},e.prototype.trackPreviewerModalRestarted=function(){var t=this.generateEventSlug();this.mixpanelTracker.track("preview-restarted",{event_slug:t})},e.prototype.trackInspectorPanelAdvancedToggled=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("inspector-panel-toggle-advanced",o(o({},t),{event_slug:e}))},e.prototype.trackExperienceSettingsSaved=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("settings-updated",o(o({},t),{event_slug:e}))},e.prototype.trackComponentEvent=function(t,e){var n=this.generateEventSlug();this.mixpanelTracker.track(e,o(o({},t),{event_slug:n}))},e.prototype.trackPageUpdatedEvent=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("page-updated",o(o({},t),{event_slug:e}))},e.prototype.trackViewedIn=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("experience-viewed-in",o(o({},t),{event_slug:e}))},e.prototype.trackAIResultCreated=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("ai-result-created",o(o({},t),{event_slug:e}))},e.prototype.trackAIResultFailed=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("ai-result-failed",o(o({},t),{event_slug:e}))},e.prototype.trackAIToolUsed=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("ai-loaded",o(o({},t),{event_slug:e}))},e.prototype.trackFigmaImport=function(){var t=this.generateEventSlug();this.mixpanelTracker.track("figma-import",{event_slug:t})},e.prototype.trackFigmaImportFailed=function(){var t=this.generateEventSlug();this.mixpanelTracker.track("figma-import-failed",{event_slug:t})},e.prototype.trackEmbedCodeAdded=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track(c.EMBED_CODE_ADDED,o({event_slug:e,source:"embed-modal",component_types:["html"]},t))},e.prototype.trackFloatingToolbarActionUsed=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("floating-toolbar-action-used",o(o({},t),{event_slug:e}))},e.prototype.trackEmbedFitToFrameChanged=function(t){var e=this.generateEventSlug();this.mixpanelTracker.track("embed-fit-to-frame-changed",o({event_slug:e},t))},e}(l.AbstractUserAnalytics);e.StudioUserAnalytics=new p,e.default=e.StudioUserAnalytics,function(t){t.TEXT_CHANGED="text-changed",t.EDIT_MODE_ENTERED="text-edit-mode-entered",t.EDIT_MODE_EXITED="text-edit-mode-exited",t.FONT_SIZE_CHANGED="text-font-size-changed",t.COMPONENT_SIZE_CHANGED="component-size-changed",t.IMAGE_REPLACED="image-replaced",t.TEXTBOX_ADDED="textbox-added",t.IMAGE_ADDED="image-added",t.VIDEO_ADDED="video-added",t.RECTANGLE_ADDED="rectangle-added",t.TRIANGLE_ADDED="triangle-added",t.OVAL_ADDED="oval-added",t.RIGHT_TRIANGLE_ADDED="right-triangle-added",t.LINE_ADDED="line-added",t.TEXTBOX_REMOVED="textbox-removed",t.IMAGE_REMOVED="image-removed",t.VIDEO_REMOVED="video-removed",t.RECTANGLE_REMOVED="rectangle-removed",t.TRIANGLE_REMOVED="triangle-removed",t.OVAL_REMOVED="oval-removed",t.RIGHT_TRIANGLE_REMOVED="right-triangle-removed",t.LINE_REMOVED="line-removed",t.GROUP_REMOVED="group-removed",t.GROUP_CREATED="group-created",t.TEXT_LINK_ADDED="text-link-added",t.TEXT_LINK_REMOVED="text-link-removed",t.FONT_FAMILY_CHANGED="font-family-changed",t.UNDERLINE_CHANGED="underline-changed",t.LINE_HEIGHT_CHANGED="line-height-changed",t.TEXT_COLOR_CHANGED="text-color-changed",t.TEXT_ALIGNMENT_CHANGED="text-alignment-changed",t.LIST_CHANGED="list-changed",t.INDENTION_CHANGED="indention-changed",t.COMPONENT_ALIGNMENT_CHANGED="component-alignment-changed",t.COMPONENT_MOVED="component-moved",t.COMPONENT_COPIED="component-copied",t.COMPONENT_CUT="component-cut",t.COMPONENT_STROKE_ADDED="component-stroke-added",t.COMPONENT_STROKE_DELETED="component-stroke-deleted",t.COMPONENT_STROKE_CHANGED="component-stroke-changed",t.ALT_TAG_CHANGED="alt-tag-changed",t.IMAGE_CROP="image-crop",t.REMOVE_BACKGROUND="remove-background",t.VIDEO_REPLACED="video-replaced",t.GROUP_UNGROUPED="group-ungrouped",t.MASK_GROUP_CREATED="mask-group-created",t.MASK_GROUP_REMOVED="mask-group-removed",t.MASK_GROUP_UNGROUPED="mask-group-ungrouped",t.SMART_GROUP_CREATED="smart-group-created",t.SMART_GROUP_REMOVED="smart-group-removed",t.SMART_GROUP_UNGROUPED="smart-group-ungrouped",t.EMBED_CODE_ADDED="embed-code-added"}(c=e.ComponentEvents||(e.ComponentEvents={})),(f=e.PageEvents||(e.PageEvents={})).ADDED="added",f.REMOVED="removed",f.ENABLED="enabled",f.DISABLED="disabled",f.DUPLICATED="duplicated",f.RESTORED="restored",f.MOVED="moved",f.RENAMED="renamed",(h=e.ComponentActions||(e.ComponentActions={})).ADDED="component-added",h.REMOVED="component-removed",h.UPDATED="component-updated",(d=e.EventOrigin||(e.EventOrigin={})).CANVAS="canvas",d.INSPECTOR_PANEL="inspector-panel",d.TOOLBAR="toolbar"},42286:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.reportTextInspectorPanelAnalytics=e.reportTextCanvasAnalytics=void 0;var o=n(67757),a=n(73065),s=n(4020),u=r(n(16080)),l=n(34654),c=n(17656),d=n(76230);e.reportTextCanvasAnalytics=function(t,e,n,r){var l={component_ids:[t.get("id")],tools_used:[s.ComponentEvents.TEXT_CHANGED],component_types:[c.ComponentType.TEXT_PLUS_COMPONENT],event_origin:s.EventOrigin.CANVAS,layout:u.default.getCurrentVariant()};e===s.ComponentEvents.EDIT_MODE_ENTERED||e===s.ComponentEvents.EDIT_MODE_EXITED?(l=i(i({},l),{tools_used:[e]}),d.ComponentsAnalyticsEventManager.getInstance().addEvent(l)):u.default.getCurrentVariant()!==r||e!==o.properties.TEXT_CONTENT||a.isCurrentValueEqual(t,e,n,r)||d.ComponentsAnalyticsEventManager.getInstance().addEvent(l)},e.reportTextInspectorPanelAnalytics=function(t,e){var n=void 0;switch(e){case l.TextPlusCommandNames.FONT_COLOR:case l.TextPlusCommands.FONT_COLOR_RETAIN_OPACITY:case l.TextPlusCommands.FONT_COLOR_OPACITY:n=s.ComponentEvents.TEXT_COLOR_CHANGED;break;case l.TextPlusCommandNames.FONT_FAMILY:n=s.ComponentEvents.FONT_FAMILY_CHANGED;break;case l.TextPlusCommandNames.UNDERLINE_PLUS:n=s.ComponentEvents.UNDERLINE_CHANGED;break;case l.TextPlusCommandNames.LINE_HEIGHT:n=s.ComponentEvents.LINE_HEIGHT_CHANGED;break;case l.TextPlusCommandNames.FONT_SIZE:n=s.ComponentEvents.FONT_SIZE_CHANGED;break;case l.TextPlusCommandNames.INDENT_LIST:case l.TextPlusCommandNames.OUTDENT_LIST:n=s.ComponentEvents.INDENTION_CHANGED}n&&d.ComponentsAnalyticsEventManager.getInstance().addEvent({component_ids:t,tools_used:[n],component_types:[c.ComponentType.TEXT_PLUS_COMPONENT],event_origin:s.EventOrigin.INSPECTOR_PANEL,layout:u.default.getCurrentVariant()})}},65676:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.getSwapInfoMap=function(t){var e=t.getChildren(),n=e[0],i=e[1],r=n.get("maskInfo"),o=new Map,a=n.get("id"),s=i.get("id");return r.isBaseMaskObject?(o.set(a,{maskInfo:{maskedObjectId:s}}),o.set(s,{maskInfo:{isBaseMaskObject:!0,maskIds:[a]}})):(o.set(s,{maskInfo:{maskedObjectId:a}}),o.set(a,{maskInfo:{isBaseMaskObject:!0,maskIds:[s]}})),o},t.getMaskingPropertiesMap=function(t){var e=new Map,n=1===new Set(t.map((function(t){return t.get("type")}))).size;return t.some((function(t){return t.isAnyShapeComponent()}))?e=this.getShapeMaskMapInfo(t):n&&(e=this.getAlphaMasksMapInfo(t)),e},t.getShapeMaskMapInfo=function(t){for(var e,n=[],i=!0,r=[],o=new Map,a=t.length-1;a>=0;a--){var s={};if("image-component"===(l=t[a]).get("type")&&i)s.isBaseMaskObject=i,i=!1,s.maskIds=n,e=l.get("id");else{var u=l.get("id");n.unshift(u)}r.unshift(s)}for(a=0;a<t.length;a++){var l=t[a];r[a].isBaseMaskObject||(r[a].maskedObjectId=e),o.set(l.get("id"),r[a])}return o},t.getAlphaMasksMapInfo=function(t){var e=new Map,n=t[0].get("id"),i=t[1].get("id"),r={isBaseMaskObject:!0,maskIds:[i]},o={maskedObjectId:n};return e.set(i,o),e.set(n,r),e},t}();e.default=n},32904:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ALL_ANIMATION_CAPABILITIES=e.AnimationCapability=void 0,function(t){t.CAN_USE_ANIMATIONS="can_use_animations"}(n=e.AnimationCapability||(e.AnimationCapability={})),e.ALL_ANIMATION_CAPABILITIES=Object.values(n)},37084:function(t,e,n){"use strict";var i,r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.packageCapabilities=e.ApplicationPackage=void 0;var a,s=n(58606),u=n(32611),l=n(26278),c=n(32904),d=n(877),h=n(76085),f=n(39367);!function(t){t.STUDIO_PRO_PACKAGE="STUDIO-PRO-PACKAGE",t.STUDIO_LITE_PACKAGE="STUDIO-LITE-PACKAGE"}(a=e.ApplicationPackage||(e.ApplicationPackage={})),e.packageCapabilities=((i={})[a.STUDIO_PRO_PACKAGE]=o(d.ALL_GENERAL_CAPABILITIES,h.ALL_SETTING_CAPABILITIES,s.ALL_PAGE_CAPABILITIES,u.ALL_TOOL_CAPABILITIES,f.ALL_DESIGN_CAPABILITIES,l.ALL_INTERACTIONS_CAPABILITIES,c.ALL_ANIMATION_CAPABILITIES,[u.ToolCapability.AI_TEXT_AND_IMAGES]),i[a.STUDIO_LITE_PACKAGE]=o(s.ALL_PAGE_CAPABILITIES,[d.GeneralCapability.ZOOM,d.GeneralCapability.CHANGE_EXPERIENCE_SETTINGS,h.SettingCapability.EXPERIENCE_SETTINGS,h.SettingCapability.SEO_SETTINGS,u.ToolCapability.CREATE_SHAPE,u.ToolCapability.CREATE_TEXT,u.ToolCapability.ADD_IMAGE,u.ToolCapability.ADD_VIDEO,u.ToolCapability.MANAGE_PAGES,u.ToolCapability.ASSET_LIBRARY,u.ToolCapability.AI_TEXT_AND_IMAGES,l.InteractionCapability.CAN_USE_INTERACTIONS]),i)},39367:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ALL_DESIGN_CAPABILITIES=e.DesignCapability=void 0,function(t){t.UPLOAD_FONT="upload_font",t.ALIGN_TO_CANVAS="align_to_canvas",t.COORDINATES="coordinates",t.DIMENSIONS="dimensions",t.FONT_HTML_TAG="font_html_tag",t.SYNC_TEXT="sync_text",t.HIDE="hide",t.LOCK="lock",t.COPY_ANIMATIONS="copy_animations",t.CREATE_MASK="create_mask",t.CREATE_OBJECT_STATES="create_object_states",t.DELETE_OBJECT_STATES="delete_object_states",t.RENAME_OBJECT_STATES="rename_object_states",t.EDIT_OBJECT_STATE_TRANSITIONS="edit_object_state_transitions",t.EDIT_OBJECT_STATE_LINK_INTERACTION="edit_object_state_link_interaction",t.ARIA_LABEL="aria_label",t.ARIA_HIDDEN="aria_hidden",t.HTML_LANDMARK="html_landmark",t.SCREEN_READER_ONLY_TEXT="screen_reader_only_text",t.TOGGLE_EDIT="toggle_edit"}(n=e.DesignCapability||(e.DesignCapability={})),e.ALL_DESIGN_CAPABILITIES=Object.values(n)},877:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ALL_GENERAL_CAPABILITIES=e.GeneralCapability=void 0,function(t){t.CREATE_GROUP="create_group",t.CREATE_VARIANTS="create_variants",t.DELETE_VARIANTS="delete_variants",t.ZOOM="zoom",t.CHANGE_THEME="change_theme",t.GET_EMBED_CODE="get_embed_code",t.CHANGE_EXPERIENCE_SETTINGS="change_experience_settings",t.RULERS="rulers",t.BROWSER_SCALING="browser_scaling",t.HELP="help",t.PREVIEW_IN_SEPARATE_WINDOW="preview_in_separate_window"}(n=e.GeneralCapability||(e.GeneralCapability={})),e.ALL_GENERAL_CAPABILITIES=Object.values(n)},26278:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ALL_INTERACTIONS_CAPABILITIES=e.InteractionCapability=void 0,function(t){t.CAN_USE_INTERACTIONS="can_use_interactions"}(n=e.InteractionCapability||(e.InteractionCapability={})),e.ALL_INTERACTIONS_CAPABILITIES=Object.values(n)},58606:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ALL_PAGE_CAPABILITIES=e.PageCapability=void 0,function(t){t.ADD_PAGE="add_page",t.DELETE_PAGE="delete_page",t.DUPLICATE_PAGE="duplicate_page",t.DISABLE_PAGE="disable_page",t.RENAME_PAGE="rename_page",t.MOVE_PAGE="move_page"}(n=e.PageCapability||(e.PageCapability={})),e.ALL_PAGE_CAPABILITIES=Object.values(n)},76085:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ALL_SETTING_CAPABILITIES=e.SettingCapability=void 0,function(t){t.EXPERIENCE_SETTINGS="experience_settings",t.EXPERIENCE_SETTINGS_VANITY_DOMAIN="experience_settings_vanity_domain",t.EXPERIENCE_SETTINGS_RESTRICTED_ACCESS="experience_settings_restricted_access",t.EXPERIENCE_SETTINGS_UNSOPPORTED_BROWSER="experience_settings_unsupported_browser",t.EXPERIENCE_SETTINGS_MATCH_PAGE_NAME_TO_TITLE="experience_settings_match_page_name_to_title",t.SEO_SETTINGS="seo_settings",t.SOCIAL_SETTINGS="social_settings",t.CUSTOM_HTML_SETTINGS="custom_html_settings",t.PERFORMANCE_SETTINGS="performance_settings",t.ACCESSIBILITY_SETTINGS="accessibility_settings",t.VARIANT_SETTINGS="variant_settings",t.CANVAS_SETTINGS="canvas_settings",t.EARLY_ACCESS_SETTINGS="early_access_settings",t.COOKIE_COMPLIANCE_SETTINGS="cookie_compliance_settings",t.EDITOR_SETTINGS="editor_settings",t.SPELL_CHECK_SETTINGS="spell_check_settings",t.TEXT_PLUS_ADMIN_SETTINGS="text_plus_admin_settings"}(n=e.SettingCapability||(e.SettingCapability={})),e.ALL_SETTING_CAPABILITIES=Object.values(n)},32611:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.ALL_TOOL_CAPABILITIES=e.ToolCapability=void 0,function(t){t.SELECTION="selection",t.CREATE_SHAPE="create_shape",t.CREATE_TEXT="create_text",t.ADD_IMAGE="add_image",t.ADD_VIDEO="add_video",t.CREATE_HOTSPOT="create_hotspot",t.DRAW_HOTSPOT="draw_hotspot",t.USE_PEN_TOOL="use_pen_tool",t.ADJUST_CANVAS="adjust_canvas",t.ADD_ANCHOR="add_anchor",t.EMBED_OBJECT="embed_object",t.VIEW_SDK_INFO="view_sdk_info",t.ADD_INTEGRATIONS="add_integrations",t.MANAGE_LAYERS="manage_layers",t.MANAGE_PAGES="manage_pages",t.ASSET_LIBRARY="asset_library",t.AI_TEXT_AND_IMAGES="ai_text_and_images"}(n=e.ToolCapability||(e.ToolCapability={})),e.ALL_TOOL_CAPABILITIES=Object.values(n)},85650:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrayToMustacheObject=e.BackboneCapabilitySelectors=e.CapabilitySelectors=void 0;var i=n(37084),r=n(43629),o=n(15923),a=n(17656),s=n(32611),u=n(25841),l=function(){function t(){}return t.SelectApplicationPackage=function(t){return t.capabilities.package},t.SelectIsStudioLite=r.createSelector(t.SelectApplicationPackage,(function(t){return t===i.ApplicationPackage.STUDIO_LITE_PACKAGE})),t.SelectCapabilities=function(t){return i.packageCapabilities[t.capabilities.package]},t.SelectMustacheCapabilities=r.createSelector(t.SelectApplicationPackage,(function(t){return e.arrayToMustacheObject(i.packageCapabilities[t])})),t.SelectHasCapability=function(e){return r.createSelector(t.SelectCapabilities,(function(t){return t.includes(e)}))},t.SelectHasAdvancedCapabilities=r.createSelector(u.SelectedComponentsSelectors.SelectComponentTypes,(function(t){return t.some((function(t){return a.COMPONENT_TYPES_WITH_ADVANCED_CAPABILITIES.includes(t)}))})),t.SelectShowAdvancedCapabilities=function(t){return t.capabilities.showAdvancedCapabilities},t.SelectShowHotspots=r.createSelector(t.SelectCapabilities,(function(t){return t.includes(s.ToolCapability.DRAW_HOTSPOT)||t.includes(s.ToolCapability.CREATE_HOTSPOT)})),t}();e.CapabilitySelectors=l;var c=function(){function t(){}return t.SelectApplicationPackage=function(){return o.BackboneHooks.useSelector(l.SelectApplicationPackage)},t.SelectIsStudioLite=function(){return o.BackboneHooks.useSelector(l.SelectIsStudioLite)},t.SelectCapabilities=function(){return o.BackboneHooks.useSelector(l.SelectCapabilities)},t.SelectMustacheCapabilities=function(){return o.BackboneHooks.useSelector(l.SelectMustacheCapabilities)},t.SelectHasCapability=function(t){return o.BackboneHooks.useSelector(l.SelectHasCapability(t))},t.SelectHasAdvancedCapabilities=function(){return o.BackboneHooks.useSelector(l.SelectHasAdvancedCapabilities)},t.SelectShowAdvancedCapabilities=function(){return o.BackboneHooks.useSelector(l.SelectShowAdvancedCapabilities)},t.SelectShowHotspots=function(){return o.BackboneHooks.useSelector(l.SelectShowHotspots)},t}();e.BackboneCapabilitySelectors=c,e.arrayToMustacheObject=function(t){return t.reduce((function(t,e){return t[e]=!0,t}),{})}},44727:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentsService=void 0;var a=function(){function t(){}return t.assembleComponentsIntoParentChildHierarchy=function(e,n){return n.reduce((function(n,i){var r=e[i.id];if(!r)return n;var o=Object.assign({},r);return i.items&&(o.items=t.assembleComponentsIntoParentChildHierarchy(e,i.items)),n.push(o),n}),[])},t.assembleComponentDictionaryFromParentChildHierarchy=function(e){return e.map((function(t){return Object.assign({},t)})).reduce((function(e,i){if(i.items){var r=i;e=n(n({},e),t.assembleComponentDictionaryFromParentChildHierarchy(r.items)),i.items=[]}return e[i.id]=i,e}),{})},t.assembleComponentHierarchiesFromParentChildHierarchy=function(e){return e.map((function(e){var n={id:e.id};return"items"in e&&(n.items=t.assembleComponentHierarchiesFromParentChildHierarchy(e.items)),n}))},t.findComponentTargetParentsById=function(e,n,r){var o,a,s;void 0===r&&(r=[]);try{for(var u=i(e),l=u.next();!l.done;l=u.next()){var c=l.value;if(c.id===n)return r;if(c.items&&(null===(s=c.items)||void 0===s?void 0:s.length)>0){var d=t.findComponentTargetParentsById(c.items,n,r.concat(c.id));if(d)return d}}}catch(t){o={error:t}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return null},t.findAllComponentTargetChildrenById=function(e,n,r){var a,s,u;void 0===r&&(r=[]);try{for(var l=i(e),c=l.next();!c.done;c=l.next()){var d=c.value;d.id===n?(d.items&&d.items.length>0&&r.push.apply(r,o(d.items.map((function(t){return t.id})))),null===(u=d.items)||void 0===u||u.forEach((function(e){t.findAllComponentTargetChildrenById([e],e.id,r)}))):d.items&&d.items.length>0&&t.findAllComponentTargetChildrenById(d.items,n,r)}}catch(t){a={error:t}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return r},t}();e.ComponentsService=a},87257:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PageTargetInteractionUtils=void 0;var n=function(){function t(){}return t.calculateUpdatedPageNumberOnMove=function(t,e,n){return t===n?e:t>=e&&t<n?t+1:t>n&&t<=e?t-1:t},t}();e.PageTargetInteractionUtils=n},66989:function(t,e){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function i(t){var n=function(t){return!!t&&(!(!t.id||!t.id.startsWith(e.TEXT_ID_START))||n(t.parentNode))};return!(!t||!t.target)&&n(t.target)}function r(t){return"text-component"===t.type||"text-plus-component"===t.type}function o(t,e){return t.type===e}Object.defineProperty(e,"__esModule",{value:!0}),e.textPlusIsEnabled=e.isSupportedText=e.isText=e.smartgroupHasUnsupportedText=e.isCkEditorSelected=e.isSomeSortOfTextElement=e.TEXT_ID_START=void 0,e.TEXT_ID_START="ceros-ckeditor",e.isSomeSortOfTextElement=function(t,e){return void 0===e&&(e=["SELECT","INPUT","TEXTAREA"]),!!t.target&&e.includes(t.target.tagName)||i(t)},e.isCkEditorSelected=i,e.smartgroupHasUnsupportedText=function(t,e){var i,a;try{for(var s=n(Object.values(t.layerDictionary)),u=s.next();!u.done;u=s.next()){var l=u.value;if(r(l)&&!o(l,e))return!0}}catch(t){i={error:t}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return!1},e.isText=r,e.isSupportedText=o,e.textPlusIsEnabled=function(t){return"text-plus-component"===t}},36932:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionModel=void 0;var s=a(n(96486)),u=a(n(41232)),l=n(60985),c=n(3977),d=n(67318),h=n(31191),f=n(44167),p=n(60166),g=n(22927),m=n(93804),v=n(37112),y=n(77612),_=n(28815),b=n(50300),w=n(13291),T=n(54546),S=n(41457),E=n(37339),O=n(13026),P=n(67258),C=n(20401),A=n(63778),k=n(36666),x=n(68732),I=n(81440),M=n(14335),R=n(35695),N=n(80581),D=n(7938),L=n(15491),j=n(30630),F=n(66817),V=n(5680),U=n(59588),B=n(64141),H=n(57949),G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults={delay:0,repeat:!0},e.saveHandler=function(){},e.destroyHandler=function(){},e}return r(e,t),e.prototype.initialize=function(e,n){if(e=e||{},!(n=n||{}).collection)throw new Error("Must instantiate interaction model with collection");this.createSubModelForData(e),t.prototype.initialize.call(this,{trigger:e.trigger},n)},e.prototype.unload=function(){this.destroyActionModel()},e.prototype.createSubModelForData=function(t){var e=t.action,n=s.default.clone(t);delete n.trigger,delete n.action,delete n.delay,delete n.repeat,this.createActionModel(e,n)},e.prototype.setFromObject=function(t){if(s.default.isEqual(t,this.toJSON()))return this;this.createSubModelForData(t);var e=this.get("trigger"),n=this.getDelay(),i=this.getRepeat();return this.set({trigger:t.trigger,delay:t.delay,repeat:t.repeat}),e===t.trigger&&n===t.delay&&i===t.repeat&&this.trigger("change",this),this},e.prototype.clear=function(e){return this.destroyActionModel(),t.prototype.clear.call(this,e)},e.prototype.toJSON=function(){return this.isHoverInteraction()?s.default.extend({trigger:H.TriggerType.HOVER},this.actionModel?this.actionModel.toJSON():{}):this.isClickInteraction()?s.default.extend({trigger:H.TriggerType.CLICK},this.actionModel?this.actionModel.toJSON():{}):this.isSubmitInteraction()?s.default.extend({trigger:H.TriggerType.SUBMIT},this.actionModel?this.actionModel.toJSON():{}):this.isOnViewInteraction()?s.default.extend({trigger:H.TriggerType.ON_VIEW,delay:this.getDelay(),repeat:this.getRepeat()},this.actionModel?this.actionModel.toJSON():{}):{}},e.prototype.propagateChangeEvent=function(){this.trigger("change",this)},e.prototype.createActionModel=function(t,e){this.destroyActionModel(),t&&(this.actionModel=l.ActionModelFactory.createModelForActionType(t,e,{parentInteraction:this}),this.actionModel.on("change",this.propagateChangeEvent,this))},e.prototype.destroyActionModel=function(){this.actionModel&&(this.actionModel.off("change",this.propagateChangeEvent,this),this.actionModel=null)},e.prototype.setSaveHandler=function(t,e){e&&(t=s.default.bind(t,e)),this.saveHandler=t},e.prototype.setDestroyHandler=function(t,e){e&&(t=s.default.bind(t,e)),this.destroyHandler=t},e.prototype.save=function(){if(!s.default.isFunction(this.saveHandler))throw new Error("Trying to save InteractionModel but a save handler was never set");if(!this.isValid())throw new Error("Trying to save an invalid InteractionModel");this.saveHandler(this),this.trigger("save",this)},e.prototype.destroy=function(){if(!s.default.isFunction(this.destroyHandler))throw new Error("Trying to destroy InteractionModel but a destroy handler was never set");this.destroyHandler(this),this.trigger("destroy",this)},e.prototype.getTrigger=function(){return this.get("trigger")},e.prototype.isClickInteraction=function(){return this.get("trigger")===H.TriggerType.CLICK},e.prototype.isHoverInteraction=function(){return this.get("trigger")===H.TriggerType.HOVER},e.prototype.isOnViewInteraction=function(){return this.get("trigger")===H.TriggerType.ON_VIEW},e.prototype.isSubmitInteraction=function(){return this.get("trigger")===H.TriggerType.SUBMIT},e.prototype.setTrigger=function(t){if(this.getTrigger()!==t){if(!s.default.includes(H.TriggerType,t))throw new Error("Can't set trigger value of ["+t+"]");this.set("trigger",t)}},e.prototype.setHover=function(){this.setTrigger(H.TriggerType.HOVER)},e.prototype.setOnView=function(){this.setTrigger(H.TriggerType.ON_VIEW)},e.prototype.setClick=function(){this.setTrigger(H.TriggerType.CLICK)},e.prototype.setSubmit=function(){this.setTrigger(H.TriggerType.SUBMIT)},e.prototype.clearTrigger=function(){this.set("trigger",null)},e.prototype.setDelay=function(t){this.set("delay",t)},e.prototype.getDelay=function(){var t=this.get("delay");return s.default.isUndefined(t)&&(t=this.defaults.delay),t},e.prototype.setRepeat=function(t){this.set("repeat",t)},e.prototype.getRepeat=function(){var t=this.get("repeat");return s.default.isUndefined(t)&&(t=this.defaults.repeat),t},e.prototype.setActionType=function(t){this.actionModel&&this.actionModel.getActionType()===t||(this.createActionModel(t),this.trigger("change",this),this.trigger("change:action",this))},e.prototype.getAction=function(){return this.actionModel},e.prototype.getActionType=function(){return this.actionModel?this.actionModel.getActionType():null},e.prototype.isScrollToInteraction=function(){return this.actionModel instanceof c.ScrollToActionModel},e.prototype.isScrollToObjectInteraction=function(){return this.actionModel instanceof V.ScrollToObjectActionModel},e.prototype.isNextPageInteraction=function(){return this.actionModel instanceof d.NextPageActionModel},e.prototype.isPrevPageInteraction=function(){return this.actionModel instanceof h.PrevPageActionModel},e.prototype.isGotoPageInteraction=function(){return this.actionModel instanceof f.GotoPageActionModel},e.prototype.isEnableDisablePageInteraction=function(){return this.actionModel instanceof p.EnableDisablePageActionModel},e.prototype.isUrlInteraction=function(){return this.actionModel instanceof g.UrlActionModel},e.prototype.isCanvasTargetsInteraction=function(){return this.actionModel instanceof m.AbstractCanvasTargetsActionModel},e.prototype.isShowCanvasTargetsInteraction=function(){return this.actionModel instanceof v.ShowCanvasTargetsActionModel},e.prototype.isShowCanvasTargetsOnHoverInteraction=function(){return this.actionModel instanceof y.ShowCanvasTargetsOnHoverActionModel},e.prototype.isHideCanvasTargetsInteraction=function(){return this.actionModel instanceof _.HideCanvasTargetsActionModel},e.prototype.isToggleCanvasTargetsInteraction=function(){return this.actionModel instanceof b.ToggleCanvasTargetsActionModel},e.prototype.isShowAndStayVisibleCanvasTargetsInteraction=function(){return this.actionModel instanceof T.ShowAndStayVisibleCanvasTargetsActionModel},e.prototype.isHideAndStayHiddenCanvasTargetsInteraction=function(){return this.actionModel instanceof w.HideAndStayHiddenCanvasTargetsActionModel},e.prototype.isShowOnlyInteraction=function(){return this.actionModel instanceof S.ShowOnlyActionModel},e.prototype.isHideOnlyInteraction=function(){return this.actionModel instanceof E.HideOnlyActionModel},e.prototype.isCycleNextInteraction=function(){return this.actionModel instanceof O.CycleNextActionModel},e.prototype.isCyclePreviousInteraction=function(){return this.actionModel instanceof P.CyclePreviousActionModel},e.prototype.isLightboxInteraction=function(){return this.actionModel instanceof C.LightboxActionModel},e.prototype.isProductInteraction=function(){return this.actionModel instanceof A.ProductActionModel},e.prototype.isShoppingCartInteraction=function(){return this.actionModel instanceof k.ShoppingCartActionModel},e.prototype.isFullscreenInteraction=function(){return this.actionModel instanceof x.FullscreenActionModel},e.prototype.isEmailInteraction=function(){return this.actionModel instanceof I.EmailActionModel},e.prototype.isFacebookInteraction=function(){return this.actionModel instanceof M.FacebookActionModel},e.prototype.isTwitterInteraction=function(){return this.actionModel instanceof R.TwitterActionModel},e.prototype.isPinterestInteraction=function(){return this.actionModel instanceof N.PinterestActionModel},e.prototype.isLinkedInInteraction=function(){return this.actionModel instanceof D.LinkedInActionModel},e.prototype.isBringToFrontInteraction=function(){return this.actionModel instanceof U.BringToFrontActionModel},e.prototype.isResetPositionsInteraction=function(){return this.actionModel instanceof B.ResetPositionsActionModel},e.prototype.isChangeStateInteraction=function(){return this.actionModel instanceof L.ChangeStateActionModel},e.prototype.isPageNumberAwareInteraction=function(){return this.actionModel instanceof j.PageNumberAwareAction},e.prototype.isValid=function(){return!!s.default.includes(H.TriggerType,this.get("trigger"))&&!!this.actionModel&&this.actionModel.isValid()},e.prototype.isRepeatable=function(){return this.isOnViewInteraction()&&(this.isCanvasTargetsInteraction()&&!this.isCycleNextInteraction()&&!this.isCyclePreviousInteraction()||this.isBringToFrontInteraction())},e.prototype.getValidFullHierarchyTargets=function(){return this.collection.getAncestorFullHierarchyCollection()},e.prototype.getValidScranchorTargets=function(){return this.collection.getAncestorScranchorCollection()},e.prototype.getValidPageTargets=function(){return this.collection.getAncestorPageCollection()},o([F.BackboneShim({defaults:{delay:0,repeat:!0}})],e)}(u.default.Model);e.InteractionModel=G},72375:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractActionModel=void 0;var a=o(n(96486)),s=o(n(41232)),u=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.parentInteraction=n.parentInteraction,i}return r(e,t),e.prototype.getDefaultDelay=function(){return this.parentInteraction.defaults.delay},e.prototype.getActionType=function(){return this.actionType},e.prototype.toJSON=function(){return a.default.extend(s.default.Model.prototype.toJSON.call(this),{action:this.actionType})},e.prototype.isValid=function(){return!0},e.prototype.isHidden=function(){return!1},e}(s.default.Model);e.AbstractActionModel=u},93804:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCanvasTargetsActionModel=void 0;var s=a(n(96486)),u=n(72375),l=n(50169),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){var t=this,e=this.get("layerTargets");if(!e||s.default.isEmpty(e))return!1;if(!this.getSupportsMultipleTargets()&&1!==e.length)return!1;var n=this.getValidCanvasTargets();return e.every(function(e){return t.isCanvasTargetValid(e,n)}.bind(this))},e.prototype.getCanvasTargetsInContext=function(){return this.parentInteraction.getValidFullHierarchyTargets()},e.prototype.getValidCanvasTargets=function(){return this.getCanvasTargetsInContext()},e.prototype.isCanvasTargetTypeValid=function(t){var e=this.get("layerTargets");return!(!this.getSupportsMultipleTargets()&&e&&e.length>=1)&&t.isInteractable()},e.prototype.isCanvasTargetValid=function(t,e){return e||(e=this.getValidCanvasTargets()),!!e.get(t)},e.prototype.getCanvasTargetIds=function(){var t=this.get("layerTargets");return s.default.isArray(t)?t.slice():[]},e.prototype.getFirstCanvasTargetId=function(){var t=this.getCanvasTargetIds();return s.default.isEmpty(t)?null:t[0]},e.prototype.getCanvasTargetModels=function(){var t=this,e=new Array;return s.default.each(this.getCanvasTargetIds(),s.default.bind((function(n){var i=t.getValidCanvasTargets().get(n);i?e.push(i):console.warn("No canvas target model found for id "+n)}),this)),e},e.prototype.getFirstCanvasTargetModel=function(){var t=this.getCanvasTargetModels();return t.length>0?t[0]:null},e.prototype.hasACanvasTarget=function(){var t=this.getCanvasTargetIds();return!s.default.isEmpty(t)},e.prototype.addCanvasTarget=function(t){var e=this.getCanvasTargetIds();e.push(t),this.set("layerTargets",e)},e.prototype.setCanvasTargets=function(t){s.default.isString(t)&&(t=s.default.filter([t])),this.set("layerTargets",t)},e.prototype.updateCanvasTargets=function(t,e){var n=this.getCanvasTargetIds();n.length<=t?console.warn("Trying to update a canvas target that doesn't exist"):(n[t]=e,this.set("layerTargets",n))},e.prototype.removeCanvasTarget=function(t){var e=this.getCanvasTargetIds();e.length<=t?console.warn("Trying to update a canvas target that doesn't exist"):(e.splice(t,1),this.set("layerTargets",e))},e.prototype.getSupportsMultipleTargets=function(){return this.get("supportsMultipleTargets")},o([l.ActionModelOptions({defaults:{layerTargets:null,supportsMultipleTargets:!0}})],e)}(u.AbstractActionModel);e.AbstractCanvasTargetsActionModel=c},64949:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractContainerTargetsActionModel=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isCanvasTargetTypeValid=function(e){return t.prototype.isCanvasTargetTypeValid.call(this,e)&&(e.isGroup()||e.isFolder())},e}(n(93804).AbstractCanvasTargetsActionModel);e.AbstractContainerTargetsActionModel=o},60985:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionModelFactory=void 0;var i=n(3977),r=n(5680),o=n(67318),a=n(31191),s=n(44167),u=n(60166),l=n(22927),c=n(37112),d=n(77612),h=n(41457),f=n(37339),p=n(13026),g=n(67258),m=n(28815),v=n(50300),y=n(13291),_=n(54546),b=n(20401),w=n(63778),T=n(36666),S=n(81440),E=n(14335),O=n(35695),P=n(80581),C=n(7938),A=n(15491),k=n(68732),x=n(97214),I=n(96129),M=n(59588),R=n(64141),N=function(){function t(){}return t.createModelForActionType=function(e,n,i){var r=t.constructorMap.get(e);return r?new r(n,i):(console.warn("Invalid action type "+e),new I.InvalidActionModel(n,i))},t.constructorArr=[i.ScrollToActionModel,o.NextPageActionModel,a.PrevPageActionModel,s.GotoPageActionModel,u.EnableDisablePageActionModel,l.UrlActionModel,c.ShowCanvasTargetsActionModel,d.ShowCanvasTargetsOnHoverActionModel,h.ShowOnlyActionModel,f.HideOnlyActionModel,p.CycleNextActionModel,g.CyclePreviousActionModel,m.HideCanvasTargetsActionModel,v.ToggleCanvasTargetsActionModel,y.HideAndStayHiddenCanvasTargetsActionModel,_.ShowAndStayVisibleCanvasTargetsActionModel,b.LightboxActionModel,w.ProductActionModel,T.ShoppingCartActionModel,k.FullscreenActionModel,S.EmailActionModel,E.FacebookActionModel,O.TwitterActionModel,P.PinterestActionModel,C.LinkedInActionModel,A.ChangeStateActionModel,r.ScrollToObjectActionModel,x.ToggleReducedMotionActionModel,M.BringToFrontActionModel,R.ResetPositionsActionModel],t.constructorMap=new Map(t.constructorArr.map((function(t){return[t.prototype.actionType,t]}))),t}();e.ActionModelFactory=N},50169:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionModelOptions=void 0;var i=n(66817);e.ActionModelOptions=function(t){return i.BackboneShim(t)}},96129:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidActionModel=void 0;var a=n(72375),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return!1},o([s.ActionModelOptions({actionType:u.ActionTypes.invalid})],e)}(a.AbstractActionModel);e.InvalidActionModel=l},97214:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleReducedMotionActionModel=void 0;var s=a(n(52272)),u=n(57824),l=n(72375),c=n(50169),d=n(36281),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isHidden=function(){return!s.default.hasFeature(u.FeatureFlagName.ACCESSIBILITY)},o([c.ActionModelOptions({actionType:d.ActionTypes.toggleReducedMotion})],e)}(l.AbstractActionModel);e.ToggleReducedMotionActionModel=h},13026:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.CycleNextActionModel=void 0;var a=n(64949),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultDelay=function(){return 2},o([s.ActionModelOptions({actionType:u.ActionTypes.cycleNext})],e)}(a.AbstractContainerTargetsActionModel);e.CycleNextActionModel=l},67258:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.CyclePreviousActionModel=void 0;var a=n(64949),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultDelay=function(){return 2},o([s.ActionModelOptions({actionType:u.ActionTypes.cyclePrevious})],e)}(a.AbstractContainerTargetsActionModel);e.CyclePreviousActionModel=l},28815:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.HideCanvasTargetsActionModel=void 0;var a=n(93804),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([s.ActionModelOptions({actionType:u.ActionTypes.hideCanvasTargets})],e)}(a.AbstractCanvasTargetsActionModel);e.HideCanvasTargetsActionModel=l},37112:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowCanvasTargetsActionModel=void 0;var a=n(93804),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([s.ActionModelOptions({actionType:u.ActionTypes.showCanvasTargets})],e)}(a.AbstractCanvasTargetsActionModel);e.ShowCanvasTargetsActionModel=l},77612:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowCanvasTargetsOnHoverActionModel=void 0;var a=n(93804),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getCreateHoverArea=function(){return this.get("createHoverArea")},e.prototype.setCreateHoverArea=function(t){this.set("createHoverArea",t)},o([s.ActionModelOptions({actionType:u.ActionTypes.showCanvasTargetsOnHover,defaults:{createHoverArea:!1,supportsMultipleTargets:!0}})],e)}(a.AbstractCanvasTargetsActionModel);e.ShowCanvasTargetsOnHoverActionModel=l},50300:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleCanvasTargetsActionModel=void 0;var a=n(93804),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([s.ActionModelOptions({actionType:u.ActionTypes.toggleCanvasTargets})],e)}(a.AbstractCanvasTargetsActionModel);e.ToggleCanvasTargetsActionModel=l},60166:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EnableDisablePageActionModel=void 0;var s=a(n(96486)),u=n(30630),l=n(50169),c=n(36281),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.serializePageTargets=function(t){var e=s.default(t).keys().map((function(t){return parseInt(t,10)})).sort((function(t,e){return t-e})).value(),n=s.default.reduce(e,(function(t,e){return t.length&&s.default.last(s.default.last(t))===e-1||t.push([]),s.default.last(t).push(e),t}),[]);return s.default.map(n,(function(t){switch(t.length){case 1:return t[0];case 2:return t[0]+", "+t[1];default:return t[0]+"-"+s.default.last(t)}})).join(", ")},e.prototype.parsePageTargets=function(t,e){var n=this,i={},r=!1;return s.default.isNil(t)||""===(t=t.replace(/\s/g,""))?[]:(s.default.each(t.split(","),s.default.bind((function(t){var o=t.split("-");switch(o.length){case 1:var a=parseInt(t,10);a&&n.isPageInRange(a)?i[a]=e:r=!0;break;case 2:var u=parseInt(o[0],10),l=parseInt(o[1],10);u&&l&&n.isPageInRange(u)&&n.isPageInRange(l)?s.default.each(s.default.range(u,l+1),(function(t){i[t]=e})):r=!0;break;default:r=!0}}),this)),r?null:i)},e.prototype.isPageInRange=function(t){return s.default.inRange(t,1,this.parentInteraction.getValidPageTargets().length+1)},e.prototype.isValid=function(){return this.arePageTargetsValid()},e.prototype.arePageTargetsValid=function(){var t=this;return!s.default.isEmpty(this.get("pageTargets"))&&s.default.every(this.get("pageTargets"),s.default.bind((function(e,n){return t.isPageInRange(n)}),this))},e.prototype.getEnablePageTargetsOnly=function(){return s.default.pickBy(this.get("pageTargets"))},e.prototype.getDisablePageTargetsOnly=function(){return s.default.pickBy(this.get("pageTargets"),(function(t){return!t}))},e.prototype.hasEnablePageTargets=function(){return!s.default.isEmpty(this.getEnablePageTargetsOnly())},e.prototype.hasDisablePageTargets=function(){return!s.default.isEmpty(this.getDisablePageTargetsOnly())},e.prototype.getEnablePageTargetsAsString=function(){return this.serializePageTargets(this.getEnablePageTargetsOnly())},e.prototype.getDisablePageTargetsAsString=function(){return this.serializePageTargets(this.getDisablePageTargetsOnly())},e.prototype.setEnablePageTargetsFromString=function(t){var e=this.parsePageTargets(t,!0);e&&this.set("pageTargets",s.default.extend(this.getDisablePageTargetsOnly(),e))},e.prototype.setDisablePageTargetsFromString=function(t){var e=this.parsePageTargets(t,!1);e&&this.set("pageTargets",s.default.extend(this.getEnablePageTargetsOnly(),e))},e.prototype.handlePageMove=function(t,e){var n=this,i=this.get("pageTargets"),r={},o=!1;s.default.each(i,s.default.bind((function(i,a){var u=s.default.toNumber(a),l=n._calculateUpdatedPageNumberOnMove(u,t,e);r[l]=i,o=o||u!==l}),this)),o&&this.set("pageTargets",r)},e.prototype.handlePageAdd=function(t){var e=this.get("pageTargets"),n={},i=!1;s.default.each(e,(function(e,r){var o=s.default.toNumber(r);o>=t?(n[o+1]=e,i=!0):n[o]=e})),i&&this.set("pageTargets",n)},e.prototype.handlePageDelete=function(t){var e=this.get("pageTargets"),n={},i=!1;s.default.each(e,(function(e,r){var o=s.default.toNumber(r);o>t?(n[o-1]=e,i=!0):o<t?n[o]=e:i=!0})),i&&this.set("pageTargets",n)},o([l.ActionModelOptions({actionType:c.ActionTypes.enableDisablePage,defaults:{pageTargets:{}}})],e)}(u.PageNumberAwareAction);e.EnableDisablePageActionModel=d},44167:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GotoPageActionModel=void 0;var s=a(n(96486)),u=n(30630),l=n(50169),c=n(36281),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return this.isPageTargetValid()},e.prototype.isPageTargetValid=function(){var t=this.get("pageTarget");return!(!t||!s.default.isNumber(t)||t<1||t>this.getValidPageTargets().length)},e.prototype.getGotoPageNum=function(){return this.get("pageTarget")},e.prototype.getDeletedGotoPageNum=function(){return this.get("deletedPageTarget")},e.prototype.setGotoPage=function(t){this.set("pageTarget",t),this.unset("deletedPageTarget")},e.prototype.setDeletedGotoPage=function(t){this.set("deletedPageTarget",t)},e.prototype.handlePageAdd=function(t){var e=this.getGotoPageNum();e>=t&&this.setGotoPage(e+1)},e.prototype.handlePageMove=function(t,e){var n=this.getGotoPageNum(),i=this._calculateUpdatedPageNumberOnMove(n,t,e);n!==i&&this.setGotoPage(i)},e.prototype.handlePageDelete=function(t){var e=this.getGotoPageNum();e===t?(this.setGotoPage(null),this.setDeletedGotoPage(e)):e>t&&this.setGotoPage(e-1)},o([l.ActionModelOptions({actionType:c.ActionTypes.gotoPage,defaults:{pageTarget:null}})],e)}(u.PageNumberAwareAction);e.GotoPageActionModel=d},67318:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.NextPageActionModel=void 0;var a=n(72375),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([s.ActionModelOptions({actionType:u.ActionTypes.nextPage})],e)}(a.AbstractActionModel);e.NextPageActionModel=l},30630:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageNumberAwareAction=void 0;var o=n(72375),a=n(87257),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getValidPageTargets=function(){return this.parentInteraction.getValidPageTargets()},e.prototype._calculateUpdatedPageNumberOnMove=function(t,e,n){return a.PageTargetInteractionUtils.calculateUpdatedPageNumberOnMove(t,e,n)},e}(o.AbstractActionModel);e.PageNumberAwareAction=s},31191:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.PrevPageActionModel=void 0;var a=n(72375),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([s.ActionModelOptions({actionType:u.ActionTypes.prevPage})],e)}(a.AbstractActionModel);e.PrevPageActionModel=l},3977:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToActionModel=void 0;var s=a(n(96486)),u=n(72375),l=n(50169),c=n(36281),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SCROLL_TARGET_TYPES={TOP:"top",BOTTOM:"bottom",SCRANCHOR:"scranchor"},e}return r(e,t),e.prototype.getValidScranchorTargets=function(){return this.parentInteraction.getValidScranchorTargets()},e.prototype.isValid=function(){return!(!s.default.includes(this.SCROLL_TARGET_TYPES,this.get("scrollTargetType"))||this.isScrollToScranchor()&&!this.getScranchorModel())},e.prototype.isScrollToTop=function(){return this.get("scrollTargetType")===this.SCROLL_TARGET_TYPES.TOP},e.prototype.isScrollToBottom=function(){return this.get("scrollTargetType")===this.SCROLL_TARGET_TYPES.BOTTOM},e.prototype.isScrollToScranchor=function(){return this.get("scrollTargetType")===this.SCROLL_TARGET_TYPES.SCRANCHOR},e.prototype.getScranchorId=function(){return this.isScrollToScranchor()?this.get("scrollTargetScranchor"):null},e.prototype.getScranchorModel=function(){var t=null,e=this.getScranchorId();return e&&(t=this.getValidScranchorTargets().get(e)),t},e.prototype.getScranchorIndex=function(){return this.getValidScranchorTargets().indexOf(this.getScranchorModel())},e.prototype.setScrollToTop=function(){this.set({scrollTargetType:this.SCROLL_TARGET_TYPES.TOP})},e.prototype.setScrollToBottom=function(){this.set({scrollTargetType:this.SCROLL_TARGET_TYPES.BOTTOM})},e.prototype.setScrollToScranchor=function(t){this.set({scrollTargetType:this.SCROLL_TARGET_TYPES.SCRANCHOR,scrollTargetScranchor:t})},o([l.ActionModelOptions({actionType:c.ActionTypes.scrollTo,defaults:{scrollTargetType:null,scrollTargetScranchor:null}})],e)}(u.AbstractActionModel);e.ScrollToActionModel=d},5680:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToObjectActionModel=void 0;var s=n(93804),u=a(n(52272)),l=n(57824),c=n(50169),d=n(36281),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return u.default.hasFeature(l.FeatureFlagName.ACCESSIBILITY)&&t.prototype.isValid.call(this)},o([c.ActionModelOptions({actionType:d.ActionTypes.scrollToObject,defaults:{supportsMultipleTargets:!1}})],e)}(s.AbstractCanvasTargetsActionModel);e.ScrollToObjectActionModel=h},22927:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UrlActionModel=void 0;var s=a(n(96486)),u=n(72375),l=n(50169),c=n(36281),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return!(!this.has("url")||s.default.isEmpty(this.get("url"))||!s.default.isBoolean(this.get("urlOpenInNewWindow")))},e.prototype.filterUrl=function(t){var e=0===t.trim().toLowerCase().indexOf("javascript:");return-1===t.indexOf(":")||e?"http://"+t:t},e.prototype.getUrl=function(){return this.get("url")},e.prototype.setUrl=function(t){this.set("url",t)},e.prototype.getUrlOpenInNewWindow=function(){return this.get("urlOpenInNewWindow")},e.prototype.setUrlOpenInNewWindow=function(t){this.set("urlOpenInNewWindow",t)},o([l.ActionModelOptions({actionType:c.ActionTypes.url,defaults:{url:null,urlOpenInNewWindow:!1}})],e)}(u.AbstractActionModel);e.UrlActionModel=d},59588:function(t,e,n){"use strict";var i,r,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BringToFrontActionModel=void 0;var u=n(72375),l=n(50169),c=n(36281),d=n(74260),h=s(n(52272)),f=n(57824),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isValid=function(){return h.default.hasFeature(f.FeatureFlagName.POSITION_INTERACTIONS)&&t.prototype.isValid.call(this)},e.prototype.getReverseOption=function(t){return this.get(t)},e.prototype.setReverseOption=function(t,e){this.set(t,e)},e.prototype.shouldUseClickOptions=function(){return"click"===this.parentInteraction.getTrigger()},a([l.ActionModelOptions({actionType:c.ActionTypes.bringToFront,defaults:(r={},r[d.BringToFrontReverseOption.unhover]=!0,r[d.BringToFrontReverseOption.resetOthers]=!1,r)})],e)}(u.AbstractActionModel);e.BringToFrontActionModel=p},64141:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ResetPositionsActionModel=void 0;var s=n(36281),u=n(50169),l=n(93804),c=a(n(52272)),d=n(57824),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return c.default.hasFeature(d.FeatureFlagName.POSITION_INTERACTIONS)&&t.prototype.isValid.call(this)},e.prototype.getResetObjectStates=function(){return this.get("resetObjectStates")},e.prototype.setResetObjectStates=function(t){this.set("resetObjectStates",t)},o([u.ActionModelOptions({actionType:s.ActionTypes.resetPositions,defaults:{resetObjectStates:!1,supportsMultipleTargets:!0}})],e)}(l.AbstractCanvasTargetsActionModel);e.ResetPositionsActionModel=h},81440:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.EmailActionModel=void 0;var a=n(72375),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([s.ActionModelOptions({actionType:u.ActionTypes.email})],e)}(a.AbstractActionModel);e.EmailActionModel=l},14335:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.FacebookActionModel=void 0;var a=n(72375),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([s.ActionModelOptions({actionType:u.ActionTypes.facebook})],e)}(a.AbstractActionModel);e.FacebookActionModel=l},7938:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedInActionModel=void 0;var a=n(72375),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([s.ActionModelOptions({actionType:u.ActionTypes.linkedin})],e)}(a.AbstractActionModel);e.LinkedInActionModel=l},80581:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.PinterestActionModel=void 0;var a=n(72375),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([s.ActionModelOptions({actionType:u.ActionTypes.pinterest})],e)}(a.AbstractActionModel);e.PinterestActionModel=l},35695:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.TwitterActionModel=void 0;var a=n(72375),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([s.ActionModelOptions({actionType:u.ActionTypes.twitter})],e)}(a.AbstractActionModel);e.TwitterActionModel=l},15491:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStateActionModel=void 0;var a=n(93804),s=n(25694),u=n(50169),l=n(36281),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isCanvasTargetTypeValid=function(e){return!!s.ObjectStateManager.targetSupportsPreviewOnlyMode(e)||!!e.isFolder()||!!e.supportsObjectStates()&&t.prototype.isCanvasTargetTypeValid.call(this,e)},e.prototype.getStateDisplayName=function(){var t=this.getState(),e=this.getCanvasTargetModels()[0],n=s.ObjectStateManager.getStates(e).find((function(e){return e.value===t}));return n?n.title:""},e.prototype.getState=function(){return this.get("state")},e.prototype.setState=function(t){this.set("state",t)},e.prototype.getLockState=function(){return this.get("lockState")},e.prototype.setLockState=function(t){this.set("lockState",t)},e.prototype.getDisableHoverArea=function(){return this.get("disableHoverArea")||!1},e.prototype.setDisableHoverArea=function(t){this.set("disableHoverArea",t)},e.prototype.getTrigger=function(){return this.parentInteraction.getTrigger()},e.prototype.shouldHaveDisableHoverArea=function(){return"click"===this.getTrigger()},e.prototype.shouldHaveLockState=function(){return"view"!==this.getTrigger()&&"default"!==this.getState()},o([u.ActionModelOptions({actionType:l.ActionTypes.changeState,defaults:{state:"default",layerTargets:null,autogenerated:!1,supportsMultipleTargets:!0,lockState:!0}})],e)}(a.AbstractCanvasTargetsActionModel);e.ChangeStateActionModel=c},68732:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.FullscreenActionModel=void 0;var a=n(72375),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([s.ActionModelOptions({actionType:u.ActionTypes.fullscreen})],e)}(a.AbstractActionModel);e.FullscreenActionModel=l},13291:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.HideAndStayHiddenCanvasTargetsActionModel=void 0;var a=n(93804),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getResetWhenScrolledOffscreen=function(){return this.get("resetWhenScrolledOffscreen")},e.prototype.setResetWhenScrolledOffscreen=function(t){this.set("resetWhenScrolledOffscreen",t)},o([s.ActionModelOptions({actionType:u.ActionTypes.hideAndStayHiddenCanvasTargets,defaults:{resetWhenScrolledOffscreen:!1,supportsMultipleTargets:!0}})],e)}(a.AbstractCanvasTargetsActionModel);e.HideAndStayHiddenCanvasTargetsActionModel=l},37339:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.HideOnlyActionModel=void 0;var a=n(93804),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([s.ActionModelOptions({actionType:u.ActionTypes.hideOnly})],e)}(a.AbstractCanvasTargetsActionModel);e.HideOnlyActionModel=l},20401:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LightboxActionModel=void 0;var s=a(n(96486)),u=n(72375),l=n(50169),c=n(36281),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LIGHTBOX_MAX_DIMENSION=2e3,e}return r(e,t),e.prototype.isValid=function(){return!(!this.has("lightboxUrl")||s.default.isEmpty(this.get("lightboxUrl"))||!this.isLightboxDimensionValid(this.get("lightboxHeight"))||!this.isLightboxDimensionValid(this.get("lightboxWidth")))},e.prototype.isLightboxDimensionValid=function(t){return!!t&&t>0&&t<=this.LIGHTBOX_MAX_DIMENSION},e.prototype.filterLightboxUrl=function(t){if(-1!==t.indexOf(".")){var e=t.trim().toLowerCase();if(0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&0!==e.indexOf("//"))return"http://"+t}return t},e.prototype.getLightboxUrl=function(){return this.get("lightboxUrl")},e.prototype.getLightboxWidth=function(){return this.get("lightboxWidth")},e.prototype.getLightboxHeight=function(){return this.get("lightboxHeight")},e.prototype.getLightboxHasCloseButton=function(){return this.get("lightboxHasCloseButton")},e.prototype.setLightboxUrl=function(t){this.set("lightboxUrl",t)},e.prototype.setLightboxHeight=function(t){if(!this.isLightboxDimensionValid(t))throw new Error("Lightbox height is invalid "+t);this.set("lightboxHeight",t)},e.prototype.setLightboxWidth=function(t){if(!this.isLightboxDimensionValid(t))throw new Error("Lightbox width is invalid "+t);this.set("lightboxWidth",t)},e.prototype.setLightboxHasCloseButton=function(t){this.set("lightboxHasCloseButton",t)},o([l.ActionModelOptions({actionType:c.ActionTypes.lightbox,defaults:{lightboxUrl:null,lightboxWidth:720,lightboxHeight:576,lightboxHasCloseButton:!0}})],e)}(u.AbstractActionModel);e.LightboxActionModel=d},63778:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ProductActionModel=void 0;var s=a(n(96486)),u=n(72375),l=n(50169),c=n(36281),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return this.has("productPanelId")&&!s.default.isEmpty(this.get("productPanelId"))},e.prototype.getProductPanelId=function(){return this.get("productPanelId")},e.prototype.setProductPanelId=function(t){this.set("productPanelId",t)},o([l.ActionModelOptions({actionType:c.ActionTypes.product,defaults:{productPanelId:null}})],e)}(u.AbstractActionModel);e.ProductActionModel=d},36666:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShoppingCartActionModel=void 0;var a=n(72375),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([s.ActionModelOptions({actionType:u.ActionTypes.shoppingCart})],e)}(a.AbstractActionModel);e.ShoppingCartActionModel=l},54546:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowAndStayVisibleCanvasTargetsActionModel=void 0;var a=n(50169),s=n(36281),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getResetWhenScrolledOffscreen=function(){return this.get("resetWhenScrolledOffscreen")},e.prototype.setResetWhenScrolledOffscreen=function(t){this.set("resetWhenScrolledOffscreen",t)},o([a.ActionModelOptions({actionType:s.ActionTypes.showAndStayVisibleCanvasTargets,defaults:{resetWhenScrolledOffscreen:!1,supportsMultipleTargets:!0}})],e)}(n(93804).AbstractCanvasTargetsActionModel);e.ShowAndStayVisibleCanvasTargetsActionModel=u},41457:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOnlyActionModel=void 0;var a=n(93804),s=n(50169),u=n(36281),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([s.ActionModelOptions({actionType:u.ActionTypes.showOnly})],e)}(a.AbstractCanvasTargetsActionModel);e.ShowOnlyActionModel=l},25694:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectStateManager=e.ObjectStateInputEvents=void 0;var u,l=s(n(86431)),c=s(n(16080)),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s(n(75594)).default);(u=e.ObjectStateInputEvents||(e.ObjectStateInputEvents={})).ACTIVATE="objectstatemanager.activate",u.DEACTIVATE="objectstatemanager.deactivate",u.CHANGE="objectstatemanager.change",u.PREVIEW="objectstatemanager.preview",u.ADD="objectstatemanager.add",u.REMOVE="objectstatemanager.remove",u.RESET="objectstatemanager.reset";var h=function(){function t(){this.collection=null,this.isInInteractionPreviewMode=!1,this.eventHandler=new d}return t.getInstance=function(){return t.instance=t.instance||new t,t.instance},t.setSelectedComponentCollection=function(e){t.getInstance().collection=e},t.setInteractionPreviewMode=function(e){t.getInstance().isInInteractionPreviewMode=e},t.getInteractionPreviewMode=function(){return!(!t.instance||!t.instance.collection)&&t.instance.isInInteractionPreviewMode},t.getSelectedState=function(){var e=t.getCollection();return e&&e.models.length>0?e.models[0].selectedState:l.default.OBJECT_STATES_DEFAULT},t.getSelectedStateName=function(){return t.getStateName(t.getSelectedState())},t.selectionHasGroupWithMixedStates=function(){var e=t.getCollection();return!!e&&e.hasGroupWithMixedStates()},t.getCollection=function(){return t.instance&&t.instance.collection?t.instance.collection:null},t.isDefaultState=function(t){return t===l.default.OBJECT_STATES_DEFAULT},t.isNonDefaultState=function(t){return!!t&&t!==l.default.OBJECT_STATES_DEFAULT},t.isInteractionState=function(t){return t===l.default.OBJECT_STATES_CLICK||t===l.default.OBJECT_STATES_HOVER},t.isUserDefinedState=function(e){return t.isNonDefaultState(e)&&!t.isInteractionState(e)},t.isDefaultStateSelected=function(){return t.isDefaultState(t.getSelectedState())},t.isNonDefaultStateSelected=function(){return t.isNonDefaultState(t.getSelectedState())},t.isInteractionStateSelected=function(){return t.isInteractionState(t.getSelectedState())},t.isUserDefinedStateSelected=function(){return t.isUserDefinedState(t.getSelectedState())},t.selectionSupportsObjectStates=function(){var e=t.getCollection();return!!e&&e.supportsObjectStates()},t.targetSupportsPreviewOnlyMode=function(t){return t.isGroup()||t.isSmartgroup()||t.isMaskGroup()},t.selectionSupportsPreviewOnlyMode=function(){if(this.getInteractionPreviewMode())return!0;var e=t.getCollection();return!!e&&!!e.onlyOneComponentSelected()&&t.targetSupportsPreviewOnlyMode(e.models[0])},t.targetSupportsLinkInteraction=function(t){return t.isGroup()},t.selectionSupportsLinkInteraction=function(){var e=t.getCollection();return!!e&&!!e.onlyOneComponentSelected()&&t.targetSupportsLinkInteraction(e.models[0])},t.getChangedAttributes=function(e){return e&&e.states&&t.isNonDefaultStateSelected()?e.states[t.getSelectedState()]:e},t.getStates=function(e){return a(t.getDefaultState(),t.getInteractionStates(e),t.getUserDefinedStates(e))},t.getDefaultState=function(){return[{title:"Default",value:l.default.OBJECT_STATES_DEFAULT}]},t.getInteractionStates=function(e){if(null===e)return[];var n=e||t.getCollection(),i=n?n.getExistingObjectStates():[],r=[{title:"Click",value:l.default.OBJECT_STATES_CLICK,stateExists:-1!==i.indexOf(l.default.OBJECT_STATES_CLICK),hasActiveProperties:!!n&&n.hasActiveStateProperties(l.default.OBJECT_STATES_CLICK)}];return"desktop"===c.default.getCurrentVariant()&&(r=a([{title:"Hover",value:l.default.OBJECT_STATES_HOVER,stateExists:-1!==i.indexOf(l.default.OBJECT_STATES_HOVER),hasActiveProperties:!!n&&n.hasActiveStateProperties(l.default.OBJECT_STATES_HOVER)}],r)),r},t.hasActiveStateProperties=function(e,n,i){var r=e||t.getCollection();return!!r&&r.hasActiveStateProperties(i,n)},t.getUserDefinedStates=function(e){if(null===e)return[];var n,i=t.getCollection();if(e&&(e.isFolderOrGroup()||e.isSmartgroup())){var r=e.getCollection().models;return t.getUserDefinedStatesForCollection(r)}if(e)n=e;else{if(!i||!i.isSingleComponentThatSupportsObjectStates())return i&&1===i.length&&(i.models[0].isGroup()||i.models[0].isSmartgroup())?(r=i.models[0].getCollection().models,t.getUserDefinedStatesForCollection(r)):i&&i.length?t.getUserDefinedStatesForCollection():[];n=i.models[0]}return n.getUserDefinedStates().map((function(t){return{title:t.title,value:t.id,hasActiveProperties:n.hasActiveStateProperties(t.id),stateExistsForAllSelections:!0}}))},t.getUserDefinedStatesForCollection=function(e){if(!e){var n=t.getCollection();if(!n)return[];e=n.models}if(!e.length)return[];var i=e.filter((function(t){return t.supportsObjectStates()||t.isMaskGroup()})).map(t.getUserDefinedStates);if(!i.length)return[];var r=[];return i.forEach((function(t){r.push.apply(r,a(t.filter((function(t){return!r.find((function(e){return e.title===t.title}))}))))})),r.map((function(t){return{title:t.title,value:t.value,hasActiveProperties:e.some((function(e){return e.hasActiveStateProperties(t.value)})),stateExistsForAllSelections:e.every((function(e){return e.stateExists(t.value)}))}})).sort((function(t,e){return t.title>e.title?1:t.title<e.title?-1:0}))},t.createUserDefinedState=function(){var e=t.getCollection();return e&&this.selectionSupportsObjectStates()?e.addUserDefinedState():null},t.getStateName=function(e){var n=t.getUserDefinedStates();switch(e){case l.default.OBJECT_STATES_DEFAULT:return"Default";case l.default.OBJECT_STATES_HOVER:return"Hover";case l.default.OBJECT_STATES_CLICK:return"Click";default:var i=n.filter((function(t){return t.value===e}))[0];return i?i.title:""}},t.trigger=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];t.getInstance().eventHandler.trigger(e,n)},t.on=function(e,n){(Array.isArray(e)?e:[e]).forEach((function(e){return t.getInstance().eventHandler.on(e,n)}))},t.off=function(e,n){t.getInstance().eventHandler.off(e,n)},t}();e.ObjectStateManager=h},64478:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserDefinedState=void 0;var n=function(){function t(t){this.number=t,this.title="State "+t,this.updateId()}return t.prototype.toJSON=function(){return{id:this.id,number:this.number,title:this.title}},t.withNewTitle=function(e,n){var i=new t(e);return i.updateTitle(n),i},t.prototype.toTextOption=function(){return{title:this.title,value:this.id}},t.prototype.convertTitleToSlug=function(t){return t.toLowerCase().replace(" ","-")},t.prototype.updateTitle=function(t){this.title=t,this.updateId()},t.prototype.updateId=function(){this.id=this.convertTitleToSlug(this.title)},t}();e.UserDefinedState=n},10243:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.defaults=void 0;var u=s(n(96486)),l=a(n(70970));e.defaults=i({},l.defaults),e.supported=u.default.union(l.supported,["animations","animationsRepeatAll","animationsReplayOnScroll"]),e.objectStateSupportedProperties=l.objectStateSupportedProperties},1518:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var s=a(n(10243));e.defaults=i(i({},s.defaults),{title:"External Form",x:100,y:100,width:400,height:100,formId:"",formName:""}),e.supported=["width","x","y","fixedPosition","interactions","formId","formName","sdkTags","sdkPayload"]},70970:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.defaults=void 0;var r=i(n(96486)),o=i(n(86431));e.defaults={type:null,title:"Object",x:0,y:0,width:100,height:100,fixedPosition:!1,preserveAspectRatio:!1,opacity:1,rotation:0,visible:!0,locked:!1,editable:!1,background:{},backgroundHasBeenSet:!1,border:{},animations:[],exitAnimations:[],interactions:[],shadow:{},animationsRepeatAll:!1,animationsReplayOnScroll:!1,sdkTags:[],sdkPayload:"",showHoverCursor:!1,overrides:{},states:{},selectedState:o.default.OBJECT_STATES_DEFAULT,userDefinedStates:[],transition:null},e.supported=r.default.union(r.default.difference(Object.keys(e.defaults),["type","id","visible","locked"]),["corner-radius"]),e.objectStateSupportedProperties=["x","y","width","height","rotation","opacity","preserveAspectRatio","transition"]},4813:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0,e.defaults={parent:null,sdkTags:[],sdkPayload:"",editable:!1},e.supported=Object.keys(e.defaults)},30661:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0,e.defaults={title:"Canvas Background",x:0,y:0,rotation:0,background:{color:"#FFFFFF"}},e.supported=["pageHeight","viewportWidth","viewportHeight","scaleExperienceType","background","backgroundHasBeenSet","editable"]},39449:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var l=a(n(10243)),c=n(50877);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"ChartBlocks Chart",chartId:null,chartName:null,requestToken:null,imageUrl:null,svgUrl:null}),e.supported=u(l.supported,Object.keys(c.MODEL_DEFAULTS),["chartId","chartName","requestToken","imageUrl","svgUrl"])},7100:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supportedMaskGroupCustomShape=e.supported=e.defaults=void 0;var c=l(n(96486)),d=a(n(10243)),h=n(50877),f=n(31379);e.defaults=i(i(i({},d.defaults),h.MODEL_DEFAULTS),{title:"Custom Shape"}),e.supported=c.default.without(c.default.union(Object.keys(e.defaults),d.supported),"corner-radius"),e.supportedMaskGroupCustomShape=c.default.without(u(f.supportedSquare,["mustHaveFill"]),"animations","animationsRepeatAll","animationsReplayOnScroll","corner-radius","border","interactions","shadow","states","selectedState","userDefinedStates","exitAnimations"),e.objectStateSupportedProperties=c.default.union(d.objectStateSupportedProperties,["border","background","shadow","path"])},10709:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=s(n(96486)),l=n(50877),c=a(n(10243));e.defaults=i(i({},c.defaults),l.SECTION_DEFAULTS);var d=u.default.difference(Object.keys(e.defaults),["background","border","shadow"]);e.supported=u.default.union(d,["linkInteraction",l.properties.SCREEN_READER_ONLY_TEXT])},1709:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=s(n(96486)),l=a(n(10243)),c=n(50877);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Hotspot"}),e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),l.supported),["background","border","opacity","shadow","editable"])},26948:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=s(n(96486)),l=a(n(10243)),c=n(50877);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Hotspot"}),e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),l.supported),["background","border","opacity","shadow","editable"])},8091:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var l=a(n(10243)),c=n(50877);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Embedded Object",customHtml:"",thumbnailUrl:null,progress:null,fillEmbedFrame:!1,width:560,height:315,embedSource:null}),e.supported=u(Object.keys(c.MODEL_DEFAULTS),["customHtml","fillEmbedFrame","width","height","x","y","fixedPosition","preserveAspectRatio","progress","sdkTags","sdkPayload","editable","embedSource"])},24442:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var l=a(n(1518)),c=n(50877);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Hubspot Form",hubId:""}),e.supported=u(l.supported,Object.keys(c.MODEL_DEFAULTS),["css","hubId"])},13231:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.maskedImageViewOptions=e.maskedImageHoverOptions=e.maskedImageClickOptions=e.objectStateSupportedProperties=e.objectStateSupportedPropertiesForImageMaskBase=e.supportedAlphaMaskImage=e.supportedShapeMaskImageBase=e.supportedVector=e.supported=e.defaults=void 0;var u=s(n(96486)),l=n(82025),c=n(52348),d=n(36281),h=a(n(10243));e.defaults=i(i({},h.defaults),{title:"Image",image:null,preserveAspectRatio:!0,altText:null,contentType:null,createDate:null,nounProjectIconId:null,gettyImageId:null,gettyVideoId:null,crop:null,effects:l.ImageEffects.getDefaults(),blendingMode:c.BlendingModes.getDefault(),originalUri:null,backgroundRemovedUri:null,originalDimensions:null,backgroundRemovedDimensions:null,flipHorizontal:!1,flipVertical:!1}),e.supported=u.default.without(u.default.union(Object.keys(e.defaults),h.supported),"background"),e.supportedVector=u.default.without(u.default.union(Object.keys(e.defaults),h.supported),"shadow","border"),e.supportedShapeMaskImageBase=u.default.without(u.default.union(Object.keys(e.defaults),h.supported),"animations","background","animationsRepeatAll","animationsReplayOnScroll","fill","exitAnimations"),e.supportedAlphaMaskImage=u.default.without(u.default.union(Object.keys(e.defaults),h.supported),"animations","background","animationsRepeatAll","border","animationsReplayOnScroll","fill","exitAnimations","shadow"),e.objectStateSupportedPropertiesForImageMaskBase=u.default.without(u.default.union(Object.keys(e.defaults),h.supported),"animations","background","animationsRepeatAll","border","animationsReplayOnScroll","fill","exitAnimations","shadow"),e.objectStateSupportedProperties=u.default.union(h.objectStateSupportedProperties,["border","shadow","effects","flipHorizontal","flipVertical","blendingMode"]),e.maskedImageClickOptions=[d.ActionTypes.changeState],e.maskedImageHoverOptions=[d.ActionTypes.changeState],e.maskedImageViewOptions=[d.ActionTypes.changeState]},43060:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.defaults=void 0;var u=s(n(96486)),l=a(n(10243)),c=n(50877);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Line",x2:0,y2:0,width:1,height:1,lineWidth:null,color:null}),e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),l.supported),["rotation","width","height","background","border","corner-radius"]),e.objectStateSupportedProperties=u.default.union(l.objectStateSupportedProperties,["x2","y2","border","shadow","lineWidth","color"])},9900:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var l=a(n(1518)),c=n(50877);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Marketo Form",munchkinId:"",formHash:"",marketoInstanceUrl:""}),e.supported=u(l.supported,Object.keys(c.MODEL_DEFAULTS),["munchkinId","formHash","marketoInstanceUrl"])},31379:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.objectStateSupportedPropertiesForMaskGroupShape=e.supportedMaskGroupSquareShape=e.supportedMaskGroupShape=e.supported=e.supportedSquare=e.defaults=void 0;var c=l(n(96486)),d=a(n(10243)),h=n(50877);e.defaults=i(i(i({},d.defaults),h.MODEL_DEFAULTS),{title:"Shape",shape:null,pathData:null}),e.supportedSquare=c.default.union(Object.keys(e.defaults),d.supported),e.supported=c.default.without(e.supportedSquare,"corner-radius"),e.supportedMaskGroupShape=c.default.without(u(e.supported,["mustHaveFill"]),"animations","animationsRepeatAll","animationsReplayOnScroll","border","interactions","shadow","states","selectedState","userDefinedStates","exitAnimations"),e.supportedMaskGroupSquareShape=c.default.without(u(e.supportedSquare,["mustHaveFill","singleCornerRadius","noStroke"]),"animations","animationsRepeatAll","animationsReplayOnScroll","interactions","shadow","states","selectedState","userDefinedStates","exitAnimations"),e.objectStateSupportedPropertiesForMaskGroupShape=[],e.objectStateSupportedProperties=c.default.union(d.objectStateSupportedProperties,["border","background","shadow"])},95352:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.variantDefaults=e.defaults=void 0;var u=s(n(96486)),l=n(10518),c=n(67757),d=a(n(10243)),h=a(n(50877));e.defaults=i(i(i({},d.defaults),c.MODEL_DEFAULTS),h.MODEL_DEFAULTS),e.variantDefaults={defaultSpan:{fontColor:"rgb(0,0,0)",fontSize:24,variantGuid:l.FontConstants.DEFAULT_FONT_VARIANT_GUID,underline:!1,letterSpacing:0}},e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),d.supported,["autoLeading","indent","justify","columns","columnGap","columnWidth","leading","paddingTop","paddingRight","paddingBottom","paddingLeft","kerning","textShadow","defaultSpan","textSpans","textTransform","synced","htmlTag","hiddenFromScreenReaders"]),["background","border","corner-radius","shadow"]),e.objectStateSupportedProperties=u.default.union(d.objectStateSupportedProperties,["defaultSpan","justify","leading"])},75206:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.manualSaveAttributes=e.objectStateSupportedProperties=e.supported=e.variantDefaults=e.defaults=void 0;var u=s(n(96486)),l=a(n(10243)),c=n(67757),d=n(10518),h=a(n(50877));e.defaults=i(i(i({},l.defaults),c.TEXT_PLUS_MODEL_DEFAULTS),h.MODEL_DEFAULTS),e.variantDefaults={defaultSpan:{fontColor:"#000000",fontSize:c.TEXT_DEFAULT_FONT_SIZE,variantGuid:d.FontConstants.DEFAULT_FONT_VARIANT_GUID,underline:!1,letterSpacing:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,synced:!1}},e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),l.supported,["textData","defaultSpan","synced","paddingTop","paddingRight","paddingBottom","paddingLeft","textTransform","justify","textSpans","listDefinitions","listMarkerStyles","hiddenFromScreenReaders","headings","columns","columnGap","paragraphs"]),["background","border","corner-radius","shadow"]),e.objectStateSupportedProperties=u.default.union(l.objectStateSupportedProperties,["defaultSpan","textSpans","justify","leading"]),e.manualSaveAttributes=["paddingTop","paddingRight","paddingBottom","paddingLeft"]},39957:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var s=a(n(10243));e.defaults=i(i({},s.defaults),{title:"Unsupported"}),e.supported=[]},90319:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=s(n(96486)),l=s(n(88918)),c=a(n(10243)),d=n(50877);e.defaults=i(i(i({},c.defaults),d.MODEL_DEFAULTS),{title:"Video",videoAutoPlay:!1,noAutoplayFallbackOption:l.default.NO_AUTOPLAY_FALLBACK_OPTIONS.TAP_TO_PLAY,mutedAutoplayFallbackOption:l.default.MUTED_AUTOPLAY_FALLBACK_OPTIONS.PLAY_MUTED_VIDEO,videoLoop:!1,videoHideControls:!1,video:null,poster:null,closedCaption:null,progress:null,createDate:null}),e.supported=u.default.without(u.default.union(Object.keys(e.defaults),c.supported),"rotation","interactions","background","border","corner-radius","constrain")},69430:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.TextPlusModel=e.CustomShapeModel=e.GroupModel=e.CanvasBackgroundModel=e.UnsupportedComponentModel=e.TextModel=e.VideoModel=e.ShapeModel=e.LineModel=e.ImageModel=e.HtmlModel=e.HotspotPathModel=e.HotspotModel=e.MarketoFormModel=e.HubspotFormModel=e.ChartblocksModel=e.AbstractFormModel=e.AbstractComponentModel=e.AbstractPageObjectModel=e.AbstractPageSubModel=void 0;var a=o(n(4813));e.AbstractPageSubModel=a;var s=o(n(70970));e.AbstractPageObjectModel=s;var u=o(n(10243));e.AbstractComponentModel=u;var l=o(n(1518));e.AbstractFormModel=l;var c=o(n(39449));e.ChartblocksModel=c;var d=o(n(24442));e.HubspotFormModel=d;var h=o(n(9900));e.MarketoFormModel=h;var f=o(n(1709));e.HotspotModel=f;var p=o(n(26948));e.HotspotPathModel=p;var g=o(n(8091));e.HtmlModel=g;var m=o(n(13231));e.ImageModel=m;var v=o(n(43060));e.LineModel=v;var y=o(n(31379));e.ShapeModel=y;var _=o(n(90319));e.VideoModel=_;var b=o(n(95352));e.TextModel=b;var w=o(n(39957));e.UnsupportedComponentModel=w;var T=o(n(30661));e.CanvasBackgroundModel=T;var S=o(n(10709));e.GroupModel=S;var E=o(n(7100));e.CustomShapeModel=E;var O=o(n(75206));e.TextPlusModel=O},76952:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCustomPathModel=void 0;var c=l(n(96486)),d=u(n(29231)),h=l(n(86431)),f=l(n(16218)),p=l(n(29579)),g=n(91508),m=n(66817),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDrawingALineFromEndpoint=!0,e.MINIMUM_WIDTH=1,e.MINIMUM_HEIGHT=1,e}var n;return r(e,t),n=e,e.prototype.addEdgePointAsPathPoint=function(t){if(null===t)return 0;var e=this.get("path").slice(),n=t.index;return e.splice(n,0,g.CustomPathUtils.convertEdgePointToPath(t)),this.set({path:e}),n},e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n)},e.prototype.isResizable=function(){return!0},e.prototype.mustBeConstrained=function(){return!0},e.prototype.findClosestEndpoint=function(t){for(var e=Number.MAX_VALUE,n=0,i=this.get("path"),r=0;r<i.length;r++){var o=d.distance(i[r],t);o<e&&(n=r,e=o)}return n},e.prototype.addPoint=function(t){var e,n=this.get("path").slice(),i={x:Math.round(t.x),y:Math.round(t.y)};return this.isDrawingALineFromEndpoint?(n.push(i),e=n.length-1):(n.unshift(i),e=0),this.set({path:n}),e},e.prototype.addPointToPath=function(t,e){return t.push({x:e.x,y:e.y}),t},e.prototype.updateControlPointsForNewEndpoint=function(t){var e=this.get("path").slice(),n=this.getPreviewSegmentStartingPointIndex(e),i=e[n].x,r=e[n].y,o=t.x-i,a=t.y-r;e[n]=this.getUpdatedControlPointForNewEndpoint(e[n],i,r,o,a),this.set({path:e})},e.prototype.getUpdatedControlPointForNewEndpoint=function(t,e,n,i,r){return this.isDrawingALineFromEndpoint?(t.cx1=e-i,t.cy1=n-r,t.cx2=e+i,t.cy2=n+r):(t.cx1=e+i,t.cy1=n+r,t.cx2=e-i,t.cy2=n-r),t},e.prototype.getPreviewSegmentStartingPointIndex=function(t){return this.isDrawingALineFromEndpoint?t.length-1:0},e.prototype.getPreviewSegmentEndingPointIndex=function(t){return this.isDrawingALineFromEndpoint?0:t.length-1},e.prototype.moveEndpoint=function(t){var e=t.getWhichPoint(),n=t.getEndPoint().x-t.getStartPoint().x,i=t.getEndPoint().y-t.getStartPoint().y,r=t.getPath(),o=c.default.cloneDeep(r);o[e].x=Math.round(r[e].x+n),o[e].y=Math.round(r[e].y+i),g.CustomPathUtils.hasControlPoints(r[e])&&(o[e].cx1=Math.round((r[e].cx1||0)+n),o[e].cy1=Math.round((r[e].cy1||0)+i),o[e].cx2=Math.round((r[e].cx2||0)+n),o[e].cy2=Math.round((r[e].cy2||0)+i)),this.set({path:o})},e.prototype.moveControlPoint=function(t){var e=t.getEndPoint().x-t.getStartPoint().x,n=t.getEndPoint().y-t.getStartPoint().y,i=t.getWhichPoint(),r=t.getWhichControlPoint(),o="cx"+r,a="cy"+r,s=t.getPath(),u=c.default.cloneDeep(s);if(g.CustomPathUtils.hasControlPoints(s[i])){var l=s[i][o]||0,h=s[i][a]||0;if(u[i][o]=Math.round(l+e),u[i][a]=Math.round(h+n),t.shouldMoveBothControlPoints()){var f={x1:s[i].x,y1:s[i].y,x2:s[i][o]||0,y2:s[i][a]||0},p=d.lineLength(f),m={x1:u[i].x,y1:u[i].y,x2:u[i][o]||0,y2:u[i][a]||0},v=d.lineLength(m),y=Math.angleBetweenLines(f,m),_=1==r?2:1,b="cx"+_,w="cy"+_,T=Math.rotateCoord(s[i][b]||0,s[i][w]||0,s[i].x,s[i].y,-1*y);u[i][b]=T.x,u[i][w]=T.y;var S={x1:u[i].x,y1:u[i].y,x2:u[i][b]||0,y2:u[i][w]||0},E=d.lineLength(S),O=v-p;u[i][b]=Math.round(u[i][b]||+O*(u[i][b]||0-s[i].x)/E),u[i][w]=Math.round(u[i][w]||+O*(u[i][w]||0-s[i].y)/E)}}this.set({path:u})},e.prototype.removeSelectedEndpoint=function(t,e){var n=this.get("path").slice();return n.length-1<=1?(e.removeLayers([this]),!1):(n.splice(t,1),this.set({path:n}),this.calculateAndSaveExtents(),!0)},e.prototype.toggleControlPointsForEndpoint=function(t){var e=this.get("path").slice(),n=(e=c.default.cloneDeep(e))[t];g.CustomPathUtils.hasControlPoints(e[t])?(n.oldCx1=n.cx1,n.oldCx2=n.cx2,n.oldCy1=n.cy1,n.oldCy2=n.cy2,delete n.cx1,delete n.cx2,delete n.cy1,delete n.cy2):n.oldCx1?(n.cx1=n.oldCx1,n.cx2=n.oldCx2,n.cy1=n.oldCy1,n.cy2=n.oldCy2):(n.cx1=n.x-h.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT,n.cx2=n.x+h.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT,n.cy1=n.y-h.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT,n.cy2=n.y+h.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT),this.set({path:e})},e.prototype.calculateAndSaveExtents=function(t){void 0===t&&(t=c.default.cloneDeep(this.get("path"))),this.updateExtents(this.get("x"),this.get("y"),t),this.save()},e.prototype.updateExtents=function(t,e,i,r){var o=n.calculateExtents(t,e,i),a={x:o.x,y:o.y,width:o.width,height:o.height,path:o.path};this.set(a,{silent:r})},e.prototype.transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation=function(t){var e=this,n=this.getTopLeft(),i=this.transformPointFromRotatedPageCoordinateSpace(n,t);this.get("path").forEach((function(r){var o=e.transformPointFromRotatedPageCoordinateSpace(d.Point.sum(n,new d.Point(r.x,r.y)),t);if(r.x=o.x-i.x,r.y=o.y-i.y,!c.default.isUndefined(r.cx1)&&!c.default.isUndefined(r.cy1)){var a=d.Point.sum(n,new d.Point(r.cx1,r.cy1)),s=e.transformPointFromRotatedPageCoordinateSpace(a,t);r.cx1=s.x-i.x,r.cy1=s.y-i.y}if(!c.default.isUndefined(r.cx2)&&!c.default.isUndefined(r.cy2)){var u=d.Point.sum(n,new d.Point(r.cx2,r.cy2)),l=e.transformPointFromRotatedPageCoordinateSpace(u,t);r.cx2=l.x-i.x,r.cy2=l.y-i.y}})),this.updateExtents(i.x,i.y,this.get("path"),!0)},e.prototype.toPageCoordinateSpaceJsonMaintainingPositionAndOrientation=function(){var t=this.getAllParents(),e=this.reconcileJSONForCurrentVariant(!0),i=this.transformPointToRotatedPageCoordinateSpace(this.getTopLeft(),t);e.x=i.x,e.y=i.y;for(var r=e.path,o=0;o<r.length;o++){var a=r[o],s=this.transformPointToRotatedPageCoordinateSpace(d.Point.sum(this.getTopLeft(),new d.Point(a.x,a.y)),t);if(a.x=s.x-i.x,a.y=s.y-i.y,!c.default.isUndefined(a.cx1)&&!c.default.isUndefined(a.cy1)){var u=this.transformPointToRotatedPageCoordinateSpace(d.Point.sum(this.getTopLeft(),new d.Point(a.cx1,a.cy1)),t);a.cx1=u.x-i.x,a.cy1=u.y-i.y}if(!c.default.isUndefined(a.cx2)&&!c.default.isUndefined(a.cy2)){var l=this.transformPointToRotatedPageCoordinateSpace(d.Point.sum(this.getTopLeft(),new d.Point(a.cx2,a.cy2)),t);a.cx2=l.x-i.x,a.cy2=l.y-i.y}}var h=n.calculateExtents(e.x,e.y,r);return e.x=h.x,e.y=h.y,e.width=h.width,e.height=h.height,e.path=h.path,e},e.prototype.roundTransformableAttributes=function(){f.default.prototype.roundTransformableAttributes.call(this);var t=[];this.get("path").forEach((function(e){t.push(c.default.mapValues(e,Math.round))})),this.set("path",t)},e.prototype.resizeAttributes=function(t,e){e=e||t;var n=c.default.cloneDeep(this.get("path"));n.forEach((function(n){n.x=n.x*t,n.y=n.y*e,g.CustomPathUtils.hasControlPoints(n)&&(n.cx1=n.cx1*t,n.cy1=n.cy1*e,n.cx2=n.cx2*t,n.cy2=n.cy2*e)})),this.set("path",n)},e.calculateExtents=function(t,e,n){for(var i=g.CustomPathUtils.calculateBoundingBox(t,e,n),r=-1*Math.round(i.minX-t),o=-1*Math.round(i.minY-e),a=c.default.cloneDeep(n),s=0;s<a.length;s++)a[s].x+=r,a[s].y+=o,c.default.isUndefined(a[s].cx1)||(a[s].cx1=(a[s].cx1||0)+r),c.default.isUndefined(a[s].cy1)||(a[s].cy1=(a[s].cy1||0)+o),c.default.isUndefined(a[s].cx2)||(a[s].cx2=(a[s].cx2||0)+r),c.default.isUndefined(a[s].cy2)||(a[s].cy2=(a[s].cy2||0)+o);return{x:Math.round(i.minX),y:Math.round(i.minY),width:Math.round(i.maxX-i.minX),height:Math.round(i.maxY-i.minY),path:a}},e.prototype.setWidthWhileMaintainingCanvasLeft=function(t,e,n){var i=this.get("width"),r=t*(this.get("height")/i);this.setDimensionsWhileMaintainingCanvasTopLeft(t,r,n)},e.prototype.setHeightWhileMaintainingCanvasTop=function(t,e,n){var i=t*(this.get("width")/this.get("height"));this.setDimensionsWhileMaintainingCanvasTopLeft(i,t,n)},e.prototype.setDimensionsWhileMaintainingCanvasTopLeft=function(e,n,i){e>this.MINIMUM_WIDTH&&n>this.MINIMUM_HEIGHT&&(this.resizeAttributes(e/this.get("width"),n/this.get("height")),t.prototype.setDimensionsWhileMaintainingCanvasTopLeft.call(this,Math.round(e),Math.round(n),i),this.updateExtents(this.get("x"),this.get("y"),this.get("path")))},e.prototype.getObjectStateSupportedProperties=function(){return p.default.CustomShapeModel.objectStateSupportedProperties},n=s([m.BackboneShim({objectStatesEnabled:!0})],e)}(f.default);e.AbstractCustomPathModel=v},91508:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomPathUtils=void 0;var s=o(n(29231)),u=a(n(96486)),l=function(){function t(){}return t.calculateBoundingBox=function(e,n,i){var r=function(i){return t.makePointAbsolute(i.x,i.y,e,n)},o=[],a=[],s=r(i[0]);o.push(s.x),a.push(s.y);for(var l=1;l<i.length;l++){var c=r(i[l]);if(t.hasControlPoints(i[l-1])||t.hasControlPoints(i[l])){var d=r(i[l-1]),h=t.getAbsoluteControlPoints(i[l-1],e,n),f=t.getAbsoluteControlPoints(i[l],e,n),p=this.findNewPotentialPointForBounds(d,c,h,f);o=o.concat(p.x),a=a.concat(p.y)}o.push(c.x),a.push(c.y)}if(t.hasControlPoints(i[i.length-1])||t.hasControlPoints(i[0])){var g=r(i[i.length-1]),m=t.getAbsoluteControlPoints(i[i.length-1],e,n),v=t.getAbsoluteControlPoints(i[0],e,n);p=this.findNewPotentialPointForBounds(g,s,m,v),o=o.concat(p.x),a=a.concat(p.y)}return{minX:u.default.min(o)||0,minY:u.default.min(a)||0,maxX:u.default.max(o)||0,maxY:u.default.max(a)||0}},t.findNewPotentialPointForBounds=function(t,e,n,i){return{x:s.cubicBezierCurveFirstDerivativeRoots(t.x,n.cx2||0,i.cx1||0,e.x),y:s.cubicBezierCurveFirstDerivativeRoots(t.y,n.cy2||0,i.cy1||0,e.y)}},t.makePointAbsolute=function(t,e,n,i){return t=t||0,e=e||0,{x:t+=n,y:e+=i}},t.getAbsoluteControlPoints=function(e,n,i){var r=t.getControlPoints(e),o=t.makePointAbsolute(r.cx1,r.cy1,n,i),a=t.makePointAbsolute(r.cx2,r.cy2,n,i);return{cx1:o.x,cy1:o.y,cx2:a.x,cy2:a.y}},t.convertEdgePointToPath=function(t){return{x:t.x,y:t.y,cx1:t.cx1,cy1:t.cy1,cx2:t.cx2,cy2:t.cy2}},t.hasControlPoints=function(t){return!(u.default.isUndefined(t.cx1)||u.default.isUndefined(t.cy1)||u.default.isUndefined(t.cx2)||u.default.isUndefined(t.cy2))},t.getControlPoints=function(e){return t.hasControlPoints(e)?{cx1:e.cx1||0,cy1:e.cy1||0,cx2:e.cx2||0,cy2:e.cy2||0}:{cx1:e.x,cy1:e.y,cx2:e.x,cy2:e.y}},t.prototype.getHeightAndWidth=function(e){var n=[],i=[],r=e[0];n.push(r.x),i.push(r.y);for(var o=1;o<e.length;o++){var a=e[o];if(t.hasControlPoints(e[o-1])||t.hasControlPoints(e[o])){var l=e[o-1],c=t.getControlPoints(e[o-1]),d=t.getControlPoints(e[o]),h=t.findNewPotentialPointForBounds(l,a,c,d);n=n.concat(h.x),i=i.concat(h.y)}n.push(a.x),i.push(a.y)}if(t.hasControlPoints(e[e.length-1])||t.hasControlPoints(e[0])){var f=e[e.length-1],p=t.getControlPoints(e[e.length-1]),g=t.getControlPoints(e[0]);n=n.concat(s.cubicBezierCurveFirstDerivativeRoots(f.x,p.cx2||0,g.cx1||0,r.x)),i=i.concat(s.cubicBezierCurveFirstDerivativeRoots(f.y,p.cy2||0,g.cy1||0,r.y))}var m=u.default.min(n)||0,v=u.default.min(i)||0,y=u.default.max(n)||0;return{height:(u.default.max(i)||0)-v,width:y-m}},t.makeControlPointDefinitive=function(t){return{cx1:t.cx1||0,cy1:t.cy1||0,cx2:t.cx2||0,cy2:t.cy2||0}},t}();e.CustomPathUtils=l},84767:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomShapeModel=void 0;var a=n(76952),s=o(n(29579)),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults=s.default.CustomShapeModel.defaults,e}return r(e,t),e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n)},e.prototype.getDisplayLabel=function(){return"Custom Shape"},e.prototype.supportsObjectStates=function(){return!this.isInMaskGroup()&&t.prototype.supportsObjectStates.call(this)},e.prototype.getSupported=function(){return this.isInMaskGroup()?s.default.ShapeModel.supportedMaskGroupShape:s.default.CustomShapeModel.supported},e.prototype.isCustomShapeComponent=function(){return!0},e.prototype.isMask=function(){return this.isInMaskGroup()&&"image-component"!==this.get("type")},e}(a.AbstractCustomPathModel);e.CustomShapeModel=u},75541:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HotspotPathModel=void 0;var a=n(76952),s=o(n(29579)),u=n(85650),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults=s.default.HotspotPathModel.defaults,e.objectStatesEnabled=!1,e}return r(e,t),e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n),this.set({isClosedPath:!0})},e.prototype.getDisplayLabel=function(){return"Hotspot"},e.prototype.getPreviewSegmentStartingPointIndex=function(t){return t.length-1},e.prototype.getPreviewSegmentEndingPointIndex=function(){return 0},e.prototype.getUpdatedControlPointForNewEndpoint=function(t,e,n,i,r){return t.cx1=e-i,t.cy1=n-r,t.cx2=e+i,t.cy2=n+r,t},e.prototype.addPoint=function(t){var e=this.get("path").slice(),n=e.length;return e.push({x:t.x,y:t.y}),this.set({path:e}),n},e.prototype.getSupported=function(){return s.default.HotspotPathModel.supported},e.prototype.isUserSelectable=function(){return u.BackboneCapabilitySelectors.SelectShowHotspots()},e.prototype.isHotspotComponent=function(){return!0},e.prototype.isEditableComponent=function(){return!1},e}(a.AbstractCustomPathModel);e.HotspotPathModel=l},91391:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractDropdownWidgetView=e.DropdownOption=void 0;var u,l=s(n(65311)),c=s(n(42216)),d=s(n(52362)),h=n(87026),f=n(66817);!function(t){t.UP="up",t.DOWN="down"}(u||(u={}));var p=function(t,e){this.option=t,this.selected=e};e.DropdownOption=p;var g={CHANGE:"dropDown:optionSelected",ACTIVATE:"dropDown:activate",DEACTIVATE:"dropDown:deactivate",PREVIEW:"dropDown:optionMouseenter",DISABLE_PREVIEW:"dropDown:optionMouseleave"},m=function(t){function e(e){var n=t.call(this,e)||this;return n.activated=!1,n.disabled=!1,n.shouldDeactivateOnClick=!1,n.header="",n.dropdownClassName="",n.header=e.header,n.scrollParent=e.scrollParent,n}return r(e,t),e.prototype.events=function(){var t;return(t={"click .dropdown-widget-placeholder":"activate"})["click "+this.optionSelector]="handleOptionSelect",t},Object.defineProperty(e.prototype,"optionSelector",{get:function(){return"[data-dropdown-option]"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$optionsContainer",{get:function(){return this.$(".dropdown-widget-options")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$placeholderContainer",{get:function(){return this.$(".dropdown-widget-placeholder")},enumerable:!1,configurable:!0}),e.prototype.getDropdownOptions=function(t){var e=this;return t.map((function(t){return new p(t,e.isOptionSelected(t))}))},e.prototype.handleOptionSelect=function(t){var e=l.default(t.target).closest(this.optionSelector),n=this.parseValueFromOption(e);this.selectOption(n)},e.prototype.selectOption=function(t){this.setValue(t),this.mixedState=!1,this.deactivate(),this.trigger(this.EVENTS.CHANGE,{value:t})},e.prototype.disable=function(t){void 0===t&&(t=!0),this.disabled=!0,t&&this.render(""),this.render()},e.prototype.enable=function(){this.disabled=!1,this.render()},e.prototype.setValue=function(t){this.value=t,this.render()},e.prototype.render=function(t){void 0===t&&(t=null);var e=null!==t?t:this.placeholder;!this.value&&this.mixedState&&(e="Mixed"),this.$el.html(c.default.render(d.default,o(o({},this),{placeholder:e}))),this.renderOptions(this.$optionsContainer);var n=this.getDropdownDirection(),i=this.getDropdownStyle(n);return this.$optionsContainer.data("direction",n).css(i),!this.value&&this.mixedState&&(e="Mixed"),this.$placeholderContainer.text(e),this.activated&&this.options.scrollable&&this.applyScrollability(),this.disabled&&this.$placeholderContainer.addClass("disabled"),this},e.prototype.getDropdownDirection=function(){var t=this.$el.offset(),e=this.scrollParent.offset(),n=this.scrollParent.outerHeight(),i=this.$optionsContainer.outerHeight();if(t&&e&&n&&i){var r=n+e.top;if(t.top+i>r)return u.UP}return u.DOWN},e.prototype.getDropdownStyle=function(t){return t===u.UP?{top:"auto",bottom:"0"}:{top:"0",bottom:"auto"}},e.prototype.applyScrollability=function(){var t=this.$placeholderContainer,e=this.$optionsContainer.addClass("scrollable");if(this.getDropdownDirection()===u.DOWN){var n=parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom"))+parseInt(t.css("border-top"))+parseInt(t.css("border-bottom")),i=l.default(window).height()-(t.offset().top+t.height())-n;e.css("max-height",i)}else e.css("max-height",t.offset().top)},e.prototype.activate=function(){var t=this;if(!this.activated&&!this.disabled){this.activated=!0,this.shouldDeactivateOnClick=!1;var e=function(){t.shouldDeactivateOnClick?(l.default("body").off("click",e),t.deactivate()):t.shouldDeactivateOnClick=!0};l.default("body").on("click",e),this.trigger(this.EVENTS.ACTIVATE),this.render()}},e.prototype.deactivate=function(){this.activated=!1,this.trigger(this.EVENTS.DEACTIVATE),this.render()},e.prototype.refresh=function(t,e){this.setMixedState(!!e),this.setValue(e?null:t),this.render()},e.prototype.isActivated=function(){return this.activated},a([f.BackboneShim({EVENTS:g})],e)}(h.AbstractWidgetView);e.AbstractDropdownWidgetView=m},87026:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractWidgetView=void 0;var a=n(40357),s=n(66817),u={CHANGE:"change",KEYUP:"keyup",KEYDOWN:"keydown",FOCUSOUT:"focusout"},l={"change input":"onChange","change select":"onChange","change textarea":"onChange"},c=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.value=n.options.value||null,n.mixedState=n.options.mixedState||null,n}return r(e,t),e.prototype.setValue=function(t){this.value=t},e.prototype.getValue=function(){return this.mixedState?null:this.value},e.prototype.clearValue=function(){this.refresh("",!1)},e.prototype.onChange=function(){this.setValue(this.getValueFromInput()),this.mixedState&&(this.setMixedState(!1),this.$("#"+this.id).removeClass("widget-mixed-value")),this.trigger(u.CHANGE,{value:this.getValue()})},e.prototype.getValueFromInput=function(){return this.$("input").val()},e.prototype.refresh=function(t,e){this.setMixedState(!!e),this.setValue(this.mixedState?null:t),this.render()},e.prototype.setMixedState=function(t){this.mixedState=t},e.prototype.getMixedState=function(){return this.mixedState},e.prototype.disable=function(){this.$("input").prop("disabled",!0)},e.prototype.enable=function(){this.$("input").prop("disabled",!1)},o([s.BackboneShim({EVENTS:u,events:l})],e)}(a.AbstractView);e.AbstractWidgetView=c},39865:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextDropdownWidgetView=void 0;var s=a(n(42216)),u=n(91391),l=a(n(19340)),c=function(t){function e(e){var n=t.call(this,e)||this;return n.choices=[],n.choices=e.choices,n}return r(e,t),e.prototype.events=function(){var e,n=t.prototype.events.call(this);return o(o({},n),((e={})["mouseenter "+this.optionSelector]="preview",e))},e.prototype.preview=function(t){var e=$(t.target).closest(this.optionSelector),n=this.parseValueFromOption(e);this.trigger(this.EVENTS.PREVIEW,{value:n})},e.prototype.parseValueFromOption=function(t){return t.data("dropdown-option-value")},e.prototype.isOptionSelected=function(t){return t.value===this.value},Object.defineProperty(e.prototype,"placeholder",{get:function(){var t=this,e=this.choices.find((function(e){return e.value===t.value}));return e?e.title:""},enumerable:!1,configurable:!0}),e.prototype.renderOptions=function(t){t.html(s.default.render(l.default,{choices:this.getDropdownOptions(this.choices)}))},e}(u.AbstractDropdownWidgetView);e.TextDropdownWidgetView=c},15923:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackboneHooks=void 0;var n=function(){function t(){}return t.setStore=function(t){this._store=t},t.dispatch=function(t){return this._store.dispatch(t)},t.dispatchThunk=function(t){this._store.dispatch(t)},t.useSelector=function(t){return t(this._store.getState())},t}();e.BackboneHooks=n},14930:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasSelectors=void 0;var i=n(71703),r=function(){function t(){}return t.SelectIsInNormalMode=function(t){return t.canvas.mode.type===i.CanvasModeType.NORMAL},t.SelectIsInIsolationMode=function(t){return t.canvas.mode.type===i.CanvasModeType.ISOLATION},t.SelectIsolationSyncedObjectId=function(t){return t.canvas.mode.type===i.CanvasModeType.ISOLATION?t.canvas.mode.syncedObjectId:null},t}();e.CanvasSelectors=r},71703:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.initialCanvasState=e.CanvasModeType=void 0,function(t){t.NORMAL="normal",t.ISOLATION="isolation"}(n=e.CanvasModeType||(e.CanvasModeType={})),e.initialCanvasState={mode:{type:n.NORMAL}}},18811:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditModeSelectors=void 0;var i=n(43629),r=function(){function t(){}return t.SelectElementVisibility=function(t){return t.editMode.elementVisibility},t.SelectElementVisibilityById=function(e){return i.createSelector(t.SelectElementVisibility,(function(t){return t&&t.hasOwnProperty(e)?t[e]:null}))},t.SelectObjectStates=function(t){return t.editMode.objectStates},t}();e.EditModeSelectors=r},89611:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutSelectors=void 0;var n=function(){function t(){}return t.AreLayoutsEnabled=function(t){return t.layout.enabled},t.SelectExistingLayouts=function(t){return t.layout.existingLayouts},t.SelectCurrentLayout=function(t){return t.layout.currentLayout},t.CurrentLayoutExists=function(t){return t.layout.existingLayouts.includes(t.layout.currentLayout)},t}();e.LayoutSelectors=n},43912:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.PageSelectors=void 0;var r=n(43629),o=n(44727),a=n(14930),s=n(2877),u=n(17656),l=n(89611),c=function(){function t(){}return t.SelectPages=function(t){return t.page.pages},t.SelectCurrentPageSlug=function(t){return t.page.currentPageSlug},t.SelectPageOptions=r.createSelector(t.SelectPages,(function(t){return t.map((function(t){return{value:t.pageNumber,label:t.pageNumber+". "+(t.name||"Untitled page")}})).sort((function(t,e){return t.value-e.value}))})),t.SelectCurrentPage=r.createSelector(t.SelectPages,t.SelectCurrentPageSlug,(function(t,e){return t.find((function(t){return t.slug===e}))||null})),t.SelectComponentsInDictionaryFromCurrentPage=r.createSelector(t.SelectCurrentPage,(function(t){return t?t.layerDictionary:{}})),t.SelectComponentsInHierarchyFromCurrentPage=r.createSelector(t.SelectCurrentPage,l.LayoutSelectors.SelectCurrentLayout,(function(t,e){if(!t)return[];var n=t.layerHierarchies[e];return n?o.ComponentsService.assembleComponentsIntoParentChildHierarchy(t.layerDictionary,n):[]})),t.SelectComponentsInFlatArrayFromCurrentPage=r.createSelector(t.SelectCurrentPage,(function(t){return t?Object.values(t.layerDictionary):[]})),t.SelectComponentsInDictionaryFromPage=function(e){return r.createSelector(t.SelectPages,(function(t){var n=t.find((function(t){return t.slug===e}));return n?n.layerDictionary:{}}))},t.SelectComponentsInHierarchyFromPage=function(e){return r.createSelector(t.SelectPages,l.LayoutSelectors.SelectCurrentLayout,(function(t,n){var i=t.find((function(t){return t.slug===e}));if(!i)return[];var r=i.layerHierarchies[n];return r?o.ComponentsService.assembleComponentsIntoParentChildHierarchy(i.layerDictionary,r):[]}))},t.SelectComponentsInFlatArrayFromPage=function(e){return r.createSelector(t.SelectPages,(function(t){var n=t.find((function(t){return t.slug===e}));return n?Object.values(n.layerDictionary):[]}))},t.SelectComponentInteractionTargets=r.createSelector((function(t){return t}),a.CanvasSelectors.SelectIsolationSyncedObjectId,t.SelectComponentsInHierarchyFromCurrentPage,(function(t,e,n){return e?s.SyncedObjectsSelectors.SelectSyncedObjectComponentsInHierarchyById(e)(t).map(d).filter(h):n.map(d).filter(h)})),t}();e.PageSelectors=c;var d=function(t){var e=i({},t);return e.items&&e.items.length>0&&(e.items=e.items.map(d)),e},h=function(t){var e;return t.type!==u.ComponentType.CANVAS_BACKGROUND_COMPONENT&&((null===(e=t.items)||void 0===e?void 0:e.length)&&(t.type===u.ComponentType.MASK_GROUP?t.items=t.items.filter((function(t){return t.type!==u.ComponentType.SHAPE_COMPONENT&&t.type!==u.ComponentType.CUSTOM_SHAPE_COMPONENT})):t.items=t.items.filter(h)),!0)}},25841:function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.SelectedComponentsSelectors=void 0;var r=n(43629),o=n(43912),a=n(14930),s=n(2877),u=n(17656),l=n(17871),c=function(){function t(){}return t.SelectComponentIds=function(t){return t.selectedComponents.componentIds},t.SelectComponentsInFlatArray=r.createSelector((function(t){return t}),t.SelectComponentIds,o.PageSelectors.SelectComponentsInDictionaryFromCurrentPage,a.CanvasSelectors.SelectIsolationSyncedObjectId,(function(t,e,n,r){var o,a,u,l;if(r){var c=s.SyncedObjectsSelectors.SelectSyncedObjectComponentsInDictionaryById(r)(t),d=[];try{for(var h=i(e),f=h.next();!f.done;f=h.next())(v=f.value)in c&&d.push(c[v])}catch(t){o={error:t}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}return d}var p=[];try{for(var g=i(e),m=g.next();!m.done;m=g.next()){var v;(v=m.value)in n&&p.push(n[v])}}catch(t){u={error:t}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(u)throw u.error}}return p})),t.SelectComponentTypes=r.createSelector(t.SelectComponentsInFlatArray,(function(t){return t.map((function(t){return t.type}))})),t.SelectMultiSelectPropertyValues=function(t){return t.selectedComponents.multiSelectPropertyValues},t.SelectFontSize=r.createSelector(t.SelectMultiSelectPropertyValues,(function(t){return t.fontSize})),t.SelectInteractions=function(t){return t.selectedComponents.interactions},t.SelectMixedInteractionCount=function(t){return t.selectedComponents.mixedInteractionCount},t.SelectSupportedInteractionTriggerTypes=function(t){return t.selectedComponents.supportedInteractionTriggerTypes},t.SelectSyncedObjectId=r.createSelector(t.SelectComponentsInFlatArray,(function(t){var e=1===t.length&&t[0];return e&&e.type===u.ComponentType.SMART_GROUP?e.smartgroupId:null})),t.SelectDesignPanelName=r.createSelector(t.SelectComponentTypes,(function(t){if(!t.length)return null;if(t.length>1)return"Multiple";var e=t[0];switch(e){case u.ComponentType.CANVAS_BACKGROUND_COMPONENT:return"Canvas";case u.ComponentType.SHAPE_COMPONENT:case u.ComponentType.SQUARE_SHAPE_COMPONENT:case u.ComponentType.CUSTOM_SHAPE_COMPONENT:case u.ComponentType.SHAPE_MASK_COMPONENT:case u.ComponentType.SQUARE_SHAPE_MASK_COMPONENT:return"Shape";case u.ComponentType.TEXT_COMPONENT:case u.ComponentType.TEXT_PLUS_COMPONENT:return"Text";case u.ComponentType.IMAGE_COMPONENT:case u.ComponentType.SVG_IMAGE_COMPONENT:case u.ComponentType.IMAGE_MASK_BASE_COMPONENT:case u.ComponentType.IMAGE_ALPHAMASK_MASK_COMPONENT:case u.ComponentType.IMAGE_ALPHAMASK_BASE_COMPONENT:return"Image";case u.ComponentType.VIDEO_WIDGET:return"Video";case u.ComponentType.HOTSPOT_COMPONENT:case u.ComponentType.HOTSPOT_PATH_COMPONENT:return"Hotspot";case u.ComponentType.MASK_COMPONENT:return"Mask";case u.ComponentType.CHARTBLOCKS_CHART_COMPONENT:return"ChartBlocks";case u.ComponentType.LINE_COMPONENT:return"Line";case u.ComponentType.HTML_COMPONENT:return"Embedded object";case u.ComponentType.FOLDER:return"Folder";case u.ComponentType.GROUP:return"Group";case u.ComponentType.SMART_GROUP:return"Synced object";case u.ComponentType.MASK_GROUP:return"Mask group";case u.ComponentType.HUBSPOT_FORM_COMPONENT:case u.ComponentType.MARKETO_FORM_COMPONENT:return"Form";default:l.assertUnreachable(e)}})),t}();e.SelectedComponentsSelectors=c},2877:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncedObjectsSelectors=void 0;var i=n(43629),r=n(89611),o=n(44727),a=function(){function t(){}return t.SelectSyncedObjects=function(t){return t.syncedObjects.syncedObjects},t.SelectSyncedObjectById=function(e){return i.createSelector(t.SelectSyncedObjects,(function(t){return t.find((function(t){return t.id===e}))}))},t.SelectSyncedObjectComponentsInDictionaryById=function(e){return i.createSelector(t.SelectSyncedObjectById(e),(function(t){return t?t.layerDictionary:{}}))},t.SelectSyncedObjectComponentsInHierarchyById=function(e){return i.createSelector(t.SelectSyncedObjectById(e),r.LayoutSelectors.SelectCurrentLayout,(function(t,e){if(!t)return[];var n=t.layerHierarchies[e];return n?o.ComponentsService.assembleComponentsIntoParentChildHierarchy(t.layerDictionary,n):[]}))},t.SelectSyncedObjectComponentsInFlatArrayById=function(e){return i.createSelector(t.SelectSyncedObjectById(e),(function(t){return t?Object.values(t.layerDictionary):[]}))},t}();e.SyncedObjectsSelectors=a},40464:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackboneToolSelectors=e.ToolSelectors=void 0;var i=n(15923),r=n(27933),o=function(){function t(){}return t.SelectTool=function(t){return t.tool.tool},t.SelectIsComponentCreationToolSelected=function(t){return![r.ToolType.SELECT,r.ToolType.PAN,r.ToolType.CANVAS_ADJUSTMENT].includes(t.tool.tool)},t.SelectIsSelectToolSelected=function(t){return t.tool.tool===r.ToolType.SELECT},t.SelectIsPanToolSelected=function(t){return t.tool.tool===r.ToolType.PAN},t.SelectIsTextToolSelected=function(t){return[r.ToolType.TEXT,r.ToolType.TEXT_PLUS].includes(t.tool.tool)},t}();e.ToolSelectors=o;var a=function(){function t(){}return t.SelectIsComponentCreationToolSelected=function(t){return i.BackboneHooks.useSelector(o.SelectIsComponentCreationToolSelected)},t}();e.BackboneToolSelectors=a},27933:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.initialState=e.ToolType=void 0,function(t){t.SELECT="select",t.PAN="pan",t.TEXT_PLUS="text-plus",t.TEXT="text",t.SHAPE="shape",t.SQUARE_SHAPE="square-shape",t.TRIANGLE_SHAPE="triangle-shape",t.CIRCLE_SHAPE="circle-shape",t.RIGHT_TRIANGLE_SHAPE="right-triangle-shape",t.CUSTOM_SHAPE="custom-shape",t.LINE="line",t.MEDIA="media",t.HOTSPOT="hotspot",t.HOTSPOT_PATH="hotspot-path",t.CANVAS_ADJUSTMENT="canvas-adjustment",t.ANCHOR="anchor",t.HTML="html",t.INTEGRATIONS="integrations"}(n=e.ToolType||(e.ToolType={})),e.initialState={tool:n.SELECT}},31414:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextPlusModel=e.TEXT_PLUS_EVENTS=e.LinkPlusType=e.BoxMode=void 0;var h,f,p=d(n(16218)),g=s(n(75206)),m=n(67757),v=d(n(72753)),y=s(n(96486)),_=d(n(16080)),b=n(34654),w=n(36875),T=n(10518),S=n(25694),E=n(73065),O=n(42286);(f=e.BoxMode||(e.BoxMode={})).FIXEDSIZE="fixedsize",f.AUTOWIDTH="autowidth",f.AUTOHEIGHT="autoheight",(h=e.LinkPlusType||(e.LinkPlusType={})).URL="url",h.PAGE="page",h.POSITION="position",h.OBJECT="object",e.TEXT_PLUS_EVENTS={FONTS_LOADED:"fonts:loaded",FONT_COLOR_CHANGED_RETAIN_OPACITY:"textplus:font-color-changed-retain-opacity"};var P=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i.objectStatesEnabled=!0,i.fontPlusData=[],i.layerDictionaryAndHierarchyService=n.layerDictionaryAndHierarchyService,i}return r(n,t),n.prototype.shouldLoadFonts=function(){return!!this.getTextContent()},n.prototype.getDocumentVersion=function(){return window.data.documentVersion},n.prototype.getLineHeightCompatibility=function(){return this.getDocumentVersion().getLineHeightCompatibility()},n.prototype.initialize=function(t,n){var i=this;this.options=n,p.default.prototype.initialize.call(this,t,n),this.on(e.TEXT_PLUS_EVENTS.FONT_COLOR_CHANGED_RETAIN_OPACITY,(function(t){i.getDocumentVersion().textPlusDefaults.setDefaultSpan({fontColor:t})}))},n.prototype.defaults=function(){return g.defaults},n.prototype.variantDefaults=function(){return y.default.cloneDeep(g.variantDefaults)},n.prototype.isTextPlusComponent=function(){return!0},n.prototype.areFontsReady=function(){return this.isFontLoaded()},n.prototype.forceProcessFonts=function(){this.processFonts()},n.prototype.setFontsLoading=function(){this.setFontPlusData()},n.prototype.setFontsReady=function(){this.trigger(e.TEXT_PLUS_EVENTS.FONTS_LOADED),this.fontPlusData.forEach((function(t){return t.loaded=!0}))},n.prototype.getObjectStateSupportedProperties=function(){return g.objectStateSupportedProperties},n.prototype.getFontPlusData=function(){return this.fontPlusData},n.prototype.manualSaveAttributes=function(){return g.manualSaveAttributes},n.prototype.saveEditorData=function(t,e,n,i,r){void 0===r&&(r=_.default.getCurrentVariant()),this.saveData(t,e,i,r,n)},n.prototype.saveEditorTextData=function(t,e,n,i){void 0===i&&(i=_.default.getCurrentVariant()),this.saveData(t,e,n,i)},n.prototype.saveData=function(t,e,n,i,r){this.canSave()&&(this.saveTextContent(t,i),this.saveSpanData(e,i,r),this.saveDefinitionData(n,i),this.processFonts(),this.isSyncedTextComponent()&&this.set("overrides",this.buildOverridesWithEmptySyncedProperties()),"true"==window.localStorage.getItem("DEBUG_TEXT_PLUS")&&this.debugTextPlusModel(this,n))},n.prototype.canSave=function(){return!!this.saveHandler},n.prototype.setWithSmartGroupsAndVariants=function(t,e,n){!this.inSmartgroup&&n?this.set(t,e,{variant:n}):this.set(t,e),O.reportTextCanvasAnalytics(this,t,e,n)},n.prototype.saveTextContent=function(t,e){this.updateTitle(t),this.setWithSmartGroupsAndVariants(m.properties.TEXT_CONTENT,t,e)},n.prototype.saveSpanData=function(t,e,n){S.ObjectStateManager.isDefaultStateSelected()&&this.setWithSmartGroupsAndVariants(m.properties.TEXT_SPANS,t,e),n&&this.setIfNotEqual(m.properties.DEFAULT_SPAN,n,e)},n.prototype.saveDefinitionData=function(t,e){var n=t.lists,i=t.headings,r=t.lines,o=t.listMarkerStyles;this.setWithSmartGroupsAndVariants(m.properties.LIST_DEFINITIONS,y.default.filter(n,(function(t){return t.attributes.listElementType==b.ListElementEnum.LI})),e),this.setWithSmartGroupsAndVariants(m.properties.HEADINGS,i,e),this.setWithSmartGroupsAndVariants(m.properties.LINES,r,e),this.setWithSmartGroupsAndVariants(m.properties.LIST_MARKER_STYLES,o,e)},n.prototype.setIfNotEqual=function(t,e,n){E.isCurrentValueEqual(this,t,e,n)||this.setWithSmartGroupsAndVariants(t,e,n)},n.prototype.isFontLoaded=function(){return!!this.fontPlusData.length&&!this.fontPlusData.find((function(t){return!t.loaded}))},n.prototype.debugTextPlusModel=function(t,e){var n,i,r,o,a,s;console.group("Data Model"),console.group("textContent"),console.log(t.get("textContent")),console.groupEnd(),console.groupCollapsed("textSpans"),console.log(t.get("textSpans")),console.groupEnd(),console.groupCollapsed("defaultSpan"),console.table(t.get("defaultSpan"),["value"]),console.groupEnd(),console.groupCollapsed("model attributes"),console.table(this.attributes,["value"]),console.groupEnd(),console.groupCollapsed("element definitions"),console.log(e),console.groupCollapsed("Lists");try{for(var l=u(e.lists),c=l.next();!c.done;c=l.next()){var d=c.value;console.log("    ".repeat(d.attributes.listIndent)+d.attributes.listElementType)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}console.groupEnd(),console.groupCollapsed("Paragraphs");try{for(var h=u(e.paragraphs),f=h.next();!f.done;f=h.next()){var p=f.value;console.log(p)}}catch(t){r={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}console.groupEnd(),console.groupCollapsed("Headings");try{for(var g=u(e.headings),m=g.next();!m.done;m=g.next()){var v=m.value;console.log(v.attributes.headingElementType)}}catch(t){a={error:t}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}console.groupEnd(),console.groupEnd(),console.groupEnd()},n.prototype.getListDefinitions=function(t){return this.getWithSmartGroupsAndVariants("listDefinitions",t)},n.prototype.getListMarkerStyleDefinition=function(t){return this.getWithSmartGroupsAndVariants("listMarkerStyles",t)},n.prototype.getHeadings=function(t){return this.getWithSmartGroupsAndVariants("headings",t)},n.prototype.setDefaultVariant=function(t){var e=this.getDefaultSpan();e.variantGuid=t,this.setWithSmartGroupsAndVariants(m.properties.DEFAULT_SPAN,e)},n.prototype.getTextData=function(){return this.get("textData")},n.prototype.getStates=function(){return this.get("states")},n.prototype.getTextContent=function(t){return this.getWithSmartGroupsAndVariants("textContent",t)},n.prototype.getSelectedState=function(){return this.getStates()[S.ObjectStateManager.getSelectedState()]||{}},n.prototype.getDisplayLabel=function(){return this.title},n.prototype.isTitleLocked=function(){var t=this.get("title"),e=this.get("textContent");return null!=e&&(e=this.formatStringAsTitle(e)),"Text"!==t&&!y.isEqual(e,t)},n.prototype.updateTitle=function(t){var e=this;if(!this.isTitleLocked())if("Text"!==t&&t.length>0){var n=this.formatStringAsTitle(t);if(this.set("title",n),this.isSyncedTextComponent()){var i=this.getLayoutVariants(),r=_.default.getCurrentVariant();i.forEach((function(t){t!==r&&e.set("title",n,{variant:t})}))}this.trigger(v.default.EVENTS.CHANGE_TITLE)}else this.set("title","Text")},n.prototype.formatStringAsTitle=function(t){return t.slice(0,m.MAX_TITLE_LENGTH).replace(/\n/g," ")},n.prototype.getVariantGuidsInUse=function(){return y.default.chain(this.getLayoutVariants()).flatMap(this.getLayoutVariantSpans.bind(this)).map("variantGuid").uniq().compact().value()},n.prototype.getLayoutVariants=function(){return["desktop"].concat(_.default.getExistingVariants())},n.prototype.getLayoutVariantSpans=function(t){return y.default.concat(this.get("defaultSpan",{variant:t})||[],this.get("textSpans",{variant:t})||[])},n.prototype.processFonts=function(){var t=this;this.setFontPlusData(),w.FontPlusManager.getInstance().processSingleModel(this).then((function(){t.save()}))},n.prototype.setFontPlusData=function(){var t,e,n,i,r,o,a,s=this.get("defaultSpan"),l=this.getPlainTextData(),d=[];d.push({variantGuid:s.variantGuid,content:l,loaded:!1});var h=this.get("textSpans");try{for(var f=u(h),p=f.next();!p.done;p=f.next()){var g=p.value,m=l.substring(g.index,g.index+g.length);d.push({variantGuid:null!==(a=g.variantGuid)&&void 0!==a?a:s.variantGuid,content:m,loaded:!1})}}catch(e){t={error:e}}finally{try{p&&!p.done&&(e=f.return)&&e.call(f)}finally{if(t)throw t.error}}1===d.length&&""===d[0].content&&d[0].variantGuid===s.variantGuid&&(d[0].content="a");var v=new Map;try{for(var y=u(this.fontPlusData),_=y.next();!_.done;_=y.next())(T=_.value).content=c(new Set(T.content)).join(""),v.set(T.variantGuid,T)}catch(t){n={error:t}}finally{try{_&&!_.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}try{for(var b=u(d),w=b.next();!w.done;w=b.next()){var T=w.value,S=v.get(T.variantGuid);S&&(T.loaded=S.loaded)}}catch(t){r={error:t}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(r)throw r.error}}this.fontPlusData=d},n.prototype.getWithSmartGroupsAndVariants=function(t,e){return!this.inSmartgroup&&e?this.get(t,{variant:e}):this.get(t)},n.prototype.getPlainTextData=function(){return this.get("textContent")},n.prototype.getDefaultSpan=function(t){return this.getWithSmartGroupsAndVariants("defaultSpan",t)},n.prototype.getTextSpans=function(t){return this.getWithSmartGroupsAndVariants("textSpans",t)},n.prototype.getDefaultFontColor=function(){return this.getDefaultSpan().fontColor},n.prototype.getDefaultFontSize=function(){return this.getDefaultSpan().fontSize},n.prototype.getDefaultUnderline=function(){return!!this.getDefaultSpan().underline},n.prototype.getDefaultLetterSpacing=function(){return this.getDefaultSpan().letterSpacing},n.prototype.getLines=function(t){return this.getWithSmartGroupsAndVariants("lines",t)},n.prototype.getDefaultJustify=function(){return this.get("justify")},n.prototype.getDefaultTextCase=function(){return this.getDefaultSpan().textCase||""},n.prototype.getDefaultVariant=function(){return this.getDefaultSpan().variantGuid||T.FontConstants.DEFAULT_FONT_VARIANT_GUID},n.prototype.getSupported=function(){return g.supported},n.prototype.isSyncedTextComponent=function(){return this.getLayoutVariants().length>1&&!0===this.nonVariantGet("synced")},n.prototype.existsOnMultipleVariants=function(){return this.layerDictionaryAndHierarchyService.isComponentUsedInMultipleVariants(this.id)},n.prototype.isSyncing=function(){return this.isSyncedTextComponent()&&this.existsOnMultipleVariants()},n.prototype.buildOverridesWithEmptySyncedProperties=function(){var t=this,e=y.default.cloneDeep(this.get("overrides"));return y.default.each(e,(function(e){y.default.each(t.getSyncedProperties(),(function(t){delete e[t]}))})),e},n}(p.default);e.TextPlusModel=P},18930:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorLayerDocPersister=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o(n(19794)).default);e.EditorLayerDocPersister=a},48292:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorLayerOpBuilder=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o(n(77222)).default);e.EditorLayerOpBuilder=a},13791:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringUtils=void 0;var n=function(){function t(){}return t.getEmailDomain=function(t){var e=null==t?void 0:t.split("@");return 2===(null==e?void 0:e.length)?e[1]:null},t.pluralize=function(t,e,n){return void 0===n&&(n="s"),1===e?t:""+t+n},t.camalize=function(t){return t.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,(function(t,e){return e.toUpperCase()}))},t.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()},t.isEmail=function(t){return/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},t}();e.StringUtils=n},7718:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(41232)),s=i(n(54400));e.default=a.default.Collection.extend({serverPageLength:100,serverPageMax:10,resolveKeys:"",allowPagination:!0,totalRecords:!1,constructor:function(){a.default.Collection.apply(this,arguments),this.urlParams=[]},initialize:function(){this._loadedPages=[]},clearCachedPages:function(){this._loadedPages=[]},hasEverBeenFetched:function(){return!1!==this.totalRecords},fetch:function(t){if(t||(t={}),!this.allowPagination)return this._fetchInternal(t);var e=t.silent,n=t.start||1,i=t.stop||this.serverPageLength*this.serverPageMax,a=void 0===t.resetAfterModelsResolve||t.resetAfterModelsResolve;this.totalRecords&&i>this.totalRecords&&(i=this.totalRecords);var s=this,u=this._getNeededPages(n,i);t.silent=!0,t.page=u.shift();var l=t.success,c=t.error,d=[],h=new r.default.Deferred;return t.success=function(e,r){r&&i>r.totalCount&&(i=r.totalCount,u=s._getNeededPages(n,i));var l=u.length;u.length>0&&(t.page=u.shift(),s._fetchInternal(t)),0===l&&(a&&o.default.each(s.models,(function(t){t.subRequestsPending>0&&(d.push(t.id),t.on("change",(function(){0===t.subRequestsPending&&(d.splice(d.indexOf(t.id),1),0===d.length&&h.resolve(e,r))})))})),0===d.length&&h.resolve(e,r))},t.error=function(t,n){404!=n.status||e?h.reject(t,n):h.resolve(t,n)},this._fetchInternal(t),h.done((function(t,n){l&&l(t,n),e||t.trigger("reset")})).fail((function(t,e){c&&c(t,e)})).promise()},_fetchInternal:function(t){t||(t={}),this.resolveKeys&&this.addUrlParam("resolve_keys",this.resolveKeys);var e=t.silent,n=1;if(t.page&&(n=t.page),-1!==r.default.inArray(n,this._loadedPages)&&!t.forceReload)return o.default.isFunction(t.success)&&t.success(this,null),(new r.default.Deferred).resolve(this,null).promise();1!=n&&this.allowPagination&&(t.remove=!1),t.at=n*this.serverPageLength-this.serverPageLength;var i=this,s=!1;t.success&&(s=t.success),t.silent=!0,t.success=function(t,r){i.totalRecords=r.totalCount,i._loadedPages.push(n),s&&s(t,r),e||t.trigger("reset")};var u=!1;t.error&&(u=t.error),t.error=function(t,n){404==n.status&&(u&&u(t,n),e||t.trigger("reset"))};var l=this.allowPagination?"/page/"+n:"";return t.url=this.url()+l+"?"+this.getUrlParamsAsString(),a.default.Collection.prototype.fetch.call(this,t)},_getNeededPages:function(t,e){for(var n=Math.floor(t/this.serverPageLength),i=[];n*this.serverPageLength<e;)i.push(n+1),n++;var o=this._loadedPages;return r.default.grep(i,(function(t){return r.default.inArray(t,o)<0}))},url:function(){var t=o.default.result(this,"restUrl")||this;return s.default.replaceUrlContextVariables(t)},parse:function(t){return void 0!==t&&void 0!==t.resources&&t.resources},addUrlParam:function(t,e){this.urlParams[t]=e},getUrlParamsAsString:function(){var t=[];return o.default.forIn(this.urlParams,(function(e,n){t.push(n+"="+e)})),t.join("&")}})},33521:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(7718)),a=i(n(71901)),s=i(n(8030)),u={};e.default=o.default.extend({restUrl:"/rest/{api-version}/account/{account-slug}/feature-flag/",allowPagination:!1,model:a.default,accountSlug:null,initialize:function(t){o.default.prototype.initialize.call(this,t),t&&t.accountSlug?(this.accountSlug=t.accountSlug,this.restUrl=this.restUrl.replace("{account-slug}",t.accountSlug)):this.accountSlug=s.default.accountSlug},hasFeature:function(t){return!!this.find({featureFlagId:t})},parse:function(t){var e=o.default.prototype.parse.call(this,t);return e?(r.default.forEach(e,r.default.bind((function(t){t.accountSlug=this.accountSlug}),this)),e):e}},{getInstanceForAccount:function(t){return r.default.has(u,t)||(u[t]=new this({accountSlug:t})),u[t]}})},97661:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=n(36932),s=i(n(43325)),u=o.default.Collection.extend({model:a.InteractionModel,initialize:function(t,e){if(e=e||{},!r.default.isFunction(e.saveHandler))throw new Error("Must instantiate InteractionCollection with a save handler");this.saveHandler=e.saveHandler,this.doc=e.shareJsDoc,this.doc&&s.default.addDocListener(this.doc,"change",r.default.bind(this.handleSharejsChange,this)),this.setupPersistenceHandlers(),o.default.Collection.prototype.initialize.call(t,e)},setupPersistenceHandlers:function(){var t=this,e=function(e){e.setSaveHandler(t.save,t),e.setDestroyHandler(t.destroyModel,t)};this.on("add",e),this.on("reset",r.default.bind((function(){this.each(e)}),this)),this.each(e)},getAncestorFullHierarchyCollection:function(){throw new Error("Not implemented")},getAncestorScranchorCollection:function(){throw new Error("Not implemented")},getAncestorPageCollection:function(){throw new Error("Not implemented")},save:function(){this.saveHandler()},destroyModel:function(t){this.remove(t),this.save()},hasComponentLevelInteractions:function(){return!1},handleSharejsChange:function(t){r.default.some(t,r.default.bind((function(t){return"interactions"===t.p[0]}),this))&&this.trigger("change")},toJSON:function(){var t=[];return this.each((function(e){t.push(e.toJSON())})),t},getPageNumberAwareInteractions:function(){return this.filter((function(t){return t.isPageNumberAwareInteraction()}))},iterateInteractionsMonitoringForChanges:function(t,e){var n=this,i=!1,o=function(){i=!0};r.default.each(t,(function(t){t.on("change",o),e.call(n,t),t.off("change",o)})),i&&this.save()},updateInteractionPageNumbersOnAdd:function(t){this.iterateInteractionsMonitoringForChanges(this.getPageNumberAwareInteractions(),(function(e){e.getAction().handlePageAdd(t+1)}))},updateInteractionPageNumbersOnMove:function(t,e){this.iterateInteractionsMonitoringForChanges(this.getPageNumberAwareInteractions(),(function(n){n.getAction().handlePageMove(t+1,e+1)}))},updateInteractionPageNumbersOnDelete:function(t){this.iterateInteractionsMonitoringForChanges(this.getPageNumberAwareInteractions(),(function(e){e.getAction().handlePageDelete(t+1)}))}});e.default=u},56744:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=i(n(48014)),s=i(n(64311)),u=i(n(72753)),l=i(n(88933)),c=i(n(93962)),d=i(n(92427)),h=i(n(33241)),f=i(n(16080)),p=i(n(19884)),g=n(77343),m=i(n(16982)),v=i(n(65676)),y=["show-layers","show-layers-on-hover","hide-layers","toggle-layers","show-and-stay-visible","hide-and-stay-hidden","show-only","hide-only","cycle-next","cycle-previous","scroll-to-object"],_={TEXT_COMPONENT_REMOVED:"text-component:remove",TEXT_COMPONENT_ADDED:"text-component:add",TEXT_PLUS_COMPONENT_REMOVED:"text-plus-component:remove",TEXT_PLUS_COMPONENT_ADDED:"text-plus-component:add",CHANGE:"change",CHANGE_HIERARCHY_ADD:"change-hierarchy-add",CHANGE_HIERARCHY_REMOVE:"change-hierarchy-remove"},b=["x","x2","y","y2","rotation","path","width","height","maskInfo"];e.default=o.default.Collection.extend({initialize:function(t,e){e=e||{},this.page=e.page,this.parentComponent=e.parent,this.layerDictionaryAndHierarchyService=e.layerDictionaryAndHierarchyService,this.on("add",r.default.bind((function(t){t.registerSaveHandler(this._saveModelChanges,this)}),this)),this.on("remove",r.default.bind((function(t){t.removeSaveHandler(),t.parent=null,t.deselect(),this.trigger(_.CHANGE_HIERARCHY_REMOVE,t)}),this))},reset:function(){o.default.Collection.prototype.reset.apply(this,arguments)},newGroup:function(t,e,n,i,r,o){var a=this.createNewGroup(t,e,n,i,r,o,!1),s=a.group,u=a.pendingOps,l=a.objectItemsToGroup,c=a.groupHierarchyPath;return s.populateNewGroupWithItems(c,u,l),s},createNewGroup:function(t,e,n,i,o,a,s){if(0!==(i=r.default.filter(i,(function(t){return t.isGroupable()}))).length){var u=m.default.getSmallestContainingRectangle.apply(m.default,i),l="group";s&&(l="mask-group");var d=i.some((function(t){return t.isEditable()})),h=c.default.createModel({type:l,x:u.x1,y:u.y1,width:u.x2-u.x1,height:u.y2-u.y1,editable:d},{layerDictionaryAndHierarchyService:this.layerDictionaryAndHierarchyService});(h=this.add(h,{at:n})).setNumberedTitle(o),r.default.isEmpty(a)||h.translateToParentCoordinateSpace(a),h.roundTransformableAttributes();var f=t.concat([n]),p=h.toDictionaryJSON(),g=[{p:["layerDictionary"].concat(p.id),oi:p},{p:f,li:{id:p.id,items:[]}}];return Array.prototype.push.apply(e,g),this.unpinObjects(i,!0),{group:h,pendingOps:e,groupHierarchyPath:f,objectItemsToGroup:i}}},newMaskGroup:function(t,e,n,i,r,o){var a=this.createNewGroup(t,e,n,i,r,o,!0),s=a.group,u=a.pendingOps,l=a.objectItemsToGroup,c=a.groupHierarchyPath;return s.populateNewGroupWithItems(c,u,l,!0),s},unpinObjects:function(t,e){r.default.each(t,(function(t){var n=t.get("fixedPosition");void 0!==n&&!1!==n&&t.set("fixedPosition",!1,{silent:!!e})}))},newFolder:function(t,e,n,i,o,a){var s=c.default.createFolderModel(null,{layerDictionaryAndHierarchyService:this.layerDictionaryAndHierarchyService,inSmartgroup:a});s.setNumberedTitle(o),this.add(s,{at:n});var u=t.concat(n),l=s.toDictionaryJSON(),d=[{p:["layerDictionary"].concat(l.id),oi:l},{p:u,li:{id:l.id,items:[]}}];return Array.prototype.push.apply(e,d),i=r.default.filter(i,(function(t){return t.isGroupable()})),s.populateNewFolderWithItems(u,e,i),s},moveLayers:function(t,e,n,i,o){var a,s=(i=p.default.normalizeSubjects(i)).slice(0).reverse();return o&&(a=v.default.getMaskingPropertiesMap(s)),r.default.each(s,r.default.bind((function(i){var s=r.default.cloneDeep(i.toDictionaryJSON());this.parentComponent&&this.parentComponent.isGroup()&&i.transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation(this.parentComponent.getSelfAndAllParents()),o&&a&&this.parentComponent&&this.parentComponent.isMaskGroup()&&(i.set({maskInfo:a.get(i.get("id"))},{silent:!0}),i.removeIncompatiblePropertiesWhenMasking(!0)),this.add(i,{at:n});var u=i.toDictionaryJSON();e.push({p:t.concat(n),li:i.toHierarchyJSON()}),this.parentComponent&&this.parentComponent.isGroup()&&e.push({p:["layerDictionary"].concat([u.id]),oi:u,od:s})}),this)),i},addGroup:function(t,e,n,i,o,a,s,u){var l=this.add(i,{inSmartgroup:f.default.isInIsolationMode(),at:n,layerDictionaryAndHierarchyService:this.layerDictionaryAndHierarchyService});r.default.isEmpty(s)||l.transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation(s),l.roundTransformableAttributes();var c=t.concat([n]),d=l.toDictionaryJSON(),h=[{p:["layerDictionary"].concat(d.id),oi:r.default.omit(d,["items"])},{p:c,li:l.toHierarchyJSON()}];return Array.prototype.push.apply(e,h),l.items.addLayers(c.concat([l.getPathPart()]),e,0,o,a,void 0,u),l.open(),l},addFolder:function(t,e,n,i,r,o,a){var s=this.add(i,{inSmartgroup:f.default.isInIsolationMode(),at:n,layerDictionaryAndHierarchyService:this.layerDictionaryAndHierarchyService}),u=s.toDictionaryJSON(),l=[{p:["layerDictionary"].concat(u.id),oi:u},{p:t.concat(n),li:{id:u.id,items:[]}}];return Array.prototype.push.apply(e,l),s.addItems(t.concat(n),e,r,o,a),s},addLayers:function(t,e,n,i,o,a,u){i=p.default.normalizeSubjects(i);var l=[];if(r.default.isEmpty(i))return l;var d=i.slice(0).reverse();return r.default.each(d,r.default.bind((function(i){if(r.default.isString(i.id)||(i.id=h.default()),i instanceof s.default||(i=JSON.parse(JSON.stringify(i))),"folder"===i.type){var d=i.items;i.items=[];var p=this.addFolder(t,e,n,i,d,o,u);l.unshift(p)}else if("group"===i.type||"mask-group"===i.type){var g=i.items;i.items=[];var m=this.addGroup(t,e,n,i,g,o,a,u);l.unshift(m)}else{i instanceof s.default||(i=c.default.createModel(i,{inSmartgroup:f.default.isInIsolationMode(),copiedFromClipboard:u})),r.default.isEmpty(a)||i.transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation(a),i.roundTransformableAttributes(),this._cleanInteractions(i,o),this.add(i,{at:n}),i.registerSaveHandler(this._saveModelChanges,this);var v,y=i.toDictionaryJSON();(i.isTextComponent()||i.isTextPlusComponent())&&(i.layerDictionaryAndHierarchyService=this.layerDictionaryAndHierarchyService),v=i.isTextComponent()||i.isTextPlusComponent()?this.buildOpForSyncedTextComponentPaste(y):{p:["layerDictionary"].concat(y.id),oi:y},e.push(v),e.push({p:t.concat([n]),li:{id:y.id}}),l.unshift(i)}}),this)),l},buildOpForSyncedTextComponentPaste:function(t){var e={p:["layerDictionary"].concat(t.id),oi:t},n=this.layerDictionaryAndHierarchyService.layerDictionary.findLayerById(t.id);return n&&(e.od=n),e},filter:function(t){return(t=t||new l.default).filter(this.models)},findItem:function(t,e,n){var i={},o=this;return this.each((function(a,s){var u=t.concat(s);return a.id===e.id?(i.parentFolder=n,i.parentLayerCollection=o,i.path=u,!1):(a.hasChildren()&&(i=a.findItem(u,e)),!!r.default.isEmpty(i)&&void 0)})),i},forEachDescendant:function(t){d.default.forEachDescendant(this.models,t)},forEachDescendantIncludingSmartGroupObjects:function(t){d.default.forEachDescendantIncludingSmartGroupObjects(this.models,t)},forEachDescendantWhile:function(t,e){d.default.forEachDescendantWhile(this.models,t,e)},forSomeDescendant:function(t){return d.default.forSomeDescendant(this.models,t)},forSomeDescendantWithParents:function(t){d.default.forSomeDescendantWithParents(this.models,t)},forEachDescendantWithParentsWhile:function(t,e){d.default.forEachDescendantWithParentsWhile(this.models,t,e)},findDescendant:function(t){return d.default.findDescendant(this.models,t)},removeItems:function(t,e,n){var i={},o=this,a=[];r.default.each(n,(function(n){if(n.isDeletable()){var s=o.findItem(t,n);r.default.isEmpty(s)||(n.isUploading()&&n.cancelUpload("component-deleted"),s.parentLayerCollection.remove(n,i),e.push({p:s.path,ld:n.toHierarchyJSON()}),a.push(n),n.hasChildren()&&n.getCollection().forEachDescendant((function(t){a.push(t)})))}})),this.removeLayersFromDictionaryIfOnASingleVariant(a,e)},removeLayersFromDictionaryIfOnASingleVariant:function(t,e){var n=r.default.map(t,"id"),i=this.layerDictionaryAndHierarchyService.determineWhichLayerIdsAreInMultipleHierarchies(n);r.default.each(t,(function(t){var n=i[t.id];n.inAtLeastOneHierarchy&&!n.inMultipleHierarchies&&e.push({p:["layerDictionary"].concat([t.id]),od:t.toDictionaryJSON()})}))},updateRelativeAttributesForObject:function(t,e,n){var i=this;if(t.isFolder())r.default.each(t.getChildren(),(function(t,r){i.updateRelativeAttributesForObject(t,e,n.items[r])}));else{var o=t.toDictionaryJSON();t.set(r.default.pick(n,b),{silent:!0});var a=t.toDictionaryJSON();r.default.isEqual(o,a)||e.push({p:["layerDictionary"].concat([t.id]),oi:a,od:o})}},removeMaskInfoFromJson:function(t){return t&&(t.maskInfo=void 0),t},removeItemsForMoving:function(t,e,n,i){var o=this;r.default.each(n,(function(n){if(n.isDeletable()){var a,s=o.findItem(t,n);r.default.isEmpty(s)||(a=n.toPageCoordinateSpaceJsonMaintainingPositionAndOrientation(),i&&(a=o.removeMaskInfoFromJson(a)),s.parentLayerCollection.remove(n,{moving:!0}),o.updateRelativeAttributesForObject(n,e,a),e.push({p:s.path,ld:n.toHierarchyJSON()}))}}))},removeReferencesToDescendant:function(t,e){var n=this.layerDictionaryAndHierarchyService.layerOpBuilder;d.default.forEachDescendant(this.models,(function(i){if(i.isObject()){i.removeReferencesToDescendant(e);var o=i.flushPendingChanges(),a=n.getOpsForModelChangeSet(o,!0);r.default.each(a,(function(e){t.push(e)}))}}))},_cleanInteractions:function(t,e){var n=t.get("interactions"),i=[];r.default.each(n,(function(t){if(r.default.includes(["click","view","hover"],t.trigger)&&r.default.includes(y,t.action)){var n=[];r.default.each(t.layerTargets,(function(t){r.default.includes(e,t)&&n.push(t)})),t.layerTargets=n,t.layerTargets.length>0&&i.push(t)}else i.push(t)})),t.set("interactions",i)},_saveModelChanges:function(t,e){this.layerDictionaryAndHierarchyService.layerSaveHandler(t,e)},_prepareModel:function(t,e){var n=t;return!!(n instanceof u.default||(n=this.prepareModelFromJSON(t,e)))&&(n instanceof a.default&&n.setPage(this.page),n.parent=this.parentComponent,o.default.Collection.prototype._prepareModel.call(this,n,e))},prepareModelFromJSON:function(t,e){var n=t;if(g.MediaUploadTracker.containsCachedModel(t.id))n=g.MediaUploadTracker.getCachedModel(t.id);else{if(n instanceof o.default.Model)n=n.toJSON();else{var i=r.default.clone(this.layerDictionaryAndHierarchyService.findLayerById(n.id));i&&(i=r.default.extend(i,t)),n=i||n,t.items&&(n.items=t.items)}if(!n||!n.type)throw new Error("Model could not be found or does not have a type. ID: "+t.id);e.layerDictionaryAndHierarchyService=this.layerDictionaryAndHierarchyService,n=c.default.createModel(n,e)}return n}},{EVENTS:_,LAYER_INTERACTIONS:y})},58221:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=i(n(35959)),s=n(86796),u="layerDictionary";e.default=o.default.Model.extend({initialize:function(t){this.doc=t.doc,this.index=t.index,this.isSmartgroupDictionary=t.isSmartgroupDictionary},getLayerDictionary:function(){return this.isSmartgroupDictionary?this.doc.at("smartgroups").at(this.index).at(u).get():this.doc.at(u).get()},setLayerDictionary:function(t){this.isSmartgroupDictionary?this.doc.at("smartgroups").at(this.index).at(u).set(t):this.doc.at(u).set(t)},setEditableValueOnLayersById:function(t,e){var n=this,i=t.map((function(t){return n.findLayerById(t)})),o="editable",l=[];r.default.forOwn(i,(function(t,n){if(s.layerObjectCanBeEditable(t)){var i=r.default.cloneDeep(t.overrides),a=t.id;r.default.forEach(i,(function(e,n){if(t.overrides[n]&&!r.default.isUndefined(t.overrides[n][o])){var i={p:[u,a,"overrides",n,o],oi:void 0,od:t.overrides[n][o]};l.push(i)}})),l.push({p:[u,a,o],oi:e,od:t[o]})}})),a.default.submitOpsInBatches(this.doc,l)},setLayerDictionaryProperty:function(t,e,n){this.isSmartgroupDictionary?this.doc.at("smartgroups").at(this.index).at(u).at(t).at(e).set(n):this.doc.at(u).at(t).at(e).set(n)},findLayerById:function(t){var e=this.getLayerDictionary();return e?e[t]:null},addVariantToOverrides:function(t){var e=t.newVariantName,n=t.sourceVariantName,i=this.getLayerDictionary(),o=this,s=[];return r.default.forOwn(i,(function(t,i){r.default.isUndefined(t.overrides)&&(t.overrides={});var a=r.default.cloneDeep(t.overrides),l="desktop"===n?{}:a[n];t.overrides[e]=l,o.isSmartgroupDictionary||s.push({p:[u,i,"overrides"],oi:t.overrides,od:a})})),a.default.submitOpsInBatches(this.doc,s)},deleteVariantOverrides:function(t){var e=this.getLayerDictionary(),n=this,i=[];return r.default.forOwn(e,(function(e,o){var a=r.default.cloneDeep(e.overrides);e.overrides[t]={},n.isSmartgroupDictionary||i.push({p:[u,o,"overrides"],oi:e.overrides,od:a})})),a.default.submitOpsInBatches(this.doc,i)},getLayerIds:function(){var t=this.getLayerDictionary();return Object.keys(t)}})},48054:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a="layerHierarchies";e.default=o.default.Model.extend({initialize:function(t){this.doc=t.doc,this.index=t.index,this.isSmartgroupHierarchy=t.isSmartgroupHierarchy},getLayerHierarchies:function(){var t;return t=this.isSmartgroupHierarchy?this.doc.at("smartgroups").at(this.index).at(a).get():this.doc.at(a).get(),r.default.cloneDeep(t)},setLayerHierarchies:function(t){this.isSmartgroupHierarchy?this.doc.at("smartgroups").at(this.index).at(a).set(t):this.doc.at(a).set(t)},determineWhichLayerIdsAreInMultipleHierarchies:function(t){var e={};if(r.default.isEmpty(t))return e;var n={},i=!1;function o(t){return t.id in n&&(e[t.id].inAtLeastOneHierarchy=!0,n[t.id]++,n[t.id]>1&&(e[t.id].inMultipleHierarchies=!0,delete n[t.id],0===r.default.size(n)))?(i=!0,!1):(t.items&&r.default.each(t.items,o),!i&&void 0)}r.default.each(t,(function(t){e[t]={inAtLeastOneHierarchy:!1,inMultipleHierarchies:!1},n[t]=0}));var a=this.getLayerHierarchies();return r.default.each(a,(function(t){if(r.default.each(t,o),i)return!1})),e},createNewVariantHierarchy:function(t){var e=this.getLayerHierarchies();e[t.newVariantName]=r.default.cloneDeep(e[t.sourceVariantName]),this.setLayerHierarchies(e)},deleteVariantHierarchy:function(t){var e=this.getLayerHierarchies();delete e[t],this.setLayerHierarchies(e)},getLayerIdsNotInVariant:function(t){var e=this.getLayerHierarchies(),n=r.default.omit(e,[t]),i=new Set,o=new Set;function a(t,e,n){void 0===n&&(n=function(t){return!0}),r.default.forEach(e,(function(e){n(e.id)&&t.add(e.id),e.items&&a(t,e.items,n)}))}return a(o,e[t]),r.default.forEach(n,(function(t){a(i,t,(function(t){return!o.has(t)}))})),Array.from(i)}})},37083:function(t,e){"use strict";var n,i;void 0===(i="function"==typeof(n=function(){var t="undefined"==typeof window,e=new Map,n=new Map,i=[];i.total=0;var r=[],o=[];function a(){e.clear(),n.clear(),r=[],o=[]}function s(t){for(var e=-9007199254740991,n=t.length-1;n>=0;--n){var i=t[n];if(null!==i){var r=i.score;r>e&&(e=r)}}return-9007199254740991===e?null:e}function u(t,e){var n=t[e];if(void 0!==n)return n;var i=e;Array.isArray(e)||(i=e.split("."));for(var r=i.length,o=-1;t&&++o<r;)t=t[i[o]];return t}function l(t){return"object"==typeof t}var c=function(){var t=[],e=0,n={};function i(){for(var n=0,i=t[n],r=1;r<e;){var o=r+1;n=r,o<e&&t[o].score<t[r].score&&(n=o),t[n-1>>1]=t[n],r=1+(n<<1)}for(var a=n-1>>1;n>0&&i.score<t[a].score;a=(n=a)-1>>1)t[n]=t[a];t[n]=i}return n.add=function(n){var i=e;t[e++]=n;for(var r=i-1>>1;i>0&&n.score<t[r].score;r=(i=r)-1>>1)t[i]=t[r];t[i]=n},n.poll=function(){if(0!==e){var n=t[0];return t[0]=t[--e],i(),n}},n.peek=function(n){if(0!==e)return t[0]},n.replaceTop=function(e){t[0]=e,i()},n},d=c();return function h(f){var p={single:function(t,e,n){return t?(l(t)||(t=p.getPreparedSearch(t)),e?(l(e)||(e=p.getPrepared(e)),((n&&void 0!==n.allowTypo?n.allowTypo:!f||void 0===f.allowTypo||f.allowTypo)?p.algorithm:p.algorithmNoTypo)(t,e,t[0])):null):null},go:function(t,e,n){if(!t)return i;var r=(t=p.prepareSearch(t))[0],o=n&&n.threshold||f&&f.threshold||-9007199254740991,a=n&&n.limit||f&&f.limit||9007199254740991,c=(n&&void 0!==n.allowTypo?n.allowTypo:!f||void 0===f.allowTypo||f.allowTypo)?p.algorithm:p.algorithmNoTypo,h=0,g=0,m=e.length;if(n&&n.keys)for(var v=n.scoreFn||s,y=n.keys,_=y.length,b=m-1;b>=0;--b){for(var w=e[b],T=new Array(_),S=_-1;S>=0;--S)(P=u(w,O=y[S]))?(l(P)||(P=p.getPrepared(P)),T[S]=c(t,P,r)):T[S]=null;T.obj=w;var E=v(T);null!==E&&(E<o||(T.score=E,h<a?(d.add(T),++h):(++g,E>d.peek().score&&d.replaceTop(T))))}else if(n&&n.key){var O=n.key;for(b=m-1;b>=0;--b)(P=u(w=e[b],O))&&(l(P)||(P=p.getPrepared(P)),null!==(C=c(t,P,r))&&(C.score<o||(C={target:C.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:C.score,indexes:C.indexes,obj:w},h<a?(d.add(C),++h):(++g,C.score>d.peek().score&&d.replaceTop(C)))))}else for(b=m-1;b>=0;--b){var P,C;(P=e[b])&&(l(P)||(P=p.getPrepared(P)),null!==(C=c(t,P,r))&&(C.score<o||(h<a?(d.add(C),++h):(++g,C.score>d.peek().score&&d.replaceTop(C)))))}if(0===h)return i;var A=new Array(h);for(b=h-1;b>=0;--b)A[b]=d.poll();return A.total=h+g,A},goAsync:function(e,n,r){var o=!1,a=new Promise((function(a,d){if(!e)return a(i);var h=(e=p.prepareSearch(e))[0],g=c(),m=n.length-1,v=r&&r.threshold||f&&f.threshold||-9007199254740991,y=r&&r.limit||f&&f.limit||9007199254740991,_=(r&&void 0!==r.allowTypo?r.allowTypo:!f||void 0===f.allowTypo||f.allowTypo)?p.algorithm:p.algorithmNoTypo,b=0,w=0;function T(){if(o)return d("canceled");var c=Date.now();if(r&&r.keys)for(var f=r.scoreFn||s,S=r.keys,E=S.length;m>=0;--m){for(var O=n[m],P=new Array(E),C=E-1;C>=0;--C)(x=u(O,k=S[C]))?(l(x)||(x=p.getPrepared(x)),P[C]=_(e,x,h)):P[C]=null;P.obj=O;var A=f(P);if(null!==A&&!(A<v)&&(P.score=A,b<y?(g.add(P),++b):(++w,A>g.peek().score&&g.replaceTop(P)),m%1e3==0&&Date.now()-c>=10))return void(t?setImmediate(T):setTimeout(T))}else if(r&&r.key){for(var k=r.key;m>=0;--m)if((x=u(O=n[m],k))&&(l(x)||(x=p.getPrepared(x)),null!==(I=_(e,x,h))&&!(I.score<v)&&(I={target:I.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:I.score,indexes:I.indexes,obj:O},b<y?(g.add(I),++b):(++w,I.score>g.peek().score&&g.replaceTop(I)),m%1e3==0&&Date.now()-c>=10)))return void(t?setImmediate(T):setTimeout(T))}else for(;m>=0;--m){var x,I;if((x=n[m])&&(l(x)||(x=p.getPrepared(x)),null!==(I=_(e,x,h))&&!(I.score<v)&&(b<y?(g.add(I),++b):(++w,I.score>g.peek().score&&g.replaceTop(I)),m%1e3==0&&Date.now()-c>=10)))return void(t?setImmediate(T):setTimeout(T))}if(0===b)return a(i);for(var M=new Array(b),R=b-1;R>=0;--R)M[R]=g.poll();M.total=b+w,a(M)}t?setImmediate(T):T()}));return a.cancel=function(){o=!0},a},highlight:function(t,e,n){if(null===t)return null;void 0===e&&(e="<b>"),void 0===n&&(n="</b>");for(var i="",r=0,o=!1,a=t.target,s=a.length,u=t.indexes,l=0;l<s;++l){var c=a[l];if(u[r]===l){if(o||(o=!0,i+=e),++r===u.length){i+=c+n+a.substr(l+1);break}}else o&&(o=!1,i+=n);i+=c}return i},prepare:function(t){if(t)return{target:t,_targetLowerCodes:p.prepareLowerCodes(t),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(t){if(t)return{target:t,_targetLowerCodes:p.prepareLowerCodes(t),_nextBeginningIndexes:p.prepareNextBeginningIndexes(t),score:null,indexes:null,obj:null}},prepareSearch:function(t){if(t)return p.prepareLowerCodes(t)},getPrepared:function(t){if(t.length>999)return p.prepare(t);var n=e.get(t);return void 0!==n||(n=p.prepare(t),e.set(t,n)),n},getPreparedSearch:function(t){if(t.length>999)return p.prepareSearch(t);var e=n.get(t);return void 0!==e||(e=p.prepareSearch(t),n.set(t,e)),e},algorithm:function(t,e,n){for(var i=e._targetLowerCodes,a=t.length,s=i.length,u=0,l=0,c=0,d=0;;){if(n===i[l]){if(r[d++]=l,++u===a)break;n=t[0===c?u:c===u?u+1:c===u-1?u-1:u]}if(++l>=s)for(;;){if(u<=1)return null;if(0===c){if(n===t[--u])continue;c=u}else{if(1===c)return null;if((n=t[1+(u=--c)])===t[u])continue}l=r[(d=u)-1]+1;break}}u=0;var h=0,f=!1,g=0,m=e._nextBeginningIndexes;null===m&&(m=e._nextBeginningIndexes=p.prepareNextBeginningIndexes(e.target));var v=l=0===r[0]?0:m[r[0]-1];if(l!==s)for(;;)if(l>=s){if(u<=0){if(++h>a-2)break;if(t[h]===t[h+1])continue;l=v;continue}--u,l=m[o[--g]]}else if(t[0===h?u:h===u?u+1:h===u-1?u-1:u]===i[l]){if(o[g++]=l,++u===a){f=!0;break}++l}else l=m[l];if(f)var y=o,_=g;else y=r,_=d;for(var b=0,w=-1,T=0;T<a;++T)w!==(l=y[T])-1&&(b-=l),w=l;for(f?0!==h&&(b+=-20):(b*=1e3,0!==c&&(b+=-20)),b-=s-a,e.score=b,e.indexes=new Array(_),T=_-1;T>=0;--T)e.indexes[T]=y[T];return e},algorithmNoTypo:function(t,e,n){for(var i=e._targetLowerCodes,a=t.length,s=i.length,u=0,l=0,c=0;;){if(n===i[l]){if(r[c++]=l,++u===a)break;n=t[u]}if(++l>=s)return null}u=0;var d=!1,h=0,f=e._nextBeginningIndexes;if(null===f&&(f=e._nextBeginningIndexes=p.prepareNextBeginningIndexes(e.target)),(l=0===r[0]?0:f[r[0]-1])!==s)for(;;)if(l>=s){if(u<=0)break;--u,l=f[o[--h]]}else if(t[u]===i[l]){if(o[h++]=l,++u===a){d=!0;break}++l}else l=f[l];if(d)var g=o,m=h;else g=r,m=c;for(var v=0,y=-1,_=0;_<a;++_)y!==(l=g[_])-1&&(v-=l),y=l;for(d||(v*=1e3),v-=s-a,e.score=v,e.indexes=new Array(m),_=m-1;_>=0;--_)e.indexes[_]=g[_];return e},prepareLowerCodes:function(t){for(var e=t.length,n=[],i=t.toLowerCase(),r=0;r<e;++r)n[r]=i.charCodeAt(r);return n},prepareBeginningIndexes:function(t){for(var e=t.length,n=[],i=0,r=!1,o=!1,a=0;a<e;++a){var s=t.charCodeAt(a),u=s>=65&&s<=90,l=u||s>=97&&s<=122||s>=48&&s<=57,c=u&&!r||!o||!l;r=u,o=l,c&&(n[i++]=a)}return n},prepareNextBeginningIndexes:function(t){for(var e=t.length,n=p.prepareBeginningIndexes(t),i=[],r=n[0],o=0,a=0;a<e;++a)r>a?i[a]=r:(r=n[++o],i[a]=void 0===r?e:r);return i},cleanup:a,new:h};return p}()})?n.apply(e,[]):n)||(t.exports=i)},12122:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=i(n(41232)),s=i(n(29954)),u=i(n(54400));e.default=a.default.Model.extend({idAttribute:"slug",restBaseUrl:"/rest",etag:null,subRequestsPending:0,defaults:{},dateFields:[],parse:function(t,e){if(e&&!r.default.isUndefined(e.xhr)){var n=e.xhr.getResponseHeader("ETag");r.default.isString(n)&&n.length>0&&(this.etag=n)}return r.default.each(this.dateFields,(function(e){r.default.has(t,e)&&(t[e]=new s.default(t[e]))})),a.default.Model.prototype.parse.call(this,t,e)},save:function(t,e,n){var i;if(i=r.default.isObject(t)||r.default.isEmpty(t)?e||{}:n||{},!r.default.isUndefined(i.enforcePersistence)&&i.enforcePersistence){var s=i.persistenceErrorTrigger||"error:pre-condition-failed",u=i.error||o.default.noop;i.error=r.default.bind((function(t,e){412==e.status?t.trigger(s,t,e):u(t,e)}),this),r.default.isString(this.etag)&&(r.default.isObject(i.headers)||(i.headers={}),i.headers["If-Match"]=this.etag)}return r.default.isObject(t)||r.default.isEmpty(t)?e=i:n=i,a.default.Model.prototype.save.call(this,t,e,n)},getFieldValidationErrors:function(){return this.validationError},updateAndPersistFields:function(t,e){return(e=e||{}).patch=!0,this.save(t,e)},sync:function(t,e,n){return"patch"===t&&(t="update"),a.default.Model.prototype.sync.call(this,t,e,n)},url:function(t){return(t&&t.core?"":this.restBaseUrl)+this.replaceUrlContextVariables(a.default.Model.prototype.url.call(this))},replaceUrlContextVariables:function(t){return u.default.replaceUrlContextVariables(t)}})},53924:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=i(n(12122));e.default=a.default.extend({urlRoot:"/{api-version}/account/{account-slug}/account-members",defaults:{isOwner:!1},member:null,parse:function(t){return r.default.has(t,"member")&&(this.member=new o.default.Model(t.member),delete t.member),a.default.prototype.parse.call(this,t)}})},62220:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=i(n(37136)),s=i(n(12122)),u=i(n(63931)),l=i(n(29954)),c=i(n(79214)),d={};e.default=s.default.extend({urlRoot:"/{api-version}/accounts",defaults:{organizationId:""},dateFields:["startDate","endDate","gracePeriodEndDate"],accountManager:null,supportsFeature:function(t){return!0===this.get(t)},hasCommerceIntegration:function(){return this.supportsFeature("commerceIntegration")},hasEloquaIntegration:function(){return this.supportsFeature("eloquaIntegration")},hasMarketoIntegration:function(){return this.supportsFeature("marketoIntegration")},hasChartblocksIntegration:function(){return this.supportsFeature("chartblocksIntegration")},hasGoogleTagManagerIntegration:function(){return this.supportsFeature("googleTagManagerIntegration")},hasHubspotIntegration:function(){return this.supportsFeature("hubspotIntegration")},hasEmbeddedPlayerSdk:function(){return this.supportsFeature("embeddedPlayerSdk")},hasWhiteLabeling:function(){return this.supportsFeature("whiteLabeling")},hasAnalyticsTracking:function(){return this.supportsFeature("analyticsTracking")},hasIssueExport:function(){return this.supportsFeature("issueExport")},hasConcurrentLogins:function(){return this.supportsFeature("concurrentLogins")},hasAdaptiveLayouts:function(){return this.supportsFeature("adaptiveLayouts")},isUnlimitedUsers:function(){return 0===this.get("usersLimit")},getSeatCountLimit:function(){return this.isUnlimitedUsers()?"unlimited":this.get("usersLimit")},isUnlimitedOpens:function(){return 0===this.get("opensPerMonth")},isUnlimitedPageViews:function(){return 0===this.get("pageViewsPerMonth")},isLimitedOnPageViews:function(){return"page-views"===this.getPricingPlanLimit()},isLimitedOnOpens:function(){return"opens"===this.getPricingPlanLimit()},getPricingPlanLimit:function(){return this.get("pricingPlanLimit")},getTrialDaysLeft:function(){var t=a.default().startOf("day"),e=a.default(this.get("endDate")).endOf("day"),n=Math.ceil(e.diff(t,"days",!0));return Math.clamp(n,0,n)},isTrialExpired:function(){return this.get("trial")&&0===this.getTrialDaysLeft()},isPublishingDisabled:function(){return this.get("disablePublishing")},isInternal:function(){return this.get("isInternal")},getAccountManager:function(){return this.accountManager},setAccountManager:function(t){this.accountManager=t},getAccountManagerName:function(){var t=this.getAccountManager(),e="";return t&&(e=t.get("title")),e},parse:function(t){return t.accountManager&&r.default.isObject(t.accountManager)&&(this.accountManager=new u.default(t.accountManager)),t.contractStartDate&&(t.contractStartDate=new l.default(t.contractStartDate)),t.contractEndDate&&(t.contractEndDate=new l.default(t.contractEndDate)),t.initialSubscriptionContractStartDate&&(t.initialSubscriptionContractStartDate=new l.default(t.initialSubscriptionContractStartDate)),s.default.prototype.parse.call(this,t)},checkAvailability:function(){var t=o.default.Deferred(),e=this.get("slug");return r.default.has(d,e)?t.resolve(d[e]).promise():(o.default.ajax({url:this.url()+"/slug",type:"GET",processData:!1,success:function(n,i){d[e]=!1,t.resolve(!1)},error:function(n,i,r){404==n.status?(d[e]=!0,t.resolve(!0)):t.reject(n,i,r)}}),t.promise())},validateAccount:function(t,e){var n=[],i={title:"Account Name",slug:"Account URL",startDate:"Start Date",endDate:"End Date for Admin Access",gracePeriodEndDate:"End Date for Published Content",accountManagerMemberId:"Account Manager"};return e||(i.memberEmail="Owner Email",i.memberTitle="Owner Name"),r.default.each(t,(function(e,o){!i[o]||null!==e&&""!==e?"memberEmail"===o?/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||n.push(new c.default(o,"Not a valid email address")):"startDate"===o||"endDate"===o||"gracePeriodEndDate"===o?a.default(e).isValid()||n.push(new c.default(o,"Not a valid date")):"contractStartDate"===o||"contractEndDate"===o||"initialSubscriptionContractStartDate"===o?e&&""!==e&&(a.default(e).isValid()||n.push(new c.default(o,"Not a valid date"))):"publishedExperienceLimit"!==o&&"publishedExperienceOpensThreshold"!==o&&"currentArr"!==o||""===e||r.default.isInteger(r.default.toNumber(e))||n.push(new c.default(o,"Not a valid number")):n.push(new c.default(o,"Required")),t.gracePeriodEndDate&&t.endDate&&a.default(t.gracePeriodEndDate).unix()<a.default(t.endDate).unix()&&n.push(new c.default("gracePeriodEndDate","Must be later than admin access end date"))})),n},resetDatesToMidnight:function(){var t=this.setDateToMidnight(this.get("startDate")),e=this.setDateToMidnight(this.get("endDate")),n=this.setDateToMidnight(this.get("contractStartDate")),i=this.setDateToMidnight(this.get("contractEndDate")),r=this.setDateToMidnight(this.get("initialSubscriptionContractStartDate")),o=this.setDateToMidnight(this.get("gracePeriodEndDate"));this.set("startDate",t),this.set("endDate",e),this.set("contractStartDate",n),this.set("contractEndDate",i),this.set("initialSubscriptionContractStartDate",r),this.set("gracePeriodEndDate",o)},setDateToMidnight:function(t){return t?l.default(t).startOf("day"):null}})},71901:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(12122));e.default=r.default.extend({urlRoot:"/{api-version}/account/{account-slug}/feature-flag",idAttribute:"id",initialize:function(t){if(r.default.prototype.initialize.call(this,t),!t.accountSlug)throw new Error("Account slug is required.");this.urlRoot=this.urlRoot.replace("{account-slug}",t.accountSlug)}})},33340:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(96486)),a=r(n(41232)),s=r(n(79214)),u=r(n(12122)),l=r(n(63931)),c=r(n(62220)),d=r(n(8030));e.default=l.default.extend({urlRoot:"/rest/{api-version}/current-user",dateFields:["creationDate","inviteAcceptedDate"],url:function(t){return t&&t.core&&(this.urlRoot=l.default.prototype.urlRoot),this.replaceUrlContextVariables(a.default.Model.prototype.url.call(this,arguments))},fetch:function(t){var e=this.url(),n=null==t?void 0:t.accountSlug;return a.default.Model.prototype.fetch.call(this,i({url:n?e+"?accountSlug="+n:e},t))},validate:function(t){var e=[];return t.title||e.push(new s.default("title","Name is required")),o.default.has(t,"password")&&(!t.password||t.password.length<6)&&e.push(new s.default("password","Password must at least 6 characters")),e.length>0?e:null},save:function(t,e,n){return u.default.prototype.save.call(this,t,e,n)},getCurrentAccountMember:function(){var t,e=this.get("currentAccountMember");return(null===(t=null==e?void 0:e.account)||void 0===t?void 0:t.slug)===d.default.accountSlug?this.get("currentAccountMember"):null},isCurrentAccountOwner:function(){if(this.get("isSuperuser"))return!0;var t=this.getCurrentAccountMember();return null==t?void 0:t.isOwner},isCurrentAccountMember:function(){return!!this.getCurrentAccountMember()},hasPermission:function(t){var e,n=this.getCurrentAccountMember(),i=n?null===(e=n.account)||void 0===e?void 0:e.permissions:null;return!!i&&!0===i[t]},hasAccessToProject:function(t){var e=this.getCurrentAccountMember(),n=null==e?void 0:e.projects;return(null==e?void 0:e.allProjectsAccess)||!!n&&n.some((function(e){return e.slug===t}))},hasAccessToExperience:function(t,e){if(this.hasAccessToProject(t))return!0;var n=this.getCurrentAccountMember(),i=null==n?void 0:n.sharedExperiences;return!!i&&i.some((function(t){return t.slug===e}))},parse:function(t){return u.default.prototype.parse.call(this,t)},getFirstLoginDate:function(){var t=this.get("inviteAcceptedDate");return t&&!o.default.isEmpty(t)||(t=this.get("creationDate")),t},getAccounts:function(){return this.get("accounts")},getCurrentAccountModel:function(){var t=this.getCurrentAccountMember();return t?new c.default(t.account):null},hasAccess:function(t){switch(t){case 1:case 2:return!0;case 3:return!!this.get("isSuperuser")||this.isCurrentAccountMember();case 4:return!!this.get("isSuperuser")||this.isCurrentAccountOwner();case 5:return!!this.get("isSuperuser");case 6:return!!this.get("isSuperadmin");default:return!1}}})},63931:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(12122)),a=i(n(53924));e.default=o.default.extend({urlRoot:"/{api-version}/members",defaults:{title:null,contactInformation:null,ghosting:!1},save:function(t,e,n){return!1},getAccountMemberUri:function(){return this.replaceUrlContextVariables("/{api-version}/account/{account-slug}/account-members/"+this.id)},getAccountMember:function(t){return this.accountMember?this.accountMember:this.fetchAccountMember(t)},fetchAccountMember:function(t){var e=new a.default({slug:this.id});return e.on("change",r.default.bind((function(t){this.accountMember=t}),this)),t&&"function"==typeof t&&e.on("change",t),e.fetch(),e}})},64311:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(72753)),s=i(n(16080)),u=i(n(39458)),l=i(n(29579)),c=i(n(52896)),d=a.default.extend({defaults:l.default.AbstractPageObjectModel.defaults,variantDefaults:null,objectStatesEnabled:!1,constructor:function(t,e){t=t||{},this.setParentModel(a.default),a.default.prototype.constructor.call(this,t,e)},initialize:function(t,e){this.bindVariantAttributeChangeEvents(),a.default.prototype.initialize.call(this,t,e)},getSupported:function(){return l.default.AbstractPageObjectModel.supported},getObjectStateSupportedProperties:function(){return l.default.AbstractPageObjectModel.objectStateSupportedProperties},isResizable:function(){return!0},mustBeConstrained:function(){return!1},isConstrained:function(){return this.mustBeConstrained()||this.get("preserveAspectRatio")},isObject:function(){return!0},hasInteractions:function(){var t=this.get("interactions");return o.default.isArray(t)&&t.length>0},hasInteractionsBesidesChangeState:function(){var t=this.get("interactions").filter((function(t){return"change-state"!==t.action}));return o.default.isArray(t)&&t.length>0},updateInteractionPageNumbersOnAdd:function(t){this.forEachVariantInteractions((function(e){e.updateInteractionPageNumbersOnAdd(t)}))},updateInteractionPageNumbersOnMove:function(t,e){this.forEachVariantInteractions((function(n){n.updateInteractionPageNumbersOnMove(t,e)}))},updateInteractionPageNumbersOnDelete:function(t){this.forEachVariantInteractions((function(e){e.updateInteractionPageNumbersOnDelete(t)}))},supportsObjectStates:function(){return this.objectStatesEnabled},supportsObjectStatesForProperty:function(t){return this.getObjectStateSupportedProperties().indexOf(t)>-1},forEachVariantInteractions:function(t){this.forAttributeOnEachVariant("interactions",o.default.bind((function(e,n){var i=this._buildInteractionCollectionThatWillUpdateOnChanges(e,{variant:n});t(i,n)}),this))},removeReferencesToDescendant:function(t){if(this.hasInteractions()){var e=[];o.default.each(this.get("interactions"),(function(n){var i=r.default.extend(!0,{},n);i.layerTargets?(i.layerTargets=o.default.difference(i.layerTargets,t),i.layerTargets.length>0&&e.push(i)):e.push(i)})),this.set({interactions:e})}},reconcileJSONForCurrentVariant:function(t){var e=a.default.prototype.toJSON.call(this);return e=s.default.reconcileJSONForCurrentVariant(e,this),!0===t&&(e=u.default.cloneDeep(e)),e},forAttributeOnEachVariant:function(t,e){var n={desktop:this.get(t,{variant:"desktop"})};o.default.each(s.default.getExistingVariants(),o.default.bind((function(e){n[e]=this.get(t,{variant:e,doNotFallbackToDesktop:!0})}),this)),o.default.each(n,(function(t,n){o.default.isUndefined(t)||e(t,n)}))}});o.default.extend(d.prototype,c.default),e.default=d},72753:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=i(n(86431)),s=i(n(54630)),u=i(n(29579)),l=i(n(83668)),c=n(15923),d=n(18811),h=n(85650),f=n(39367),p=n(68506),g=n(40464),m={CHANGE:"change",CHANGE_SELECTED:"change:selected",CHANGE_VISIBLE:"change:visible",CHANGE_LOCKED:"change:locked",CHANGE_EDITABLE:"change:editable",CHANGE_TITLE:"change:title",SELECT_ITEM:"selectItem",REFRESH_WARNINGS:"refresh:warnings",OPENED:"opened",SAVE:"save"};e.default=o.default.Model.extend({defaults:u.default.AbstractPageSubModel.defaults,view:null,includeInLayerPanel:!0,inSmartgroup:!1,selectedState:a.default.OBJECT_STATES_DEFAULT,selectedStateOverride:null,callSaveAfterSaveHandlerIsRegistered:!1,constructor:function(t,e){(e=e||{}).inSmartgroup&&(this.inSmartgroup=!0),o.default.Model.prototype.constructor.call(this,t,e)},initialize:function(t,e){this.selected=!1,this.options=e||{},this.modelChanges=null,this.saveHandler=null,this.oldVersion={},this.changedIPAttributes={},r.default.each(r.default.keys(t),r.default.bind((function(e){this.oldVersion[e]=t[e]}),this)),this.fixObjectStatesStructure(),this.on("change",this.handleModelChange,this),this.on("remove",this.onRemove,this),this.setEditableIfCreatingFromEditor()},setEditableIfCreatingFromEditor:function(){var t,e,n=h.BackboneCapabilitySelectors.SelectIsStudioLite(),i=(null===(e=null===(t=this.options.page)||void 0===t?void 0:t.documentVersion)||void 0===e?void 0:e.getEditorMode())===p.EditorMode.SOME,r=this.isEditableComponent();g.BackboneToolSelectors.SelectIsComponentCreationToolSelected()&&r&&i&&n&&this.set("editable",!0)},fixObjectStatesStructure:function(){var t=this.get("states");r.default.isArray(t)&&r.default.isEmpty(t)&&this.set("states",{},{silent:!0})},handleModelChange:function(t,e){if(!(e&&e.remote||this!==t)){var n=t.changedAttributes(null,{nonVariant:!0}),i=t.getPendingChanges();e&&e.doNotBuffer&&i.setDoNotBuffer(),i.add(n)}},buildOverridesWithEmptySyncedProperties:function(){throw"Models with Synced Attributes should implement this method"},buildOverridesWithEmptyProperties:function(t){void 0===t&&(t=[]);var e=r.default.cloneDeep(this.get("overrides"));return r.default.each(e,(function(e,n){r.default.each(t,(function(t){delete e[t]}))})),e},getView:function(){return this.view},setView:function(t){this.view=t},getParent:function(){return this.parent},hasParent:function(){return!!this.parent},hasGroupParent:function(){return this.hasParent()&&this.getParent().isGroup()},isIncludedInLayerPanel:function(){return this.includeInLayerPanel},isLockable:function(){return!0},getAllParents:function(){for(var t=[],e=this;e.hasParent();){var n=e.getParent();t.push(n),e=n}return r.default.reverse(t)},getSelfAndAllParents:function(){return this.getAllParents().concat(this)},getAllGroupParents:function(){for(var t=[],e=this;e.hasParent();){var n=e.getParent();n.isGroup()&&t.push(n),e=n}return r.default.reverse(t)},getClosestParentFolder:function(){for(var t=this;t.hasParent();){var e=t.getParent();if(e.isFolder())return e;t=e}return null},getClosestParentGroup:function(){for(var t=this;t.hasParent();){var e=t.getParent();if(e.isGroup())return e;t=e}return null},openClosestParentGroup:function(){var t=this.getClosestParentGroup();t&&t.open()},getId:function(){return this.id},save:function(t){void 0===t&&(t=!1);var e=this.flushPendingChanges();if(0!==e.total())if(r.default.isFunction(this.saveHandler)){this.saveHandler(this,e,t);var n=e.getChanges();this.trigger(m.SAVE,this,n)}else{this.callSaveAfterSaveHandlerIsRegistered=!0;var i=new Error("no save handler registered!");i.stack&&console.warn(i.stack)}},onSave:function(t,e){this.on(m.SAVE,t,e)},offSave:function(t,e){this.off(m.SAVE,t,e)},onRemove:function(t,e,n){!n.moving&&this.view&&(this.stopListening(),this.view.close(),this.view=null)},destroy:function(t){if(r.default.isFunction(this.destroyHandler))this.destroyHandler(this,t),this.trigger("destroy",this,t);else{var e=new Error("no destroy handler registered!");console.warn(e.stack)}},getPendingChanges:function(){return null===this.modelChanges&&(this.modelChanges=new s.default(this)),this.modelChanges},clearPendingChanges:function(){return this.modelChanges=null,this},flushPendingChanges:function(){var t=this.getPendingChanges();return this.clearPendingChanges(),t},registerSaveHandler:function(t,e){this.saveHandler=r.default.isFunction(t)?r.default.bind(t,e||this):null,this.callSaveAfterSaveHandlerIsRegistered&&(this.save(),this.callSaveAfterSaveHandlerIsRegistered=!1)},removeSaveHandler:function(){this.registerSaveHandler(null)},registerDestroyHandler:function(t,e){this.destroyHandler=r.default.isFunction(t)?r.default.bind(t,e||this):null},validate:function(t){if(r.default.isUndefined(t.id))return"invalid id"},isCopiable:function(){return!0},isSelected:function(){return this.selected},isLocked:function(){var t=h.BackboneCapabilitySelectors.SelectIsStudioLite(),e=h.BackboneCapabilitySelectors.SelectHasCapability(f.DesignCapability.LOCK),n=t&&(!this.isEditable()||this.isHotspotComponent()),i=e&&this.get("locked");return n||i},isVisible:function(){var t=c.BackboneHooks.useSelector(d.EditModeSelectors.SelectElementVisibilityById(this.id));return null!==t?t:this.get("visible")},isEditableComponent:function(){return this.supportsProperty("editable")},isEditable:function(){var t,e;return(null===(e=null===(t=this.options.page)||void 0===t?void 0:t.documentVersion)||void 0===e?void 0:e.getEditorMode())===p.EditorMode.ALL||this.get("editable")},setVisible:function(t,e){return this.set("visible",t,e),this.trigger(m.CHANGE_VISIBLE),this},setLocked:function(t,e){return this.set("locked",t,e),this.trigger(m.CHANGE_LOCKED),this},setEditable:function(t){return this.supportsProperty("editable")&&(this.set("editable",t),this.save()),this._setEditableForGroup(t),this._setEditableForGroupChild(t),this._setEditableForSmartgroupChild(t),this},_setEditableForGroup:function(t){(this.isGroup()||this.isSmartgroup())&&(this.isSmartgroup()?this.getCollection().models:this.getChildren()).forEach((function(e){e.setEditable(t)}))},_setEditableForGroupChild:function(t){t&&this.hasGroupParent()&&this.getAllParents().forEach((function(t){t.supportsProperty("editable")&&(t.set("editable",!0),t.save())}))},_setEditableForSmartgroupChild:function(t){var e,n;if(t&&this.isSyncedObject()){var i=null===(n=null===(e=window.designer.designerNav)||void 0===e?void 0:e.isolationModeContext)||void 0===n?void 0:n.smartgroupInstance;i&&i.supportsProperty("editable")&&(i.set("editable",!0),i.save())}},deselect:function(t){return this.selected?(this.selected=!1,t&&!0===t.silent||this.trigger(m.CHANGE_SELECTED),this):this},setSelectedStateOverride:function(t){this.selectedStateOverride=t,this.setSelectedObjectState(this.selectedStateOverride)},clearSelectedStateOverride:function(){this.selectedStateOverride=null},setSelectedObjectState:function(t){this.selectedState=this.selectedStateOverride||t,this.trigger("change-selected-state"),this.isGroup()||this.isSmartgroup()||this.isFolder()?this.getCollection().each((function(e){e.isBaseMaskObject()&&(e.view.forceRedraw=!0),e.setSelectedObjectState(t)})):this.isBaseMaskObject()&&this.forceRedraw(),this.view&&this.view.broadcast.trigger("designer:change-selected-state")},shouldSelect:function(){return!!h.BackboneCapabilitySelectors.SelectShowHotspots()||!this.isHotspotComponent()},select:function(t){if(!this.shouldSelect())return this;var e=t&&t.forceReselect;return this.selected&&!e||(this.selected=!0,this.trigger(m.SELECT_ITEM,this,t),t&&!0===t.silent||this.trigger(m.CHANGE_SELECTED,t)),this},isShapeComponent:function(){return!1},isAnyShapeComponent:function(){return this.isShapeComponent()||this.isCustomShapeComponent()},isFolder:function(){return!1},isImageModel:function(){return!1},isVideoModel:function(){return!1},isMediaModel:function(){return this.isVideoModel()||this.isImageModel()},isGroup:function(){return!1},isMaskGroup:function(){return!1},isInMaskGroup:function(){var t=this.getParent();return!!t&&"mask-group"===t.get("type")},isInAlphaMaskGroup:function(){var t=this.getParent();return!!t&&t.isMaskGroup()&&t.isAlphaMask()},isBaseMaskObject:function(){return!1},isMask:function(){return!1},getValidClickInteractions:function(){return{}},getValidHoverInteractions:function(){return[]},getValidViewInteractions:function(){return[]},isFolderOrGroup:function(){return this.isGroup()||this.isFolder()},isSmartgroup:function(){return!1},isObject:function(){return!1},isSyncedObject:function(){return this.inSmartgroup},isForSyncedObject:function(t){return!(!t||!t.syncedObject)||this.isSyncedObject()},hasInteractions:function(){return!1},hasInteractionsBesidesChangeState:function(){return!1},isInteractable:function(){return!this.isMask()},hasChildren:function(){return!1},hasSelectedChild:function(){return!1},isResizable:function(){return!0},isDeletable:function(){return!0},isGroupable:function(){return!0},isMoveable:function(){return!0},isUserSelectable:function(){return!0},getChildren:function(){return[]},getAllDescendants:function(){return[]},getPathPart:function(){return""},getCollection:function(){return null},changedInspectorPanelAttributes:function(){return this.changedIPAttributes},getDisplayLabel:function(){return this.type?this.type:"Object"},isCustomShapeComponent:function(){return!1},getSyncedProperties:function(){return l.default.get(o.default.Model.prototype.get.call(this,"type"))},isUploading:function(){return!1},isSyncedTextComponent:function(){return!1},isTextComponent:function(){return!1},isTextPlusComponent:function(){return!1},isImageComponent:function(){return!1},isHotspotComponent:function(){return!1},isHtmlComponent:function(){return!1},getSupported:function(){return u.default.AbstractPageSubModel.supported},supportsProperty:function(t){return-1!==this.getSupported().indexOf(t)},isCanvasBackgroundModel:function(){return!1},supportsObjectStates:function(){return!!this.objectStatesEnabled},canCopyPasteAnimations:function(){return!(this.isGroup()&&this.hasActiveBlendingMode()||this.isFolder()||this.isSmartgroup()||this.isHtmlComponent())},hasActiveBlendingMode:function(){return!1},getExistingObjectStates:function(){return[]}},{EVENTS:m})},52896:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(93731)),a=i(n(97499)),s=i(n(244)),u={};r.default.extend(u,o.default,a.default,s.default,{set:function(t,e,n){var i=n&&!!n.ignoreState;return s.default.propHasStateException(t)||i||(t=s.default.set.call(this,t,e,n)),o.default.set.call(this,t,e,n)},get:function(t,e){var n=null,i=e&&!!e.ignoreState,r=o.default.get.call(this,t,e);return s.default.propHasStateException(t)||i||(n=s.default.get.call(this,t,e)),null!==n?n:r}}),e.default=u},29579:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(69430));e.default=a},244:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(14730)),a=n(64478),s=n(25694),u=i(n(86431)),l={};r.default.extend(l,{stateExceptionProps:["states","interactions","userDefinedStates"],isStateExceptionProp:function(t){return!!r.default.find(this.stateExceptionProps,(function(e){return e===t}))},propHasStateException:function(t){var e=this;return r.default.isObject(t)?r.default.some(r.default.keys(t),(function(t){return e.isStateExceptionProp(t)})):e.isStateExceptionProp(t)},set:function(t,e,n){var i=this._filterUnsupportedProps(o.default.buildPropertyObject(t,e));if(s.ObjectStateManager.isNonDefaultState(this.selectedState)){var a=r.default.cloneDeep(this.get("states")||t.states||{}),u=a[this.selectedState]||{},l={};r.default.isNil(i.x)&&r.default.isNil(i.y)&&r.default.isNil(i.x2)&&r.default.isNil(i.y2)||(i=this._setDeltaValuesForCoordinateProperties(i)),r.default.extend(u,i),l[this.selectedState]=u,r.default.extend(a,l),t={states:a},this.triggerChangeEventForStateProps(u,n)}return t},get:function(t,e){var n=this.get("states",e);return n&&s.ObjectStateManager.isNonDefaultState(this.selectedState)&&n[this.selectedState]&&!r.default.isUndefined(n[this.selectedState][t])?"x"===t||"y"===t||"x2"===t||"y2"===t?this.get(t,r.default.extend(e,{ignoreState:!0}))+this._getDeltaValueForCoordinateProperty(n,t):n[this.selectedState][t]:null},_setDeltaValuesForCoordinateProperties:function(t){if(!r.default.isNil(t.x)){var e=this.get("x",{ignoreState:!0});t.deltaX=t.x-e,t.x=e}if(!r.default.isNil(t.y)){var n=this.get("y",{ignoreState:!0});t.deltaY=t.y-n,t.y=n}if(!r.default.isNil(t.x2)){var i=this.get("x2",{ignoreState:!0});t.deltaX2=t.x2-i,t.x2=i}if(!r.default.isNil(t.y2)){var o=this.get("y2",{ignoreState:!0});t.deltaY2=t.y2-o,t.y2=o}return t},_getDeltaValueForCoordinateProperty:function(t,e){var n=0;return"x"===e&&(n=t[this.selectedState].deltaX||0),"y"===e&&(n=t[this.selectedState].deltaY||0),"x2"===e&&(n=t[this.selectedState].deltaX2||0),"y2"===e&&(n=t[this.selectedState].deltaY2||0),n},clearAllObjectStates:function(){var t=r.default.keys(this.getStatesClone()),e=this;r.default.each(t,(function(t){e.clearSelectedObjectState(t)})),this.setSelectedObjectState(u.default.OBJECT_STATES_DEFAULT)},removeAllObjectStates:function(t){void 0===t&&(t=!1);var e=r.default.keys(this.getStatesClone()),n=this;(this.isGroup()||this.isSmartgroup())&&(this.isSmartgroup()?this.getSmartGroupChildren():this.getAllDescendants()).forEach((function(t){t.removeAllObjectStates()})),r.default.each(e,(function(t){s.ObjectStateManager.isInteractionState(t)?n.removeState(t):n.removeUserDefinedState(t)})),this.setSelectedObjectState(u.default.OBJECT_STATES_DEFAULT)},clearSelectedObjectState:function(t){t=t||this.selectedState;var e=this.getStatesClone(),n=r.default.keys(e[t]),i=this;r.default.each(n,(function(t){i.resetPropertyToDefaultValue(t)})),e[t]={},this.set("states",e),this.save()},clearOrRemoveSelectedObjectState:function(){if(s.ObjectStateManager.isDefaultState(this.selectedState))return!1;var t=this.get("states");s.ObjectStateManager.isUserDefinedState(this.selectedState)&&r.default.isEmpty(t[this.selectedState])&&this.removeUserDefinedState(this.selectedState),this.clearSelectedObjectState()},removeUserDefinedState:function(t,e){t=t||this.selectedState;var n=this.get("userDefinedStates");n=n.filter((function(e){return e.id!==t})),this.set({userDefinedStates:n},{silent:e}),this.removeState(t)},removeState:function(t,e){t=t||this.selectedState;var n=r.default.omit(this.getStatesClone(),t);this.set({states:n},{silent:e})},renameUserDefinedState:function(t,e,n){t=t||this.selectedState;var i=r.default.cloneDeep(this.get("userDefinedStates")),o=r.default.cloneDeep(this.get("states")),s=r.default.cloneDeep(o[t]),u=i.find((function(e){return e.id===t})),l=void 0;if(u){var c=r.default.indexOf(i,u),d=a.UserDefinedState.withNewTitle(u.number,e);-1!==c&&(i[c]=d.toJSON(),l=d.id,delete o[t],o[d.id]=s,this.set({userDefinedStates:i,states:o},{silent:n}),this.save())}return l},hasStates:function(){return!r.default.isEmpty(this.get("states"))},triggerChangeEventForStateProps:function(t,e){var n=this;r.default.each(r.default.keys(t),(function(i){n.trigger("change:"+i,i,t[i],e||{})}))},triggerChangeEventForAllStateProps:function(t){var e=this.getStatesClone();if(e){var n=e[this.selectedState];this.triggerChangeEventForStateProps(n,t)}},resetPropertyToDefaultValue:function(t){var e=this.get(t,{ignoreState:!0});this.set(t,e)},getAttributesWithStateChanges:function(){var t=this.getStatesClone(),e={};return r.default.each(r.default.keys(t),(function(n){r.default.extend(e,t[n])})),r.default.keys(e)},getExistingObjectStates:function(){var t=this.get("states");return r.default.keys(t)},hasActiveStateProperties:function(t,e){var n=this,i=this.getStatesClone();if(!i)return!1;if(t){var o=!this.hasEmptyState(t,i);return o&&e?!r.default.isNil(i[t][e]):this.isGroup()||this.isSmartgroup()?this.hasChildrenWithActiveState(t):o}return r.default.some(r.default.keys(i),(function(t){return n.hasActiveStateProperties(t)}))},addEmptyState:function(t){var e=this.getStatesClone();e[t]||(e[t]={},this.set({states:e}))},getUserDefinedStates:function(){return this.get("userDefinedStates")||[]},getNextUserDefinedStateNumber:function(){var t=this.get("userDefinedStates")||[],e=r.default.maxBy(t,"number");return e?e.number+1:1},addUserDefinedState:function(t){var e=r.default.cloneDeep(this.get("userDefinedStates"))||[],n=new a.UserDefinedState(t);e.push(n.toJSON());var i=this.getStatesClone();return i[n.id]={},this.set({states:i,userDefinedStates:e}),this.save(),n.id},hasActiveUserDefinedStateWithNoChanges:function(){return!!s.ObjectStateManager.isUserDefinedState(this.selectedState)&&this.hasEmptyState(this.selectedState)},hasEmptyState:function(t,e){return e=e||this.get("states"),!r.default.some(r.default.keys(e[t]),(function(n){return!r.default.isNil(e[t][n])}))||r.default.isEmpty(e[t])},stateExists:function(t){var e=this.get("states");return-1!==r.default.keys(e).indexOf(t)},userDefinedStateExist:function(t){return this.getUserDefinedStates().map((function(t){return t.title.toLowerCase()})).includes(t.toLowerCase())},findKeyForUserDefinedState:function(t){var e;return null===(e=this.getUserDefinedStates().find((function(e){return e.title.toLowerCase()===t.toLowerCase()})))||void 0===e?void 0:e.id},_filterUnsupportedProps:function(t){var e={},n=this;return r.default.isObject(t)&&r.default.each(r.default.keys(t),(function(i){n.supportsObjectStatesForProperty(i)&&(e[i]=t[i])})),e},getStatesClone:function(){return r.default.cloneDeep(this.get("states"))}}),e.default=l},93731:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=i(n(14730)),s=i(n(16080)),u=i(n(82635)),l=u.default.ATTR_OVERRIDES,c=u.default.NON_OVERRIDEABLE_ATTRIBUTES,d={};r.default.extend(d,u.default,{setParentModel:function(t){if(!(t.prototype instanceof o.default.Model))throw new Error("ParentModel should extend Backbone.Model");this.ParentModel=t},nonVariantGet:function(t){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.get.call(this,t)},nonVariantSet:function(t,e,n){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.handleSetOverridesChanges(t,e,n),this.ParentModel.prototype.set.call(this,t,e,n)},nonVariantChangedAttributes:function(t){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.changedAttributes.call(this,t)},nonVariantPreviousAttributes:function(){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.previousAttributes.call(this)},nonVariantPrevious:function(t){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.previous.call(this,t)},nonVariantHasChanged:function(t){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.hasChanged.call(this,t)},get:function(t,e){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantGet(t);var n=e&&e.variant?e.variant:s.default.getCurrentVariant(),i=c.indexOf(t)>-1,o=this.isSyncedTextComponent()&&r.default.includes(this.getSyncedProperties(),t);return i||this.isForSyncedObject()||o?this.nonVariantGet(t):this.getAttributeForVariant(n,t,e)},set:function(t,e,n){if(r.default.isObject(t)&&(n=e),!this.initialized)return this.initialized=!0,this.initializedSet(t,n);if(t===l||n&&(n.unset||n.remote)||!s.default.adaptiveLayoutsEnabled())return this.nonVariantSet(t,e,n);var i=r.default.isObject(t)?t:a.default.buildPropertyObject(t,e);if(!r.default.isUndefined(i.synced)&&this.initialized){var o={synced:i.synced,overrides:this.buildOverridesWithEmptySyncedProperties()};delete i.synced;var u=this.nonVariantSet(o,n);if(r.default.isEmpty(i))return u}var c=n&&n.variant,d=c?n.variant:s.default.getCurrentVariant();return this.isForSyncedObject(n)&&!c?this.syncedObjectSet(i,n):this.setAttributeForVariant(d,i,n),this},initializedSet:function(t,e){return this.mergeVariantDefaults(t,e),this.ensureVariantOverrideObjects(t),this.nonVariantSet(t,e)},mergeVariantDefaults:function(t,e){if(this.variantDefaults){var n=e&&e.variant?e.variant:s.default.getCurrentVariant(),i=r.default.result(this,"variantDefaults");if("desktop"===n||this.isForSyncedObject(e))r.default.defaults(t,i);else{var o=r.default.omitBy(i,r.default.bind((function(e,n){return r.default.has(t,n)&&null!=t[n]}),this));t[l]=t[l]?t[l]:{},t[l][n]=t[l][n]?t[l][n]:{},r.default.defaults(t[l][n],o)}}return this},has:function(t,e){return null!=this.get(t,e)},hasChanged:function(t,e){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantHasChanged(t);e=e||{},r.default.defaults(e,{variant:null,nonVariant:!1});var n=e.variant?e.variant:s.default.getCurrentVariant();return e.nonVariant||!t||t===l?this.nonVariantHasChanged(t):this.hasChangedForDesktop(t)||"desktop"!==n&&this.hasChangedForVariant(n,t)},previous:function(t,e){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantPrevious(t);if(e=e||{},r.default.defaults(e,{variant:null,nonVariant:!1,doNotFallbackToDesktop:!1}),null==t)return null;var n=e.variant?e.variant:s.default.getCurrentVariant();return e.nonVariant||this.isForSyncedObject()?this.nonVariantPrevious(t):e.doNotFallbackToDesktop?this.previousForVariant(n,t):this.previousForVariant(n,t)||this.nonVariantPrevious(t)},previousAttributes:function(t){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantPreviousAttributes();t=t||{},r.default.defaults(t,{variant:null,nonVariant:!1,onlyVariantOverrides:!1});var e=t.variant?t.variant:s.default.getCurrentVariant();if(t.nonVariant)return this.nonVariantPreviousAttributes();if(this.isForSyncedObject()||"desktop"===e)return this.previousAttributesForDesktop();if(t.onlyVariantOverrides)return this.previousAttributesForVariant(e,t);var n=this.previousAttributesForDesktop(),i=this.previousAttributesForVariant(e);return r.default.extend({},n,i)},changedAttributes:function(t,e){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantChangedAttributes(t);var n=(e=r.default.defaults(e||{},{nonVariant:!1,variant:null,onlyVariantOverrides:!1})).variant?e.variant:s.default.getCurrentVariant();if(e.nonVariant){var i=this.nonVariantChangedAttributes(t);return i.overrides&&(i.overrides=s.default.cloneOverrides(i.overrides)),i}if(this.isForSyncedObject())return this.changedAttributesForDesktop(t);if(e.onlyVariantOverrides)return this.changedAttributesForVariant(n,t);var o=this.changedAttributesForDesktop(t),a=this.changedAttributesForVariant(n,t);return r.default.extend({},o,a)}}),e.default=d},54630:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=function(t,e){this.initialize(t,e)};o.prototype={initialize:function(t,e){this.model=t,this.changes={},this.doNotBuffer=!1,e&&this.add(e)},setDoNotBuffer:function(){return this.doNotBuffer=!0,this},canBuffer:function(){return!this.doNotBuffer},total:function(){return r.default.size(this.changes)},add:function(t){return r.default.extend(this.changes,t),this},remove:function(t){if(this.total()>0){r.default.isArray(t)||(t=[t]);var e=r.default.partial(r.default.unset,this.changes);r.default.map(t,e)}return this},getChanges:function(){return this.changes}},e.default=o},16218:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(96486)),l=a(n(29231)),c=s(n(29579)),d=s(n(64311)),h=s(n(97661)),f=s(n(1680)),p=s(n(16982)),g=s(n(68427)),m=s(n(16080)),v=n(52348),y=s(n(86431)),_=n(25694),b=s(n(86431)),w=n(57949);e.default=d.default.extend({MINIMUM_WIDTH:0,MINIMUM_HEIGHT:0,DIMENSION_DECIMAL_PLACES:0,initialize:function(t,e){var n=m.default.getCurrentVariant(),i=t.interactions;"desktop"!==n&&(i=u.default.get(t,"overrides."+n+".interactions")||i),this.interactions=this._buildInteractionCollectionThatWillUpdateOnChanges(i),this.on("change:interactions",u.default.bind((function(){this.interactions.reset(this.get("interactions"))}),this)),this.rubberBandHighlighted=!1,d.default.prototype.initialize.call(this,t,e)},_buildInteractionCollectionThatWillUpdateOnChanges:function(t,e){var n=new h.default(t,{saveHandler:u.default.bind(this.save,this)});return n.on("reset add change remove",u.default.bind((function(){this.set("interactions",n.toJSON(),e)}),this)),n},getInteractions:function(){return this.interactions},getSupported:function(){return c.default.AbstractComponentModel.supported},supportsProperty:function(t){return-1!==this.getSupported().indexOf(t)},getSupportedInteractionTriggers:function(){var t=[w.TriggerType.CLICK,w.TriggerType.ON_VIEW];return m.default.doesCurrentVariantSupportHover()&&t.splice(1,0,w.TriggerType.HOVER),t},highlight:function(){return this.rubberBandHighlighted||(this.rubberBandHighlighted=!0),this},dehighlight:function(){return this.rubberBandHighlighted?(this.rubberBandHighlighted=!1,this):this},getWidth:function(){return this.get("width")},getHeight:function(){return this.get("height")},setWidth:function(t){this.set("width",t)},setHeight:function(t){this.set("height",t)},getExtentsDimensionData:function(t){void 0===t&&(t=!1);var e=this.get("x"),n=this.get("y"),i=this.getWidth(),r=this.getHeight(),o=Math.toRad(this.get("rotation")),a=this.get("border"),s=a&&a.width?a.width:0,u=this.get("shadow"),l=null;return u&&t&&(l={offsetX:u.x||0,offsetY:u.y||0,blur:u.blur||0}),{x:e,y:n,width:i,height:r,rotation:o,borderWidth:s,shadow:l}},getExtents:function(t){void 0===t&&(t=!1);var e=this.getExtentsDimensionData(t);return p.default.getExtentsFromDimensions(e.x,e.y,e.width,e.height,e.rotation,e.borderWidth,e.shadow)},getExtentsInPageCoords:function(){var t=this.getExtentsDimensionData(),e=p.default.getExtentsPointsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,t.borderWidth);return this.transformPointsToPageCoords(e)},getExtentsInPageCoordsWithoutBorder:function(){var t=this.getExtentsDimensionData(),e=p.default.getExtentsPointsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,0);return this.transformPointsToPageCoords(e)},transformPointsToPageCoords:function(t){var e=this.transformPointToRotatedPageCoordinateSpace(t[0]),n=this.transformPointToRotatedPageCoordinateSpace(t[1]),i=this.transformPointToRotatedPageCoordinateSpace(t[2]),r=this.transformPointToRotatedPageCoordinateSpace(t[3]);return{x1:Math.round(Math.min(e.x,n.x,i.x,r.x)),y1:Math.round(Math.min(e.y,n.y,i.y,r.y)),x2:Math.round(Math.max(e.x,n.x,i.x,r.x)),y2:Math.round(Math.max(e.y,n.y,i.y,r.y))}},getCenterPosition:function(){var t=this.get("x")+this.getWidth()/2,e=this.get("y")+this.getHeight()/2;return new l.Point(t,e)},getCenterPositionInPageCoordinateSpace:function(){return this.translatePointToPageCoordinateSpace(this.getCenterPosition(),this.getAllParents())},getTopLeft:function(){return new l.Point(this.get("x"),this.get("y"))},getTopCenter:function(){return new l.Point(this.get("x")+this.getWidth()/2,this.get("y"))},getTopRight:function(){return new l.Point(this.get("x")+this.getWidth(),this.get("y"))},getCenterRight:function(){return new l.Point(this.get("x")+this.getWidth(),this.get("y")+this.getHeight()/2)},getBottomRight:function(){return new l.Point(this.get("x")+this.getWidth(),this.get("y")+this.getHeight())},getBottomCenter:function(){return new l.Point(this.get("x")+this.getWidth()/2,this.get("y")+this.getHeight())},getBottomLeft:function(){return new l.Point(this.get("x"),this.get("y")+this.getHeight())},getCenterLeft:function(){return new l.Point(this.get("x"),this.get("y")+this.getHeight()/2)},getAspectRatio:function(){return 0===this.get("height")?1:this.get("width")/this.get("height")},getLeft:function(){return this.get("x")},getRight:function(){return this.get("x")+this.getWidth()},getTop:function(){return this.get("y")},getBottom:function(){return this.get("y")+this.getHeight()},setLeft:function(t){this.set("x",t)},setRight:function(t){this.set("x",t-this.getWidth())},setTop:function(t){this.set("y",t)},setBottom:function(t){this.set("y",t-this.getHeight())},setCenterX:function(t){this.set("x",t-Math.round(this.getWidth()/2))},setCenterY:function(t){this.set("y",t-Math.round(this.getHeight()/2))},toCanvasCoords:function(t){return Math.rotateCoord(t,this.getCenterPosition(),-Math.toRad(this.get("rotation")))},fromCanvasCoords:function(t){return Math.rotateCoord(t,this.getCenterPosition(),Math.toRad(this.get("rotation")))},setWidthWhileMaintainingCanvasLeft:function(t,e,n,i){var r;n=n||f.default.createInstance(this),t=g.default.getValidValueForOptions(this.get("width"),t,i),t=this.ensureMinimumWidth(t),e&&0!==n.getWidth()&&0!==n.getHeight()?(r=t/n.getAspectRatio(),r=0===this.DIMENSION_DECIMAL_PLACES?Math.round(r):l.round(r,this.DIMENSION_DECIMAL_PLACES)):r=this.get("height"),this.setDimensionsWhileMaintainingCanvasTopLeft(t,r,n)},toHierarchyJSON:function(){return{id:this.get("id")}},toDictionaryJSON:function(){return this.toJSON()},setHeightWhileMaintainingCanvasTop:function(t,e,n,i){var r;n=n||f.default.createInstance(this),t=g.default.getValidValueForOptions(this.get("height"),t,i),t=this.ensureMinimumHeight(t),e&&0!==n.getWidth()&&0!==n.getHeight()?(r=t*n.getAspectRatio(),r=0===this.DIMENSION_DECIMAL_PLACES?Math.round(r):l.round(r,this.DIMENSION_DECIMAL_PLACES)):r=this.get("width"),this.setDimensionsWhileMaintainingCanvasTopLeft(r,t,n)},setDimensionsWhileMaintainingCanvasTopLeft:function(t,e,n){var i=(n=n||f.default.createInstance(this)).getCenterPosition(),r=n.getWidth(),o=n.getHeight(),a=Math.toRad(this.get("rotation")),s=t-r,u=e-o,c=s*Math.cos(a)/2-u*Math.sin(a)/2,d=s*Math.sin(a)/2+u*Math.cos(a)/2,h=new l.Point(i.getX()+c,i.getY()+d);this.set({x:Math.round(h.getX()-t/2),y:Math.round(h.getY()-e/2),width:t,height:e})},ensureMinimumWidth:function(t){return t<this.MINIMUM_WIDTH&&(t=this.MINIMUM_WIDTH),t},ensureMinimumHeight:function(t){return t<this.MINIMUM_HEIGHT&&(t=this.MINIMUM_HEIGHT),t},resizeAttributes:function(t){},translatePointToPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.forEachRight(e,(function(t){t.isGroup()&&(n=t.translatePointToParentCoordinateSpace(n))})),n},translatePointFromPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.each(e,(function(t){t.isGroup()&&(n=t.translatePointToChildCoordinateSpace(n))})),n},transformPointToRotatedPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.forEachRight(e,(function(t){t.isGroup()&&(n=t.transformPointToRotatedParentCoordinateSpace(n))})),n},transformPointFromRotatedPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.each(e,(function(t){t.isGroup()&&(n=t.transformPointToRotatedChildCoordinateSpace(n))})),n},transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation:function(t){var e=this.getTopLeft(),n=0,i=new l.Point(0,0);u.default.each(t,(function(t){if(t.isGroup()){var r=t.get("rotation");n+=t.get("rotation"),e=Math.rotateCoord(e,l.Point.sum(i,t.getCenterPosition()),Math.toRad(r)),i=l.Point.sum(i,t.getTopLeft())}}));var r=Math.rotateCoord(e,new l.Point(e.x+this.getWidth()/2,e.y+this.getHeight()/2),Math.toRad(n)),o=l.Point.diff(e,r),a=l.Point.diff(l.Point.sum(new l.Point(e.x+this.getWidth()/2,e.y+this.getHeight()/2),o),new l.Point(this.getWidth()/2,this.getHeight()/2)),s=this.supportsProperty("rotation")?this.get("rotation")-n:0;s%=360;var c=this.translatePointFromPageCoordinateSpace(a,t);this.set({x:c.getX(),y:c.getY(),rotation:s},{silent:!0})},hasReferencesToScranchor:function(t){var e=this.getReferencedScranchorIds();return u.default.includes(e,t.getId())},getReferencedScranchorIds:function(){return this.interactions.reduce((function(t,e){if(e.isScrollToInteraction()){var n=e.getAction().getScranchorId();n&&!u.default.includes(t,n)&&t.push(n)}return t}),[])},removeInteractionsReferencingScranchor:function(t){var e=this.interactions.filter((function(e){return e.isScrollToInteraction()&&e.getAction().getScranchorId()===t.getId()}));this.interactions.remove(e)},isVectorBased:function(){return!1},toPageCoordinateSpaceJsonMaintainingPositionAndOrientation:function(t){var e;e=t&&t.ignoreState?new l.Point(this.get("x",{ignoreState:!0}),this.get("y",{ignoreState:!0})):this.getTopLeft();var n=this.transformPointToRotatedPageCoordinateSpace(e,this.getAllParents()),i=this.getTotalParentRotation(),r=Math.rotateCoord(n,new l.Point(n.x+this.getWidth()/2,n.y+this.getHeight()/2),Math.toRad(-i)),o=l.Point.diff(n,r),a=l.Point.diff(l.Point.sum(new l.Point(n.x+this.getWidth()/2,n.y+this.getHeight()/2),o),new l.Point(this.getWidth()/2,this.getHeight()/2)),s=this.supportsProperty("rotation")?this.get("rotation")+i:0;s%=360;var u=this.reconcileJSONForCurrentVariant(!0);return u.x=a.getX(),u.y=a.getY(),u.rotation=s,u.width=this.get("width"),u.height=this.get("height"),u},translateToParentCoordinateSpace:function(t){var e=this.translatePointFromPageCoordinateSpace(this.getTopLeft(),t);this.set("x",e.getX()),this.set("y",e.getY())},roundTransformableAttributes:function(){this.set("x",Math.round(this.get("x"))),this.set("y",Math.round(this.get("y"))),this.set("width",Math.round(this.get("width"))),this.set("height",Math.round(this.get("height")))},getTotalRotation:function(){return this.get("rotation")+this.getTotalParentRotation()},getTotalParentRotation:function(){var t=this.getAllParents(),e=0;return u.default.each(t,(function(t){t.isGroup()&&(e+=t.get("rotation"))})),e},setSelectedObjectState:function(t,e,n){e=!!e,d.default.prototype.setSelectedObjectState.call(this,t),e&&(n.inIsolationMode()&&n.getAllIsolationModeReferences().forEach((function(e){e.createAutogeneratedChangeStateInteraction(t)})),this.createAutogeneratedChangeStateInteraction(t))},supportsBlendingModes:function(){var t=this.get("contentType"),e=this.get("title");return this.supportsProperty("blendingMode")&&v.BlendingModes.isSupportedImageType(t,e)},hasActiveBlendingMode:function(){var t=this.get("blendingMode");return t&&!v.BlendingModes.isDefaultBlendingMode(t)},hasRotation:function(){return!!this.get("rotation")},hasAnimations:function(){var t=this.get("animations");return t&&0!==t.length},hasAnyParentWithRotation:function(){return this.getAllParents().some((function(t){return!t.isFolder()&&t.hasRotation()}))},hasAnyParentWithAnimations:function(){return this.getAllParents().some((function(t){return!t.isFolder()&&t.hasAnimations()}))},hasAnyParentThatDoesNotAllowBlendModes:function(){return this.hasAnyParentWithRotation()||this.hasAnyParentWithAnimations()},supportsLinkInteraction:function(){return this.supportsProperty("linkInteraction")},setLinkInteraction:function(t){this.set("linkInteraction",t),t?(this.createAutogeneratedChangeStateInteraction(y.default.OBJECT_STATES_CLICK),m.default.isCurrentVariant("desktop")&&this.createAutogeneratedChangeStateInteraction(y.default.OBJECT_STATES_HOVER)):this.removeAllAutogeneratedInteractions()},removeInteractionsForState:function(t){this.getInteractions().forEach((function(e){e&&e.get("state")===t&&e.destroy()}))},removeAllAutogeneratedInteractions:function(){this.getInteractions().forEach((function(t){t&&t.get("autogenerated")&&t.destroy()}))},removeInteractionsNotChangeState:function(){this.getInteractions().forEach((function(t){t&&"change-state"!==t.get("action")&&t.destroy()}))},hasObjectStates:function(){var t=this.get("states");return!!Object.keys(t).length>0},createAutogeneratedChangeStateInteraction:function(t){this.isInteractable()&&_.ObjectStateManager.isInteractionState(t)&&(u.default.find(this.interactions.models,(function(e){return e.get("autogenerated")&&e.get("trigger")===t}))||this.interactions.add({action:"change-state",trigger:t,layerTargets:[this.id],state:t,autogenerated:!0,lockState:t!==y.default.OBJECT_STATES_HOVER})),this.save()},removeIncompatiblePropertiesWhenMasking:function(t){var e;void 0===t&&(t=!1);var n=this.get("type"),r={};if("shape-component"===n||"custom-shape-component"===n){var o=this.get("background");o&&o.color||(r.background=i(i({},o),{color:b.default.MASK_ITEM_DEFAULT_FILL_COLOR})),r.shadow={};var a=this.get("border");if(a){var s=a.radius;void 0!==s&&s.split&&(s=a.radius.split(",")[0]),r.border=i(i({},a),{radius:s,color:void 0,width:void 0})}}r.visible=!0,r.animations=[],r.animationsRepeatAll=!1,r.animationsReplayOnScroll=!1;var u=!(!this.attributes.maskInfo||!(null===(e=this.attributes.maskInfo)||void 0===e?void 0:e.isBaseMaskObject));"image-component"===n&&u?this.removeInteractionsNotChangeState():(r.interactions=[],this.removeAllObjectStates(t)),this.set(r,{silent:t})}})},77759:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(29579)),o=i(n(16218)),a=n(57949);e.default=o.default.extend({defaults:r.default.AbstractFormModel.defaults,getSupported:function(){return r.default.AbstractFormModel.supported},getSupportedInteractionTriggers:function(){return[a.TriggerType.SUBMIT]},getDisplayLabel:function(){return"External Form"}})},18423:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=i(n(68686)),s=i(n(16218)),u=i(n(67189)),l=i(n(68843));e.default=s.default.extend({firstRender:!0,zoom:1,shouldUpdateFromZoomChange:!1,forceCreateNewVectorImageResourceFactory:!1,initialize:function(t,e){s.default.prototype.initialize.call(this,t,e),this.isVectorBased()&&(this.forceCreateNewVectorImageResourceFactory=!this.hasCurrentConvertedVectorImageUri()),this.updateRenderedImage=r.default.debounce(r.default.bind(this.updateRenderedImageNow,this),500)},getImageUri:function(){throw"getImageUri is abstract"},getImageResourceToRender:function(){var t=this.getImageUri();if(!t)return null;if(this.firstRender){var e=!1;return this.isVectorBased()&&(e=!this.hasCurrentConvertedVectorImageUri()),this.updateRenderedImageNow(e),this.firstRender=!1,null}return this.shouldUpdateFromZoomChange&&(this.updateRenderedImage(),this.shouldUpdateFromZoomChange=!1),this.isVectorBased()?this.getVectorImageResourceToRender():a.default.getRasterImage(t,this.get("crop"))},getVectorImageResourceToRender:function(){var t=a.default.getVectorImageResourceFactory(this.getConvertedVectorImageUri());return t||(t=a.default.getVectorImageResourceFactory(this.getImageUri()))?t.getImageResource(this.getStyleForVectorImageResourceFactory()):null},getVectorImageResourceFactoryIfExists:function(){var t=a.default.getVectorImageResourceFactory(this.getConvertedVectorImageUri());return t||(a.default.getVectorImageResourceFactory(this.getImageUri())||void 0)},hasRendered:function(){return!this.firstRender},setZoom:function(t){t>this.zoom&&!this.isVectorBased()&&(this.shouldUpdateFromZoomChange=!0),this.zoom=t},getZoom:function(){return this.zoom},updateRenderedImageNow:function(t){if(!this.getImageUri())return o.default.Deferred().resolve(null).promise();if(this.isVectorBased()){var e=this.updateRenderedVectorImage(t);return t&&this.saveConvertedVectorImage(e),e}return this.updateRenderedRasterImage()},saveConvertedVectorImage:function(t){var e=this;this.wasConvertedThisLoad||(this.wasConvertedThisLoad=!0,t.then((function(t){var n;null===(n=e.options.page)||void 0===n||n.getSvgReupload().uploadFile(t,e)})))},hasCurrentConvertedVectorImageUri:function(){return l.default.hasCurrentConvertedVectorImageUri(this.get("convertedVectorImageVersion"),this.get("convertedVectorImage"))},getConvertedVectorImageUri:function(){return this.get("convertedVectorImage")},setConvertedVectorImageUri:function(t){this.set("convertedVectorImageVersion",l.default.VECTOR_IMAGE_CONVERSION_VERSION),this.set("convertedVectorImage",t),this.save()},updateRenderedVectorImage:function(t){var e,n=this.getImageUri(),i=null===(e=this.options.page)||void 0===e?void 0:e.getSvgLoadQueue(),r=a.default.getOrCreateVectorImageResourceFactory(n,i,t,this.get("id"),this.forceCreateNewVectorImageResourceFactory);return this.forceCreateNewVectorImageResourceFactory=!1,r.getOrCreateImageResource(this.getStyleForVectorImageResourceFactory()).getPromise()},updateRenderedRasterImage:function(){var t=this.getImageUri(),e=this.get("width")*this.zoom,n=u.default.calculateWidthForDevicePixelRatio(e);return a.default.getOrCreateRasterImageResource(t,n,this.get("crop"))},forceRedraw:function(){this.trigger("forceRedraw")},getStyleForVectorImageResourceFactory:function(){var t=r.default.cloneDeep(this.get("background"));return t.backgroundHasBeenSet=this.get("backgroundHasBeenSet"),t},setMediaUploadPromise:function(t){this.uploadPromise=t},isUploading:function(){return this.uploadPromise&&"pending"===this.uploadPromise.state()},cancelUpload:function(t){this.uploadPromise.reject(t)}},{constrainInitialGettyMediaSize:function(t,e,n){var i=.7*n,r=i/(t/e);return{width:Math.round(i),height:Math.round(r)}}})},48014:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(4020)),a=i(n(8030)),s=i(n(29579)),u=i(n(16218)),l=["viewportHeight","viewportWidth","scaleExperienceType"],c=["pageHeight","overHeight"];e.default=u.default.extend({defaults:s.default.CanvasBackgroundModel.defaults,initialize:function(){u.default.prototype.initialize.apply(this,arguments)},set:function(t,e,n){var i={};"object"==typeof t?(i=t,n=e):i[t]=e,this.changedIPAttributes={};var o=r.default.keys(i),a=r.default.difference(o,l.concat(c)),s=r.default.intersection(o,l),d=r.default.pick(i,a);u.default.prototype.set.apply(this,[d,n]);var h=i.overHeight||i.pageHeight||i.height;if(h&&this.setPageOverheight(h),this.documentVersion){var f=r.default.pick(i,s);this.documentVersion.set(f,n)}return o.length>0&&this.notifyChange(i,n),this},get:function(t){switch(t){case"width":case"viewportWidth":return this.documentVersion?this.documentVersion.getExperienceWidth():u.default.prototype.get.apply(this,arguments);case"viewportHeight":return this.documentVersion?this.documentVersion.getExperienceHeight():u.default.prototype.get.apply(this,arguments);case"scaleExperienceType":return this.documentVersion?this.documentVersion.getScaleExperienceType():u.default.prototype.get.apply(this,arguments);case"height":case"pageHeight":return this.page&&this.documentVersion?this.page.getPageHeight(this.documentVersion):u.default.prototype.get.apply(this,arguments);default:return u.default.prototype.get.apply(this,arguments)}},isIncludedInLayerPanel:function(){return!0},setPageOverheight:function(t){this.page&&(this.page.setOverHeight(t),o.default.trackOverHeight({experience_title:a.default.experienceName}))},notifyChange:function(t,e){e=e||{},t=r.default.pick(t,l.concat(c));var n=r.default.keys(t);this.changedIPAttributes=t,n&&n.length>0&&t&&(r.default.each(n,r.default.bind((function(n){this.trigger("change:"+n,this,t[n],e)}),this)),this.trigger("change",this,e))},setPage:function(t){this.page||(this.page=t,this.documentVersion=this.page.documentVersion,this.page.setCanvasBackgroundModel(this),this.page.on("change",r.default.bind(this.onPageChange,this)),this.documentVersion.on("change",r.default.bind(this.onDocumentVersionChange,this)))},onPageChange:function(t,e){var n=r.default.pick(t.changedAttributes(),c);n.overHeight&&(n.pageHeight=n.overHeight,delete n.overHeight),this.notifyChange(n,e)},onDocumentVersionChange:function(t,e){var n=r.default.pick(t.changedAttributes(),l);this.notifyChange(n,e)},setFromCanvasBackgroundModel:function(t){var e=this.getSupported(),n={};r.default.each(e,(function(e){n[e]=t.get(e)})),this.set(n),this.save()},getSupported:function(){return s.default.CanvasBackgroundModel.supported},getDisplayLabel:function(){return"Canvas Settings"},isResizable:function(){return!1},isDeletable:function(){return!1},isCopiable:function(){return!1},isGroupable:function(){return!1},isMoveable:function(){return!1},isUserSelectable:function(){return!1},isFocusable:function(){return!1},isLockable:function(){return!1},isVisible:function(){return!0},setVisible:function(){return this},isInteractable:function(){return!1},highlight:function(){return this.rubberBandHighlighted=!1,this},isCanvasBackgroundModel:function(){return!0}})},94079:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(29579)),o=i(n(18423));e.default=o.default.extend({defaults:r.default.ChartblocksModel.defaults,initialize:function(t,e){o.default.prototype.initialize.call(this,t,e),this.on("change:svgUrl",this.updateRenderedImage,this)},getSupported:function(){return r.default.ChartblocksModel.supported},getDisplayLabel:function(){return"ChartBlocks"},getThumbnailUrl:function(){return"https://"+this.get("svgUrl")},getImageUri:function(){return this.getThumbnailUrl()},isVectorBased:function(){return!0},mustBeConstrained:function(){return!0}})},38375:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(29579)),o=i(n(16218)),a=n(85650);e.default=o.default.extend({defaults:r.default.HotspotModel.defaults,getSupported:function(){return r.default.HotspotModel.supported},getDisplayLabel:function(){return"Hotspot"},isHotspotComponent:function(){return!0},isEditableComponent:function(){return!1},isUserSelectable:function(){return a.BackboneCapabilitySelectors.SelectShowHotspots()}})},86250:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(29579)),o=i(n(16218));e.default=o.default.extend({defaults:r.default.HtmlModel.defaults,isHtmlComponent:function(){return!0},getSupported:function(){return r.default.HtmlModel.supported},getSupportedInteractionTriggers:function(){return[]},getDisplayLabel:function(){return"Embedded Object"},getThumbnailUrl:function(){return this.get("thumbnailUrl")},getEmbedSource:function(){return this.get("embedSource")}})},28271:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(42216)),a=i(n(29579)),s=i(n(77759)),u=i(n(53076)),l=function(t){return o.default.render(u.default,{containerClassName:t})},c=function(t){return"hubspot-"+t};e.default=s.default.extend({defaults:a.default.HubspotFormModel.defaults,initialize:function(t,e){r.default.has(t,"css")||this.set("css",l(this.getPlayerContainerClassName()),{silent:!0}),s.default.prototype.initialize.call(this,t,e)},getPlayerContainerClassName:function(){return c(this.id)},getSupported:function(){return a.default.HubspotFormModel.supported},getDisplayLabel:function(){return"Hubspot Form"}},{getDefaultCss:l,getDefaultCssForId:function(t){var e=c(t);return l(e)},replaceClassNamesInCss:function(t,e,n){var i=new RegExp("\\."+c(e),"g"),r="."+c(n);return t.replace(i,r)}})},31459:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(96486)),u=o(n(29231)),l=a(n(16218)),c=["x","y","width","height","imageModel"];e.default=l.default.extend({initialize:function(t,e){s.default.each(c,(function(e){if(!s.default.has(t,e))throw"ImageCropSelectionModel was not initialized with the required attribute "+e})),l.default.prototype.initialize.call(this,t,e)},getAllParents:function(){return this.getImageModel().getAllParents()},getTotalRotation:function(){return this.getImageModel().getTotalRotation()},getTotalParentRotation:function(){return this.getImageModel().getTotalRotation()},toGroupCoords:function(t){var e=this.getImageModel().get("x")+t.getX(),n=this.getImageModel().get("y")+t.getY();return this.getImageModel().toCanvasCoords(new u.Point(e,n))},fromGroupCoords:function(t){var e=this.getImageModel().fromCanvasCoords(t),n=e.getX()-this.getImageModel().get("x"),i=e.getY()-this.getImageModel().get("y");return new u.Point(n,i)},translatePointToPageCoordinateSpace:function(t){var e=this.getImageModel().get("x")+t.getX(),n=this.getImageModel().get("y")+t.getY();return this.getImageModel().translatePointToPageCoordinateSpace(new u.Point(e,n))},translatePointFromPageCoordinateSpace:function(t){var e=this.getImageModel().translatePointFromPageCoordinateSpace(t),n=e.getX()-this.getImageModel().get("x"),i=e.getY()-this.getImageModel().get("y");return new u.Point(n,i)},transformPointToRotatedPageCoordinateSpace:function(t){var e=this.toGroupCoords(t);return this.getImageModel().transformPointToRotatedPageCoordinateSpace(e)},transformPointFromRotatedPageCoordinateSpace:function(t){var e=this.getImageModel().transformPointFromRotatedPageCoordinateSpace(t);return this.fromGroupCoords(e)},getImageModel:function(){return this.get("imageModel")}})},76621:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(96486)),a=r(n(65311)),s=r(n(56455)),u=r(n(76653)),l=r(n(68686)),c=r(n(39536)),d=r(n(29579)),h=r(n(18423)),f=r(n(31459)),p=r(n(72753)),g=r(n(7689)),m=r(n(68843)),v=r(n(28388)),y=r(n(67189)),_=r(n(16982)),b=r(n(16218)),w="opening",T="cropping",S="saving";e.default=h.default.extend({uploadedImageResource:null,uploadedVectorImageResourceFactory:null,cropSelectionModel:null,cropState:null,nonCroppedImage:null,originalDimensions:null,dimensionsBeforeCrop:null,extentsChangeCallbacks:null,flaggedForBackgroundRemoval:!1,objectStatesEnabled:!0,nonConvertedVersionAlreadyLoaded:!0,defaults:d.default.ImageModel.defaults,initialize:function(t,e){h.default.prototype.initialize.call(this,t,e),this.get("createDate")||this.set("createDate",Date.now()),this.on("change:contentType",this.onContentTypeChanged),this.on("change:width",this.onSizeChange,this),this.on("change:height",this.onSizeChange,this),this.on("change:image",this.updateRenderedImage,this),this.on("change:crop",this.updateRenderedImage,this),this.on("change:background",this.updateRenderedImage,this),this.on("change:backgroundHasBeenSet",this.updateRenderedImage,this),this.on("selectItem",this.fixSepiaAndInvertForOldExperiences,this)},fixSepiaAndInvertForOldExperiences:function(){var t=this.get("effects");o.default.isNil(t.sepia)&&o.default.isNil(t.invert)&&(this.set("effects",o.default.merge({},this.defaults.effects,t)),this.save())},onContentTypeChanged:function(t,e){var n=t.previous("contentType");m.default.isVectorBased(n)!==m.default.isVectorBased(e)&&t.trigger(p.default.EVENTS.CHANGE_SELECTED)},getSupported:function(){return this.isInMaskGroup()?this.parent.isShapeMask()?d.default.ImageModel.supportedShapeMaskImageBase:d.default.ImageModel.supportedAlphaMaskImage:this.isVectorBased()?d.default.ImageModel.supportedVector:d.default.ImageModel.supported},getValidClickInteractions:function(){return d.default.ImageModel.maskedImageClickOptions},getValidHoverInteractions:function(){return d.default.ImageModel.maskedImageHoverOptions},getValidViewInteractions:function(){return d.default.ImageModel.maskedImageViewOptions},isImageComponent:function(){return!0},isCopiable:function(){return!o.default.isEmpty(this.getImageUri())&&!this.isInAnyCropState()},getDisplayLabel:function(){return"Image"},mustBeConstrained:function(){return this.isVectorBased()},isVectorBased:function(){return m.default.isVectorBased(this.get("contentType"))},isGif:function(){return v.default.isGifContentType(this.get("contentType"))},backgroundNeverRemoved:function(){return!this.get("backgroundRemovedUri")},backgroundPreviouslyRemoved:function(){var t=this.get("backgroundRemovedUri"),e=t!==this.get("image");return!o.default.isNull(t)&&e},backgroundCurrentlyRemoved:function(){var t=this.get("backgroundRemovedUri");return t===this.get("image")&&!o.default.isNull(t)&&this.isReadyForBackgroundRemoval()},isReadyForBackgroundRemoval:function(){return!this.isUploading()&&!this.flaggedForBackgroundRemoval},resetAttributes:function(t){var e,n=this.get("id"),r=(null===(e=t.resizeMap)||void 0===e?void 0:e[n])||{},a=i({x:t.meta.x,y:t.meta.y,width:t.meta.width,height:t.meta.height,crop:null,gettyImageId:null,originalUri:null,originalDimensions:null,backgroundRemovedUri:null,backgroundRemovedDimensions:null,background:{},backgroundHasBeenSet:!1,nounProjectIconId:null,title:t.basename,contentType:t.mimetype,image:t.uri,convertedVectorImageVersion:null,convertedVectorImage:null},r);this.flaggedForBackgroundRemoval&&(a.width=this.get("width"),a.height=this.get("height"),a.x=this.get("x"),a.y=this.get("y"),a.backgroundRemovedUri=t.uri,a.backgroundRemovedDimensions={width:t.meta.width,height:t.meta.height},this.flaggedForBackgroundRemoval=!1,o.default.isEmpty(this.get("crop"))||(a.crop=g.default.createResizedCropRegion(this.get("crop"),this.get("originalDimensions"),a.backgroundRemovedDimensions))),m.default.isVectorBased(t.mimetype)&&(a.shadow={},a.border={}),this.set(a)},setExtentsChangeCallbacks:function(t){this.extentsChangeCallbacks=t},updateRenderedRasterImage:function(){this.isCropping()||h.default.prototype.updateRenderedRasterImage.call(this)},onSizeChange:function(t,e,n){!this.isVectorBased()&&this.get("width")>this.previous("width")&&this.updateRenderedImage(),n.remote||this.isVectorBased()||this.isGif()},setUploadedImage:function(t){var e;if(m.default.isVectorDataURL(t)){var n=!this.hasCurrentConvertedVectorImageUri(),i=null===(e=this.options.page)||void 0===e?void 0:e.getSvgLoadQueue();this.uploadedVectorImageResourceFactory=new s.default(t,i,n,this.get("id")),this.uploadedImageResource=this.uploadedVectorImageResourceFactory.getOrCreateImageResource(this.get("background"))}else this.uploadedImageResource=new u.default(t);return this.uploadedImageResource},attachUploadedImageToUri:function(t){this.uploadedVectorImageResourceFactory?l.default.primeCacheWithVectorImageResourceFactory(t,this.uploadedVectorImageResourceFactory):l.default.primeCachesWithOriginalImageResource(t,this.uploadedImageResource),this.clearUploadedImage()},clearUploadedImage:function(){this.uploadedVectorImageResourceFactory=null,this.uploadedImageResource=null},isUploading:function(){return Boolean(this.uploadedImageResource||this.uploadedVectorImageResourceFactory)},isImageModel:function(){return!0},getImageResourceToRender:function(){return this.uploadedImageResource?this.uploadedImageResource:this.nonCroppedImage&&this.nonCroppedImage.ready()?this.nonCroppedImage:h.default.prototype.getImageResourceToRender.call(this)},getImageUri:function(){return this.get("image")},isLargerThan1x1:function(){return this.getWidth()+this.getHeight()>2},testForCropping:function(){this.cropState=w;var t=this,e=c.default.getOriginalDimensions(this.getImageUri()).then((function(e){t.originalDimensions=e})),n=g.default.testSimpleCropRequest(this.getImageUri());return a.default.when(e,n)},prepareForBackgroundRemoval:function(){var t=new a.default.Deferred,e=this;if(o.default.isEmpty(e.get("originalDimensions"))){var n=c.default.getOriginalDimensions(e.getImageUri());n.then((function(n){e.set("originalDimensions",n),t.resolve()})),n.catch((function(e){t.reject(e)}))}else t.resolve();return t},getScaledCropDimensions:function(t){return t=t||this.get("crop"),g.default.createScaledCropDimensions(t,this.getWidth(),this.getHeight())},initCrop:function(){if(this.cropState=w,this.cropSelectionModel=this.createCropSelectionModel(),!o.default.isObject(this.get("crop")))return this.cropState=T,a.default.Deferred().resolve().promise();this.dimensionsBeforeCrop={x:this.get("x"),y:this.get("y"),width:this.getWidth(),height:this.getHeight()};var t=g.default.calculateDimensionsToShowNonCroppedImage(this);return this.loadNonCroppedImage(t.width).then(o.default.bind((function(){this.set(t),this.cropState=T,this.select(),this.cropSelectionModel.select(),this.forceRedraw()}),this))},getExtents:function(t){if(void 0===t&&(t=!1),this.dimensionsBeforeCrop){var e=this.getExtentsDimensionData(t);return _.default.getExtentsFromDimensions(this.dimensionsBeforeCrop.x,this.dimensionsBeforeCrop.y,this.dimensionsBeforeCrop.width,this.dimensionsBeforeCrop.height,e.rotation,e.borderWidth,e.shadow)}return h.default.prototype.getExtents.call(this,t)},loadNonCroppedImage:function(t){var e=this.getImageUri(),n=y.default.calculateWidthForDevicePixelRatio(t*this.zoom),i=this;return l.default.getOrCreateRasterImageResource(e,n,null).then((function(t){i.nonCroppedImage=t}))},createCropSelectionModel:function(){var t=this.get("crop"),e=t?g.default.applyImageFlipToCropSelection(this.originalDimensions,t,this.get("flipHorizontal"),this.get("flipVertical")):t,n=this.getScaledCropDimensions(e);return n.imageModel=this,new f.default(n).select()},getCropSelectionModel:function(){return this.cropSelectionModel},getOriginalDimensions:function(){return this.originalDimensions},clearCropState:function(){this.cropState=null,this.nonCroppedImage=null,this.cropSelectionModel=null,this.dimensionsBeforeCrop=null,this.extentsChangeCallbacks=null,this.trigger("cropStateChange")},cancelCrop:function(){this.dimensionsBeforeCrop&&this.set(this.dimensionsBeforeCrop),this.clearCropState()},isCropping:function(){return this.cropState===T},isSavingCrop:function(){return this.cropState===S},isOpeningCrop:function(){return this.cropState===w},isInAnyCropState:function(){return!o.default.isNull(this.cropState)},saveCrop:function(){this.cropState=S;var t=this.getImageUri(),e=this.getCropSelectionModel(),n=g.default.calculateCropDimensionsForSave(this,e);n.width===this.originalDimensions.width&&n.height===this.originalDimensions.height&&(n=null);var i=e.get("width")*this.zoom,r=y.default.calculateWidthForDevicePixelRatio(i);return l.default.getOrCreateRasterImageResource(t,r,n).then(o.default.bind((function(t){if(!this.didCropSucceed(t,n))return a.default.Deferred().reject().promise();this.dimensionsBeforeCrop=null;var i=g.default.calculateDimensionsForNewCropValue(this,e);this.set(i),n=n?g.default.applyImageFlipToCropSelection(this.originalDimensions,n,this.get("flipHorizontal"),this.get("flipVertical")):null,this.set("crop",n),this.extentsChangeCallbacks&&o.default.each(this.extentsChangeCallbacks,(function(t){t()})),this.save(),this.forceRedraw(),this.clearCropState()}),this))},didCropSucceed:function(t,e){return!!t&&(!e||this.didCropWidthSucceed(t,e)&&this.didCropHeightSucceed(t,e))},didCropWidthSucceed:function(t,e){var n=e.width===this.originalDimensions.width,i=t.getWidth()!==this.originalDimensions.width;return n||i},didCropHeightSucceed:function(t,e){var n=e.height===this.originalDimensions.height,i=t.getHeight()!==this.originalDimensions.height;return n||i},getOriginalWidthToWidthRatio:function(){return this.originalDimensions.width/this.get("width")},getOriginalHeightToHeightRatio:function(){return this.originalDimensions.height/this.get("height")},getWidthToCropWidthRatio:function(){return this.get("width")/this.get("crop").width},getHeightToCropHeightRatio:function(){return this.get("height")/this.get("crop").height},setOriginalImage:function(){this.set({image:this.get("originalUri"),backgroundRemovedUri:this.get("image"),crop:this.get("crop")?g.default.createResizedCropRegion(this.get("crop"),this.get("backgroundRemovedDimensions"),this.get("originalDimensions")):null}).save()},setPreviouslyRemovedBackgroundImage:function(){this.set({image:this.get("backgroundRemovedUri"),originalUri:this.get("image"),crop:this.get("crop")?g.default.createResizedCropRegion(this.get("crop"),this.get("originalDimensions"),this.get("backgroundRemovedDimensions")):null}).save()},setFlipHorizontal:function(){this.set({flipHorizontal:!this.get("flipHorizontal")}).save()},setFlipVertical:function(){this.set({flipVertical:!this.get("flipVertical")}).save()},getObjectStateSupportedProperties:function(){if(this.isInMaskGroup())return d.default.ImageModel.objectStateSupportedPropertiesForImageMaskBase;var t=d.default.ImageModel.objectStateSupportedProperties;return this.isVectorBased()&&(t=o.default.without(o.default.union(t,["background"]),"border","shadow")),t},supportsObjectStates:function(){return b.default.prototype.supportsObjectStates.call(this)},isBaseMaskObject:function(){var t;return this.isInMaskGroup()&&this.isImageModel()&&!(!this.attributes.maskInfo||!(null===(t=this.attributes.maskInfo)||void 0===t?void 0:t.isBaseMaskObject))},isMask:function(){return this.isInAlphaMaskGroup()&&!this.isBaseMaskObject()}})},93194:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(96486)),u=o(n(29231)),l=a(n(29579)),c=a(n(16218));e.default=c.default.extend({defaults:l.default.LineModel.defaults,objectStatesEnabled:!0,getSupported:function(){return l.default.LineModel.supported},getExtents:function(t){void 0===t&&(t=!1);var e=Math.min(this.get("x"),this.get("x2")),n=Math.min(this.get("y"),this.get("y2")),i=Math.max(this.get("x"),this.get("x2")),r=Math.max(this.get("y"),this.get("y2")),o=this.get("shadow");if(t&&o&&o.blur>0){var a=o.x||0,s=o.y||0;e-=Math.max(o.blur-a,0),n-=Math.max(o.blur-s,0),i+=Math.max(o.blur+a,0),r+=Math.max(o.blur+s,0)}return{x1:e,y1:n,x2:i,y2:r}},getExtentsInPageCoords:function(){var t=this.transformPointToRotatedPageCoordinateSpace(new u.Point(this.get("x"),this.get("y"))),e=this.transformPointToRotatedPageCoordinateSpace(new u.Point(this.get("x2"),this.get("y"))),n=this.transformPointToRotatedPageCoordinateSpace(new u.Point(this.get("x"),this.get("y2"))),i=this.transformPointToRotatedPageCoordinateSpace(new u.Point(this.get("x2"),this.get("y2")));return{x1:Math.round(Math.min(t.x,e.x,n.x,i.x)),y1:Math.round(Math.min(t.y,e.y,n.y,i.y)),x2:Math.round(Math.max(t.x,e.x,n.x,i.x)),y2:Math.round(Math.max(t.y,e.y,n.y,i.y))}},getExtentsInPageCoordsWithoutBorder:function(){return this.getExtentsInPageCoords()},getLeft:function(){return Math.min(this.get("x"),this.get("x2"))},getRight:function(){return Math.max(this.get("x"),this.get("x2"))},getTop:function(){return Math.min(this.get("y"),this.get("y2"))},getBottom:function(){return Math.max(this.get("y"),this.get("y2"))},getDisplayLabel:function(){return"Line"},getWidth:function(){return Math.abs(this.get("x")-this.get("x2"))},getHeight:function(){return Math.abs(this.get("y")-this.get("y2"))},getCenterPosition:function(){var t=this.getLeft()+this.getWidth()/2,e=this.getTop()+this.getHeight()/2;return new u.Point(t,e)},getXPointNamesByPosition:function(){return this.get("x")<=this.get("x2")?{leftX:"x",rightX:"x2"}:{leftX:"x2",rightX:"x"}},getYPointNamesByPosition:function(){return this.get("y")<=this.get("y2")?{topY:"y",bottomY:"y2"}:{topY:"y2",bottomY:"y"}},setLeft:function(t){var e=this.getWidth(),n=this.getXPointNamesByPosition();this.set(n.leftX,t),this.set(n.rightX,t+e)},setRight:function(t){var e=this.getWidth(),n=this.getXPointNamesByPosition();this.set(n.rightX,t),this.set(n.leftX,t-e)},setTop:function(t){var e=this.getHeight(),n=this.getYPointNamesByPosition();this.set(n.topY,t),this.set(n.bottomY,t+e)},setBottom:function(t){var e=this.getHeight(),n=this.getYPointNamesByPosition();this.set(n.bottomY,t),this.set(n.topY,t-e)},setCenterX:function(t){var e=this.getCenterPosition().x,n=this.get("x"),i=this.get("x2"),r=e-t;this.set("x",n-r),this.set("x2",i-r)},setCenterY:function(t){var e=this.getCenterPosition().y,n=this.get("y"),i=this.get("y2"),r=e-t;this.set("y",n-r),this.set("y2",i-r)},toPageCoordinateSpaceJsonMaintainingPositionAndOrientation:function(){var t=this.getAllParents(),e=this.reconcileJSONForCurrentVariant(!0),n=new u.Point(this.get("x"),this.get("y")),i=this.transformPointToRotatedPageCoordinateSpace(n,t),r=new u.Point(this.get("x2"),this.get("y2")),o=this.transformPointToRotatedPageCoordinateSpace(r,t);return e.x=i.getX(),e.y=i.getY(),e.x2=o.getX(),e.y2=o.getY(),e},translateToParentCoordinateSpace:function(t){s.default.isEmpty(t)||c.default.prototype.translateToParentCoordinateSpace.call(this,t);var e=new u.Point(this.get("x2"),this.get("y2")),n=this.translatePointFromPageCoordinateSpace(e,t);this.set("x2",n.getX()),this.set("y2",n.getY())},transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation:function(t){var e=this.transformPointFromRotatedPageCoordinateSpace(new u.Point(this.get("x"),this.get("y")),t),n=this.transformPointFromRotatedPageCoordinateSpace(new u.Point(this.get("x2"),this.get("y2")),t);this.set({x:e.getX(),y:e.getY(),x2:n.getX(),y2:n.getY()},{silent:!0})},roundTransformableAttributes:function(){c.default.prototype.roundTransformableAttributes.call(this),this.set("x2",Math.round(this.get("x2"))),this.set("y2",Math.round(this.get("y2")))},resizeAttributes:function(t){this.set({x2:Math.round(this.get("x2")*t),y2:Math.round(this.get("y2")*t)})},getObjectStateSupportedProperties:function(){return l.default.LineModel.objectStateSupportedProperties}})},20774:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(29579)),o=i(n(77759));e.default=o.default.extend({defaults:r.default.MarketoFormModel.defaults,getSupported:function(){return r.default.MarketoFormModel.supported},getDisplayLabel:function(){return"Marketo Form"}})},96879:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(16218));e.default=r.default.extend({initialize:function(t,e){r.default.prototype.initialize.call(this,t,e)}})},91108:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(29579)),o=i(n(16218));e.default=o.default.extend({defaults:r.default.ShapeModel.defaults,objectStatesEnabled:!0,initialize:function(t,e){o.default.prototype.initialize.call(this,t,e)},getSupported:function(){return this.isInMaskGroup()?"custom-shape-component"===this.get("type")?r.default.CustomShapeModel.supportedMaskGroupCustomShape:"square"===this.get("shape")?r.default.ShapeModel.supportedMaskGroupSquareShape:r.default.ShapeModel.supportedMaskGroupShape:"square"===this.get("shape")?r.default.ShapeModel.supportedSquare:r.default.ShapeModel.supported},getObjectStateSupportedProperties:function(){return this.isInMaskGroup()?r.default.ShapeModel.objectStateSupportedPropertiesForMaskGroupShape:r.default.ShapeModel.objectStateSupportedProperties},supportsObjectStates:function(){return!this.isInMaskGroup()&&o.default.prototype.supportsObjectStates.call(this)},getDisplayLabel:function(){return"Shape"},isShapeComponent:function(){return!0},isMask:function(){return this.isInMaskGroup()&&"image-component"!==this.get("type")}})},91948:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(65311)),u=a(n(96486)),l=a(n(29579)),c=a(n(16218)),d=a(n(72753)),h=a(n(82656)),f=a(n(34987)),p=a(n(68427)),g=a(n(16080)),m=a(n(99001)),v=a(n(32526)),y=o(n(67757)),_=o(n(9010)),b=a(n(19201)),w=y.VIEW_DEFAULTS,T=w.MIN_FONT_SIZE,S=w.MAX_FONT_SIZE,E=w.MIN_LEADING,O=w.MAX_LEADING,P=w.MIN_COLUMN_GAP,C=w.MAX_COLUMN_GAP,A=w.MIN_PADDING,k=w.MAX_PADDING;e.default=c.default.extend({defaults:l.default.TextModel.defaults,variantDefaults:l.default.TextModel.variantDefaults,objectStatesEnabled:!0,pendingStyles:{},justDeletedStylesPerVariant:null,constructor:function(t,e){u.default.isNil(t)||u.default.isNil(e)||!e.inSmartgroup||(t.synced=!1);var n=arguments.length>0&&arguments[0].defaultSpan&&!u.default.isNil(e)&&e.copiedFromClipboard,i=this.defaults;n&&(this.defaults=null),c.default.apply(this,arguments),n&&(this.defaults=i)},buildOverridesWithEmptySyncedProperties:function(){return this.buildOverridesWithEmptyProperties(this.getSyncedProperties())},activated:!1,initialize:function(t,e){this.layerDictionaryAndHierarchyService=e.layerDictionaryAndHierarchyService,this.justDeletedStylesPerVariant={},this.setPotentiallyMissingModelData(t),"desktop"!==g.default.getCurrentVariant()&&t.textSpans&&u.default.isNil(this.get("textSpans",{doNotFallbackToDesktop:!0}))&&this.set("textSpans",t.textSpans),u.default.has(this.get("defaultSpan"),"letterSpacing")||this.set("defaultSpan",u.default.extend({letterSpacing:0},this.get("defaultSpan"))),this.on("change:synced",this.handleSyncedToggle),c.default.prototype.initialize.call(this,t,e)},setPotentiallyMissingModelData:function(t){var e=g.default.getCurrentVariant(),n=t.overrides?t.overrides[e]:null,i=this;u.default.each(["paddingTop","paddingLeft","paddingRight","paddingBottom"],(function(e){t[e]||(n?i.set(e,n[e]?n[e]:0):i.set(e,0))}))},getTextLength:function(){return this.get("textContent").length},getFontSize:function(){return(this.get("defaultSpan")||this.options.defaultSpan).fontSize},getHiddenFromScreenReaders:function(){return this.get(y.properties.HIDDEN_FROM_SCREEN_READERS)},setFontSize:function(t){t=u.default.clamp(t,T,S);var e=this.get("defaultSpan")||this.options.defaultSpan;return(e=u.default.clone(e)).fontSize=t,this.set("defaultSpan",e)},setLeading:function(t){this.set("leading",u.default.clamp(t,E,O))},setColumnGap:function(t){this.set("columnGap",u.default.clamp(t,P,C))},setPaddingTop:function(t){this.set("paddingTop",u.default.clamp(t,A,k))},setPaddingBottom:function(t){this.set("paddingBottom",u.default.clamp(t,A,k))},setPaddingLeft:function(t){this.set("paddingLeft",u.default.clamp(t,A,k))},setPaddingRight:function(t){this.set("paddingRight",u.default.clamp(t,A,k))},setHiddenFromScreenReaders:function(t){this.set(y.properties.HIDDEN_FROM_SCREEN_READERS,t)},isActivated:function(){return this.activated},activate:function(){this.activated=!0,this.trigger("editor:activate")},deactivate:function(){this.activated=!1,this.trigger("editor:deactivate")},insertTextAt:function(t,e){var n=this.get("textContent"),i=n.substr(0,e)+t+n.substr(e);this.set("textContent",i),this.adjustTextSpansForTextInsert(t,e),this.updateTitle(i,n)},adjustTextSpansForTextInsert:function(t,e){var n=u.default.partialRight(u.default.bind(this.adjustTextSpansForTextInsertForVariant,this),t,e);this.applyToTextSpans(n)},adjustTextSpansForTextInsertForVariant:function(t,e,n){var i=s.default.extend(!0,[],this.getAttributeForVariant(t,"textSpans")),r=e.length,o=n-1;o<0&&(o=0);var a=m.default.getSpanAtIndex(i,o),l=!!e.match(/^\s+$/)&&a&&a[y.properties.HYPERLINK]&&a.index+a.length===n;if(l||!u.default.isEmpty(this.pendingStyles)||this.inJustDeletedModeForVariant(t)){var c={index:n,length:r},d=this.getSupportedStyles();if(l){var h=m.default.getSpanAtIndex(i,n),f=u.default.pick(h,d);c=u.default.extend(c,f)}else if(a&&!this.inJustDeletedModeForVariant(t)){var p=u.default.pick(a,d);c=u.default.extend(c,p)}c=u.default.extend(c,this.pendingStyles,this.getJustDeletedStylesForVariant(t)),i=this.justDeletedFromStyledSpanForVariant(t)?this._shiftSpansAroundNew(i,n,r):m.default.shiftSpansAfter(i,n-1,r),i=m.default.spliceSpan(i,c),i=this._cleanupSpans(i),i=m.default.clearEmptySpans(i),this.clearJustDeletedModeForVariant(t)}else i=m.default.growSpan(i,o,r);this.setAttributeForVariant(t,{textSpans:i})},updateTitle:function(t,e){var n=this.formatStringAsTitle(e);"Text"!==this.get("title")&&this.get("title")!==n||(""===t&&(t="Text"),this.set("title",this.formatStringAsTitle(t)),this.trigger(d.default.EVENTS.CHANGE_TITLE))},formatStringAsTitle:function(t){return t.slice(0,y.MAX_TITLE_LENGTH).replace(/\n/g," ")},replaceTextAt:function(t,e,n){var i=this.get("textContent"),r=i.substr(0,e)+t+i.substr(n);this.adjustTextSpansForTextReplace(t,e,n),this.set("textContent",r),this.updateTitle(r,i)},replaceAllText:function(t){var e=this.get("textContent");this.adjustTextSpansForTextReplace(t,0,e.length),this.set("textContent",t),this.updateTitle(t,e)},adjustTextSpansForTextReplace:function(t,e,n){var i=u.default.partialRight(u.default.bind(this.adjustTextSpansForTextReplaceForVariant,this),t,e,n);this.applyToTextSpans(i)},adjustTextSpansForTextReplaceForVariant:function(t,e,n,i){var r=s.default.extend(!0,[],this.getAttributeForVariant(t,"textSpans")),o=e.length,a=i-n,l=m.default.getSpanAtIndex(r,n)!==m.default.getSpanAtIndex(r,i-1),c=null===m.default.getSpanAtIndex(r,i)||m.default.getSpanAtIndex(r,i).index===i,d=l||c,h=u.default.clone(m.default.getSpanAtIndex(r,n));if(r=this._shrinkSpan(r,n,a),h){var f=h.index===n&&c;r=m.default.growSpan(r,n,o,d,f)}else r=m.default.shiftSpansAfter(r,n-1,o);this.setAttributeForVariant(t,{textSpans:r})},applyToTextSpans:function(t){var e;e=this.isSyncedTextComponent()?g.default.getAllExistingLayouts():[g.default.getCurrentVariant()];var n=u.default.bind((function(e){this.hasValueForVariant(e,"textSpans")&&t(e)}),this);u.default.each(e,n)},getVariantGuidsInUse:function(){return u.default.chain(this.getLayoutVariants()).flatMap(this.getLayoutVariantSpans.bind(this)).map("variantGuid").uniq().filter().value()},getLayoutVariants:function(){return["desktop"].concat(g.default.getExistingVariants())},getLayoutVariantSpans:function(t){return u.default.concat(this.get("defaultSpan",{variant:t})||[],this.get("textSpans",{variant:t})||[])},updateFontFamily:function(t){if(t){var e=u.default.extend({},this.get("defaultSpan")),n=s.default.extend(!0,[],this.get("textSpans"));return h.default.loadFamiliesByVariantGuids(this.getVariantGuidsInUse()).then(u.default.bind((function(i){var r=i.getFontVariantByVariantGuid(e.variantGuid);e.variantGuid=t.findBestMatchVariant(r).getGuid(),u.default.each(n,u.default.bind((function(e){if(e.variantGuid){var n=i.getFontVariantByVariantGuid(e.variantGuid);e.variantGuid=t.findBestMatchVariant(n).getGuid()}}),this)),n=this._cleanupSpans(n),this.set({defaultSpan:e,textSpans:n})}),this))}},_updatePendingStyles:function(t){this.pendingStyles=u.default.extend(this.pendingStyles,t),this.trigger("change:pendingStyles",t)},applyStylesToRange:function(t,e,n,i){var r=n-e;if(0!==r){var o=u.default.extend({},this._pickStyles(t),{index:e,length:r}),a=s.default.extend(!0,[],this.get("textSpans",{variant:i}));a=m.default.spliceSpan(a,o),a=this._cleanupSpans(a),this.set("textSpans",a,{variant:i})}else this._updatePendingStyles(t)},applyStylesToDefaultSpan:function(t,e){var n=u.default.cloneDeep(this.get("defaultSpan"));t=this._pickStyles(t);for(var i=function(e){u.default.each(u.default.keys(t),(function(t){u.default.has(e,t)&&delete e[t]}))},r=s.default.extend(!0,[],this.get("textSpans")),o=0;o<r.length;o++)i(r[o]);r=this._cleanupSpans(r),u.default.each(t,(function(t,i){n[i]=p.default.getValidValueForOptions(n[i],t,e)})),this.set({defaultSpan:n,textSpans:r})},getStylesForRange:function(t,e){u.default.isUndefined(e)&&(e=t),t===e&&(0===t?e++:t--);var n=this.getSupportedStyles(),i=u.default.extend({},this.get("defaultSpan")),r={},o=u.default.pick(i,n);u.default.each(n,(function(t){r[t]=[]}));for(var a=function(t){u.default.each(n,(function(e){u.default.isUndefined(t[e])?r[e].push(i[e]):r[e].push(t[e]),r[e]=u.default.uniq(r[e])}))},s=this.get("textSpans"),l=t;l<e;l++)a(u.default.extend({},m.default.getSpanAtIndex(s,l)));return u.default.each(n,(function(t){1===r[t].length?o[t]=r[t][0]:r[t].length>1&&(o[t]=r[t])})),o},getSpanWithAllStyles:function(t){return u.default.extend({},this.get("defaultSpan"),t)},_shrinkSpan:function(t,e,n){if(n<=0)return t;for(var i=n;i-- >0;){var r=m.default.getSpanAtIndex(t,e+i);r&&(r.length--,0===r.length&&0!==i&&(t=m.default.removeSpan(t,r))),t=m.default.shiftSpansAfter(t,e+i,-1)}return t},setJustDeletedMode:function(t){var e=u.default.partialRight(u.default.bind(this.setJustDeletedModeForVariant,this),t);this.applyToTextSpans(e)},setJustDeletedModeForVariant:function(t,e){var n=u.default.pick(m.default.getSpanAtIndex(this.getAttributeForVariant(t,"textSpans"),e),this.getSupportedStyles());u.default.set(this.justDeletedStylesPerVariant,t,n)},justDeletedFromStyledSpan:function(){var t=g.default.getCurrentVariant();return this.justDeletedFromStyledSpanForVariant(t)},justDeletedFromStyledSpanForVariant:function(t){return this.inJustDeletedModeForVariant(t)&&u.default.size(this.getJustDeletedStylesForVariant(t))>0},inJustDeletedMode:function(){var t=g.default.getCurrentVariant();return this.inJustDeletedModeForVariant(t)},inJustDeletedModeForVariant:function(t){return!1!==u.default.get(this.justDeletedStylesPerVariant,t,!1)},getJustDeletedStyles:function(){var t=g.default.getCurrentVariant();return this.getJustDeletedStylesForVariant(t)},getJustDeletedStylesForVariant:function(t){return u.default.get(this.justDeletedStylesPerVariant,t,{})},clearJustDeletedMode:function(){this.justDeletedStylesPerVariant={}},clearJustDeletedModeForVariant:function(t){u.default.unset(this.justDeletedStylesPerVariant,t)},clearEmptySpans:function(){var t=g.default.getCurrentVariant();this._clearEmptySpansForVariant(t)},_clearEmptySpansForVariant:function(t){var e=s.default.extend(!0,[],this.getAttributeForVariant(t,"textSpans")),n=e.length,i=m.default.clearEmptySpans(e);i.length!==n&&this.setAttributeForVariant(t,{textSpans:i})},_shiftSpansAroundNew:function(t,e,n){for(var i,r=0;r<t.length;r++){var o=t[r];if(o.index<=e&&e<o.index+o.length){var a=e-o.index,s=o.length-a;o.length=a+1,(i=this._pickStyles(o)).length=s,i.index=e+n}else o.index>e&&(o.index+=n)}return i&&(t=m.default.spliceSpan(t,i)),t},removeDefaultStyles:function(t,e){var n=this._pickStyles(this.get("defaultSpan",{variant:e}));return u.default.transform(t,(function(t,e,i){n[i]===e||"fontColor"===i&&f.default.isEqual(e,n[i])||(t[i]=e)}),{})},addHyperlink:function(t,e,n,i){var r={};i&&(r[y.properties.FONT_COLOR]=b.default.COLORS.HYPERLINK_BLUE,r[y.properties.UNDERLINE]=!0),n.type===_.InlineLinkType.PAGE&&(n.location=parseInt(n.location)),r[y.properties.HYPERLINK]=n,this.applyStylesToRange(r,t,e)},removeHyperlink:function(t,e,n){var i=this.get("defaultSpan",{variant:n}),r={};r[y.properties.FONT_COLOR]=i[y.properties.FONT_COLOR],r[y.properties.UNDERLINE]=i[y.properties.UNDERLINE]||!1,r[y.properties.HYPERLINK]=void 0,this.applyStylesToRange(r,t,e,n)},canCombineSpans:function(t,e){return!(!t||!e)&&this._spansAdjacent(e,t)&&u.default.isEqual(this._pickStyles(t),this._pickStyles(e))},_cleanupSpans:function(t,e){var n=[];return u.default.forEach(t,u.default.bind((function(t){t=this.removeDefaultStyles(t,e);var i=this._pickStyles(t);if(!u.default.isEmpty(i)){var r=u.default.last(n);this.canCombineSpans(t,r)?r.length+=t.length:n.push(t)}}),this)),n},_spansAdjacent:function(t,e){return t.index+t.length===e.index},_pickStyles:function(t){return u.default.pick(t,this.getSupportedStyles())},getSupported:function(){return l.default.TextModel.supported},getSupportedStyles:function(){return["variantGuid","fontColor","underline","letterSpacing","variantName","familyGuid","fontSize",y.properties.HYPERLINK]},clearPendingStyles:function(){this.pendingStyles={}},getDisplayLabel:function(){return this.title},roundTransformableAttributes:function(){c.default.prototype.roundTransformableAttributes.call(this),this.setFontSize(Math.round(this.getFontSize())),this.setLeading(Math.round(this.get("leading"))),this.setColumnGap(Math.round(this.get("columnGap"))),this.setPaddingTop(Math.round(this.get("paddingTop"))),this.setPaddingBottom(Math.round(this.get("paddingBottom"))),this.setPaddingRight(Math.round(this.get("paddingRight"))),this.setPaddingLeft(Math.round(this.get("paddingLeft")))},resizeAttributes:function(t){this.setFontSize(this.getFontSize()*t),this.setLeading(this.get("leading")*t),this.setColumnGap(this.get("columnGap")*t),this.setPaddingTop(this.get("paddingTop")*t),this.setPaddingBottom(this.get("paddingBottom")*t),this.setPaddingRight(this.get("paddingRight")*t),this.setPaddingLeft(this.get("paddingLeft")*t)},getNewFontColorPreservingOpacity:function(t,e){return t.fontColor?e.cloneWithAlphaFromColorString(t.fontColor).toString():e.toString()},applyFontRgbaPropertyToSpans:function(t,e,n,i){var r=this.get("defaultSpan");if(n.start===n.end){var o=f.default.fromString(r.fontColor?r.fontColor:f.default.Black(1).toString());return o[t]=p.default.getValidValueForOptions(o[t],e,i),void this._updatePendingStyles({fontColor:o.toString()})}this.applyNewFontColorToSpans(n,u.default.bind((function(n){var o=f.default.fromString(n.fontColor?n.fontColor:r.fontColor);return o[t]=p.default.getValidValueForOptions(o[t],e,i),o.toString()}),this))},applyFontColorToSpansPreservingOpacity:function(t,e){if(e.start!==e.end)this.applyNewFontColorToSpans(e,u.default.bind((function(e){return this.getNewFontColorPreservingOpacity(e,t)}),this));else{var n=this.getNewFontColorPreservingOpacity(this.get("defaultSpan"),t),i=this.getNewFontColorPreservingOpacity(this.pendingStyles,f.default.fromString(n));this._updatePendingStyles({fontColor:i})}},applyFontColorOpacityToSpans:function(t,e,n){var i=f.default.fromString(this.get("defaultSpan").fontColor);i.a=p.default.getValidOpacityValueForOptions(i.a,t,n),e.start!==e.end?this.applyNewFontColorToSpans(e,(function(e){if(!e.fontColor)return i.toString();var r=f.default.fromString(e.fontColor);return r.a=p.default.getValidOpacityValueForOptions(r.a,t,n),r.toString()})):this._updatePendingStyles({fontColor:i.toString()})},applyNewFontColorToSpans:function(t,e){for(var n=t.start,i=t.end-1,r=u.default.cloneDeep(this.get("textSpans"));n<=i;){var o,a=m.default.getSpanAtIndex(r,n);if(a){var s=a.index+a.length-1;a.index===n&&s<=i?(a.fontColor=e(a),n=s+1):((o=u.default.clone(a)).index=a.index<n?n:o.index,o.length=s<i?s-n+1:i-n+1,o.fontColor=e(o),r.push(o),this.resizeSpanToFitNewSpan(r,a,o),n+=o.length)}else{o={index:n,fontColor:e(this.get("defaultSpan"))};var l=this.findNextSpanBetween(r,n,i);l?(o.length=l.index-n,n+=o.length):(o.length=i-n+1,n=i+1),r.push(o)}}r.sort((function(t,e){return t.index-e.index})),r=this._cleanupSpans(r),this.set("textSpans",r)},findNextSpanBetween:function(t,e,n){if(e>n)return null;var i=this.findNextSpan(t,e);return i?i.index>n?null:i:null},findNextSpan:function(t,e){return u.default.find(t,(function(t){return t.index>e}))},resizeSpanToFitNewSpan:function(t,e,n){var i=e.index+e.length-1,r=n.index+n.length-1;if(e.index<n.index&&i>r){e.length=n.index-e.index;var o=u.default.clone(e);o.index=n.index+n.length,o.length=i-r,t.push(o)}else e.index<n.index?e.length=n.index-e.index:i>r&&(e.index=n.index+n.length,e.length=i-e.index+1);return t},copyCurrentTextContentToMasterVariant:function(){var t=this.get("textContent");this.setAttributeForVariant("desktop",{textContent:t})},copyMasterVariantTextContentToExistingTextContentOverrides:function(){var t=this.getAttributeForVariant("desktop","textContent"),e=g.default.cloneOverrides(this.nonVariantGet("overrides"));u.default.each(e,(function(e,n){e.textContent&&(e.textContent=t)})),this.nonVariantSet("overrides",e)},isSyncedTextComponent:function(){return!0===this.nonVariantGet("synced")},isTextComponent:function(){return!0},isSyncing:function(){return this.isSyncedTextComponent()&&this.existsOnMultipleVariants()},existsOnMultipleVariants:function(){return this.layerDictionaryAndHierarchyService.isComponentUsedInMultipleVariants(this.id)},getContentLength:function(){return this.get("textContent").length},hasTextOutsideTextSpans:function(){var t=0,e=this.getContentLength(),n=this.get("textSpans");if(!n||0===e)return!0;for(var i=0;t<e;){var r=n[i];if(!r||!(t>=r.index&&t<r.index+r.length))return!0;i+=1,t=r.index+r.length}return!1},handleSyncedToggle:function(t,e){e?this.handleSyncedEnabled():this.handleSyncedDisabled()},handleSyncedEnabled:function(){this.copyCurrentTextContentToMasterVariant(),this.syncEditableAttribute(),v.default.copyCurrentVariantCacheToSyncedCache(this)},handleSyncedDisabled:function(){this.copyMasterVariantTextContentToExistingTextContentOverrides(),v.default.copySyncedCacheToCurrentVariantCache(this)},syncEditableAttribute:function(){var t=this.get("editable");this.setAttributeForVariant("desktop",{editable:t})},getObjectStateSupportedProperties:function(){return l.default.TextModel.objectStateSupportedProperties},getHyperlinksReferencingScranchors:function(){return(u.default.get(this.attributes,"overrides."+g.default.getCurrentVariant()+".textSpans")||this.attributes.textSpans||[]).filter((function(t){var e=t[y.properties.HYPERLINK];return e&&e.type===_.InlineLinkType.POSITION&&!u.default.includes(["next","prev"],e.location)}))},getReferencedScranchorIds:function(){return c.default.prototype.getReferencedScranchorIds.apply(this).concat(this.getHyperlinksReferencingScranchors().map((function(t){return t[y.properties.HYPERLINK].location})))},removeInteractionsReferencingScranchor:function(t){c.default.prototype.removeInteractionsReferencingScranchor.apply(this,arguments),this.getHyperlinksReferencingScranchors().forEach(function(t){this.removeHyperlink(t.index,t.index+t.length)}.bind(this))}},{MIN_FONT_SIZE:T,MAX_FONT_SIZE:S,MIN_LEADING:E,MAX_LEADING:O,MIN_COLUMN_GAP:P,MAX_COLUMN_GAP:C,MIN_PADDING:A,MAX_PADDING:k})},21797:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(29579)),o=i(n(16218));e.default=o.default.extend({defaults:r.default.UnsupportedComponentModel.defaults,getSupported:function(){return r.default.UnsupportedComponentModel.supported},getSupportedInteractionTriggers:function(){return[]}})},99545:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(29579)),a=i(n(18423));e.default=a.default.extend({defaults:o.default.VideoModel.defaults,initialize:function(t,e){a.default.prototype.initialize.call(this,t,e),this.get("createDate")||this.set("createDate",Date.now()),this.on("change:width",this.onWidthChange,this),this.on("change:poster",this.updateRenderedImage,this)},getSupported:function(){return o.default.VideoModel.supported},getSupportedInteractionTriggers:function(){return[]},mustBeConstrained:function(){return!0},isCopiable:function(){return!r.default.isEmpty(this.get("video"))},getDisplayLabel:function(){return"Video"},getImageUri:function(){return this.get("poster")},onWidthChange:function(t,e,n){e>this.previous("width")&&this.updateRenderedImage()},isVideoModel:function(){return!0}})},19794:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(43325)),a=function(t,e){this.doc=t,this.opBuilder=e,this.bufferedOps=[],this.bufferedDefer=null,this.originalDocSubmitOp=null,this.wrapDocSubmitOp()};a.prototype={wrapDocSubmitOp:function(){var t=this.doc;this.originalDocSubmitOp=r.default.bind(t.submitOp,t),t.submitOp=r.default.bind(this.flushBufferedOpsAndSubmitOps,this)},saveModelChanges:function(t){var e=this.opBuilder.getOpsForModelChangeSet(t);t.canBuffer()?this.bufferOps(e):this.submitOps(e)},submitLayerOps:function(t,e){t=this.opBuilder.prefixPath(t),this.submitOps(t,e)},submitOps:function(t,e){r.default.isEmpty(t)||this.flushBufferedOpsAndSubmitOps(t,e)},bufferLayerOps:function(t){t=this.opBuilder.prefixPath(t),this.bufferOps(t)},bufferOps:function(t){this.bufferedOps=this.bufferedOps.concat(t),this.deferBufferSubmit()},flushBufferedOpsAndSubmitOps:function(t,e){this.hasBufferedOpsPending()&&(t=this.flushBufferedOps().concat(t));var n=o.default.wrapCallback(e,{snapshot:this.doc.snapshot,docName:this.doc.name,ops:t});this.originalDocSubmitOp(t,n)},deferBufferSubmit:function(){null===this.bufferedDefer&&this.hasBufferedOpsPending()&&(this.bufferedDefer=r.default.defer(r.default.bind(this.submitBufferedOps,this)))},submitBufferedOps:function(){var t=this.flushBufferedOps();r.default.isEmpty(t)||this.originalDocSubmitOp(t)},flushBufferedOps:function(){var t=this.bufferedOps;return this.bufferedOps=[],clearTimeout(this.bufferedDefer),this.bufferedDefer=null,t},hasBufferedOpsPending:function(){return!r.default.isEmpty(this.bufferedOps)}},e.default=a},77222:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(35959)),a=i(n(55580)),s=function(t,e){this.setDoc(t,e)};s.prototype={setDoc:function(t,e){this.doc=t,this.pathPrefix=e||[]},getOpsForModelChangeSet:function(t,e){var n=t.getChanges(),i=this.pathPrefix,s=["layerDictionary",t.model.id],u=r.default.keys(n),l=this.doc.snapshot;return r.default.map(u,(function(t){var r=s.concat(t),u=i.concat(r),c=n[t],d={p:e?r:u},h=a.default.traverse(u,l);return o.default.setOpValues(d,h,c),d}))},prefixPath:function(t){var e=this.pathPrefix;return 0===e.length?t:r.default.map(t,(function(t){return t.p=e.concat(t.p),t}))}},e.default=s},97499:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(16080));e.default={bindVariantAttributeChangeEvents:function(){this.on("change:overrides",this.triggerVariantAttributeChangeEvents,this)},triggerVariantAttributeChangeEvents:function(t,e,n){var i=o.default.getCurrentVariant();if("desktop"!==i&&!t.isForSyncedObject(n)){var a=t.changedAttributesForVariant(i),s=r.default.extend({},n,{fromOverrides:!0,variant:i});r.default.each(a,(function(e,n){t.trigger("change:"+n,t,e,s)}))}}}},82635:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(16080)),a="overrides",s=["id",a,"type"];e.default={ATTR_ID:"id",ATTR_OVERRIDES:a,NON_OVERRIDEABLE_ATTRIBUTES:s,nonVariantGet:function(t){return this.get(t)},nonVariantSet:function(t,e,n){return this.handleSetOverridesChanges(t,e,n),this.set(t,e,n)},nonVariantChangedAttributes:function(t){return this.changedAttributes(t)},nonVariantPreviousAttributes:function(){return this.previousAttributes()},nonVariantPrevious:function(t){return this.previous(t)},nonVariantHasChanged:function(t){return this.hasChanged(t)},getAttributeForVariant:function(t,e,n){if("desktop"===t)return this.nonVariantGet(e);var i=!n||!n.doNotFallbackToDesktop,o=this.nonVariantGet(a),s=r.default.get(o,[t,e],void 0);return r.default.isUndefined(s)&&i?this.nonVariantGet(e):s},setAttributeForVariant:function(t,e,n){if(!r.default.isObject(e))throw new Error("setAttributeForVariant expects a property object");if(r.default.has(e,a))throw new Error("setAttributeForVariant does not accept overrides");if("desktop"===t)return this.setAttributeForDesktop(e,n);var i=this.nonVariantGet(a),o=r.default.cloneDeep(i);o[t]=r.default.get(o,t,{});var u=this.isSyncedTextComponent()?s.concat(this.getSyncedProperties()):s,l=r.default.pick(e,u),c=r.default.omit(e,u);r.default.forOwn(c,(function(e,n){o[t][n]=e}));var d={};return r.default.extend(d,l),r.default.set(d,a,o),this.nonVariantSet(d,n)},setAttributeForDesktop:function(t,e){if(!r.default.isObject(t))throw new Error("setAttributeForDesktop expects a property object");if(r.default.has(t,a))throw new Error("setAttributeForDesktop does not accept overrides");var n=t,i=this.buildOverridesFromOriginalDesktopAttributes(t,e);return i&&((n=r.default.clone(t)).overrides=i),this.nonVariantSet(n,e)},syncedObjectSet:function(t,e){if(!r.default.isObject(t))throw new Error("syncedObjectSet expects a property object");return(e=r.default.isObject(e)?e:{}).syncedObject=!0,this.nonVariantSet(t,e)},ensureVariantOverrideObjects:function(t){o.default.adaptiveLayoutsEnabled()&&(t[a]||(t[a]={}),r.default.each(o.default.getExistingVariants(),(function(e){t[a][e]||(t[a][e]={})})))},buildOverridesFromOriginalDesktopAttributes:function(t,e){if(!r.default.isObject(t))throw new Error("buildOverridesFromOriginalDesktopAttributes expects a property object");var n=this._buildCurrentValueCacheForDesktopProperties(t);if(r.default.isEmpty(n))return!1;var i=!1,o=this.get(a),s=r.default.cloneDeep(o);return r.default.forOwn(s,(function(t){r.default.forOwn(n,(function(e,n){r.default.isUndefined(t[n])&&(t[n]=e,i=!0)}))})),!!i&&s},_buildCurrentValueCacheForDesktopProperties:function(t){var e=this,n={},i=r.default.clone(s);this.isSyncedTextComponent()&&i.push("textSpans");var o=r.default.omit(t,i);return r.default.forOwn(o,(function(t,i){var r=e.getAttributeForVariant("desktop",i);r!==t&&(n[i]=r)})),n},handleSetOverridesChanges:function(t,e,n){if(!this._changing){var i=this.nonVariantGet(a);this._previousOverrides=i?r.default.cloneDeep(i):{},this._changedOverrides={}}var o;if(t===a)o=e;else{if(!r.default.isObject(t)||!r.default.has(t,a))return;o=t[a]}var s=this._previousOverrides,u=this._changedOverrides;r.default.forOwn(o,(function(t,e){s[e]=s[e]||{},u[e]=u[e]||{},r.default.forOwn(t,(function(t,n){r.default.isEqual(s[e][n],t)?delete u[e][n]:u[e][n]=t}));var n=r.default.difference(r.default.keys(s[e]),r.default.keys(t));r.default.each(n,(function(t){u[e][t]=void 0}))}))},hasValueForVariant:function(t,e){return null!=this.getAttributeForVariant(t,e,{doNotFallbackToDesktop:!0})},changedAttributesForVariant:function(t,e){if("desktop"===t)return this.changedAttributesForDesktop(e);if(!e){var n=r.default.clone(r.default.get(this._changedOverrides||{},t));return!!this.hasChangedForVariant(t)&&n}var i=this._changing?r.default.get(this._previousOverrides,t):r.default.get(this.attributes,[a,t]),o={};return r.default.each(e,(function(t,e){r.default.isEqual(i[e],t)||(o[e]=t)})),!!r.default.size(o)&&o},changedAttributesForDesktop:function(t){var e=this.nonVariantChangedAttributes(t);return delete e[a],e},previousAttributesForVariant:function(t){if("desktop"===t)return this.previousAttributesForDesktop();var e=this._previousOverrides||{},n=r.default.get(e,t);return n?r.default.clone(n):{}},previousAttributesForDesktop:function(){var t=this.nonVariantPreviousAttributes();return delete t[a],t},previousForVariant:function(t,e){if("desktop"===t)return this.nonVariantPrevious(e);var n=this._previousOverrides||{};return r.default.get(n,[t,e],void 0)},hasChangedForVariant:function(t,e){if("desktop"===t)return this.hasChangedForDesktop(e);var n=this._changedOverrides||{};return null==e?!r.default.isEmpty(n[t]):r.default.has(n[t],e)},hasChangedForDesktop:function(t){var e=r.default.omit(this.changed,a);return null==t?!r.default.isEmpty(e):r.default.has(e,t)},isSyncedTextComponent:function(){return!1}}},7689:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(96486)),u=a(n(65311)),l=o(n(29231)),c=a(n(68686)),d=n(25694),h="image-component",f={isImageModel:function(t){return t&&t.get("type")===h},canCropModel:function(t){return f.isImageModel(t)&&!t.isVectorBased()},canCropCurrentSelection:function(t){var e=t.getSelection(),n=d.ObjectStateManager.isDefaultStateSelected(),i=e.onlyOneComponentOfTypeSelected(h),r=f.canCropModel(e.getFirstLayer());return n&&i&&r},isInCropMode:function(t){return!!f.canCropCurrentSelection(t)&&t.getSelection().getFirstLayer().isCropping()},isInCropModeOrOpeningCrop:function(t){if(!f.canCropCurrentSelection(t))return!1;var e=t.getSelection().getFirstLayer();return e.isCropping()||e.isOpeningCrop()},testSimpleCropRequest:function(t){var e=u.default.Deferred();return c.default.getOrCreateRasterImageResource(t,1,{x:0,y:0,width:1,height:1}).then((function(t){t&&1===t.getWidth()&&1===t.getHeight()?e.resolve(!0):e.reject()})).fail(e.reject),e.promise()},createScaledCropDimensions:function(t,e,n){if(!t)return{x:0,y:0,width:e,height:n};var i=e/t.width,r=n/t.height;return t=s.default.clone(t),{x:Math.round(t.x*i),y:Math.round(t.y*r),width:Math.round(t.width*i),height:Math.round(t.height*r)}},createResizedCropRegion:function(t,e,n){var i=e.width/n.width,r=e.height/n.height;return{x:Math.round(t.x/i),y:Math.round(t.y/r),width:Math.round(t.width/i),height:Math.round(t.height/r)}},calculateDimensionsToShowNonCroppedImage:function(t){var e=Math.toRad(t.get("rotation")),n=t.getOriginalDimensions(),i=t.getScaledCropDimensions(),r={width:n.width*t.getWidthToCropWidthRatio(),height:n.height*t.getHeightToCropHeightRatio()},o=f.applyImageFlipToCropSelection(r,i,t.get("flipHorizontal"),t.get("flipVertical")),a=new l.Point(r.width,r.height),s=Math.rotateCoord(o.x,o.y,0,0,-e),u=Math.rotateCoord(t.getTopLeft(),t.getCenterPosition(),-e),c=new l.Point(u.getX()-s.getX(),u.getY()-s.getY()),d=Math.rotateCoord(a,l.Point.ORIGIN,-e),h=new l.Point(c.getX()+d.getX()/2,c.getY()+d.getY()/2),p=Math.rotateCoord(c,h,e);return{x:Math.round(p.getX()),y:Math.round(p.getY()),width:Math.round(a.getX()),height:Math.round(a.getY())}},calculateCropDimensionsForSave:function(t,e){var n=e.get("x")*t.getOriginalWidthToWidthRatio(),i=e.get("y")*t.getOriginalHeightToHeightRatio(),r=e.get("width")*t.getOriginalWidthToWidthRatio(),o=e.get("height")*t.getOriginalHeightToHeightRatio();return{x:Math.round(n),y:Math.round(i),width:Math.round(r),height:Math.round(o)}},applyImageFlipToCropSelection:function(t,e,n,i){var r=e.width,o=e.height,a=e.x,s=e.y,u=t.width,l=t.height;return{x:n?u-a-r:a,y:i?l-s-o:s,width:r,height:o}},calculateDimensionsForNewCropValue:function(t,e){var n=Math.toRad(t.get("rotation")),i=new l.Point(e.get("width"),e.get("height")),r=Math.rotateCoord(e.getTopLeft(),l.Point.ORIGIN,-n),o=Math.rotateCoord(i,l.Point.ORIGIN,-n),a=Math.rotateCoord(t.getTopLeft(),t.getCenterPosition(),-n),s=l.Point.sum(a,r),u=new l.Point(s.getX()+o.getX()/2,s.getY()+o.getY()/2),c=Math.rotateCoord(s,u,n);return{x:Math.round(c.getX()),y:Math.round(c.getY()),width:Math.round(i.getX()),height:Math.round(i.getY())}}};e.default=f},52152:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=i(n(7746)),s=function(t){r.default.extend(this,o.default.Events),this.layerDictionary=t.layerDictionary,this.layerHierarchies=t.layerHierarchies,this.layerSaveHandler=t.layerSaveHandler,this.layerOpBuilder=t.layerOpBuilder};s.prototype.findLayerById=function(t){return this.layerDictionary.findLayerById(t)},s.prototype.layerHierarchiesContainSmartgroup=function(t){var e=this,n=this.layerHierarchies.getLayerHierarchies(),i=!1;if(r.default.isEmpty(t))return!1;var o=function(n){var a=e.layerDictionary.findLayerById(n.id);return a&&a.smartgroupId===t?i=!0:n.items&&n.items.length>0&&r.default.each(n.items,o),!i};return r.default.each(n,(function(t,e){return r.default.each(t,o),!i})),i},s.prototype.addVariantToOverrides=function(t){return this.layerDictionary.addVariantToOverrides(t)},s.prototype.deleteVariantOverrides=function(t){return this.layerDictionary.deleteVariantOverrides(t)},s.prototype.handleSmartgroupMetricChange=function(t){var e=this,n=this.layerDictionary.getLayerDictionary(),i=r.default.cloneDeep(r.default.pickBy(n,(function(e,n){return e.smartgroupId===t})));r.default.each(i,(function(n,i){var o=a.default.getExtentsForSmartgroup(t),s=n.width/100,u=n.height/100,l=s*o.x1,c=u*o.y1,d=n.rotation;if(d){var h=Math.rotateCoord(l,c,0,0,-Math.toRad(d));l=h.x,c=h.y}var f=n.x,p=n.y,g=f+l,m=p+c;e.layerDictionary.setLayerDictionaryProperty(i,"x",g),e.layerDictionary.setLayerDictionaryProperty(i,"y",m),r.default.each(n.overrides,(function(t,e){var n=t.width?t.width/100:s,i=t.height?t.height/100:u,r=t.rotation||d,a=n*o.x1,l=i*o.y1;if(r){var c=Math.rotateCoord(a,l,0,0,-Math.toRad(r));a=c.x,l=c.y}var h=t.x||f,g=t.y||p;t.x=h+a,t.y=g+l})),e.layerDictionary.setLayerDictionaryProperty(i,"overrides",n.overrides)}))},s.prototype.determineWhichLayerIdsAreInMultipleHierarchies=function(t){return this.layerHierarchies.determineWhichLayerIdsAreInMultipleHierarchies(t)},s.prototype.isComponentUsedInMultipleVariants=function(t){return this.layerHierarchies.determineWhichLayerIdsAreInMultipleHierarchies([t])[t].inMultipleHierarchies},s.prototype.createNewVariantHierarchy=function(t){this.layerHierarchies.createNewVariantHierarchy(t)},s.prototype.deleteVariantHierarchy=function(t){this.layerHierarchies.deleteVariantHierarchy(t)},s.prototype.getIdArrayForHierarchy=function(t){var e=this.layerHierarchies.getLayerHierarchies()[t],n=[];return r.default.each(e,(function t(e){n.push(e.id),e.items&&r.default.each(e.items,t)})),n},s.prototype.findAllSmartgroupDefinitionIdsOnPage=function(){var t=this,e=this.layerHierarchies.getLayerHierarchies(),n=[],i=function(e){var o=t.layerDictionary.findLayerById(e.id);o&&o.smartgroupId?n.push(o.smartgroupId):e.items&&e.items.length>0&&r.default.each(e.items,i)};return r.default.each(e,(function(t){r.default.each(t,i)})),n},s.prototype.isComponentIdInVariant=function(t,e,n){var i=this,r=this.layerHierarchies.getLayerHierarchies();if(r[e]){var o=function(n){return n.id===t||(n.items?!!i.isComponentIdInVariant(t,e,n.items):void 0)};return n?!!n.find(o):!!r[e].find(o)}return!1},s.prototype.getLayerIdsNotInVariant=function(t){return this.layerHierarchies.getLayerIdsNotInVariant(t)},s.prototype.getLayerIds=function(){return this.layerDictionary.getLayerIds()},s.prototype.setEditableValueOnLayersById=function(t,e){return this.layerDictionary.setEditableValueOnLayersById(t,e)},e.default=s},7746:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=null,a=null,s={initialize:function(t,e){o=t,a=e},getObjectViewsForSmartgroup:function(t){return r.default.has(a,t)?a[t]:[]},setObjectViewsForSmartgroup:function(t,e){this.closeObjectViewsForSmartgroup(t),a[t]=e},closeObjectViews:function(){a&&r.default.each(a,(function(t){r.default.each(t,(function(t){t.close()}))}))},closeObjectViewsForSmartgroup:function(t){if(r.default.has(a,t)){var e=a[t];r.default.each(e,(function(t){t.close()})),delete a[t]}},getExtentsForSmartgroup:function(t){return o.getSmartgroupDefinition(t).getExtents()},getLayersForSmartgroup:function(t){return o.getSmartgroupDefinition(t).layers},getSmartgroupDefinition:function(t){return o.getSmartgroupDefinition(t)}};e.default=s},84775:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(54400));e.default={canBypassErrorDialogs:function(){return r.default.hasQueryParam(window.location.href,"bypassErrors")}}},19884:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(37083));e.default={normalizeSubjects:function(t){return!r.default.isObject(t)&&r.default.isEmpty(t)&&(t=[]),r.default.isArray(t)||(t=[t]),t},filterCollection:function(t,e,n,i){if(e=e.toArray?e.toArray():e,!t||!e.length)return e;var a,s="";return i?(a=e[0][i].attributes,s=i+"."):a=e[0].attributes,function(t,e,n){var i=[];return r.default.each(t,(function(t){var a=t.obj,s=t.obj;n&&(s=s[n]);var u=s.attributes;r.default.each(t,r.default.bind((function(t,n){var i=e[n];if(t){var r="_"+i+"_";u?s.set(r,o.default.highlight(t)):s[r]=o.default.highlight(t)}}),this)),i.push(a)})),i}(o.default.go(t,e,{allowTypo:!1,threshold:-1e4,keys:a?r.default.map(n,(function(t){return s+"attributes."+t})):n}),n,i)}}},1680:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=function(t,e,n,i){this.width=t,this.height=e,this.aspectRatio=n,this.centerPosition=i};o.prototype=r.default.extend(o.prototype,{getWidth:function(){return this.width},getHeight:function(){return this.height},getAspectRatio:function(){return this.aspectRatio},getCenterPosition:function(){return this.centerPosition}}),o.createInstance=function(t){return new o(t.getWidth(),t.getHeight(),t.getAspectRatio(),t.getCenterPosition())},e.default=o},8030:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o={absorb:function(t){r.default.each(t,(function(t,e){o[e]=t}))},purge:function(t){delete o[t]}};window.cerosContext&&o.absorb(window.cerosContext),e.default=o},39458:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486));e.default={cloneDeep:function(t){return JSON.parse(JSON.stringify(t))},replaceObjectContentsPreservingReference:function(t,e){return t===e?t:(r.default.forOwn(t,(function(e,n){delete t[n]})),r.default.extend(t,e))}}},92427:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o={forEachDescendant:function(t,e){for(var n=0;n<t.length;n++){var i=t[n];e(i),i.hasChildren()&&o.forEachDescendant(i.getChildren(),e)}},forEachDescendantIncludingSmartGroupObjects:function(t,e){this.forEachDescendant(t,(function(t){e(t),t.isSmartgroup()&&t.getDefinitionLayers().forEachDescendantIncludingSmartGroupObjects(e)}))},forEachDescendantWithParentsWhile:function(t,e,n,i){i=i||[],r.default.each(t,(function(t){if(e(t,i),n(t,i)&&t.hasChildren()){var r=i.concat(t);o.forEachDescendantWithParentsWhile(t.getChildren(),e,n,r)}}))},forSomeDescendantWithParents:function(t,e,n){return n=n||[],r.default.some(t,(function(t){if(e(t,n))return!0;if(t.hasChildren()){var i=n.concat(t);return o.forSomeDescendantWithParents(t.getChildren(),e,i)}}))},forSomeDescendant:function(t,e){return r.default.some(t,(function(t){return!!e(t)||(t.hasChildren()?o.forSomeDescendant(t.getChildren(),e):void 0)}))},findDescendant:function(t,e){var n;return r.default.each(t,(function(t){return e(t)?(n=t,!1):(!t.hasChildren()||!(n=o.findDescendant(t.getChildren(),e)))&&void 0})),n},forEachDescendantWhile:function(t,e,n){r.default.each(t,(function(t){e(t),t.hasChildren()&&n(t)&&o.forEachDescendantWhile(t.getChildren(),e,n)}))},forEachDescendantWithPath:function(t,e,n){r.default.each(e,(function(e,i){var r=t.concat(i);if(n(r,e),e.hasChildren()){var a=r.concat(e.getPathPart());o.forEachDescendantWithPath(a,e.getChildren(),n)}}))},forSomeDescendantWithPath:function(t,e,n){return r.default.some(e,(function(e,i){var r=t.concat(i);if(n(r,e))return!0;if(e.hasChildren()){var a=r.concat(e.getPathPart());return o.forSomeDescendantWithPath(a,e.getChildren(),n)}return!1}))},forEachCollectionDescendant:function(t,e){t.each((function(t){t.hasChildren()&&o.forEachCollectionDescendant(t.getCollection(),e)})),e(t)},forSomeLayerCollectionDescendantWithPath:function(t,e,n){return!!n(t,e)||e.some((function(e,i){var r=t.concat(i);if(e.isFolderOrGroup()){var a=r.concat(e.getPathPart());return o.forSomeLayerCollectionDescendantWithPath(a,e.getCollection(),n)}}))}};e.default=o},93962:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(33241)),a=i(n(21797)),s=i(n(76621)),u=i(n(93194)),l=i(n(91108)),c=i(n(86250)),d=i(n(28271)),h=i(n(38375)),f=n(75541),p=i(n(20774)),g=i(n(94079)),m=i(n(91948)),v=i(n(99545)),y=i(n(96879)),_=i(n(48014)),b=n(84767),w=n(31414),T="folder",S="smartgroup",E={group:null,folder:null,smartgroup:null,"mask-group":null,"image-component":s.default,"line-component":u.default,"shape-component":l.default,"html-component":c.default,"hubspot-form-component":d.default,"hotspot-component":h.default,"hotspot-path-component":f.HotspotPathModel,"marketo-form-component":p.default,"chartblocks-chart-component":g.default,"text-component":m.default,"video-widget":v.default,"placeholder-component":y.default,"canvas-background-component":_.default,"custom-shape-component":b.CustomShapeModel,"text-plus-component":w.TextPlusModel},O=function(t,e){if(r.default.isUndefined(t.type))throw new Error("page object model must have type attribute");return E[t.type]?(r.default.isUndefined(t.id)&&(t.id=o.default()),t=new E[t.type](t,e)):t=new a.default(t,e),t};e.default={registerFolderModel:function(t){E[T]=t},registerSmartgroupModel:function(t){E[S]=t},registerGroupModel:function(t){E.group=t},registerMaskGroupModel:function(t){E["mask-group"]=t},createFolderModel:function(t,e){return O(t=t||{type:T},e)},createSmartgroupModel:function(t,e){return O(t=t||{type:S},e)},createModel:O}},14730:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o={buildPropertyObject:function(t,e){var n;return r.default.isObject(t)||((n={})[t]=e,t=n),t}};e.default=o},35959:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(33241)),s=i(n(16080)),u=i(n(77891)),l=[],c=null;function d(){if(l.length>0){var t=l.shift(),e=o.default.map(t.ops,(function(e){return e.batchId=t.batchId,e}));t.doc.submitOp(e,(function(){t.promise.resolve()})),clearTimeout(c),c=null,l.length>0&&(c=o.default.defer(d))}}e.default={submitOpsInBatches:function(t,e){var n=a.default(),i=o.default.chunk(e,100),s=[];return o.default.each(i,(function(e){var i=r.default.Deferred();s.push(i),l.push({batchId:n,doc:t,ops:e,promise:i})})),t.emit("batch:start",n),null===c&&d(),r.default.when.apply(r.default,s).done((function(){t.emit("batch:done",n)})).fail((function(){t.emit("batch:fail",n)})),s},isDocVersionVariantCreateOp:function(t,e){return!(!e.isDocumentModel()||1!==t.p.length||"overrides"!==t.p[0])&&o.default.keys(t.oi).length>o.default.keys(t.od).length},isDocVersionVariantDeleteOp:function(t,e){return!(!e.isDocumentModel()||1!==t.p.length||"overrides"!==t.p[0])&&o.default.keys(t.oi).length<o.default.keys(t.od).length},isPageVariantCreateOp:function(t,e){return!e.isDocumentModel()&&1===t.p.length&&"overrides"===t.p[0]&&o.default.keys(t.oi).length>o.default.keys(t.od).length},isPageVariantDeleteOp:function(t,e){return!e.isDocumentModel()&&1===t.p.length&&"overrides"===t.p[0]&&o.default.keys(t.oi).length<o.default.keys(t.od).length},getCreatedVariantName:function(t){return o.default.difference(o.default.keys(t.oi),o.default.keys(t.od))[0]},getDeletedVariantName:function(t){return o.default.difference(o.default.keys(t.od),o.default.keys(t.oi))[0]},getPropertyBeingUpdatedInAPageDocOp:function(t){return this.isOpUpdatingOverrides(t)&&1!==t.p.length?t.p[2]:t.p[0]},isOpUpdatingOverrides:function(t){return"overrides"===t.p[0]},isOpForDifferentLayout:function(t,e){return!!s.default.adaptiveLayoutsEnabled()&&(this.isOpUpdatingOverrides(t)&&t.p.length>1?t.p[1]!==e:"desktop"!==e)},isLayerDictionaryInsertionOrDeletionOp:function(t){return!u.default.isUpdateForLazyAddedField(t)&&t.p.indexOf("layerDictionary")>-1&&(o.default.isUndefined(t.od)||o.default.isUndefined(t.oi))},isLayerHierarchyOpForDifferentLayout:function(t,e){return 0===t.p.indexOf("layerHierarchies")&&t.p[1]!==e},isLayerDictionaryOpForDifferentLayout:function(t,e){return 0===t.p.indexOf("layerDictionary")&&this.getChangedVariant(t)!==e},getChangedVariant:function(t){var e="desktop";if(!s.default.adaptiveLayoutsEnabled())return e;if(0===t.p.indexOf("layerDictionary")){var n=t.p.indexOf("overrides");if(-1===n)return e;-1!==n&&t.p.length>n+1?e=t.p[n+1]:this.isLayerDictionaryInsertionOrDeletionOp(t)?(t.oi&&(e=o.default.keys(t.oi)[0]),t.od&&(e=o.default.keys(t.od)[0])):t.p.length===n+1&&o.default.each(t.oi,(function(n,i){if(t.od&&!o.default.isEqual(n,t.od[i]))return e=i,!1}))}else 0===t.p.indexOf("layerHierarchies")&&(e=t.p[1]);return e},isLayerDictionaryWholeObjectChangeOp:function(t){return 0===t.p.indexOf("layerDictionary")&&2===t.p.length||2===t.p.indexOf("layerDictionary")&&4===t.p.length},isDocVersionPageCreateOrDeleteOp:function(t){return!!t&&2===t.p.length&&"editorPagesManifest"===t.p[0]&&o.default.isNumber(t.p[1])&&(!o.default.isUndefined(t.li)||!o.default.isUndefined(t.ld))},isSyncedPropertyChangeFromList:function(t,e){return!!t&&(0===t.p.indexOf("layerDictionary")&&3===t.p.length&&e.indexOf(t.p[2])>-1||void 0)},setOpValues:function(t,e,n){var i=e.element[e.key];o.default.isArray(e.element)?(t.li=n,o.default.isUndefined(i)||(t.ld=i)):o.default.isObject(e.element)&&(t.oi=n,o.default.isUndefined(i)||(t.od=i))},opPathStartsWith:function(t,e){var n=t.join("/")+"/",i=e.join("/")+"/";return 0===n.indexOf(i)}}},32526:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(16080)),a=i(n(96486)),s="tempSyncedCache",u=(r={desktop:{}},o.default.on(o.default.EVENTS.VARIANT_CHANGED,(function(){a.default.unset(r,[s])})),o.default.on(o.default.EVENTS.VARIANT_DELETED,(function(t){u.clearVariant(t.variantName)})),{copySyncedCacheToCurrentVariantCache:function(t){var e=a.default.get(r,[s,t.id]);a.default.set(r,[o.default.getCurrentVariant(),t.id],e)},copyCurrentVariantCacheToSyncedCache:function(t){var e=o.default.getCurrentVariant(),n=a.default.get(r,[e,t.id],void 0);this.clearItemFromAllVariantCaches(t),a.default.set(r,[s,t.id],n)},get:function(t){if(a.default.isFunction(t.isSyncedTextComponent)&&t.isSyncedTextComponent())return a.default.get(r,[s,t.id]);var e=a.default.isFunction(t.isSyncedObject)&&t.isSyncedObject()?"desktop":o.default.getCurrentVariant();return a.default.get(r,[e,t.id],void 0)},set:function(t,e,n){var i=a.default.isFunction(t.isSyncedObject)&&t.isSyncedObject()?"desktop":o.default.getCurrentVariant(),u=n||i,l=t.id;t.synced||a.default.isFunction(t.isSyncedTextComponent)&&t.isSyncedTextComponent()?a.default.set(r,[s,l],e):a.default.isUndefined(e)?a.default.unset(r,[u,l]):a.default.set(r,[u,l],e)},clearVariant:function(t){a.default.unset(r,[t])},clearItemFromAllVariantCaches:function(t){a.default.unset(r,["desktop",t.id]),a.default.unset(r,["tablet",t.id]),a.default.unset(r,["mobile",t.id])}});e.default=u},43325:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(8030)),s=i(n(84775)),u=i(n(73926)),l=i(n(69107)),c=i(n(59419)),d=!1,h="stopped",f="connect failed",p=function(){l.default.setOffline(),d&&(d.disconnect(),d=!1)},g={},m={},v=0,y={fatalErrorOccurred:!1,initialize:function(){!function(){if(d)return d;if("undefined"==typeof sharejs)throw Error("Unable to connect to ShareJS Server");(d=new sharejs.Connection(a.default.shareJsServer,a.default.sharejsAccessPolicy)).on("error",y.showError),d.on(f,(function(){y.showError(f)})),d.on(h,(function(){y.showError(h)})),s.default.canBypassErrorDialogs()||u.default.registerObserver((function(){p()})),r.default(window).on("unload",(function(){p()}));var t=sharejs.Doc.prototype.flush;sharejs.Doc.prototype.flush=function(){var e=this.name,n=this.pendingOp;if(d&&o.default.some(n,(function(t){var n=t.p.join(".");return!function(t,e){var n=!1;return o.default.isArray(g[t])&&(n=o.default.some(g[t],(function(t){return e.match(t)}))),n}(e,n)}))){var i=function(){var t=v++;return m[t]=l.default.push({label:"ShareJSConnection::sentOps"}),t}();this.pendingCallbacks.push((function(t,e){!function(t){m[t].resolve(),delete m[t]}(i)}))}return t.apply(this,arguments)}}()},getConnection:function(){return d},addToStatusBlacklist:function(t,e){o.default.isEmpty(g[t])&&(g[t]=[]),g[t].push(e)},showError:function(t){var e="",n=null;if(t&&("string"==typeof t?e=t:"string"==typeof t.message&&(e=t.message,n=t)),e){if("Unknown session ID"===e)return!1;if(-1!==e.indexOf("Op apply failed")||o.default.includes(["Request failed","General network error",h,f],e))return c.default.getInstance().show(),!0}return window.onerror(e,null,null,null,n),p(),this.fatalErrorOccurred=!0,!0},handleError:function(t,e){throw t.metadata=o.default.extend({},t.metadata,e),y.showError(t),t},wrapCallback:function(t,e){return t?function(){try{return t.apply(this,arguments)}catch(t){y.handleError(t,o.default.extend({},e,{callerArgs:Array.prototype.slice.call(arguments)}))}}:t},addDocListener:function(t,e,n){var i={snapshot:t.snapshot,docName:t.name,event:e},r=this.wrapCallback(n,i);t.on(e,r)}};e.default=y},55580:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=i(n(56744));e.default={traverse:function(t,e){var n,i,s,u,l=r.default.cloneDeep(t),c="data",d={data:e},h="smartgroups"===l[0],f=!h,p=l.indexOf("layerDictionary")>-1,g=l.indexOf("layerHierarchies")>-1;return p?(f?(n=e.layers,i=e,s=l[1],c=l[2]):(n=(i=e.smartgroups.at&&e.smartgroups.at(l[1])||e.smartgroups[l[1]]).layers,s=l[3],c=l[4]),u=n&&n instanceof a.default?n.findDescendant((function(t){return t.id===s})):i.layerDictionary[s],{key:c,element:u}):(f&&g?(d=e.layers,l.splice(0,2),c=l.shift()):h&&g&&this.transformPathForSmartgroupHierarchyChange(l),r.default.each(l,(function(t,n){if(d=r.default.isNumber(c)&&r.default.isFunction(d.at)?d.at(c):d[c],r.default.isUndefined(d)){var i=new Error("Tried to access path that doesn't exist");throw i.metadata={path:l,key:c,treeId:e.id},e instanceof o.default.Model||(i.metadata.tree=e),i}c=t})),{key:c,element:d})},transformPathForSmartgroupHierarchyChange:function(t){var e=t.indexOf("layerHierarchies");t.splice(e,1,"layers");var n=t.indexOf("desktop");t.splice(n,1)}}},23383:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=n(85650),s={key:"show-anchors",default:"true"},u={key:"show-outside-page",default:"false"},l={key:"show-rulers",default:"true"},c={key:"show-guides",default:"true"},d={key:"snap-guides",default:"true"},h={key:"show-smartguides",default:"true"},f={key:"icon-explorer-scale",default:45},p={key:"image-explorer-scale",default:1},g={key:"video-explorer-scale",default:1};e.default=r.default.extend({},o.default.Events,{_getKey:function(t){return"studioPref:"+t},_isPrefSet:function(t){return r.default.isString(window.localStorage[this._getKey(t)])},_setPref:function(t,e){"true"===this._getPref(t)!==e&&(window.localStorage[this._getKey(t.key)]=e,this.trigger("change"))},_getPref:function(t){return this._isPrefSet(t.key)?window.localStorage[this._getKey(t.key)]:t.default},getShowAnchors:function(){return!a.BackboneCapabilitySelectors.SelectIsStudioLite()&&"true"===this._getPref(s)},setShowAnchors:function(t){return this._setPref(s,t),this},setShowCanvasGrids:function(t,e){return this._setPref(t,e),this},getShowCanvasGrids:function(t){return!a.BackboneCapabilitySelectors.SelectIsStudioLite()&&"true"===this._getPref(t)},setShowCanvasLayout:function(t,e){return this._setPref(t,e),this},getShowCanvasLayout:function(t){return!a.BackboneCapabilitySelectors.SelectIsStudioLite()&&"true"===this._getPref(t)},setSnapCanvasGrids:function(t,e){return this._setPref(t,e),this},getSnapCanvasGrids:function(t){return!a.BackboneCapabilitySelectors.SelectIsStudioLite()&&"true"===this._getPref(t)},setSnapCanvasLayouts:function(t,e){return this._setPref(t,e),this},getSnapCanvasLayouts:function(t){return!a.BackboneCapabilitySelectors.SelectIsStudioLite()&&"true"===this._getPref(t)},getShowOutsidePage:function(){return"true"===this._getPref(u)},setShowOutsidePage:function(t){return this._setPref(u,t),this},getShowRulers:function(){return!a.BackboneCapabilitySelectors.SelectIsStudioLite()&&"true"===this._getPref(l)},setShowRulers:function(t){return this._setPref(l,t),this},getShowGuides:function(){return!a.BackboneCapabilitySelectors.SelectIsStudioLite()&&"true"===this._getPref(c)},getShowSmartguides:function(){return!a.BackboneCapabilitySelectors.SelectIsStudioLite()&&"true"===this._getPref(h)},setShowGuides:function(t){return this._setPref(c,t),this},setShowSmartguides:function(t){return this._setPref(h,t),this},getSnapGuides:function(){return!a.BackboneCapabilitySelectors.SelectIsStudioLite()&&"true"===this._getPref(d)},setSnapGuides:function(t){return this._setPref(d,t),this},getIconExplorerScale:function(){return this._getPref(f)},setIconExplorerScale:function(t){return this._setPref(f,t),this},getImageExplorerScale:function(){return this._getPref(p)},setImageExplorerScale:function(t){return this._setPref(p,t),this},getVideoExplorerScale:function(){return this._getPref(g)},setVideoExplorerScale:function(t){return this._setPref(g,t),this}})},99001:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486));e.default={isSpanIntersection:function(t,e){if(!t||!e)return!1;var n=t.index,i=t.index+t.length-1,r=e.index,o=e.index+e.length-1;return n>=r&&n<=o||i>=r&&i<=o||r>=n&&r<=i||o>=n&&o<=i},getSpanContaining:function(t,e){for(var n=0;n<t.length;n++)if(this.isSpanIntersection(e,t[n]))return t[n];return null},getSpanAtIndex:function(t,e){return this.getSpanContaining(t,{index:e,length:1})},shiftSpansAfter:function(t,e,n){for(var i=0;i<t.length;i++){var r=t[i];r.index>e&&(r.index+=n)}return t},spliceSpan:function(t,e){for(var n=[],i=this.getSplicePoints(t,e),o=0;o<i.length-1;o++){var a={index:i[o],length:i[o+1]-i[o]},s=this.getSpanContaining(t,a),u=s&&s.length>0?s:{},l=this.isSpanIntersection(e,a)?e:{};n.push(r.default.extend({},u,l,a))}return n},getSplicePoints:function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(t[i].index),n.push(t[i].index+t[i].length);return n.push(e.index),n.push(e.index+e.length),r.default.uniq(n.sort((function(t,e){return t-e})),!0)},growSpan:function(t,e,n,i,r){if(n<=0)return t;var o,a=e;return(o=i&&!r?this.getSpanAtIndex(t,e-1):this.getSpanAtIndex(t,e))&&(o.length+=n,a=o.index),r?(t.splice(t.indexOf(o),1),t=this.spliceSpan(this.shiftSpansAfter(t,a-1,n),o)):t=this.shiftSpansAfter(t,a,n),t},removeSpan:function(t,e){for(var n=0;n<t.length;n++)if(this.areSpansEqual(e,t[n]))return t.splice(n,1),t;return t},areSpansEqual:function(t,e){return t.index===e.index&&t.length===e.length},clearEmptySpans:function(t){for(var e=t.length-1;e>=0;e--){var n=t[e];0===n.length&&(t=this.removeSpan(t,n))}return t}}},68427:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486));e.default={getValidValueForOptions:function(t,e,n){var i=e;if(n){if(n.shouldAdjustValue)if(n.decimalPlaces){var o=Math.pow(10,n.decimalPlaces);i=Math.round(o*(t+e))/o}else i=t+e;!r.default.isNil(n.minValue)&&i<n.minValue&&(i=n.minValue),!r.default.isNil(n.maxValue)&&i>n.maxValue&&(i=n.maxValue)}return i},getValidOpacityValueForOptions:function(t,e,n){return this.getValidValueForOptions(t*n.maxValue,e,n)/n.maxValue},isValidEmail:function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}}},8329:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(87967)),a=n(40357),s={MODAL_CLOSED:"modal-closed",MODAL_OPENED:"modal-opened"};e.default=a.AbstractView.extend({className:"modal-container",events:{"click .modal-close":"handleHideClick","click .close":"handleHideClick","click .modal-overlay":"handleHideClick"},preventHide:!1,initialize:function(){r.default("body").append(this.$el)},bindCloseOnEsc:function(){r.default(window).on("keydown",r.default.proxy(this.cancelOnEscape,this))},onClose:function(){a.AbstractView.prototype.onClose.apply(this,arguments),r.default(window).off("keydown",r.default.proxy(this.cancelOnEscape,this))},cancelOnEscape:function(t){t.keyCode===o.default.ESC&&this.hide()},show:function(){var t=this;return setTimeout((function(){t.$el.addClass("shown"),r.default("body").css("overflow","hidden"),t.broadcast.trigger(s.MODAL_OPENED)}),0),this},handleHideClick:function(t){t.preventDefault(),this.hide()},hide:function(t){if(!this.preventHide)return this.$el.removeClass("shown"),r.default("body").css("overflow",""),this.trigger(s.MODAL_CLOSED,t),this}},{EVENTS:s,extend:function(t,e){return this.instance=null,a.AbstractView.extend.call(this,t,e)},getInstance:function(t){return this.instance||(this.instance=new this(t)),this.instance},closeInstance:function(){this.instance&&(this.instance.close(),this.instance=void 0)}})},86431:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(19201)),o=i(n(34987)),a=i(n(80771)),s={CANVAS_BACKGROUND_TAB_HEIGHT:20,CANVAS_BACKGROUND_TAB_WIDTH:50,CANVAS_BACKGROUND_TAB_INACTIVE_COLOR:r.default.COLORS.ASH,CANVAS_BACKGROUND_TAB_ACTIVE_COLOR:r.default.COLORS.CEROS_BLUE,CANVAS_BACKGROUND_TAB_FONT_COLOR:"#9ca2a3",CANVAS_BACKGROUND_TAB_FONT:"11px Avenir Next, 11px Avenir Next LT",RULER_SIZE:16,RULER_INCREMENT:10,RULER_MOUSE_THRESHOLD:3,RULER_ALPHA:1,RULER_FONT:"11px Avenir Next, 11px Avenir Next LT",RULER_FONT_SIZE:10,RULER_RESET_ICON_COLOR:r.default.COLORS.PEWTER,RULER_RESET_ICON_DASH:[1,1],RULER_ORIGIN_DASH:[3,3],RULER_ORIGIN_COLOR_1:"black",RULER_ORIGIN_COLOR_2:"white",RULER_HORIZONTAL_LABEL_OFFSET:2,RULER_VERTICAL_LABEL_OFFSET:3,RULER_NUMBER_LABEL_OFFSET:2,RULER_FG_COLOR:r.default.COLORS.GREY300,RULER_BG_COLOR:r.default.COLORS.WHITE,RULER_FG_TEXT_COLOR:r.default.COLORS.GREY400,GUIDE_COLOR:r.default.COLORS.MAGENTA,GUIDE_HOVER_COLOR:r.default.COLORS.PINK,GUIDE_COLOR_DEL:r.default.COLORS.RED,GUIDE_LABEL_SIZE:12,GUIDE_LABEL_FONT:"10px Avenir Next, 10px Avenir Next LT",GUIDE_LABEL_PADDING:4,GUIDE_LABEL_WEBKIT_OFFSET:a.default.webkit?-2:0,GUIDE_LABEL_RULER_OFFSET:3,GUIDE_LABEL_COLOR:r.default.COLORS.WHITE,GUIDE_LABEL_TEXT_COLOR:r.default.COLORS.GREY400,GUIDE_VERTICAL_DIRECTION:"vertical",GUIDE_HORIZONTAL_DIRECTION:"horizontal",GUIDE_HIT_THRESHOLD:10,GUIDE_SELECT_OPACITY:.3,GUIDE_INDICATOR_WIDTH:95,GUIDE_INDICATOR_HEIGHT:25,GUIDE_INDICATOR_COLOR:r.default.COLORS.WHITE,GUIDE_INDICATOR_FONT:"14px Avenir Next, 14px Avenir Next LT",GUIDE_INDICATOR_FONT_COLOR:r.default.COLORS.BLACK,GUIDE_INDICATOR_STROKE_STYLE:r.default.COLORS.GREY300,GUIDE_INPUT_BOX_EXTRA_WIDTH:12,GUIDE_INPUT_BOX_MIN_CHARS:3,GUIDE_INPUT_BOX_MAX_CHARS:5,GUIDE_INPUT_BOX_Y_MARGIN:-5,GUIDE_INPUT_BOX_HEIGHT:25,GUIDES_INPUT_BOUNDARY:5e4,GUIDES_INPUT_WRAPPER:"guide-input-wrapper",GUIDES_MOVE_CURSOR_DELAY:100,GUIDES_INPUT_SCROLL_DEBOUNCE_DELAY:500,CANVAS_LAYOUTS_COLUMN_GUTTER:20,CANVAS_LAYOUTS_ROW_GUTTER:20,SNAP_THRESHOLD:8,SMARTGUIDE_COLOR:r.default.COLORS.MAGENTA,SMARTGUIDE_WIDTH:1,SMARTGUIDE_AXIS_X:"x",SMARTGUIDE_AXIS_Y:"y",DISTANCE_GUIDE_BRACKET_LENGTH:10,DISTANCE_GUIDE_LABEL_FONT_SIZE:11,DISTANCE_GUIDE_TEXT_OFFSET:4,DISTANCE_GUIDE_TEXT_UNIT:"px",DISTANCE_GUIDE_FONT_FAMILY:"Montserrat",DISTANCE_GUIDE_VERTICAL_TEXT_ALIGNMENT:"right",DISTANCE_GUIDE_HORIZONTAL_TEXT_ALIGNMENT:"center",DISTANCE_GUIDE_TEXT_BASELINE:"middle",MASK_ITEM_DEFAULT_FILL_COLOR:"#D1D1D1",COMPONENT_FOCUS_COLOR:r.default.COLORS.PRIMARY_BLUE_ALT,ISOLATION_MODE_COMPONENT_FOCUS_COLOR:r.default.COLORS.ALIEN,COMPONENT_SELECTION_COLOR:r.default.COLORS.PRIMARY_BLUE_ALT,COMPONENT_SELECTION_FILL_COLOR:r.default.COLORS.WHITE,COMPONENT_FOCUS_DASH:[2,2],COMPONENT_FOCUS_ALPHA:.7,COMPONENT_FOCUS_LINE_WIDTH:1,COMPONENT_SELECTION_LINE_WIDTH:1,COMPONENT_SELECTION_HANDLE_SIZE:7,GROUP_SELECTION_COLOR:r.default.COLORS.PRIMARY_BLUE_ALT,ISOLATION_MODE_GROUP_SELECTION_COLOR:r.default.COLORS.ALIEN,GUIDE_SELECTION_COLOR:r.default.COLORS.CEROS_BLUE,GROUP_SELECTION_ALPHA:.5,GROUP_SELECTION_DASH:[3,3],GENERATE_THUMBNAIL_DEBOUNCE:1e3,PIXEL_GRID_THRESHOLD:10,BROWSER_IDLE_FPS:1,BLUE_FILL_PATTERN_COLOR:[153,186,209,128],ALIEN_FILL_PATTERN_COLOR:[0,255,180,128],GREY_FILL_PATTERN_COLOR:[200,200,200,128],FILL_PATTERN_SIZE:5,KEYPRESS_TIMEOUT:200,DROPDOWN_OPTION_DIVIDER:"",CANVAS_BACKGROUND_COLOR:r.default.COLORS.GREY200,CANVAS_OFFPAGE_MASK_COLOR:r.default.COLORS.GREY200_70P,RUBBER_BAND_DASH:[3,3],RUBBER_BAND_ALPHA:.75,RUBBER_BAND_COLOR:"black",RUBBER_BAND_LINE_WIDTH:1,TEXT_EDITOR_NOCURSOR_COLOR:"rgb(0,170,210)",TEXT_EDITOR_NOCURSOR_LINE_WIDTH:1,TEXT_EDITOR_SELECTION_HIGHLIGHT_COLOR:"rgb(182,214,253)",TEXT_EDITOR_CURSOR_BLINK_SPEED:500,TEXT_EDITOR_CURSOR_RESUME_BLINK_DELAY:250,TEXT_EDITOR_CURSOR_COLOR:"#747474",TEXT_EDITOR_GUIDES_COLOR:"rgb(182,229,237)",ISOLATION_MODE_TEXT_EDITOR_NOCURSOR_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_TEXT_EDITOR_GUIDES_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_TEXT_EDITOR_SELECTION_HIGHLIGHT_COLOR:r.default.COLORS.ALIEN,MODE_SELECT:"select",MODE_GUIDE_SELECT:"guide-select",MODE_PAN:"pan",MODE_PAN_IN_GUIDE_SELECT:"pan-in-guide-select",MODE_RESIZE:"resize",MODE_ROTATE:"rotate",MODE_MOVE:"move",MODE_WAIT_MOVE:"wait-move",MODE_LINE:"line",MODE_SHAPE:"shape",MODE_CUSTOM_SHAPE:"custom-shape",MODE_HTML:"html",MODE_HOTSPOT:"hotspot",MODE_HOTSPOT_PATH:"hotspot-path",MODE_TEXT:"text",MODE_SCRANCHOR:"anchor",MODE_CANVAS_ADJUSTMENT:"canvas-adjustment",MODE_ICONS:"icons",MODE_COLOR_SELECT:"color-select",MODE_VGUIDE_MOVE:"vguide-move",MODE_HGUIDE_MOVE:"hguide-move",MODE_RULERS_MOVE:"rulers-move",MODE_TEXT_PLUS:"text-plus",AUTOPAN_ZONE:50,AUTOPAN_RATE:14,MOVE_TIMEOUT_MS:75,PAN_RATE:10,PAN_TO_EDGE_PADDING:10,PAN_TO_SELECTION_ZOOM_BUFFER:100,PAN_TO_SELECTION_EDGE_PADDING:100,FOLD_COLOR:r.default.COLORS.DUSTY_GRAY,FOLD_DASH:[3,3],FOLD_LABEL_FONT:"10px Helvetica",FOLD_LABEL:"   FOLD   ",HOVER_ZONE_COLOR:r.default.COLORS.CEROS_BLUE,HOVER_ZONE_OPACITY:.2,HOVER_ZONE_LINE_DASH:[4,4],DEFAULT_CANVAS_FILL_COLOR:"#FFFFFF",DEFAULT_FILL_COLOR:"#D1D1D1",DEFAULT_BORDER_COLOR:"#838383",DEFAULT_SHADOW_COLOR:"rgba(0, 0, 0, 0.5)",SCRANCHOR_BAR_COLOR:r.default.COLORS.PRIMARY_BLUE,SCRANCHOR_DRAG_BAR_WIDTH:2,SCRANCHOR_REST_BAR_WIDTH:1,SCRANCHOR_REST_BAR_DASH:[2],SCRANCHOR_MARKER_BG_COLOR:r.default.COLORS.PRIMARY_BLUE,SCRANCHOR_MARKER_HIGHLIGHT_COLOR:r.default.COLORS.PRIMARY_BLUE_ACTIVE,SCRANCHOR_MARKER_BORDER_COLOR:r.default.COLORS.WHITE,SCRANCHOR_MARKER_HEIGHT:17,SCRANCHOR_MARKER_TAPER:7,SCRANCHOR_MARKER_FONT_SIZE:10,SCRANCHOR_MARKER_TEXT_POSITION:10,SCRANCHOR_MARKER_TYPEFACE:"Helvetica",SCRANCHOR_MARKER_TEXT_COLOR:r.default.COLORS.WHITE,SCRANCHOR_ANCHOR_ICON_FONT:"10px CerosIcons-Regular",SCRANCHOR_ANCHOR_ICON_GLYPH:"",SCRANCHOR_ANCHOR_ICON_RIGHT_PADDING:1,SCRANCHOR_DRAG_MARGIN:60,SCRANCHOR_LINE_GRAB_MARGIN:2,SCRANCHOR_RULER_SHADING_COLOR:o.default.fromHex(r.default.COLORS.CEROS_BLUE).set({a:.2}).toString(),SCRANCHOR_TOOLTIP_HEIGHT:12,SCRANCHOR_TOOLTIP_PADDING:4,SCRANCHOR_TOOLTIP_BG_COLOR:r.default.COLORS.WHITE,SCRANCHOR_TOOLTIP_TYPEFACE:"Avenir Next, Avenir Next LT",SCRANCHOR_TOOLTIP_FONT_SIZE:12,SCRANCHOR_TOOLTIP_POSITION_COLOR:r.default.COLORS.GREY400,SCRANCHOR_TOOLTIP_SPACING:4,CANVAS_ADJUSTMENT_BAR_COLOR:r.default.COLORS.ALIEN,CANVAS_ADJUSTMENT_INVALID_COLOR:"#9CA2A3",CANVAS_ADJUSTMENT_DRAG_BAR_WIDTH:2,CANVAS_ADJUSTMENT_REST_BAR_WIDTH:1,CANVAS_ADJUSTMENT_REST_BAR_DASH:[2],CANVAS_ADJUSTMENT_AREA_ALPHA:.75,CANVAS_ADJUSTMENT_MARKER_LINE_WIDTH:3,CANVAS_ADJUSTMENT_MARKER_COLOR:r.default.COLORS.ALIEN,CANVAS_ADJUSTMENT_LINE_DASH:[4,4],CANVAS_ADJUSTMENT_TOOLTIP_TEXT_PADDING:2,CANVAS_ADJUSTMENT_TOOLTIP_COLOR:"black",CANVAS_ADJUSTMENT_TOOLTIP_WEBKIT_OFFSET:a.default.webkit?-2:0,CANVAS_ADJUSTMENT_TOOLTIP_SIZE:12,CANVAS_ADJUSTMENT_TOOLTIP_TEXT_COLOR:"white",CANVAS_ADJUSTMENT_INVALID_FILL_PATTERN_COLOR:[156,162,163,128],SYNCED_OBJECTS_ISOLATION_MODE_BANNER_HEIGHT:44,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_BASELINE:"middle",SYNCED_OBJECTS_ISOLATION_MODE_BANNER_FOREGROUND_COLOR:r.default.COLORS.BLACK,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_BACKGROUND_COLOR:r.default.COLORS.COLLABORATORS_GREEN,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_SEPARATOR_COLOR:r.default.COLORS.PEBBLE,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_SEPARATOR_WIDTH:0,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_FONT:"14px Avenir Next, Avenir Next LT",SYNCED_OBJECTS_ISOLATION_MODE_BANNER_HORIZONTAL_PADDING:16,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_VERTICAL_PADDING:8,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_TEXT_VERTICAL_PADDING:1.5,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_SIDEBAR_WIDTH:240,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_TOOLBAR_WIDTH:52,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_OPEN_DRAWER_WIDTH:26,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_CLOSED_DRAWER_WIDTH:96,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_TITLE_TEXT:"Editing synced object",SYNCED_OBJECTS_ISOLATION_MODE_BANNER_TITLE_TEXT_ALIGN:"left",SYNCED_OBJECTS_ISOLATION_MODE_BANNER_BUTTON_TEXT:"Exit",SYNCED_OBJECTS_ISOLATION_MODE_BANNER_BUTTON_TEXT_ALIGN:"center",SYNCED_OBJECTS_ISOLATION_MODE_BANNER_BUTTON_RADIUS:6,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_BUTTON_WIDTH:40,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_BUTTON_HEIGHT:28,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_BUTTON_COLOR:r.default.COLORS.WHITE,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_BUTTON_HOVER_COLOR:r.default.COLORS.GREY100,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_BUTTON_ACTIVE_COLOR:r.default.COLORS.GREY200,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_BUTTON_BORDER_WIDTH:1,SYNCED_OBJECTS_ISOLATION_MODE_BANNER_BUTTON_BORDER_COLOR:r.default.COLORS.GREY300,ISOLATION_MODE_PROGRESS_BAR_FG_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_PROGRESS_BAR_PROCESSING_FG_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_PROGRESS_BAR_PROCESSING_BG_COLOR:r.default.COLORS.DUSTY_GRAY,LINE_COLOR:"rgb(0,170,210)",ISOLATION_MODE_LINE_COLOR:r.default.COLORS.ALIEN,PINNED_GROUP_BOTTOM_OFFSET:10,PINNED_ANCHOR_SIZE:20,DEFAULT_ICON_SVG_FILL_COLOR:"#D1D1D1",EMBEDDED_OBJECT_PADDING:10,EMBEDDED_OBJECT_FILL_COLOR:"#DCDFE1",EMBEDDED_OBJECT_FILL_ALPHA:1,EMBEDDED_OBJECT_OUTLINE_ALPHA:.75,EMBEDDED_OBJECT_OUTLINE_OFFSET:.5,EMBEDDED_OBJECT_STROKE_STYLE:"#979a9b",EMBEDDED_OBJECT_LINE_WIDTH:1.0001,EMBEDDED_OBJECT_ICON_SIDE_LENGTH:32,EMBEDDED_OBJECT_FONT_SIZE_AND_FAMILY:"11px Montserrat",EMBEDDED_OBJECT_FONT_FILL_COLOR:"#000000",EMBEDDED_OBJECT_LABEL_X_ADJUSTMENT:-35,EMBEDDED_OBJECT_LABEL_Y_ADJUSTMENT:55,EMBEDDED_OBJECT_LINE_DASH_STYLE:[4,4],IMAGE_CROPPING_MASK_COLOR:"rgba(226, 227, 228, 0.6)",IMAGE_CROPPING_HANDLE_COLOR:"rgb(0,0,0)",ISOLATION_MODE_IMAGE_CROPPING_HANDLE_COLOR:r.default.COLORS.ALIEN,IMAGE_CROPPING_HANDLE_THICKNESS:5,IMAGE_CROPPING_HANDLE_THICKNESS_SMALL:3,IMAGE_CROPPING_HANDLE_LENGTH:8,IMAGE_CROPPING_SMALL_SELECTION_THRESHOLD:18,INTEGRATION_FORM_FILL_COLOR:"rgba(156, 162, 163, 0.75)",INTEGRATION_FORM_LINE_HEIGHT:20,PROGRESS_BAR_HEIGHT:6,CUSTOM_PATH_MOUSE_DISTANCE_TO_EDGE_THRESHOLD:10,CUSTOM_PATH_ENDPOINT_POINT_SIZE:8,CUSTOM_PATH_CONTROL_POINT_SIZE:5,CUSTOM_PATH_CONTROL_HANDLE_WIDTH:1,CUSTOM_PATH_ANCHOR_POINT_MOUSEOVER_TOLERANCE:15,CUSTOM_PATH_INACTIVE_ANCHOR_POINT_FILL_STYLE:"rgb(255, 255, 255)",CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT:50,HOTSPOT_PATH_WITH_INTERACTIONS_STROKE_STYLE:"rgb(69,151,209)",HOTSPOT_PATH_WITHOUT_INTERACTIONS_STROKE_STYLE:"rgb(128,128,128)",HOTSPOT_PATH_GLOBAL_ALPHA:.75,TEXT_OVER_COMPONENT_DEFAULT_TEXT_SIZE:12,TEXT_OVER_COMPONENT_BACKGROUND_COLOR:"#192024",TEXT_OVER_COMPONENT_DEFAULT_TEXT_COLOR:"white",LOADING_TRANSITION_DEFAULT_TEXT:"Loading Media",LOADING_TRANSITION_DEFAULT_OPACITY:1,LOADING_TRANSITION_DEFAULT_REVERSE:!1,LOADING_TRANSITION_OPACITY_INCREMENT:.0025,LOADING_TRANSITION_DEFAULT_SHOULD_RENDER:!0,LOADING_TRANSITION_DEFAULT_SHOULD_ANIMATE:!1,LOADING_TRANSITION_WAIT_FRAMES:50,DOUBLE_CLICK_WAIT_TIME_MS:300,DOUBLE_CLICK_DETAIL:2,VERIFICATION_THAT_COPY_WAS_FROM_CEROS:"[CEROS OBJECT]",VERIFICATION_THAT_COPY_WAS_FIGMA_PLUGIN_OBJECT:"[FIGMA_PLUGIN_OBJECT]",VERIFICATION_THAT_COPY_WAS_OCTOPUS_OBJECT:"[OCTOPUS_OBJECT]",OBJECT_STATES_DEFAULT:"default",OBJECT_STATES_HOVER:"hover",OBJECT_STATES_CLICK:"click",OBJECT_STATES_COMPONENT_AFFORDANCE_OFFSET:7,DEFAULT_PAGE_NAME:"Untitled Page",COLOR_PICKER_CURSOR_STROKE_COLOR:r.default.COLORS.GREY300,COLOR_PICKER_CURSOR_STROKE_WIDTH:1,COLOR_PICKER_CURSOR_INNER_BORDER_COLOR:r.default.COLORS.WHITE,COLOR_PICKER_CURSOR_LINE_WIDTH:2};s.PAGE_TOP_OFFSET=20+s.CANVAS_BACKGROUND_TAB_HEIGHT+20,s.RULER_MAJOR=10*s.RULER_INCREMENT,s.RULER_MINOR=5*s.RULER_INCREMENT,s.AUTOPAN_MODES=[s.MODE_SELECT,s.MODE_RESIZE,s.MODE_MOVE,s.MODE_LINE,s.MODE_SHAPE,s.MODE_HTML,s.MODE_HOTSPOT,s.MODE_TEXT,s.MODE_SCRANCHOR],s.HANDLES={NORTH:"n",NORTH_WEST:"nw",NORTH_EAST:"ne",WEST:"w",EAST:"e",SOUTH:"s",SOUTH_WEST:"sw",SOUTH_EAST:"se"},s.LINE_HANDLES={ONE:1,TWO:2},s.RESIZE_MODE={BOTH:0,HORIZONTAL:1,VERTICAL:2},s.ROTATION_HANDLES=[s.HANDLES.NORTH_WEST,s.HANDLES.NORTH_EAST,s.HANDLES.SOUTH_WEST,s.HANDLES.SOUTH_EAST],e.default=s},88933:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=function(){this.filters={}};r.default.extend(o.prototype,{addFilter:function(t,e){return this.filters[t]=e,this},removeFilter:function(t){delete this.filters[t]},hasFilter:function(t){return this.filters.hasOwnProperty(t)},clearFilters:function(){this.filters={}},getFilters:function(){return this.filters},hasFilters:function(){return r.default.size(this.filters)>0},filter:function(t){var e=this,n=!1;return r.default.each(t,(function(t){var i=!!t.hasChildren()&&e.filter(t.getChildren()),r=e.testModelMatch(t);t.includeInLayerPanel=r||i,n=n||t.isIncludedInLayerPanel()})),n},testModelMatch:function(t){return!this.hasFilters()||r.default.some(this.getFilters(),(function(e){return e.test(t)}))},shouldExpandOnChildMatch:function(){return r.default.some(this.getFilters(),(function(t){return t.shouldExpandOnChildMatch()}))},shouldDisableDragDrop:function(){return r.default.some(this.getFilters(),(function(t){return t.shouldDisableDragDrop()}))},shouldDisableLastSelected:function(){return r.default.some(this.getFilters(),(function(t){return t.shouldDisableLastSelected()}))}}),e.default=o},59419:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(42216)),a=i(n(8329)),s=i(n(69107)),u=i(n(41854));e.default=a.default.extend({events:r.default.extend({},a.default.prototype.events,{"click #reload":"pageReload","click .modal-overlay":""}),initialize:function(t){a.default.prototype.initialize.call(this,t),this.render()},render:function(){s.default.trigger("offline"),this.$el.html(o.default.render(u.default,{}))},pageReload:function(){window.location.reload()}})},83668:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get=void 0;var n={"text-component":["title","textContent","editable"],"text-plus-component":["title","textContent","editable","listDefinitions","listMarkerStyles"]};e.get=function(t){return n[t]||[]},e.default={get:e.get}},22356:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=n(90149),s=n(43832),u=n(76159),l=n(93786),c=n(10518),d=[{familyName:"Arial",variants:["regular","700","italic","700italic"]},{familyName:"Courier New",variants:["regular","700","italic","700italic"]},{familyName:"Georgia",variants:["regular","700","italic","700italic"]},{familyName:"Helvetica",variants:["regular","700","italic","700italic"]},{familyName:"Times New Roman",variants:["regular","700","italic","700italic"]},{familyName:"Trebuchet MS",variants:["regular","700","italic","700italic"]},{familyName:"Verdana",variants:["regular","700","italic","700italic"]}],h=function(){this.fontCollection=new s.FontCollection,r.default.each(d,r.default.bind((function(t){var e=new a.FontFamily({api:this.ID,family:t.familyName,guid:this.buildFontFamilyGuid(t.familyName)});r.default.each(t.variants,r.default.bind((function(n){var i=l.FontUtil.parseGoogleVariantName(n);e.addVariant(i.variantName,{familyName:t.family,fontWeight:i.fontWeight,fontStyle:i.fontStyle,guid:this.buildFontVariantGuid(t.familyName,i.fontWeight,i.fontStyle)})}),this)),this.fontCollection.addFontFamily(e)}),this))};r.default.extend(h.prototype,u.AbstractFontAPI.prototype,{ID:c.FontConstants.BUILTIN_API_ID,execute:function(){return o.default.Deferred().resolve(new s.FontCollection).promise()},loadMetrics:function(t){return l.FontUtil.loadMetrics(t)},isBuiltInFamilyGuid:function(t){return!!this.fontCollection.getFontFamilyByFamilyGuid(t)},getFontCollection:function(){return this.fontCollection},buildFontFamilyGuid:function(t){return c.FontConstants.BUILTIN_API_ID+"|"+t},buildFontVariantGuid:function(t,e,n){return this.buildFontFamilyGuid(t)+"|"+e+"|"+n}}),e.default=h},17303:function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(96486)),u=a(n(65311)),l=n(33227),c=n(31337),d=a(n(22356)),h=a(n(1092)),f=n(43832),p=n(36163),g=n(10518),m=n(93786),v=function(){this.apis={},this.setAPI(new l.GoogleFontAPI),this.setAPI(new c.UploadedFontAPI),this.setAPI(new d.default),this.setAPI(new p.UploadedFontPlusAPI)};v.prototype={setAPI:function(t){this.apis[t.ID]=t},getAPIs:function(){return this.apis},getAPI:function(t){return this.apis[t]},buildWebFontConfigForFamilies:function(t){var e=new f.FontCollection(s.default.filter(t.getFontFamilies(),(function(t){return!t.isBuiltIn()&&!t.getWebFontStylesLoaded()}))),n={},i=new f.FontCollection;return s.default.each(e.getFontFamiliesByAPIMap(),s.default.bind((function(t,e){var r=this.apis[e],o=new f.FontCollection(t);this.handleWebLoaderObjectForFamilies(n,r,o),i.add(o)}),this)),new h.default({apiConfigs:n,queuedFontFamilies:i})},handleWebLoaderObjectForFamilies:function(t,e,n){var i,o;if(t[e.FONTLOADER_KEY]){var a=e.buildWebLoaderObjectForFamilies(n);(i=t[e.FONTLOADER_KEY].families).push.apply(i,r(a.families)),(o=t[e.FONTLOADER_KEY].urls).push.apply(o,r(a.urls))}else t[e.FONTLOADER_KEY]=e.buildWebLoaderObjectForFamilies(n)},loadFamiliesByVariantGuids:function(t,e){var n=this.segmentGuidsByAPIId(t),i=s.default.map(n,s.default.bind((function(t,n){return this.apis[n].loadFamiliesByVariantGuids(t,e)}),this));return u.default.when.apply(u.default,i).then((function(){var t=new f.FontCollection;return s.default.each(arguments,(function(e){t.add(e)})),t}))},loadFamiliesByFamilyGuids:function(t,e){var n=this.segmentGuidsByAPIId(t),i=s.default.map(n,s.default.bind((function(t,n){return this.apis[n].loadFamiliesByFamilyGuids(t,e)}),this));return u.default.when.apply(u.default,i).then((function(){var t=new f.FontCollection;return s.default.each(arguments,(function(e){t.add(e)})),t}))},loadFontPlusCharacterSetsByVariantGuid:function(t){var e,n,i=t.filter((function(t){return t.indexOf(g.FontConstants.GOOGLE_API_ID)>-1})),r=t.filter((function(t){return t.indexOf(g.FontConstants.FONT_PLUS_UPLOADED_API_ID)>-1})),a=[],s=this.loadUploadedFontPlusCharacterSetsByVariantGuid(r);a.push(s);var u=[];try{for(var l=o(i),c=l.next();!c.done;c=l.next()){var d=c.value,h=m.FontUtil.parseGoogleVariantGuid(d);u.push(h)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}var f=this.loadGoogleFontPlusCharacterSetsByVariantGuid(u);return a.push(f),Promise.all(a)},loadUploadedFontPlusCharacterSetsByVariantGuid:function(t){return this.apis[g.FontConstants.FONT_PLUS_UPLOADED_API_ID].loadFontPlusCharacterSetsByVariantGuid(t)},loadGoogleFontPlusCharacterSetsByVariantGuid:function(t){return this.apis[g.FontConstants.GOOGLE_API_ID].loadFontPlusCharacterSetsByVariantGuid(t)},getAPIForFamilyOrVariantGuid:function(t){var e=s.default.find(this.apis,(function(e){return e.belongsToAPI(t)}));if(!e)throw new Error("Could not find font api for family/Variant Guid: "+t);return e},segmentGuidsByAPIId:function(t){var e={};return s.default.each(t,s.default.bind((function(t){var n=this.getAPIForFamilyOrVariantGuid(t);e[n.ID]||(e[n.ID]=[]),e[n.ID].push(t)}),this)),e},updateMetrics:function(t){var e=this.segmentGuidsByAPIId(t),n=s.default.map(e,s.default.bind((function(t,e){return this.apis[e].updateMetrics(t)}),this));return u.default.when.apply(u.default,n)}},e.default=v},82656:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=i(n(17303)),s=n(43832),u=n(10518),l=function(){this.setAPIManager(new a.default)};l.prototype={FILTER:{CATEGORY:"category",NAME:"family"},SORT:{ALPHABETICAL:"family"},setAPIManager:function(t){return this.apiManager=t,this},execute:function(t,e){var n=new o.default.Deferred,i=[],a=new s.FontCollection,u=this.filterAPIs(this.apiManager.getAPIs(),e);return r.default.each(u,(function(e){var n=e.execute(t);n.done((function(t){a.add(t)})),i.push(n)})),o.default.when.apply(o.default,i).done((function(){t.sortPropertyName&&a.sort(t.sortPropertyName,t.isDescending()),n.resolve(a)})).fail((function(){n.reject()})),n.promise()},filterAPIs:function(t,e){return r.default.omit(t,e)},loadFamiliesByVariantGuids:function(t,e){return t&&0!==t.length?this.apiManager.loadFamiliesByVariantGuids(t,e):(new o.default.Deferred).resolve(new s.FontCollection)},loadFontPlusCharacterSetsByVariantGuid:function(t){return t&&0!==t.length?this.apiManager.loadFontPlusCharacterSetsByVariantGuid(t):Promise.resolve([])},loadFamiliesByFamilyGuids:function(t,e){return t&&0!==t.length?this.apiManager.loadFamiliesByFamilyGuids(t,e):(new o.default.Deferred).resolve(new s.FontCollection)},loadFontVariant:function(t,e){return this.loadFamiliesByVariantGuids([t],e).then((function(e){return e.getFontVariantByVariantGuid(t)}))},getMetrics:function(t){return this.loadFontVariant(t).then((function(t){return t.getMetrics()}))},loadMetricsForDefaultFont:function(){return this.getMetrics(u.FontConstants.DEFAULT_FONT_VARIANT_GUID)},updateMetrics:function(t){return t&&0!==t.length?this.apiManager.updateMetrics(t):(new o.default.Deferred).resolve()}};var c=null;e.default=(null===c&&(c=new l),c)},1092:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){this.apiConfigs=t.apiConfigs||{},this.queuedFontFamilies=t.queuedFontFamilies||[]}},72251:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o={EMPTY_METRICS:"[]",encode:function(t){if(r.default.isEmpty(t.glyphMetrics))return this.EMPTY_METRICS;var e="",n=null;return r.default.each(t.glyphMetrics,(function(t){var i=parseFloat(t.x.toFixed(2)),r=parseFloat(t.y.toFixed(2));e+=i+",",r!=n&&(e+=r),e+=",",n=r})),","==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),"["+e+"]"},decode:function(t,e){var n,i,o,a=JSON.parse(t.replace(/,,/g,",null,").replace(/,]/,",null]")),s=[],u=null,l=a.length/2;for(n=0;n<l;n++){var c=a[2*n],d=a[2*n+1];o={x:c,y:null===d?u:d,ch:e[n]},r.default.isNumber(d)&&(o.sol=!0),(r.default.isNumber(a[2*(n+1)+1])||n===l-1)&&(o.eol=!0),s.push(o),null!==d&&(u=d)}var h,f=[];for(n=0;n<s.length;n++)(o=s[n]).sol&&(h=[]),h.push(o),o.eol&&f.push(h);for(n=0;n<f.length;n++){for(i=f[n].length-1;i>0&&(" "===f[n][i].ch||"\n"===f[n][i].ch);)delete f[n][i].eol,i--;f[n][i].eol=!0}return{totalCharacters:s.length,totalLines:f.length,lines:f}}};e.default=o},16982:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(41232)),o=i(n(96486)),a={getExtentsFromDimensions:function(t,e,n,i,r,o,a){void 0===a&&(a=null);var s=this.getExtentsPointsFromDimensions(t,e,n,i,r,o,a);return{x1:Math.round(Math.min(s[0].x,s[1].x,s[2].x,s[3].x)),y1:Math.round(Math.min(s[0].y,s[1].y,s[2].y,s[3].y)),x2:Math.round(Math.max(s[0].x,s[1].x,s[2].x,s[3].x)),y2:Math.round(Math.max(s[0].y,s[1].y,s[2].y,s[3].y))}},getExtentsPointsFromDimensions:function(t,e,n,i,r,o,a){void 0===a&&(a=null);var s=t-=o,u=e-=o,l=t+(n+=2*o),c=e+(i+=2*o);if(0!==r){var d=new window.CerosMath.Point(s,u),h=new window.CerosMath.Point(l,c),f=this.rotateExtents(d,h,r),p=f.topLeft,g=f.topRight,m=f.bottomRight,v=f.bottomLeft;if(!a||0===a.blur)return[p,g,m,v];d=new window.CerosMath.Point(s-a.blur+a.offsetX,u-a.blur+a.offsetY),h=new window.CerosMath.Point(l+a.blur+a.offsetX,c+a.blur+a.offsetY);var y=this.rotateExtents(d,h,r),_=y.topLeft,b=y.topRight,w=y.bottomRight,T=y.bottomLeft;s=Math.min(p.x,g.x,m.x,v.x,_.x,b.x,w.x,T.x),u=Math.min(p.y,g.y,m.y,v.y,_.y,b.y,w.y,T.y),l=Math.max(p.x,g.x,m.x,v.x,_.x,b.x,w.x,T.x),c=Math.max(p.y,g.y,m.y,v.y,_.y,b.y,w.y,T.y)}else a&&a.blur>0&&(s-=Math.max(a.blur-a.offsetX,0),u-=Math.max(a.blur-a.offsetY,0),l+=Math.max(a.blur+a.offsetX,0),c+=Math.max(a.blur+a.offsetY,0));return[new window.CerosMath.Point(s,u),new window.CerosMath.Point(l,u),new window.CerosMath.Point(l,c),new window.CerosMath.Point(s,c)]},rotateExtents:function(t,e,n){var i=t.x+(e.x-t.x)/2,r=t.y+(e.y-t.y)/2;return{topLeft:Math.rotateCoord(t.x,t.y,i,r,n),topRight:Math.rotateCoord(e.x,t.y,i,r,n),bottomRight:Math.rotateCoord(e.x,e.y,i,r,n),bottomLeft:Math.rotateCoord(t.x,e.y,i,r,n)}},getExtentsFromObjectExtentsInsideSmartGroup:function(t,e){var n=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x1,t.y1)),i=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x2,t.y2));return{x1:n.x,y1:n.y,xMidpoint:0,yMidpoint:0,x2:i.x,y2:i.y}},getBoundingExtentsFromObjectExtentsInsideSmartgroup:function(t,e){var n=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x1,t.y1)),i=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x2,t.y2)),r=Math.min(n.x,i.x),o=Math.max(n.x,i.x),a=Math.min(n.y,i.y),s=Math.max(n.y,i.y);return{x1:r,y1:a,xMidpoint:o-(o-r)/2,yMidpoint:s-(s-a)/2,x2:o,y2:s}},createExtentsFromCoordinates:function(t,e,n,i){return{x1:t,y1:e,xMidpoint:t+(n-t)/2,yMidpoint:e+(i-e)/2,x2:n,y2:i}},createExtentsFromSelectedComponentCollection:function(t){var e=t.getLeftmostX(!0),n=t.getTopmostY(!0),i=t.getRightmostX(!0),r=t.getBottommostY(!0);return this.createExtentsFromCoordinates(e,n,i,r)},getSmallestContainingRectangle:function(){var t,e,n,i,a;return o.default.each(arguments,(function(s){a=s instanceof r.default.Model&&o.default.isFunction(s.getExtents)?s.getExtents():s,void 0===t?(t=a.x1,e=a.y1,n=a.x2,i=a.y2):(t=Math.min(t,a.x1),e=Math.min(e,a.y1),n=Math.max(n,a.x2),i=Math.max(i,a.y2))})),0===arguments.length&&(t=0,e=0,n=0,i=0),{x1:t,y1:e,x2:n,y2:i}},getSmallestContainingRectangleInPageCoords:function(){var t,e,n,i,r;return o.default.each(arguments,(function(o){r=o.getExtentsInPageCoords(),void 0===t?(t=r.x1,e=r.y1,n=r.x2,i=r.y2):(t=Math.min(t,r.x1),e=Math.min(e,r.y1),n=Math.max(n,r.x2),i=Math.max(i,r.y2))})),0===arguments.length&&(t=0,e=0,n=0,i=0),{x1:t,y1:e,x2:n,y2:i}},createHoverArea:function(t,e,n){var i,r,o,a,s=[],u=n?1:0;return i=t.y1<e.y1?t:e,s.push({x:i.x1,y:i.y1}),s.push({x:i.x2+u,y:i.y1}),(a=t.x2>e.x2?t:e)!==i&&s.push({x:a.x2+u,y:a.y1}),s.push({x:a.x2+u,y:a.y2+u}),(r=t.y2>e.y2?t:e)!==a&&s.push({x:r.x2+u,y:r.y2+u}),s.push({x:r.x1,y:r.y2+u}),(o=t.x1<e.x1?t:e)!==r&&s.push({x:o.x1,y:o.y2+u}),o!==i&&s.push({x:o.x1,y:o.y1}),s}};e.default=a},52272:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(8030)),o={hasFeature:function(t){return r.default.featureFlags&&!!r.default.featureFlags[t]}};e.default=o},28388:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={determineIfFileIsAnimatedGif:function(t,e){var n=new FileReader;n.onload=function(t){var n,i,r=new Uint8Array(t.target.result),o=r.length,a=0;if(71!==r[0]||73!==r[1]||70!==r[2]||56!==r[3])return e(!1);for(n=0,i=o-3;n<i&&a<2;++n)if(0===r[n]&&33===r[n+1]&&249===r[n+2]){var s=n+4+r[n+3];s+1<o&&0===r[s]&&(44===r[s+1]||33===r[s+1])&&a++}return e(a>1)},n.readAsArrayBuffer(t)},isGifContentType:function(t){return t&&"image/gif"===t.toLowerCase()}};e.default=n},70847:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a="data-hubspot-form";e.default={renderForm:function(t){t.onFormReady=t.onFormReady||r.default.noop,t.onFormSubmit=t.onFormSubmit||r.default.noop;var e=null;t.onTimeout&&(e=setTimeout(t.onTimeout,1e4)),this.removeStyleTagForDomId(t.domId),window.hbspt.forms.create({portalId:t.portalId,formId:t.formId,css:t.css,target:"#"+t.domId,onFormReady:function(n,i){e&&clearTimeout(e);var r=o.default("head style").last();-1!==r.text().indexOf(t.css)&&r.attr(a,t.domId),t.onFormReady(n,i)},onFormSubmit:t.onFormSubmit})},removeStyleTagForDomId:function(t){o.default("style["+a+"="+t+"]").remove()}}},88522:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=n(36281);e.default={isHoverInteractionShowingLayers:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showAndStayVisibleCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover],t.action)},isShowLayersOnHoverInteraction:function(t){return t.action===o.ActionTypes.showCanvasTargetsOnHover},isShowLayersInteraction:function(t){return r.default.includes([o.ActionTypes.showCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover],t.action)},isHideLayersInteraction:function(t){return t.action===o.ActionTypes.hideCanvasTargets},isTemporaryHoverInteractionShowingOrHidingLayers:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showCanvasTargetsOnHover,o.ActionTypes.hideCanvasTargets],t.action)},shouldDrawHoverArea:function(t){return t.action===o.ActionTypes.showCanvasTargetsOnHover&&t.createHoverArea},hasCustomFiringHoverAction:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showAndStayVisibleCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover,o.ActionTypes.showCanvasTargets,o.ActionTypes.hideCanvasTargets],t.action)}}},77891:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=n(82025),a=n(52348),s={crop:null,flipHorizontal:!1,flipVertical:!1,effects:o.ImageEffects.getDefaults(),blendingMode:a.BlendingModes.getDefault()};e.default={isLazyAddedField:function(t){var e=this.getOpFieldName(t);return e&&s.hasOwnProperty(e)},isUpdateForLazyAddedField:function(t){return(!r.default.isUndefined(t.oi)||!r.default.isUndefined(t.od))&&this.isLazyAddedField(t)},normalizeIfLazyAddedField:function(t){if(this.isUpdateForLazyAddedField(t)){var e=this.getOpFieldName(t),n=s[e];t.od&&!t.oi?t.oi=n:t.oi&&!t.od&&(t.od=n)}},getOpFieldName:function(t){return r.default.get(t.p,t.p.length-1)}}},73735:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={MIN_LETTER_SPACING_VALUE:-9999,MAX_LETTER_SPACING_VALUE:99999,unitsToEms:function(t){return t/1e3},unitsToCss:function(t){return n.unitsToEms(t)+"em"},unitsToPixels:function(t,e){return n.unitsToEms(t)*e},cssToUnits:function(t){return"normal"===t?0:t?1e3*parseFloat(t):null}};e.default=n},55634:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=i(n(42216)),s=i(n(19503));e.default={renderForm:function(t){var e=this;t.onFormReady=t.onFormReady||r.default.noop,t.onFormSubmit=t.onFormSubmit||r.default.noop;var n=null;t.onTimeout&&(n=setTimeout(t.onTimeout,1e4)),window.MktoForms2.loadForm(t.marketoInstanceUrl,t.munchkinId,t.formId,(function(i){i?(i.render(t.renderingElement),n&&clearTimeout(n),i.getFormElem().find(".cf_widgetLoader").length>0?e.waitForSocialSignonRender(i).done((function(){i.onSuccess(t.onFormSubmit),t.onFormReady(i)})).fail((function(){t.onTimeout&&t.onTimeout()})):(i.onSuccess(t.onFormSubmit),t.onFormReady(i))):(n&&clearTimeout(n),t.onError&&t.onError(a.default.render("Your form, {{formName}}, has been deleted from your Marketo account. Please make a new form in Marketo or choose an existing form for this experience.",{formName:t.formName})))}))},waitForSocialSignonRender:function(t){var e=new o.default.Deferred,n=r.default.bind((function(){return o.default.trim(t.getFormElem().find(".cf_widget_socialsignon").html())}),this);return s.default.waitFor(n,125,1e4).done((function(){e.resolve()})).fail((function(){e.reject()})),e.promise()}}},34581:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={SCALE_EXPERIENCE_TYPE:{SCALE_TO_FOLD:"scale_to_fold",FULL_WIDTH:"full_width",NO_SCALING:"no_scaling"}}},19503:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(37136));e.default={waitFor:function(t,e,n){var i=new r.default.Deferred,a=o.default(),s=function(){t()?i.resolve():o.default()-a>n?i.reject():setTimeout(s,e)};return s(),i.promise()}}},88918:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={NO_AUTOPLAY_FALLBACK_OPTIONS:{TAP_TO_PLAY:"tap-to-play",SHOW_THUMBNAIL_IMAGE:"show-thumbnail-image"},MUTED_AUTOPLAY_FALLBACK_OPTIONS:{PLAY_MUTED_VIDEO:"play-muted-video",TAP_TO_PLAY:"tap-to-play",SHOW_THUMBNAIL_IMAGE:"show-thumbnail-image"}}},30159:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=["noDirection","center","left","right","up","down","topRight","topLeft","bottomRight","bottomLeft","backwards","forwards","verticalCenter","horizontalCenter","clockwise","counterClockwise","diagonal1","diagonal2"],a={},s={"Entry Effects":{FADE_IN:{label:"Fade In",directions:{noDirection:"fadeIn",left:"fadeLeft",right:"fadeRight",up:"fadeUp",down:"fadeDown"}},SPIN_FADE_IN:{label:"Spin and Fade In",directions:{counterClockwise:"spinLeftFade",clockwise:"spinRightFade"}},SLIDE_IN:{label:"Slide In",directions:{center:"enlargeFadeIn",left:"slideLeft",right:"slideRight",up:"slideUp",down:"slideDown",topRight:"slideTopRight",topLeft:"slideTopLeft",bottomRight:"slideBottomRight",bottomLeft:"slideBottomLeft"}},BOUNCE_IN:{label:"Bounce In",directions:{left:"bounceRight",right:"bounceLeft",up:"bounceUp",down:"bounceDown"}},LIGHTSPEED_IN:{label:"Light Speed In",directions:{left:"lightSpeedLeftIn",right:"lightSpeedRightIn"}},ROLL_IN:{label:"Roll In",directions:{left:"rollLeftIn",right:"rollRightIn"}},FLIP_IN:{label:"Rock In",directions:{verticalCenter:"flipInX",horizontalCenter:"flipInY"}},SHIFT_IN:{label:"Shift In",directions:{left:"shiftLeft",right:"shiftRight",up:"shiftUp",down:"shiftDown"}},SWING:{label:"Swing",directions:{left:"swingLeft",right:"swingRight",up:"swingTop",down:"swingBottom",bottomRight:"swingTopLeft",bottomLeft:"swingTopRight",topRight:"swingBottomLeft",topLeft:"swingBottomRight"}},SCALE_UP:{label:"Scale Up",directions:{left:"scaleUpLeft",right:"scaleUpRight",center:"enlarge",up:"scaleUpTop",down:"scaleUpBottom"}},EXPAND:{label:"Expand",directions:{left:"scaleUpHorizontalLeft",right:"scaleUpHorizontalRight",down:"scaleUpVerticalTop",up:"scaleUpVerticalBottom",horizontalCenter:"scaleUpHorizontalCenter",verticalCenter:"scaleUpVerticalCenter"}}},"Attention Seekers":{SPIN:{label:"Spin",directions:{clockwise:"spinRight",counterClockwise:"spinLeft"}},FLASH:{label:"Flash",directions:{noDirection:"flash"}},PULSE:{label:"Pulse",directions:{noDirection:"pulse"}},BOB:{label:"Bob",directions:{noDirection:"bob"}},TADA:{label:"Tada",directions:{noDirection:"tada"}},FLIP:{label:"Flip",directions:{horizontalCenter:"flip",verticalCenter:"flipHorizontal",diagonal2:"flipDiagonalRight",diagonal1:"flipDiagonalLeft"}},ROTATE_90:{label:"Rotate 90",directions:{clockwise:"rotateCW90",counterClockwise:"rotateCCW90"}},SHAKE:{label:"Shake",directions:{noDirection:"shake"}},JELLO:{label:"Jello",directions:{noDirection:"jelloHorizontal"}},WOBBLE:{label:"Wobble",directions:{down:"wobbleTop",up:"wobbleBottom",right:"wobbleLeft",left:"wobbleRight"}},VIBRATE:{label:"Vibrate",directions:{noDirection:"vibrate"}},KEN_BURNS:{label:"Ken Burns",directions:{up:"kenBurnsTop",down:"kenBurnsBottom",left:"kenBurnsLeft",right:"kenBurnsRight"}}},"Exit Effects":{FADE_OUT:{label:"Fade Out",directions:{noDirection:"fadeOut",left:"fadeLeftOut",right:"fadeRightOut",up:"fadeUpOut",down:"fadeDownOut"}},SPIN_FADE_OUT:{label:"Spin and Fade Out",directions:{counterClockwise:"spinLeftFadeOut",clockwise:"spinRightFadeOut"}},SLIDE_OUT:{label:"Slide Out",directions:{right:"slideLeftOut",left:"slideRightOut",up:"slideUpOut",down:"slideDownOut",noDirection:"shrinkFadeOut",topRight:"slideTopRightOut",topLeft:"slideTopLeftOut",bottomRight:"slideBottomRightOut",bottomLeft:"slideBottomLeftOut"}},BOUNCE_OUT:{label:"Bounce Out",directions:{left:"bounceLeftOut",right:"bounceRightOut",up:"bounceUpOut",down:"bounceDownOut"}},LIGHTSPEED_OUT:{label:"Light Speed Out",directions:{left:"lightSpeedLeftOut",right:"lightSpeedRightOut"}},ROLL_OUT:{label:"Roll Out",directions:{left:"rollLeftOut",right:"rollRightOut"}},FLIP_OUT:{label:"Rock Out",directions:{verticalCenter:"flipOutX",horizontalCenter:"flipOutY"}},SHIFT_OUT:{label:"Shift Out",directions:{left:"shiftLeftOut",right:"shiftRightOut",up:"shiftUpOut",down:"shiftDownOut"}},SCALE_DOWN:{label:"Scale Down",directions:{left:"scaleDownLeft",right:"scaleDownRight",center:"shrink",down:"scaleDownTop",up:"scaleDownBottom"}},SHRINK:{label:"Shrink",directions:{down:"scaleDownVerticalTop",up:"scaleDownVerticalBottom",left:"scaleDownHorizontalLeft",right:"scaleDownHorizontalRight",verticalCenter:"scaleDownVerticalCenter",horizontalCenter:"scaleDownHorizontalCenter"}}}},u={},l={},c={};r.default.each(s,(function(t,e){c[e]={},r.default.each(t,(function(t,n){u[n]=t,c[e][n]=t.label,r.default.each(o,(function(e){t.directions.hasOwnProperty(e)&&(l[t.directions[e]]={title:n,direction:e})}))}))})),e.default={DIRECTIONS:o,EFFECT_MAP:u,DROPDOWN_OPTIONS:c,getTypeFromTitleAndDirection:function(t,e){return e||(e="noDirection"),u[t].directions[e]},getTitleAndDirectionFromType:function(t){return l[t]},getDirectionsForTitle:function(t){return r.default.keys(u[t].directions)},isEntryAnimation:function(t){if(a.hasOwnProperty(t))return a[t];for(var e=!1,n=s["Entry Effects"],i=Object.keys(n),o=0;o<i.length;++o){var u=r.default.values(n[i[o]].directions);if(r.default.includes(u,t)){e=!0;break}}return a[t]=e,e}}},26882:function(t){"use strict";t.exports=function(){return n={},t.m=e=[function(t,e){t.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var t=document.documentElement,e=null,n="initial",i=n,r=Date.now(),o="false",a=["button","input","select","textarea"],s=[],u=[16,17,18,91,93],l=[],c={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch",touchend:"touch"},d=!1,h={x:null,y:null},f={2:"touch",3:"touch",4:"mouse"},p=!1;try{var g=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,g)}catch(g){}var m=function(){if(o=!(t.getAttribute("data-whatpersist")||"false"===document.body.getAttribute("data-whatpersist")))try{window.sessionStorage.getItem("what-input")&&(n=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(i=window.sessionStorage.getItem("what-intent"))}catch(t){}y("input"),y("intent")},v=function(t){var e=t.which,r=c[t.type];"pointer"===r&&(r=S(t));var o=!l.length&&-1===u.indexOf(e),s=l.length&&-1!==l.indexOf(e),d="keyboard"===r&&e&&(o||s)||"mouse"===r||"touch"===r;if(E(r)&&(d=!1),d&&n!==r&&(T("input",n=r),y("input")),d&&i!==r){var h=document.activeElement;h&&h.nodeName&&(-1===a.indexOf(h.nodeName.toLowerCase())||"button"===h.nodeName.toLowerCase()&&!A(h,"form"))&&(T("intent",i=r),y("intent"))}},y=function(e){t.setAttribute("data-what"+e,"input"===e?n:i),P(e)},_=function(t){var e=c[t.type];"pointer"===e&&(e=S(t)),C(t),(!d&&!E(e)||d&&"wheel"===t.type||"mousewheel"===t.type||"DOMMouseScroll"===t.type)&&i!==e&&(T("intent",i=e),y("intent"))},b=function(n){n.target.nodeName?(e=n.target.nodeName.toLowerCase(),t.setAttribute("data-whatelement",e),n.target.classList&&n.target.classList.length&&t.setAttribute("data-whatclasses",n.target.classList.toString().replace(" ",","))):w()},w=function(){e=null,t.removeAttribute("data-whatelement"),t.removeAttribute("data-whatclasses")},T=function(t,e){if(o)try{window.sessionStorage.setItem("what-"+t,e)}catch(t){}},S=function(t){return"number"==typeof t.pointerType?f[t.pointerType]:"pen"===t.pointerType?"touch":t.pointerType},E=function(t){var e=Date.now(),i="mouse"===t&&"touch"===n&&e-r<200;return r=e,i},O=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},P=function(t){for(var e=0,r=s.length;e<r;e++)s[e].type===t&&s[e].fn.call(void 0,"input"===t?n:i)},C=function(t){h.x!==t.screenX||h.y!==t.screenY?(d=!1,h.x=t.screenX,h.y=t.screenY):d=!0},A=function(t,e){var n=window.Element.prototype;if(n.matches||(n.matches=n.msMatchesSelector||n.webkitMatchesSelector),n.closest)return t.closest(e);do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null};return"addEventListener"in window&&Array.prototype.indexOf&&(c[O()]="mouse",function(){var t=!!p&&{passive:!0};document.addEventListener("DOMContentLoaded",m),window.PointerEvent?(window.addEventListener("pointerdown",v),window.addEventListener("pointermove",_)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",v),window.addEventListener("MSPointerMove",_)):(window.addEventListener("mousedown",v),window.addEventListener("mousemove",_),"ontouchstart"in window&&(window.addEventListener("touchstart",v,t),window.addEventListener("touchend",v))),window.addEventListener(O(),_,t),window.addEventListener("keydown",v),window.addEventListener("keyup",v),window.addEventListener("focusin",b),window.addEventListener("focusout",w)}()),{ask:function(t){return"intent"===t?i:n},element:function(){return e},ignoreKeys:function(t){u=t},specificKeys:function(t){l=t},registerOnChange:function(t,e){s.push({fn:t,type:e||"input"})},unRegisterOnChange:function(t){var e=function(t){for(var e=0,n=s.length;e<n;e++)if(s[e].fn===t)return e}(t);!e&&0!==e||s.splice(e,1)},clearStorage:function(){window.sessionStorage.clear()}}}()}],t.c=n,t.p="",t(0);function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var e,n}()},39610:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LOCAL_STORAGE_FULLSCREEN_KEY_SUFFIX=void 0;var r=i(n(65311)),o=i(n(41232)),a=i(n(96486)),s=i(n(98720)),u=i(n(8030)),l=i(n(35425)),c=i(n(51339)),d=i(n(89184)),h=i(n(80771)),f=n(90308),p=n(54769);e.LOCAL_STORAGE_FULLSCREEN_KEY_SUFFIX="-fullscreen-preview",e.default=o.default.View.extend({initialize:function(){var t=this;this.$previewerSelectionHeaderEl=r.default(".previewer-selection-header"),this.frameName=l.default.getPreviewerFrameSize(),this.$el.addClass("-"+this.frameName),this.onlyAllowFullscreenMode=u.default.isMarkup,this.styleFrame(),r.default(window).on("resize",(function(){t.styleFrame()}));var n=localStorage.getItem(u.default.issue.slug+e.LOCAL_STORAGE_FULLSCREEN_KEY_SUFFIX);(this.onlyAllowFullscreenMode||"true"===n)&&this.turnOnFullscreenMode(this),this.$el.addClass("-initialized"),u.default.isEmbedded&&this.$el.addClass("-embedded"),this.handleKeyup(t),l.default.on(l.default.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,(function(e){t.$el.removeClass("-"+t.frameName),t.frameName=e.variant,t.$el.addClass("-"+t.frameName),t.styleFrame(),c.default.detect(),f.PlayerContextService.isEmbeddedPreviewer()&&t.addOrRemoveFrameInEmbeddedPreviewerContext(u.default.previewWindowState),r.default(window).trigger("resize")}))},addOrRemoveFrameInEmbeddedPreviewerContext:function(t){f.PlayerContextService.isEmbeddedPreviewer()&&(t!==p.PreviewModalWindowState.FULLSCREEN&&t?this.$el.removeClass("-"+this.frameName):this.$el.addClass("-"+this.frameName))},handleKeyup:function(t){r.default(window).on("keyup",(function(e){d.default.isOptionRPressed(e)&&t.reloadExperience(),t.onlyAllowFullscreenMode||!r.default(document.activeElement).is("textarea")&&(r.default(document.activeElement).is("input")||!d.default.isHKeyPressed(e)||l.default.fullScreenMode?(d.default.isEscKeyPressed(e)||d.default.isHKeyPressed(e))&&l.default.fullScreenMode&&t.turnOffFullscreenMode(t):t.turnOnFullscreenMode(t))}))},reloadExperience:function(){l.default.isDocVersionSet()&&l.default.triggerReload()},turnOnFullscreenMode:function(t){localStorage.setItem(u.default.issue.slug+e.LOCAL_STORAGE_FULLSCREEN_KEY_SUFFIX,"true"),l.default.setFullScreenMode(!0),t.$previewerSelectionHeaderEl.hide(),t.$el.addClass("-full-screen-mode"),t.$el.css({width:r.default(window).width(),height:r.default(window).height()}),r.default(window).trigger("resize")},turnOffFullscreenMode:function(t){localStorage.setItem(u.default.issue.slug+e.LOCAL_STORAGE_FULLSCREEN_KEY_SUFFIX,"false"),l.default.setFullScreenMode(!1),t.$previewerSelectionHeaderEl.show(),t.$el.removeClass("-full-screen-mode"),r.default(window).trigger("resize")},getThemeBackgroundColor:function(){return a.default.get(u.default,["themeObj","backgroundColor"],null)},styleFrame:function(){var t=r.default(window);if(l.default.fullScreenMode)this.$el.css({width:t.width(),height:t.height()});else{var e=l.default.getExperienceContainerDimensions(t);if(this.$el.css({width:e.width,height:e.height,backgroundColor:this.getThemeBackgroundColor()}),"desktop"!==this.frameName){var n=l.default.getTopBottomBorderWidth(r.default(window),this.frameName,e.height),i=l.default.getLeftRightBorderWidth(r.default(window),this.frameName,e.width),o=Math.round(n),a=Math.round(i);this.$el.css({"border-top-width":o,"border-bottom-width":o,"border-left-width":a,"border-right-width":a})}}},showFadingHelpMessage:function(){if(!this.onlyAllowFullscreenMode){var t="shownPreviewerFadingHelpMessage",e=s.default.get(t);h.default.mobile()||e||u.default.isEmbedded||(r.default(".fit-to-window-help-message").show().delay(3e3).fadeOut(400),s.default.set(t,"1"))}}})},43945:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(97575)),o=i(n(96486)),a=i(n(65311)),s=i(n(41232)),u=i(n(8030)),l=i(n(6745)),c=i(n(98720));n(26882);var d=i(n(15014)),h=i(n(35451)),f=i(n(54777)),p=i(n(95475)),g=n(14364),m=i(n(13910)),v=i(n(33410)),y=i(n(4148)),_=i(n(3549)),b=i(n(51339)),w=i(n(35425)),T=i(n(91623)),S=i(n(67574)),E=i(n(61011)),O=i(n(80296)),P=i(n(95114)),C=i(n(17020)),A=i(n(57816)),k=i(n(88522)),x=i(n(52272)),I=n(57824);n(64086);var M,R,N,D,L,j=n(90529),F=n(39610),V="pending",U="resolved",B=null,H=null,G=Date.now(),W={documentVersion:null,issue:null},Z=x.default.hasFeature(I.FeatureFlagName.ACCESSIBILITY);u.default.absorb({shouldReduceMotion:Z&&window.matchMedia("(prefers-reduced-motion: reduce)").matches});var z=function(){return L&&u.default.isPreviewer&&!u.default.isEmbedded},q=function(){b.default.detect(),K().done((function(){X().done((function(){$(),Y()}))}))},$=function(){tt(),at(),ft(),N.load({}),E.default.load(),S.default.load(),ot()},Y=function(){M.attachModuleViews(W.issue),R.renderPages().always((function(){A.default.initialize(W.issue,W.documentVersion,D.getUserToken())}));var t=R.getFirstPageReadyPromise();t.fail((function(){M.show404()}));var e=[B.promise(),t];a.default.when.apply(a.default,e).then((function(){if(r.default.debug("About to render initial pages."),M.showDocument(),H.mark(H.MARKS.PLAYER.SPINNER_HIDDEN),O.default.bindPopstate(),document.hidden?document.addEventListener("visibilitychange",J):J(),z()){var t=localStorage.getItem(u.default.issue.slug+F.LOCAL_STORAGE_FULLSCREEN_KEY_SUFFIX);L.trackExperienceOpen({load_time:Date.now()-G,experience_alias:u.default.issueAliasSlug,experience_partner:W.issue.get("partner"),experience_slug:W.issue.get("slug"),experience_title:W.issue.get("title"),project_slug:u.default.appSlug,preview_toolbar_hidden:"true"===t})}}))},K=function(){return W.documentVersion.createManifestCollection(),W.documentVersion.loadPageModels().done((function(){r.default.debug("Page models loaded")}))},X=function(){return rt().done((function(){r.default.debug("initViewportAndPreloadMedia done. About to render initial pages.")})).fail((function(){M.show404()}))},J=function(){document.hidden||(r.default.debug("First page(s) media is loaded. Showing first page."),R.activateFirstPage()),document.removeEventListener("visibilitychange",J)},Q=function(){var t={desktop:"heightOverride"};return o.default.each(w.default.getExistingVariants(),(function(e){t[e]=o.default.lowerFirst(e)+"HeightOverride"})),o.default.mapValues(t,(function(t){var e=new RegExp("[\\?&]"+t+"=(\\d+)(&|$)"),n=window.location.search.match(e);return n?+n[1]:null}))},tt=function(){if(r.default.isEnabled("debug")){var t=[M,y.default,_.default,R,N,D,E.default,P.default];u.default.isEmbedded||(t=t.concat([T.default,O.default])),o.default.each(t,(function(t){o.default.each(t.publishedEvents,(function(e){t.on(e,(function(t){r.default.debug("EVENT: "+e,t)}))}))}))}},et=function(){if(!B){B=new a.default.Deferred;var t=u.default.publicAssetsBaseUrl+"ceros-fonts-2023-01-26.css",e=h.default.addCustomWebFont(["CerosIcons-Regular"],t,"").loadNow(),n=u.default.publicAssetsBaseUrl+"avenir-next-lt.css",i=h.default.addCustomWebFont(["Avenir Next LT"],n,"").loadNow();a.default.when(e,i).always((function(){return B.resolve()})),setTimeout((function(){B.state()!==U&&(r.default.devWarn("Font loading timed out"),B.resolve())}),5e3)}return B.promise().then((function(){r.default.debug("InitialFontsReady promise is resolved.")}))},nt=function(){return u.default.previewMode&&u.default.allowAdaptiveLayouts},it=function(){var t=function(){if(w.default.hasVariants()){var t=b.default.getVariant();p.default.announceVariantDetection(t)}};b.default.on("change",t),b.default.hasDetectedVariant()&&t()},rt=function(){var t=new a.default.Deferred;return r.default.debug("Init viewport"),R.init(W.documentVersion,{performanceTracker:H,marginTopCallback:function(){return T.default.shouldShow()&&!T.default.initiallyHidden()?T.default.getHeight():0}}),r.default.debug("About to preload media"),R.preloadPageMedia(),o.default.defer(t.resolve),t.promise()},ot=function(){l.default.on("*",o.default.bind(D.handleApiRequest,D)).on("ceros.sdk.ping",(function(t,e){e.data="pong"})).on("ceros.sdk.productPanel.close",E.default.deactivate),l.default.bindToIframe(E.default.iframe())},at=function(){f.default.registerEvents(_.default.publishedEvents,_.default),f.default.registerEvents(O.default.publishedEvents,O.default),lt(),dt(),ct(),ht(),st(),ut()},st=function(){R.on(R.publishedEvents.SCALE,(function(t){var e=R.getFirstPageReadyPromise();e.state()===V?e.done(R.scale):R.scale()}))},ut=function(){R.on(R.publishedEvents.SCALE,(function(t){N.updateScale(t)})),R.on(R.publishedEvents.PAGE_CHANGE,(function(t){N.determineFlipperState(t.isFirstPage,t.isLastPage,!0),R.removeClickShield(),R.enableGestures(),A.default.announcePageChanged(R.getCurrentPageNumber())})),R.on(R.publishedEvents.PAGE_CHANGING,(function(t){N.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady),A.default.announcePageChanging(R.getCurrentPageNumber())})),R.on(R.publishedEvents.PAGE_UPDATE,(function(t){N.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady)})),R.on(R.publishedEvents.PAGE_ENABLED_CHANGE,(function(t){N.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady)})),R.on(R.publishedEvents.PAGE_BATCH_LOAD_START,(function(){R.addClickShield(),R.disableGestures()})),R.on(R.publishedEvents.TIMED_LIGHTBOX,(function(t){E.default.showLightbox(t.lightboxUrl,t.lightboxWidth,t.lightboxHeight,t.lightboxHasCloseButton),A.default.announceTimedInteraction(t),D.experienceLoadInteraction({action:t.action,delay:t.delay})})),R.on(R.publishedEvents.TIMED_PRODUCT_PANEL,(function(t){E.default.showProduct(t.productPanelId),A.default.announceTimedInteraction(t),D.experienceLoadInteraction({action:t.action,delay:t.delay})})),R.on(R.publishedEvents.TIMED_SHOPPING_CART,(function(t){E.default.showShoppingCart(),A.default.announceTimedInteraction(t),D.experienceLoadInteraction({action:t.action,delay:t.delay})})),N.on(N.publishedEvents.NEXT_PAGE,(function(){R.nextPage()})),N.on(N.publishedEvents.PREVIOUS_PAGE,(function(){R.previousPage()})),_.default.on(_.default.publishedEvents.PAGE_ACTIVATED,(function(){N.updateFlipperHrefs()}))},lt=function(){R.on(R.publishedEvents.SCALE,(function(t){y.default.scale()})),R.on(R.publishedEvents.CURRENT_PAGE_DELETED,(function(t){y.default.showDeletedPageWarning(a.default("body"))}))},ct=function(){S.default.on(S.default.publishedEvents.BRANDING_CEROS_BRANDING_CLICK,(function(t){window.open(S.default.getBrandingUrl())}))},dt=function(){T.default.shouldShow()&&(T.default.initiallyHidden()&&(R.on(R.publishedEvents.LONGPRESS,(function(t){T.default.toggle()})),_.default.on(_.default.publishedEvents.PAGE_COMPONENT_INTERACTION,(function(t){T.default.hide(!0)}))),T.default.on(T.default.publishedEvents.CHROME_SHARE_PAGE,(function(t){R.shareCurrentPageOnSocial(t.action,W.issue)})),T.default.on(T.default.publishedEvents.CHROME_SHOPPING_CART,(function(t){E.default.showShoppingCart()})),T.default.on(T.default.publishedEvents.CHROME_TITLE_CLICK,(function(t){R.jumpToPage(1,!1)})),R.on(R.publishedEvents.PAGE_CHANGE,(function(t){T.default.setMenuLinkHrefs(R.getCurrentPageNumber())})))},ht=function(){f.default.on(_.default.publishedEvents.PAGE_ACTION_SCROLL_TO,(function(t){var e=R.scrollTo(t.scrollTargetType,t.scrollTargetScranchor);A.default.announceScrollTo(e),p.default.announceScrollTo(e)})),f.default.on(_.default.publishedEvents.PAGE_ACTION_GO_TO_PREV_PAGE,(function(t){R.previousPage()})),f.default.on(_.default.publishedEvents.PAGE_ACTION_GO_TO_NEXT_PAGE,(function(t){R.nextPage()})),f.default.on(_.default.publishedEvents.PAGE_ACTION_GO_TO_PAGE,(function(t){R.jumpToPage(t.pageTarget)})),f.default.on(_.default.publishedEvents.PAGE_ACTION_ENABLE_DISABLE_PAGES,(function(t){o.default.each(t.pageTargets,(function(t,e){t?R.enablePage(e):R.disablePage(e)}))})),f.default.on(_.default.publishedEvents.PAGE_ACTION_TOGGLE_REDUCED_MOTION,(function(t){R.toggleReducedMotion()})),u.default.isEmbedded||_.default.on(_.default.publishedEvents.PAGE_ACTIVATED,(function(t){if(t.slug&&W.issue.get("slug")){var e=u.default.docVersion.pageNamesInTitle?t.pageName:void 0,n=W.issue.get("title");e&&(n+=" - "+e),u.default.usePageSlugsInNavigation?O.default.navigateToPageSlug(t.slug,n):O.default.navigateToPageNumber(W.documentVersion.getPageNumberBySlug(t.slug),n)}})),f.default.on(O.default.publishedEvents.POPSTATE,(function(t){if(t.pageNumber)R.jumpToPage(t.pageNumber);else if(t.pageSlug){var e=W.documentVersion.getPageNumberBySlug(t.pageSlug);R.jumpToPage(e)}})),_.default.on(_.default.publishedEvents.PAGE_ACTION_GO_TO_URL,(function(t){var e;e=o.default.get(u.default,"analyticsTrackers.googleAnalyticsTracker"),u.default.isEmbedded&&e&&e.enabled&&e.trackingID?p.default.announceGotoUrl(t.url,t.urlOpenInNewWindow):t.urlOpenInNewWindow?window.open(t.url):top.location=t.url})),_.default.on(_.default.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX,(function(t){E.default.showLightbox(t.lightboxUrl,t.lightboxWidth,t.lightboxHeight,t.lightboxHasCloseButton)})),_.default.on(_.default.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL,(function(t){E.default.showProduct(t.productPanelId)})),_.default.on(_.default.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART,(function(t){E.default.showShoppingCart()})),f.default.on(_.default.publishedEvents.PAGE_ACTION_SHARE_PAGE,(function(t){R.shareCurrentPageOnSocial(t.action,W.issue)})),f.default.on(_.default.publishedEvents.TIMED_INTERACTION,(function(t){A.default.announceTimedInteraction(t)})),f.default.on(_.default.publishedEvents.PAGE_ACTION_LAYER_VISIBILITY,(function(t){if(k.default.isShowLayersInteraction(t)&&A.default.announceLayersShown(t.layerTargets),k.default.isHideLayersInteraction(t)&&A.default.announceLayersHidden(t.layerTargets),"toggle-layers"===t.action){var e=[],n=[];o.default.each(t.layerTargets,(function(t){R.isLayerVisible(t)?e.push(t):n.push(t)})),e.length>0&&A.default.announceLayersShown(e),n.length>0&&A.default.announceLayersHidden(n)}}))},ft=function(){if(u.default.analyticsApplicationKey){R.on(R.publishedEvents.SCALE,(function(t){var e=t.ratio;D.updateScale(e)})),_.default.on(_.default.publishedEvents.PAGE_SCROLL,(function(t){D.trackPageScroll({page_slug:t.slug,page_num:W.documentVersion.getPageNumberBySlug(t.slug),topY:t.topY,bottomY:t.bottomY,pageHeight:t.pageHeight})})),_.default.on(_.default.publishedEvents.PAGE_ACTIVATED,(function(t){D.viewExperience({page_slug:t.slug,page_num:W.documentVersion.getPageNumberBySlug(t.slug),page_name:R.getPageNameBySlug(t.slug),grace_period_expired:!1}),W.documentVersion.isAutoTransitioning()||D.viewPage({page_slug:t.slug,page_name:t.pageName,page_num:W.documentVersion.getPageNumberBySlug(t.slug),topY:t.topY,bottomY:t.bottomY,pageHeight:t.pageHeight,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})}));var t=function(t){var e={experience_slug:W.issue.get("slug"),experience_version_slug:W.documentVersion.get("slug"),page_slug:t.pageSlug,page_num:W.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:R.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,video_slug:t.videoSlug,component_name:t.componentName,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload};return t.videoLength&&(e.video_length=t.videoLength),e};_.default.on(_.default.publishedEvents.PAGE_VIDEO_PLAY,(function(e){D.playVideo(o.default.extend(t(e),{video_position:e.videoPosition})),A.default.announceVideoPlayed(e.componentSlug)})),_.default.on(_.default.publishedEvents.PAGE_VIDEO_PROGRESS_TIME,(function(e){D.trackVideoProgressTime(o.default.extend(t(e),{video_position:e.videoPosition,video_play_time:e.videoPlayTime}))})),_.default.on(_.default.publishedEvents.PAGE_VIDEO_PROGRESS_PERCENT,(function(e){D.trackVideoProgressPercent(o.default.extend(t(e),{video_progress_percent:e.progressPercent}))})),_.default.on(_.default.publishedEvents.PAGE_ACTION_GO_TO_URL,(function(t){D.clickLink({page_slug:t.pageSlug,page_num:W.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:R.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,outgoing_url:t.url,outgoing_domain:t.domain,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),_.default.on(_.default.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX,(function(t){D.clickLightbox({page_slug:t.pageSlug,page_num:W.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:R.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,lightbox_url:t.lightboxUrl,lightbox_width:t.lightboxWidth,lightbox_height:t.lightboxHeight,lightbox_has_close_button:!!t.lightboxHasCloseButton,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),_.default.on(_.default.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL,(function(t){D.clickProduct({page_slug:t.pageSlug,page_num:W.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,product_id:t.productPanelId})})),_.default.on(_.default.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART,(function(t){D.clickShoppingCart({page_slug:t.pageSlug,page_num:W.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType})})),_.default.on(_.default.publishedEvents.PAGE_COMPONENT_INTERACTION,(function(t){D.clickComponent({page_slug:t.pageSlug,page_num:W.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:R.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,click_x:t.clickX,click_y:t.clickY,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),_.default.on(_.default.publishedEvents.PAGE_COMPONENT_HOVER_INTERACTION,(function(t){D.hoverComponent({page_slug:t.pageSlug,page_num:W.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:R.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),_.default.on(_.default.publishedEvents.PAGE_COMPONENT_FORM_SUBMITTED,(function(t){D.formSubmit({page_slug:t.pageSlug,page_num:W.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:R.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,form_origin:t.formOrigin,form_origin_account_id:t.formOriginAccountId,form_origin_form_id:t.formOriginFormId,form_origin_form_name:t.formOriginFormName,interaction_triggered:!!t.interactionTriggered,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),T.default.on(T.default.publishedEvents.CHROME_SHOPPING_CART,(function(t){D.clickShoppingCart({page_slug:R.getCurrentPageSlug(),page_num:R.getCurrentPageNumber()})})),f.default.on(_.default.publishedEvents.PAGE_ACTION_SHARE_PAGE,(function(t){D.clickPageShare({page_slug:t.pageSlug,page_num:W.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,service:t.action})})),T.default.on(T.default.publishedEvents.CHROME_SHARE_PAGE,(function(t){D.clickPageShare({page_slug:R.getCurrentPageSlug(),page_num:R.getCurrentPageNumber(),service:t.action})})),S.default.on(S.default.publishedEvents.BRANDING_CEROS_BRANDING_CLICK,(function(){D.clickCerosBranding({page_slug:R.getCurrentPageSlug(),page_num:R.getCurrentPageNumber()})})),a.default(document).on("click",D.registerUserActivity)}};e.default={run:function(t,e,n,i,l){var _;M=t,R=e,N=n,D=i,L=l,c.default.remove("mobile-help-overlay"),D.init({application:u.default.analyticsApplicationKey,analyticsTrackers:u.default.analyticsTrackers}),H=D.getPerformanceTracker(),window.cerosPlayerLoadStart&&H.startTracking(window.cerosPlayerLoadStart),h.default.onPriorityQueueCompletion((function(){H.mark(H.MARKS.PLAYER.PRIORITY_QUEUE_EMPTIED)})),h.default.onAllResourcesLoaded((function(){H.mark(H.MARKS.PLAYER.ALL_RESOURCES_LOADED)})),u.default.previewMode&&u.default.privatePreviewer&&(new g.SessionState).setSignOutUrl(u.default.adminUrl+"/signin").pollForSession(),H.mark(H.MARKS.PLAYER.RUN_START),r.default.init(u.default.logging),r.default.debug("Player.run() start"),_=null,u.default.previewMode?C.default.initialize():_=window.docVersionRequest,W.issue=new s.default.Model(u.default.issue),W.documentVersion=new m.default(u.default.docVersion,{docVersionRequest:_}),u.default.gracePeriodExpired&&et().done((function(){y.default.showUnavailableScreen(a.default("body"),{theme:W.documentVersion.get("theming")});var t=W.documentVersion.getPageInfoByNumberOrSlug(d.default.parsePageFromLocation());D.viewExperience({page_slug:t.slug,page_num:t.number,grace_period_expired:!0})})),u.default.gracePeriodExpired||(function(){if(u.default.previewMode){var t={"X-Powered-By":"Ceros Player/HTML5"};u.default.revalidateWithCore&&(t["Cache-Control"]="must-revalidate"),a.default.ajaxSetup({timeout:6e4,cache:u.default.ajaxCaching,headers:t,statusCode:{404:function(){a.default(o.default.bind(M.show404,M))}}}),a.default.ajaxPrefilter((function(t){t.crossDomain&&(t.headers={})}))}}(),z()&&(L.init({mixpanelApiKey:u.default.mixpanelApiKey,logrocketAppId:u.default.logrocketAppId}),L.registerExperience({experience_slug:W.issue.get("slug"),experience_title:W.issue.get("title"),experience_alias:u.default.issueAliasSlug,project_slug:u.default.appSlug,account_slug:u.default.accountSlug}),L.registerExperiencePublished({experience_published:W.issue.get("status")===j.ExperienceStatus.PUBLISHED})),a.default((function(){H.mark(H.MARKS.PLAYER.DOM_READY),r.default.debug("jquery.ready: About to load the doc version."),M.setupInitialDom(),nt()&&(M.setupAdaptiveLayoutsPreviewerTouchDeviceView(),M.setupAdaptiveLayoutsPreviewerFrameView()),M.showLoadingExperience(),H.mark(H.MARKS.PLAYER.SPINNER_SHOWN),et().then(o.default.bind(M.showPreviewerFadingMessage,M)),T.default.load();var t,e=M.initUser(),n=(t=new a.default.Deferred,r.default.debug("Fetching docVersion"),W.documentVersion.fetch().done(t.resolve).fail(t.reject),t.promise());a.default.when(e,n).done((function(){var t;r.default.debug("Doc Version is loaded"),H.mark(H.MARKS.PLAYER.DOC_VERSION_LOADED),w.default.setDocVersion(W.documentVersion),nt()&&(w.default.on(w.default.EVENTS.UPDATE_URL,(function(t){O.default.navigateToLayout(t)})),w.default.detectPreviewerFrameSizeFromUrl(),M.setupAdaptiveLayoutsPreviewerSelectionView()),t=Q(),u.default.heightOverridesPerLayout=t,u.default.heightOverride=o.default.get(t,"desktop",null),b.default.on("change",(function(e){u.default.heightOverride=o.default.get(t,e,null)}));var e,n,i,s=function(){var t=a.default.Deferred();p.default.init(W.issue.get("slug")),it();var e=!1;p.default.on(p.default.EVENTS.UPDATE_POSITION,(function(n){var i=R.getCurrentPageHeight(),r=i&&n.top<i&&n.top<n.bottom;t.resolve(),!e&&r&&(D.resetPageTrackingMinMaxY(),e=!0)}));var n=function(t){v.default.getInstance().setPositionData(t)};return f.default.on("sdk.experience.container.ready",n),f.default.on("sdk.experience.container.scrolled",o.default.debounce(n,50)),f.default.on("sdk.experience.container.resized",n),t.promise()}();u.default.isEmbedded&&w.default.hasVariants()?(r.default.debug("Waiting for ScrollProxy to send first message with viewport dimensions"),e=s,n=q,i=o.default.once((function(){var t=e.state();t===U?r.default.debug("ScrollProxy received viewport dimensions, rendering experience"):t===V?r.default.warn("ScrollProxy viewport dimensions promise timed out"):r.default.warn("ScrollProxy viewport dimensions promise was rejected"),n()})),e.done(i),setTimeout(i,2e3)):q()})),n.fail(o.default.bind(M.show404,M))})))}}},3237:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(43945)),o=i(n(60888)),a=i(n(72714)),s=i(n(48676)),u=i(n(74228));e.default={run:function(){r.default.run(o.default,a.default,s.default,u.default)}}},60888:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(97575)),o=i(n(96486)),a=i(n(65311)),s=i(n(80771)),u=i(n(8030)),l=i(n(41232)),c=i(n(35425)),d=i(n(39610)),h=i(n(4148)),f=i(n(91623)),p=i(n(67574)),g=i(n(48676)),m=i(n(72714)),v=i(n(61011)),y=i(n(95114)),_=null,b=o.default.extend({},l.default.Events,{publishedEvents:{PLAYER_DOCUMENT_SHOWN:"player.document.shown"},setupInitialDom:function(){var t=a.default("html");s.default.mobile()?t.addClass("mobile"):t.addClass("desktop"),t.addClass(s.default.renderingEngine()),t.addClass(s.default.orientation()),s.default.retina()&&t.addClass("retina"),a.default(window).on(s.default.supportsOrientationChange()?"orientationchange":"resize",o.default.debounce(o.default.bind((function(){t.removeClass("portrait landscape"),t.addClass(s.default.orientation())}),this),100)),this.appendAccessibilityStyleOverrides();var e=a.default("body"),n=a.default("#main");f.default.shouldShow()&&n.append('<div id="chrome"></div>'),n.append('<div id="viewport"></div>'),n.append('<div id="flippers"></div>'),e.append('<div id="lightbox"></div>')},appendAccessibilityStyleOverrides:function(){u.default.shouldReduceMotion&&a.default("#main").addClass("ceros-no-animate")},attachModuleViews:function(t){a.default("#viewport").replaceWith(this.getViewportModule().el()),a.default("#flippers").replaceWith(this.getFlippersModule().el()),a.default("#lightbox").replaceWith(v.default.el()),a.default("#main").append(p.default.el()),u.default.isEmbedded||(a.default("#chrome").replaceWith(f.default.el()),f.default.setTitle(t.get("title")))},setupAdaptiveLayoutsPreviewerSelectionView:function(){this.isUsingNativeTouchDevice()||this.initPreviewerSelectionView(this.getViewportModule())},setupAdaptiveLayoutsPreviewerFrameView:function(){this.previewerFrame=this.initPreviewerFrameView()},setupAdaptiveLayoutsPreviewerTouchDeviceView:function(){this.isUsingNativeTouchDevice()&&!c.default.fullScreenMode&&c.default.setFullScreenMode(!0)},isUsingNativeTouchDevice:function(){return s.default.deviceType()!==s.default.DEVICE_TYPE_DESKTOP},showPreviewerFadingMessage:function(){var t=this.isUsingNativeTouchDevice();u.default.previewMode&&u.default.allowAdaptiveLayouts&&!t&&this.previewerFrame.showFadingHelpMessage()},initPreviewerSelectionView:function(t){},initUser:function(){},initPreviewerFrameView:function(){return new d.default({el:".adaptive-layouts-frame"})},showDocument:function(){f.default.shouldShow()&&(f.default.show(),f.default.initiallyHidden()&&f.default.hide()),p.default.shouldShow()&&p.default.show(),a.default("#main").addClass("document"),this.getViewportModule().show(),this.getFlippersModule().show(),this.hideLoadingExperience(),this.trigger(this.publishedEvents.PLAYER_DOCUMENT_SHOWN)},getViewportModule:function(){return m.default},getFlippersModule:function(){return g.default},showLoadingExperience:function(){_=h.default.showLoading(a.default("#main"),{whiteLabeling:u.default.whiteLabeling,showPreviewLabel:u.default.previewMode,overlayed:!1})},hideLoadingExperience:function(){_?_.destroy():r.default.warn("Showing document but never showed the loading experience")},show404:function(){this.showError({title:"Sorry, page not found",message:"Please check the url and<br/>try again"})},show503:function(){this.showError({title:"Previewer for this experience is currently unavailable due to an excessive number of requests",message:"Please try again later",imageCssClass:"error503"})},showError:function(t){this.hideLoadingExperience(),y.default.load(t),a.default("html").css({height:"100%"}),a.default("body").empty().css({display:"block",height:"100%"}).append(y.default.el())}});e.default=b},93251:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311));n(71381),n(86836),n(43228),n(74341),n(86900),n(35666);var o=i(n(3237)),a=n(66875);n(54241),r.default((function(){a.SecurityUtils.removeWindowEval(),o.default.run()}))},71811:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(13827)),o=function(t){r.default.call(this,"ga",["send",t])};(o.prototype=Object.create(r.default.prototype)).constructor=o,e.default=o},41506:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(13827)),o=function(t){r.default.call(this,"dataLayer.push",t)};(o.prototype=Object.create(r.default.prototype)).constructor=o,e.default=o},19220:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(13827)),o=function(t,e){r.default.call(this,"gtag",["event",t,e])};(o.prototype=Object.create(r.default.prototype)).constructor=o;var a=function(t){r.default.call(this,"gtag",["consent","update",t])};(a.prototype=Object.create(r.default.prototype)).constructor=a;var s=function(t,e){r.default.call(this,"gtag",["config",t,e])};(s.prototype=Object.create(r.default.prototype)).constructor=s,e.default={GtagFunctionEvent:o,GtagFunctionConsentUpdate:a,GtagFunctionConfig:s}},38893:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a=i(n(96486)),s=i(n(43700)),u=i(n(74228)),l=new s.default.Module({id:"analytics",description:"Provides an interface for tracking statistics on the analytics service.",version:"1.0",delegate:(r={},o=a.default.functionsIn(u.default),a.default.each(o,(function(t){"_"!=t.substr(0,1)&&(r[t]=a.default.bind(u.default[t],u.default))})),r)});e.default=l},22754:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(80771)),s=i(n(8030)),u=i(n(54400)),l=i(n(54777)),c=i(n(37126)),d=i(n(16853)),h=i(n(80889)),f=i(n(74685)),p=i(n(33381)),g=i(n(84503)),m=n(24848),v=function(t){this.options=t||{},this.trackers=[],this.cerosPlayerTracker=null;var e=this.hasUserConsentForAnalytics();this.options.cerosPlayerTracker&&(this.cerosPlayerTracker=new c.default(this.options.cerosPlayerTracker,e),this.trackers.push(this.cerosPlayerTracker)),this.options.googleAnalyticsTracker&&this.trackers.push(new d.default(this.options.googleAnalyticsTracker,e)),this.options.googleTagManagerTracker&&this.trackers.push(new h.default(this.options.googleTagManagerTracker)),this.options.marketoTracker&&this.trackers.push(new f.default(this.options.marketoTracker)),this.options.eloquaTracker&&this.trackers.push(new p.default(this.options.eloquaTracker)),this.options.universalAnalyticsTracker&&this.trackers.push(new g.default(this.options.universalAnalyticsTracker)),this.registerSdkAnalyticsUserConsentEventListeners()};o.default.extend(v.prototype,{hasUserConsentForAnalytics:function(){var t=u.default.getExperiencePath(),e=m.AnalyticsLocalStorage.getUserConsent(t);return!!e||!s.default.docVersion.requireUserConsentForAnalytics&&!1!==e},registerSdkAnalyticsUserConsentEventListeners:function(){l.default.on("sdk.experience.analytics.user.consent.granted",o.default.bind((function(){var t=u.default.getExperiencePath();m.AnalyticsLocalStorage.setUserConsent(!0,t),this.trackers.forEach((function(t){return t.applyUserConsentGranted()}))}),this)),l.default.on("sdk.experience.analytics.user.consent.denied",o.default.bind((function(){var t=u.default.getExperiencePath();m.AnalyticsLocalStorage.setUserConsent(!1,t),this.trackers.forEach((function(t){return t.applyUserConsentDenied()}))}),this))},sendEvent:function(t,e){if(a.default.isBot())return r.default.Deferred().resolve();var n=[];return o.default.each(this.trackers,(function(i){i.isEnabled()&&n.push(i.sendEvent(t,e))})),r.default.when.apply(r.default,n).promise()},updateScale:function(t){o.default.each(this.trackers,(function(e){e.isEnabled()&&e.updateScale(t)}))}}),e.default=v},37126:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(6651)),s=i(n(51339)),u=i(n(8030)),l=["previewer.component.hover","player.component.hover","previewer.video.progress_time","previewer.video.progress_percent"],c=["previewer.page.view","player.page.view","editor.page.view"],d=["previewer.video.play","player.video.play","previewer.video.progress_time","player.video.progress_time","previewer.video.progress_percent","player.video.progress_percent"],h=["page_slug","page_num","edit_mode","adaptive_layout"],f=function(t,e){a.default.call(this,o.default.extend({trackInitialReferrer:!0,application:u.default.analyticsApplicationKey,hasUserConsentForAnalytics:e},t))};(f.prototype=Object.create(a.default.prototype)).constructor=f,o.default.extend(f.prototype,{sendEvent:function(t,e){return o.default.includes(l,t)?r.default.Deferred().resolve():(e=this.filterEventData(t,e),a.default.prototype.track.call(this,t,e))},getCommonProps:function(t){var e=a.default.prototype.getCommonProps.call(this,t);return o.default.extend(e,{experience_alias:u.default.issueAliasSlug,experience_slug:u.default.issue.slug,experience_version_slug:u.default.docVersion.slug,project_slug:u.default.appSlug,current_layout:s.default.hasDetectedVariant()?s.default.getVariant():"unknown"})},filterEventData:function(t,e){return o.default.includes(c,t)?e=o.default.pick(e,h):o.default.includes(d,t)&&(e=o.default.omit(e,["component_name"])),o.default.omit(e,["page_name","sdk_tags","sdk_payload"])}}),e.default=f},33381:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(97575)),o=i(n(96486)),a=i(n(8030)),s=i(n(26883)),u=function(t){s.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageEvent),this.registerEventHandler("previewer.page.view",this.handlePageEvent)),this.isEnabled()&&(window._elqQ=window._elqQ||[],window._elqQ.push(["elqSetSiteId",this.options.siteId]),t.cookieDomain&&window._elqQ.push(["elqUseFirstPartyCookie",this.options.cookieDomain]))};(u.prototype=Object.create(s.default.prototype)).constructor=u,o.default.extend(u.prototype,{isEnabled:function(){return this.options.enabled&&!!this.options.siteId},isPageViewTrackingEnabled:function(){return this.isEnabled()},formatPageUri:function(t){var e=window.location.href;return e.match(/\/p\/\d+$/)||(e=e+"/p/"+t),e},handlePageEvent:function(t){var e=this.formatPageUri(t.page_num);a.default.previewMode?r.default.forceInfo("Eloqua page view event",e):window._elqQ.push(["elqTrackPageView",e])}}),e.default=u},16853:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(97575)),o=i(n(96486)),a=i(n(8030)),s=i(n(15014)),u=i(n(26883)),l=i(n(71811)),c=i(n(19220)),d=function(t,e){u.default.call(this,t),this.options=t,this.hasUserConsentForAnalytics=e,this.initUserConsent(),this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageViewEvent),this.registerEventHandler("previewer.page.view",this.handlePageViewEvent)),this.isClickTrackingEnabled()&&(this.registerEventHandler("player.component.click",this.handleClickComponentEvent),this.registerEventHandler("previewer.component.click",this.handleClickComponentEvent)),this.isHoverTrackingEnabled()&&(this.registerEventHandler("player.component.hover",this.handleHoverComponentEvent),this.registerEventHandler("previewer.component.hover",this.handleHoverComponentEvent))};(d.prototype=Object.create(u.default.prototype)).constructor=d,o.default.extend(d.prototype,{initUserConsent:function(){this.hasUserConsentForAnalytics?this.applyUserConsentGranted():this.applyUserConsentDenied()},applyUserConsentGranted:function(){if(this.options.trackingID&&!a.default.isEmbedded){this.hasUserConsentForAnalytics=!0;var t=new c.default.GtagFunctionConfig(this.options.trackingID,{anonymize_ip:!1,send_page_view:!1});this.invokeGtagFunctionStandalone("GA anonymize IP disabled",t);var e=new c.default.GtagFunctionConsentUpdate({analytics_storage:"granted"});this.invokeGtagFunctionStandalone("GA cookies enabled",e)}},applyUserConsentDenied:function(){if(this.options.trackingID&&!a.default.isEmbedded){this.hasUserConsentForAnalytics=!1;var t=new c.default.GtagFunctionConfig(this.options.trackingID,{anonymize_ip:!0,send_page_view:!1});this.invokeGtagFunctionStandalone("GA anonymize IP enabled",t);var e=new c.default.GtagFunctionConsentUpdate({analytics_storage:"denied"});this.invokeGtagFunctionStandalone("GA cookies disabled",e)}},isEnabled:function(){return this.options.enabled&&!!this.options.trackingID&&(this.isPageViewTrackingEnabled()||this.isClickTrackingEnabled()||this.isHoverTrackingEnabled())},isPageViewTrackingEnabled:function(){return!a.default.isEmbedded&&!!this.options.trackPageViewsForStandaloneExperiences},isClickTrackingEnabled:function(){return!!this.options.trackClicks},isHoverTrackingEnabled:function(){return!!this.options.trackHovers},handlePageViewEvent:function(t){var e=new c.default.GtagFunctionEvent("page_view",{send_to:this.options.trackingID,page_path:s.default.buildUriForPageNumber(t.page_num)});this.invokeGtagFunctionStandalone("GA page view event",e)},handleClickComponentEvent:function(t){this.sendCustomEvent({hitType:"event",eventCategory:this.options.eventCategory,eventAction:this.options.clickEventAction,eventLabel:t.component_name})},handleHoverComponentEvent:function(t){this.sendCustomEvent({hitType:"event",eventCategory:this.options.eventCategory,eventAction:this.options.hoverEventAction,eventLabel:t.component_name})},sendCustomEvent:function(t){var e=new c.default.GtagFunctionEvent(t.eventAction,{send_to:this.options.trackingID,event_category:t.eventCategory,event_label:t.eventLabel}),n=new l.default(t);this.invokeGtagFunctionStandaloneOrEmbedded("GA custom event",e,n)},invokeGtagFunctionStandalone:function(t,e){a.default.previewMode?r.default.forceInfo(t,e.toString()):n.g.isEmbedded||e.invoke()},invokeGtagFunctionStandaloneOrEmbedded:function(t,e,n){a.default.previewMode?r.default.forceInfo(t,e.toString()):a.default.isEmbedded?this.invokeOnParentPage([e,n]):e.invoke()}}),e.default=d},80889:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(97575)),o=i(n(96486)),a=i(n(8030)),s=i(n(15014)),u=i(n(26883)),l=i(n(41506)),c=function(t){u.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageViewEvent),this.registerEventHandler("previewer.page.view",this.handlePageViewEvent),this.registerEventHandler("editor.page.view",this.handlePageViewEvent)),this.isClickTrackingEnabled()&&(this.registerEventHandler("player.component.click",this.handleClickComponentEvent),this.registerEventHandler("previewer.component.click",this.handleClickComponentEvent),this.registerEventHandler("editor.component.click",this.handleClickComponentEvent),this.registerEventHandler("editor.component.save",this.handleSaveComponentEvent),this.registerEventHandler("editor.component.undo",this.handleUndoComponentEvent)),this.isHoverTrackingEnabled()&&(this.registerEventHandler("player.component.hover",this.handleHoverComponentEvent),this.registerEventHandler("previewer.component.hover",this.handleHoverComponentEvent),this.registerEventHandler("editor.component.hover",this.handleHoverComponentEvent))};(c.prototype=Object.create(u.default.prototype)).constructor=c,o.default.extend(c.prototype,{isEnabled:function(){return this.options.enabled&&!!this.options.containerID&&(this.isPageViewTrackingEnabled()||this.isClickTrackingEnabled()||this.isHoverTrackingEnabled())},isPageViewTrackingEnabled:function(){return!a.default.isEmbedded&&!!this.options.trackPageViewsForStandaloneExperiences},isClickTrackingEnabled:function(){return!!this.options.trackClicks},isHoverTrackingEnabled:function(){return!!this.options.trackHovers},handlePageViewEvent:function(t){var e={event:"ceros-pageview",cerosPagePath:s.default.buildUriForPageNumber(t.page_num),cerosPageTitle:t.page_name,cerosPageLocation:window.location.href},n=new l.default(e);a.default.previewMode?r.default.forceInfo("GTM page view event",n.toString()):n.invoke()},handleClickComponentEvent:function(t){this.sendCustomEvent({event:"ceros-event",cerosCategory:this.options.eventCategory,cerosAction:this.options.clickEventAction,cerosLabel:t.component_name})},handleSaveComponentEvent:function(t){this.sendCustomEvent({event:"ceros-event",cerosCategory:this.options.eventCategory,cerosAction:this.options.clickEventAction,cerosLabel:t.component_name})},handleUndoComponentEvent:function(t){this.sendCustomEvent({event:"ceros-event",cerosCategory:this.options.eventCategory,cerosAction:this.options.clickEventAction,cerosLabel:t.component_name})},handleHoverComponentEvent:function(t){this.sendCustomEvent({event:"ceros-event",cerosCategory:this.options.eventCategory,cerosAction:this.options.hoverEventAction,cerosLabel:t.component_name})},sendCustomEvent:function(t){var e=new l.default(t);a.default.previewMode?r.default.forceInfo("GTM custom event",e.toString()):a.default.isEmbedded?this.invokeOnParentPage(e):e.invoke()}}),e.default=c},74685:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(97575)),o=i(n(96486)),a=i(n(8030)),s=i(n(26883)),u=function(t){s.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageEvent),this.registerEventHandler("previewer.page.view",this.handlePageEvent))};(u.prototype=Object.create(s.default.prototype)).constructor=u,o.default.extend(u.prototype,{didInit:!1,isEnabled:function(){return this.options.enabled&&!!this.options.accountId},isPageViewTrackingEnabled:function(){return this.isEnabled()},init:function(t){this.didInit=!!a.default.previewMode||!!window.Munchkin,a.default.previewMode&&r.default.forceInfo("Marketo page view event",JSON.stringify(this.formatPageUri(t.page_num))),window.Munchkin&&window.Munchkin.init(this.options.accountId)},formatPageUri:function(t){var e=window.location.pathname;return e.match(/\/p\/\d+$/)||(e=e+"/p/"+t),{url:e}},handlePageEvent:function(t){if(this.didInit){var e=this.formatPageUri(t.page_num);a.default.previewMode?r.default.forceInfo("Marketo page view event",JSON.stringify(e)):window.Munchkin.munchkinFunction("visitWebPage",e)}else this.init(t)}}),e.default=u},67574:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(43700)),o=i(n(8030)),a=i(n(73011)),s=new r.default.Module({id:"branding",version:"1.0",brandingView:null,publishedEvents:{BRANDING_CEROS_BRANDING_CLICK:"branding.ceros_branding.click"},delegate:{load:function(t){var e=o.default.themeObj.menuFgColor,n=o.default.themeObj.menuBgColor;return this.brandingView=new a.default({module:s,menuBackgroundColor:n,menuForegroundColor:e,menuHoverOpacity:o.default.themeObj.menuHoverOpacity,whiteLabeling:o.default.whiteLabeling}),this},shouldShow:function(){return!o.default.whiteLabeling&&!o.default.isEmbedded},el:function(){return this.brandingView.$el},show:function(){this.brandingView&&this.brandingView.show()},getBrandingUrl:function(){return this.brandingView.poweredByUrl}}});e.default=s},73011:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(80771)),s=i(n(8030)),u=i(n(11516)),l=i(n(35451)),c=i(n(14288)),d=s.default.publicAssetsBaseUrl+"PoweredByCeros.svg";e.default=u.default.extend({id:"ceros-branding",initialize:function(){this.poweredByUrl=this.getBrandingLinkUrl(),u.default.prototype.initialize.call(this),this.render(),this.configureInteractions()},configureInteractions:function(){this.bindInteraction(this.$el,o.default.bind(this._clickCerosBranding,this))},render:function(){if(this.$el.empty().html(c.default),this.$el.find("a").attr("href",this.poweredByUrl),r.default(window).on("resize",o.default.bind(this._onResize,this)),this.setCustomTheming(),!this.options.whiteLabeling){var t={color:this.options.menuForegroundColor},e={alt:"Powered By Ceros",width:"100%",height:"100%"};l.default.addVectorImage(d).loadNow().done(o.default.bind((function(n){n.createImageElement(t,e).done(o.default.bind((function(t){this.$el.find("a").append(t)}),this))}),this))}},setCustomTheming:function(){this.$el.css("background-color",this.options.menuBackgroundColor);var t=this.options.menuHoverOpacity,e=this.$el.find("a");a.default.desktop()&&e.on("mouseenter",(function(){r.default(this).css("opacity",t)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),a.default.touch()&&e.on("touchstart",(function(){r.default(this).css("opacity",t)})).on("touchend",(function(){r.default(this).css("opacity","1.0")})),this._positionCerosBranding()},_positionCerosBranding:function(){a.default.isIphoneFullscreenMobileSafari(r.default(window).width(),r.default(window).height())?this.$el.css({right:"42px","border-radius":"3px 3px 0 0"}):this.$el.css({right:0,"border-radius":"3px 0 0 0"})},getBrandingLinkUrl:function(){return"http://www3.ceros.com/poweredbyceros?"+["utm_source=M-W-CerosPower","account="+encodeURIComponent(s.default.accountSlug),"experience="+encodeURIComponent(s.default.issueAliasSlug)].join("&")},_onResize:function(){this._positionCerosBranding()},_clickCerosBranding:function(t){t.preventDefault(),this.getModule().trigger(this.getModule().publishedEvents.BRANDING_CEROS_BRANDING_CLICK)}})},91623:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(43700)),a=i(n(8030)),s=i(n(80771)),u=i(n(34987)),l=i(n(45021)),c=new o.default.Module({id:"chrome",description:"Provides a menu bar user interface for the web player",version:"2.0",chromeView:null,publishedEvents:{CHROME_SHARE:"chrome.share",CHROME_SHARE_PAGE:"chrome.share.page",CHROME_SHOPPING_CART:"chrome.shopping_cart",CHROME_TITLE_CLICK:"chrome.title.click"},delegate:{load:function(t){var e={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};this.options=r.default.extend({},e,t);var n=this.options.theme.menuFgColor,i=this.options.theme.menuBgColor,o=u.default.fromHex(n);return o.a=.1,this.chromeView=new l.default({module:c,menuBackgroundColor:i,menuBorderColor:o,menuForegroundColor:n,menuHoverOpacity:this.options.theme.menuHoverOpacity,allowCommerceIntegration:a.default.allowCommerceIntegration,commerceSettings:a.default.commerceSettings,showChromeMenu:this.options.theme.menuEnabled}),this},shouldShow:function(){return!a.default.isEmbedded&&a.default.themeObj.menuEnabled},initiallyHidden:function(){return s.default.mobile()},getHeight:function(){return this.chromeView.getHeight()},el:function(){return this.chromeView.$el},show:function(t){this.chromeView&&this.chromeView.show(t)},hide:function(t){this.chromeView&&this.chromeView.hide(t)},toggle:function(){this.chromeView&&this.chromeView.toggle()},setTitle:function(t){this.chromeView.setTitle(t)},setMenuLinkHrefs:function(t){this.chromeView.setMenuLinkHrefs(t)}}});e.default=c},45021:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(80771)),s=i(n(11516)),u=i(n(21844)),l=i(n(53321)),c=i(n(54400)),d=i(n(15014)),h=i(n(87967));e.default=s.default.extend({id:"chrome",initialize:function(){s.default.prototype.initialize.call(this),this.autoHideTimer=null,this.render(),this.clickOverlay=r.default('<div class="click-overlay"></div>'),this.bindInteraction(this.clickOverlay,o.default.bind(this._hideShareMenu,this)),this.configureInteractions()},configureInteractions:function(){this.bindInteraction(this.title,o.default.bind(this._clickTitle,this)),this.bindInteraction(this.share,o.default.bind(this._activateShareMenu,this)),this.bindInteraction(this.shareMenu.find("a"),o.default.bind(this._sharePage,this)),this.bindInteraction(this.cart,o.default.bind(this._activateCart,this))},render:function(){this.$el.empty().html(u.default),r.default(window).on("resize",o.default.bind(this._onResize,this)),this.chromeMenu=this.$el.find("#chrome-menu"),this.title=this.chromeMenu.find(".title"),this.share=this.chromeMenu.find(".share"),this.$shareBtn=this.chromeMenu.find(".share-button"),this.shareMenu=this.chromeMenu.find(".share-menu"),this.shareMenuArrow=this.chromeMenu.find(".arrow"),this._renderShareMenuArrow(),this.cart=this.chromeMenu.find(".cart"),!1===this.options.showChromeMenu&&this.chromeMenu.hide(),this.setCustomTheming(),this.options.allowCommerceIntegration&&this.options.commerceSettings.shoppingCartUrl||this.cart.remove(),this.chromeMenu.addClass("icon-"+this.chromeMenu.find("div.button").length)},_renderShareMenuArrow:function(){var t=r.default('<canvas width="39" height="18"></canvas>');this.shareMenuArrow.empty().append(t);var e=t[0].getContext("2d");e.save(),e.clearRect(0,0,39,18),e.fillStyle=this.options.menuBackgroundColor,e.beginPath(),e.moveTo(19.5,0),e.lineTo(39,18),e.lineTo(0,18),e.lineTo(19.5,0),e.fill(),e.restore()},setCustomTheming:function(){this.chromeMenu.css("background-color",this.options.menuBackgroundColor),this.shareMenu.css("background-color",this.options.menuBackgroundColor),this.shareMenu.find("li").css("border-color",this.options.menuBorderColor);var t=this.options.menuForegroundColor;this.$el.find(".title,.label,.icon").css("color",t);var e=this.$el.find("a"),n=this.options.menuHoverOpacity;a.default.desktop()&&e.on("mouseenter",(function(){r.default(this).css("opacity",n)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),a.default.touch()&&e.on("touchstart",(function(){r.default(this).css("opacity",n)})).on("touchend",(function(){r.default(this).css("opacity","1.0")}))},toggle:function(){this.chromeMenu.fadeToggle({duration:"fast",queue:!1,complete:o.default.bind(this.setAutoHideTimer,this)})},setAutoHideTimer:function(){this.cancelAutoHide(),this.chromeMenu.is(":visible")&&(this.autoHideTimer=setTimeout(o.default.bind((function(){"none"===this.shareMenu.css("display")&&this.hide(!0)}),this),5e3))},cancelAutoHide:function(){clearTimeout(this.autoHideTimer)},show:function(t){this.cancelAutoHide(),t?this.$el.fadeIn("fast"):this.$el.show()},hide:function(t){this.cancelAutoHide(),t?this.chromeMenu.fadeOut("fast"):this.chromeMenu.hide()},getHeight:function(){return!1===this.options.showChromeMenu?0:a.default.mobile()?50:42},setTitle:function(t){this.chromeMenu.find(".title").text(t)},_onResize:function(){this._positionShareMenu()},_showShareMenu:function(){this._positionShareMenu(),this.shareMenuArrow.show(),this.shareMenu.attr("aria-expanded","true"),this.shareMenu.slideDown(150,o.default.bind((function(){this.$el.after(this.clickOverlay),this.clickOverlay.show()}),this)),o.default.defer(o.default.bind((function(){this.bindInteraction(this.$el,o.default.bind(this._hideShareMenu,this))}),this)),this.bindShareMenuFocusStateWatcher(),this.bindShareMenuEscWatcher()},bindShareMenuFocusStateWatcher:function(){this.focusCallback=function(){this.shareMenu[0].contains(document.activeElement)||(this.removeShareMenuWatchers(),this._hideShareMenu())}.bind(this),document.addEventListener("focus",this.focusCallback,!0)},bindShareMenuEscWatcher:function(){this.escCallback=function(t){"Escape"!==t.code&&t.keyCode!==h.default.ESC||(this.removeShareMenuWatchers(),this.$shareBtn.focus(),this._hideShareMenu())}.bind(this),document.addEventListener("keydown",this.escCallback,!0)},removeShareMenuWatchers:function(){document.removeEventListener("keydown",this.escCallback,!0),document.removeEventListener("focus",this.focusCallback,!0)},_hideShareMenu:function(){this.shareMenu.attr("aria-expanded","false"),this.shareMenu.slideUp(100,o.default.bind((function(){this.shareMenuArrow.hide(),this.clickOverlay.detach(),this.unbindInteraction(this.$el)}),this)),a.default.mobile()&&this.setAutoHideTimer()},_positionShareMenu:function(){if(this.options.showChromeMenu){var t,e=r.default(window).width(),n=this.chromeMenu.height()+10;t=e<=480?this.share.position().left+this.share.width()/2-this.shareMenu.width()/2:this.share.position().left,this.shareMenu.css({top:n+"px",left:t+"px"})}},setMenuLinkHrefs:function(t){var e=c.default.removeEmbedParams(d.default.buildUriForPageNumber(t)),n=window.location.protocol+"//"+window.location.host+e,i=this.$el.find("[data-share='facebook']"),r=this.$el.find("[data-share='twitter']"),o=this.$el.find("[data-share='linkedin']"),a=this.$el.find("[data-share='pinterest']"),s=this.$el.find("[data-share='email']");this.title.attr("href",d.default.buildUriForPageNumber(1)),i.attr("href",l.default.urlForFacebook(n)),r.attr("href",l.default.urlForTwitter(n)),o.attr("href",l.default.urlForLinkedIn(n)),a.attr("href",l.default.urlForPinterest(n)),s.attr("href",l.default.urlForEmail(n))},_clickTitle:function(t){t.preventDefault(),this.getModule().trigger(this.getModule().publishedEvents.CHROME_TITLE_CLICK)},_activateCart:function(){this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHOPPING_CART)},_activateShareMenu:function(t){"none"===this.shareMenu.css("display")?(this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHARE),this._showShareMenu()):this._hideShareMenu()},_sharePage:function(t){t.preventDefault();var e="share-"+r.default(t.currentTarget).attr("data-share");this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHARE_PAGE,{action:e}),this._hideShareMenu()}})},95114:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(43700)),o=i(n(38785)),a=new r.default.Module({id:"Error",description:"Provides an error display module",version:"1.0",publishedEvents:{},dependencies:{},delegate:{load:function(t){this.errorView=new o.default({title:t.title,message:t.message,imageCssClass:t.imageCssClass})},el:function(){return this.errorView.$el}}});e.default=a},38785:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(42216)),o=i(n(11516)),a=i(n(70348));e.default=o.default.extend({id:"errorModal",initialize:function(t){o.default.prototype.initialize.call(this,t),this.options=t,this.render()},render:function(){var t=r.default.render(a.default,{title:this.options.title,message:this.options.message,imageCssClass:this.options.imageCssClass});this.$el.html(t)}})},48676:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(43700)),a=i(n(8030)),s=i(n(34987)),u=i(n(33410)),l=i(n(5487)),c=new o.default.Module({id:"flippers",description:"Provides left/right (previous/next) arrows for navigation between pages",version:"1.0",flippersView:null,publishedEvents:{NEXT_PAGE:"flippers.next_page",PREVIOUS_PAGE:"flippers.previous_page"},dependencies:{viewport:"1.0"},delegate:{load:function(t){var e={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};this.options=r.default.extend({},e,t);var n=this.options.theme.menuFgColor,i=this.options.theme.menuBgColor,o=s.default.fromHex(n);o.a=.1,this.flippersView=new l.default({arrowsEnabled:this.options.theme.arrowsEnabled,menuBackgroundColor:i,menuBorderColor:o,menuForegroundColor:n,menuHoverOpacity:this.options.theme.menuHoverOpacity,module:c}),this.registerEvents()},el:function(){if(this.flippersView)return this.flippersView.$el;throw new Error("FlippersView is missing")},show:function(){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.show()},hide:function(){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.hide()},updateScale:function(t){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.scale(t)},determineFlipperState:function(t,e,n){var i=!n||t,r=!n||e;this.updateFlippers(i,r)},updateFlippers:function(t,e){if(!this.flippersView)throw new Error("FlippersView is missing");t?this.flippersView.disablePrevious():this.flippersView.enablePrevious(),e?this.flippersView.disableNext():this.flippersView.enableNext()},updateFlipperHrefs:function(){this.flippersView.replaceHrefs()},registerEvents:function(){u.default.getInstance().on("change",r.default.bind((function(){this.flippersView.scale(null)}),this))}}});e.default=c},5487:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(8030)),s=i(n(33410)),u=i(n(72714)),l=i(n(80296)),c=i(n(11516)),d=i(n(80771)),h=i(n(73982)),f=i(n(15014));e.default=c.default.extend({id:"flippers",leftArrow:null,rightArrow:null,scaleData:null,currentPageNumber:0,smallWindowThreshold:600,options:null,initialize:function(){c.default.prototype.initialize.call(this),d.default.desktop()&&r.default(document).on("keydown",o.default.bind(this.keyHandler,this)),this.render(),this.bindInteraction(this.leftArrow,o.default.bind(this._previousPage,this)),this.bindInteraction(this.rightArrow,o.default.bind(this._nextPage,this)),this.bindInteraction(this.$el)},getViewportModule:function(){return u.default},onClose:function(){c.default.prototype.initialize.call(this),this.unbindInteraction(this.leftArrow),this.unbindInteraction(this.rightArrow),this.unbindInteraction(this.$el)},_previousPageHref:function(){if(!this.currentPageNumber)return"#";var t=f.default.parseLayoutFromLocation();return f.default.buildUri(l.default.PAGE_MODES.NUMBER,Math.max(1,this.currentPageNumber-1),t)},_nextPageHref:function(){if(!this.currentPageNumber)return"#";var t=f.default.parseLayoutFromLocation();return f.default.buildUri(l.default.PAGE_MODES.NUMBER,this.currentPageNumber+1,t)},replaceHrefs:function(){this.currentPageNumber=this.getViewportModule().currentPageNumber(),this.$(".prev.left a").attr("href",this._previousPageHref()),this.$(".next.right a").attr("href",this._nextPageHref())},render:function(){var t=a.default.isEmbedded?"<button>":"<a>";this.leftArrow=r.default("<div>",{class:"prev left",css:{"background-color":this.options.menuBackgroundColor}}),this.leftArrowA=r.default(t,{title:"Previous Page",html:h.default.LEFT_ARROW,attr:{"aria-label":"Previous Page"},css:{color:this.options.menuForegroundColor}}),this.leftArrow.append(this.leftArrowA),this.rightArrow=r.default("<div>",{class:"next right",css:{"background-color":this.options.menuBackgroundColor}}),this.rightArrowA=r.default(t,{title:"Next Page",html:h.default.RIGHT_ARROW,attr:{"aria-label":"Next Page"},css:{color:this.options.menuForegroundColor}}),this.rightArrow.append(this.rightArrowA),a.default.isEmbedded||(this.leftArrowA.attr("href",this._previousPageHref()),this.rightArrowA.attr("href",this._nextPageHref()));var e=this.options.menuHoverOpacity;d.default.touch()&&(this.leftArrowA.on("touchstart",(function(){r.default(this).css("opacity",e)})).on("touchend",(function(){r.default(this).css("opacity","1.0")})),this.rightArrowA.on("touchstart",(function(){r.default(this).css("opacity",e)})).on("touchend",(function(){r.default(this).css("opacity","1.0")}))),d.default.desktop()&&(this.leftArrowA.on("mouseenter",(function(){r.default(this).css("opacity",e)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),this.rightArrowA.on("mouseenter",(function(){r.default(this).css("opacity",e)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")}))),this.disableNext(),this.disablePrevious(),this.$el.append(this.leftArrow),this.$el.append(this.rightArrow),!1===this.options.arrowsEnabled&&this.hide()},scale:function(t){t&&(this.scaleData=t);var e=this.scaleData.height,n=this.scaleData.marginTop,i=this.scaleData.originalWindowWidth;this.scaleData.windowHeight<this.smallWindowThreshold||i<this.smallWindowThreshold?(this.rightArrow.addClass("small"),this.leftArrow.addClass("small")):(this.leftArrow.removeClass("small"),this.rightArrow.removeClass("small"));var r,o=parseFloat(this.rightArrowA.css("height")),a=s.default.getInstance();r=a.isActive()?a.getVerticalCenterOfVisibleArea(e)-o/2:e/2-o/2+n,r=Math.round(r)+"px",this.leftArrow.css("top",r),this.rightArrow.css("top",r)},isPreviousDisabled:function(){return this.leftArrow.hasClass("disabled")},isNextDisabled:function(){return this.rightArrow.hasClass("disabled")},disablePrevious:function(){this.isPreviousDisabled()||(this.leftArrow.addClass("disabled"),this.leftArrow.attr("aria-hidden",!0),this.leftArrowA.attr("title",""),this.leftArrowA.attr("tabindex","-1"))},disableNext:function(){this.isNextDisabled()||(this.rightArrow.addClass("disabled"),this.rightArrow.attr("aria-hidden",!0),this.rightArrowA.attr("title",""),this.rightArrowA.attr("tabindex","-1"))},enablePrevious:function(){this.isPreviousDisabled()&&(this.leftArrow.removeClass("disabled"),this.leftArrow.removeAttr("aria-hidden"),this.leftArrowA.attr("title","Previous Page"),this.leftArrowA.removeAttr("tabindex"))},enableNext:function(){this.isNextDisabled()&&(this.rightArrow.removeClass("disabled"),this.rightArrow.removeAttr("aria-hidden"),this.rightArrowA.attr("title","Next Page"),this.rightArrowA.removeAttr("tabindex"))},show:function(){!0===this.options.arrowsEnabled&&this.$el.show()},hide:function(){this.$el.hide()},_nextPage:function(t){t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.NEXT_PAGE)},_previousPage:function(t){t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.PREVIOUS_PAGE)},keyHandler:function(t){(!t.target||"SELECT"!=t.target.tagName&&"INPUT"!=t.target.tagName&&"TEXTAREA"!=t.target.tagName)&&(t.metaKey||t.ctrlKey||t.altKey||t.shiftKey||this.options.arrowsEnabled&&(39!==t.keyCode||this.isNextDisabled()?37!==t.keyCode||this.isPreviousDisabled()?37!==t.keyCode&&39!==t.keyCode||(t.stopPropagation(),t.preventDefault()):(t.stopPropagation(),t.preventDefault(),this._previousPage(t)):(t.stopPropagation(),t.preventDefault(),this._nextPage(t))))}})},61011:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(43700)),a=i(n(8030)),s=i(n(80771)),u=i(n(33410)),l=i(n(425)),c=i(n(54400)),d=new o.default.Module({id:"lightbox",description:"",version:"1.0",dependencies:{},lightboxView:null,delegate:{load:function(){return this.lightboxView=new l.default({module:d}),this.registerEvents(),this},showLightbox:function(t,e,n,i){var o=r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj,s=r.default.extend({},this.getBrowserUrlParams(),this.getDefaultUrlParams());this.lightboxView.openLightbox({url:c.default.appendQueryParams(t,s),width:e,height:n,showCloseButton:i,closeButtonBgColor:o.menuBgColor,closeButtonFgColor:o.menuFgColor})},showProduct:function(t){if(!r.default.isEmpty(t)){var e=this.getUrlForProduct(t);r.default.isEmpty(e)||this.lightboxView.openLightbox({url:e,width:a.default.commerceSettings.panelWidth,height:a.default.commerceSettings.panelHeight})}},getUrlForProduct:function(t){var e=a.default.allowCommerceIntegration?a.default.commerceSettings.productUrl:"";if(r.default.isUndefined(e)||r.default.isEmpty(e)||-1===e.indexOf("{id}"))return"";var n=!1;-1!==e.indexOf("?")&&e.indexOf("?")<e.indexOf("{id}")&&(n=!0);var i,o=null,s=t.lastIndexOf("?");s>0&&(o=c.default.getUrlParams(t.substring(s)),t=t.substring(0,s)),i=n?encodeURIComponent(t):t.replace(/[^\/]+/gi,(function(t,e){return encodeURIComponent(t)})),e=e.replace("{id}",i);var u=r.default.extend({},this.getBrowserUrlParams(),o,this.getDefaultUrlParams());return c.default.appendQueryParams(e,u)},showShoppingCart:function(){var t=this.getUrlForShoppingCart();r.default.isEmpty(t)||this.lightboxView.openLightbox({url:t,showCloseButton:!0,width:a.default.commerceSettings.panelWidth,height:a.default.commerceSettings.panelHeight})},getUrlForShoppingCart:function(){var t=a.default.allowCommerceIntegration?a.default.commerceSettings.shoppingCartUrl:"";return r.default.isUndefined(t)||r.default.isEmpty(t)?"":c.default.appendQueryParams(t,this.getDefaultUrlParams())},getDefaultUrlParams:function(){return{ceros_device_pixel_ratio:s.default.pixelRatio(),ceros_account_slug:a.default.accountSlug,ceros_app_slug:a.default.appSlug,ceros_issue_slug:a.default.issue.slug,ceros_device_type:s.default.deviceType(),ceros_player_type:s.default.playerType()}},getBrowserUrlParams:function(){var t=c.default.removeEmbedParams(this.getWindowUrl());return c.default.getUrlParams(t)},show:function(){this.lightboxView.show()},hide:function(){this.lightboxView.hide()},deactivate:function(){this.lightboxView.deactivate()},el:function(){return this.lightboxView.$el},iframe:function(){return this.lightboxView.$("iframe")[0]},getWindowUrl:function(){return window.location.href},registerEvents:function(){u.default.getInstance().on("change",this.lightboxView.setSizeAndPosition,this.lightboxView)}}});e.default=d},425:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(97575)),a=i(n(65311)),s=i(n(96486)),u=i(n(35451)),l=i(n(33410)),c=i(n(11516)),d=i(n(80771)),h=i(n(57172)),f=i(n(8030));e.default=c.default.extend({id:"lightbox",attributes:{"aria-modal":"true","aria-hidden":"true"},events:(r={},d.default.desktop()&&s.default.extend(r,{"click .close":"_close",click:"_backgroundClick"}),d.default.touch()&&s.default.extend(r,{"touchstart .close":"_close",touchstart:"_backgroundClick"}),r),lightboxWidth:null,lightboxHeight:null,opened:!1,initialize:function(){c.default.prototype.initialize.apply(this,arguments),this._render(),f.default.previewMode&&a.default(window).on("resize",s.default.debounce(s.default.bind(this._handleSizeChangesDueToZoom,this),1))},setSizeAndPosition:function(){if(this.opened){var t=l.default.getInstance();if(t.isActive()){var e=this.$el,n=this.$(".container"),i=t.getVerticalCenterOfVisibleArea(e.height())-this.lightboxHeight/2,r=Math.max(window.innerWidth-this.lightboxWidth,0)/2;e.css({padding:0}),n.css({transform:"none",top:i+"px",left:r+"px"})}if(d.default.smallWindow()){var o=this.lightboxHeight/this.lightboxWidth,a=Math.min(window.innerWidth,this.lightboxWidth);this.$el.addClass("fullscreen-lightbox"),this.$(".container").css({"max-height":o*a})}else this.$(".container").css({"max-width":this.lightboxWidth,"max-height":this.lightboxHeight});f.default.previewMode&&this._handleSizeChangesDueToZoom()}},_handleSizeChangesDueToZoom:function(){if(this.opened){var t=a.default(".adaptive-layouts-frame #main").get(0).getBoundingClientRect(),e=window.innerWidth/window.outerWidth;this.lightboxWidth=e*this.originalWidth,this.lightboxWidth=Math.min(t.width-2,this.lightboxWidth);var n=0;this.usesCloseButton&&(n=2*e*42),this.lightboxHeight=e*this.originalHeight,this.lightboxHeight=Math.min(t.height-n,this.lightboxHeight),this.usesCloseButton&&this.resizeCloseButton(e),this.$(".container").css({"max-width":this.lightboxWidth,"max-height":this.lightboxHeight}),this._adjustCenter()}},resizeCloseButton:function(t){var e=16*t,n=40*t;a.default(".ceros-lightbox .close").css({"font-size":e+"px","line-height":n+"px",height:n+"px",width:n+"px",top:"-"+n+"px"})},_adjustCenter:function(){var t=a.default(".adaptive-layouts-frame"),e=t.get(0).getBoundingClientRect().height/2-this.lightboxHeight/2,n=t.css("top"),i=this.$el.css("padding-top"),r=0;i&&n&&(n=s.default.trimEnd(n,"px"),i=s.default.trimEnd(i,"px"),r=s.default.toNumber(i)-s.default.toNumber(n),this.$(".container").css({top:e-r,transform:"translate(-50%,0)","-webkit-transform":"translate(-50%, 0%)"}))},_close:function(t){t&&t.preventDefault(),this.deactivate()},_backgroundClick:function(t){t.target==this.$el[0]&&this._close(t)},onKeypress:function(t){"Esc"!==t.key&&"Escape"!==t.key||this.deactivate()},_render:function(){this.$el.html(h.default)},openLightbox:function(t){s.default.isEmpty(t)?o.default.warn("missing options for lightbox"):s.default.isEmpty(t.url)?o.default.warn("missing URL for lightbox"):t.width?t.height?(t.showCloseButton?(this.$el.removeClass("without-close-button"),this.$el.addClass("with-close-button")):(this.$el.removeClass("with-close-button"),this.$el.addClass("without-close-button")),this.lightboxWidth=t.width,this.lightboxHeight=t.height,this.originalWidth=s.default.clone(t.width),this.originalHeight=s.default.clone(t.height),this.usesCloseButton=t.showCloseButton,this.$(".close").css("background-color",t.closeButtonBgColor),this.$(".close").css("color",t.closeButtonFgColor),this.$("iframe").attr("src",t.url),this.show(),this.focusLightbox(),this.setSizeAndPosition(),u.default.pause()):o.default.warn("missing height for lightbox"):o.default.warn("missing width for lightbox")},focusLightbox:function(){var t=this.$("iframe");t.on("load.focus",(function(){t[0].contentWindow.focus(),t.off("load.focus")}))},deactivate:function(){u.default.resume(),this.$("iframe").attr("src","about:blank"),this.hide()},hide:function(){this.$el.hide(),this.opened=!1,a.default(document).off("keyup.lightbox"),this.$el.attr("aria-hidden","true")},show:function(){this.$el.show(),this.opened=!0,a.default(document).on("keyup.lightbox",this.onKeypress.bind(this)),this.$el.attr("aria-hidden","false")}})},8529:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(41232)),s=i(n(8030)),u=i(n(97575)),l=i(n(17020)),c=i(n(48901)),d=i(n(14451)),h=i(n(67215)),f=i(n(92602)),p=i(n(95230)),g=i(n(43039)),m=i(n(39536)),v=i(n(51339)),y=i(n(74535)),_=n(48292),b=n(18930),w=i(n(8030)),T=i(n(52152)),S=i(n(58221)),E=i(n(48054)),O=i(n(16080)),P={},C=a.default.Model.extend({idAttribute:"slug",urlRoot:"/{api-version}/account/{scope}/pages",defaults:{sdkTags:[],sdkPayload:""},initialize:function(t,e){a.default.Model.prototype.initialize.call(this,t,e),this.documentVersion=e.documentVersion,this.pageIndex=e.pageIndex,this.layerOpBuilder=null,this.layerDocPersister=null,this.layerDictionaryAndHierarchyService=null},fetch:function(t){if(t=t||{},s.default.previewMode)return this._fetchFromShareJS();this._finishLoading();var e=new r.default.Deferred;return e.resolve(),e.promise()},getSlug:function(){return this.get("slug")},getSdkTags:function(){return this.get("sdkTags")},getSdkPayload:function(){return this.get("sdkPayload")},getDisabled:function(){return this.get("disabled")},getPageWidth:function(t){if(o.default.isUndefined(t))throw new Error("Document Version Model is required.");return t.getExperienceWidth()},getPageHeight:function(t){if(o.default.isUndefined(t))throw new Error("Document Version Model is required.");var e=this.getOverHeight(),n=t.getExperienceHeight();return e>n?e:n},getOverHeight:function(){return this.getOverrideablePropertyForCurrentVariant("overHeight")},_fetchFromShareJS:function(){var t=new r.default.Deferred;l.default.getConnection().openExisting(this._getDocumentName(),o.default.bind((function(e,n){if(e)throw u.default.error(e),t.reject(e),Error(e);this.layerOpBuilder=new _.EditorLayerOpBuilder(n),this.layerDocPersister=new b.EditorLayerDocPersister(n,this.layerOpBuilder),this.layerDictionaryAndHierarchyService=new T.default({layerDictionary:new S.default({doc:n}),layerHierarchies:new E.default({doc:n}),layerSaveHandler:function(){},layerOpBuilder:this.layerOpBuilder}),O.default.setDocumentVersion({doc:n}),n.on("remoteop",o.default.bind((function(t){this._processRemoteOps(n,t)}),this)),l.default.listenForReadOnlyConnectionLimitError(n),this.setDocSnapshotAndReconciledLayers(n.snapshot),this.documentVersion.on("resolveMedia",o.default.bind(this.refetchMedia,this,n)),t.resolve()}),this));var e=this._loadResolvedMedia();return r.default.when(t,e).done(o.default.bind((function(){this._finishLoading()}),this))},reconcileLayers:function(t,e){var n=this,i=[],r=v.default.getVariant();return o.default.reduce(t,(function(t,i){var a=o.default.cloneDeep(e[i.id]);return a&&(y.default.reconcileComponentForVariant(r,a),i.items&&i.items.length>0&&(a.items=n.reconcileLayers(i.items,e)),t.push(a)),t}),i),n.setReconciledVariant(r),i},getScranchorsForCurrentVariant:function(){var t=v.default.getVariant(),e=this.get("scranchors");return"desktop"!==t&&(e=this.get("overrides")[t].scranchors||e),e},setReconciledVariant:function(t){this.reconciledVariant=t},getReconciledVariant:function(){return this.reconciledVariant},_finishLoading:function(){if(!this.get("layers")){var t=this.get("layerHierarchies")[v.default.getVariant()],e=this.get("layerDictionary"),n=this.reconcileLayers(t,e);this.set("layers",n)}this.documentVersion.on("reload",this.resolveSmartgroupsAndMedia,this),this.resolveSmartgroupsAndMedia(),this.trigger("loaded")},_loadResolvedMedia:function(){return m.default.loadMediaForUri(this.getUri())},resolveSmartgroupsAndMedia:function(t){var e=this,n=function(t){o.default.each(t,(function(t){return t.smartgroupId?e.resolveSmartgroupReference(t):t.items&&t.items.length>0?n(t.items):e.resolveObjectMedia(t),t}))};n(t||e.get("layers")||[]),e.mediaPreloader=new p.default(e.documentVersion,e.get("layers"))},refetchMedia:function(t){this._loadResolvedMedia().done(o.default.bind((function(e){g.default.putMediaArray(e),this.setDocSnapshotAndReconciledLayers(t.snapshot),this.set("media",e),this.resolveSmartgroupsAndMedia(),this.triggerReload(t)}),this))},resolveSmartgroupReference:function(t){var e=this,n=this.documentVersion.getSmartgroupDefinition(t.smartgroupId);n?t.layers=o.default.map(n.layerHierarchies.desktop,o.default.bind((function(i){return i=function i(a){var s=n.layerDictionary[a.id];return(a=r.default.extend(!0,{},s,a)).id=C.buildSmartgroupInstanceObjectId(t.id,a.id),a.parentSmartGroup=t,"folder"===a.type?a.items=o.default.map(a.items,i):e.resolveObjectInSmartgroup(a,t.id),a}(i)}),this)):u.default.warn("Smartgroup "+t.smartgroupId+" could not be resolved")},resolveObjectInSmartgroup:function(t,e){t.originalObjectId=t.id,t.interactions&&o.default.each(t.interactions,o.default.bind((function(t){t.layerTargets&&(t.layerTargets=o.default.map(t.layerTargets,o.default.bind((function(t){return C.buildSmartgroupInstanceObjectId(e,t)}),this)))}),this)),this.resolveObjectMedia(t)},resolveObjectMedia:function(t){var e=null;switch(t.type){case"image-component":if(e=g.default.get(t.convertedVectorImage||t.image),w.default.previewMode&&t.convertedVectorImage&&!e){var n=g.default.get(t.image);n&&(e=n)}e&&(t.imageLoader=c.default.create(t,e));break;case"video-widget":if((e=g.default.get(t.poster))&&(t.posterLoader=c.default.create(t,e)),t.videoMedia=g.default.get(t.video),t.closedCaption){var i=g.default.get(t.closedCaption);i&&(t.closedCaptionsUrl=i.url)}break;case"text-component":t.fontLoader=new d.default(t),t.textMode=this.documentVersion.getTextMode();break;case"text-plus-component":t.fontLoader=new d.default(t)}},lazyPreloadAllMedia:function(t,e){this.mediaPreloader.lazyPreloadAllMedia(t,e)},preloadVisibleMedia:function(t,e){this.mediaPreloader.preloadVisibleMedia(t,e)},preloadImages:function(t){this.mediaPreloader.preloadImages(t)},preloadHiddenMedia:function(t){this.mediaPreloader.preloadHiddenMedia(t)},getlazyLoadingVerticalBreakpoint:function(){return this.mediaPreloader.getlazyLoadingVerticalBreakpoint()},_processRemoteOps:function(t,e){for(var n={},i=!1,r=!1,o=0;o<e.length;o++){var a=e[o];if(f.default.isLayerHierarchiesMoveOrDelete(a))r=!0;else if(!f.default.isLayerDictionaryDelete(a)&&!f.default.isBlacklistedPagePropertyForPreviewOps(a)){var s=f.default.getComponentFromOp(t,a);if(s&&delete P[s.id],f.default.isMediaReloadRequiredForComponent(a,s)){i=!0;break}!s||f.default.isPageReloadRequiredForComponent(a,s)?r=!0:n[s.id]=JSON.parse(JSON.stringify(s))}}i?this.refetchMedia(t):r?this.triggerPageReload(t):this.triggerEventForEachComponent(n)},triggerEventForEachComponent:function(t){o.default.each(t,o.default.bind((function(t,e){this.trigger("remote",{id:e,options:t})}),this))},triggerReload:function(t){this.trigger("reload")},setDocSnapshotAndReconciledLayers:function(t){var e=JSON.parse(JSON.stringify(t));this.set(e,{silent:!0});var n=this.reconcileLayers(o.default.cloneDeep(e.layerHierarchies[v.default.getVariant()]),e.layerDictionary);this.set("layers",n)},triggerPageReload:function(t){this.setDocSnapshotAndReconciledLayers(t.snapshot),this.resolveSmartgroupsAndMedia(),this.triggerReload(t)},_getDocumentName:function(){return this.getUri().replace(/\//g,"_")},getPageIndex:function(){return this.pageIndex},getAllSmartgroupInstanceLayerIds:function(t,e){return this.getAllSmartgroupInstanceComponentIds(t,e)},getAllSmartgroupInstanceComponentIds:function(t,e){var n=e||this.get("layerDictionary"),i=o.default.filter(n,"smartgroupId");return o.default.reduce(i,o.default.bind((function(e,n){var i=this.getSmartgroupLayerDictionary(n.smartgroupId);return o.default.some(i,(function(e){return e.id===t}))&&e.push(C.buildSmartgroupInstanceObjectId(n.id,t)),e}),this),[])},getSmartgroupLayerDictionary:function(t){return o.default.get(this.documentVersion.getSmartgroupDefinition(t),"layerDictionary")},getUri:function(){return a.default.Model.prototype.url.call(this).replace(/\{api-version\}/,s.default.apiVersion).replace(/\{scope\}/,s.default.accountSlug)},updateLayerDictionaryFromRemoteChange:function(t){var e=this.get("layerDictionary");e[t.id]=o.default.cloneDeep(t.options),this.set("layerDictionary",e)},findLayerById:function(t){if(!t)return null;if(!P.hasOwnProperty(t)){var e=function(n){for(var i=0;i<o.default.get(n,"length");++i){if(n[i].id===t)return n[i];if(n[i].items||n[i].layers){var r=n[i].items||n[i].layers,a=e(r);if(a)return a}}return null};P[t]=e(this.get("layers"))}return P[t]}},{layerIsComponentWithId:function(t,e){return"folder"===e.type?o.default.some(e.items,o.default.partial(C.layerIsComponentWithId,t)):e.id===t},buildSmartgroupInstanceObjectId:function(t,e){return t+"|"+e},extractObjectIdFromSmartgroupInstanceId:function(t){var e=t.indexOf("|");return-1!==e&&(t=t.substr(e+1)),t},findTopmostFolderContent:function(t){for(var e=null,n=0;n<o.default.get(t,"items.length",0);++n){var i=t.items[n];"folder"===i.type&&(i=C.findTopmostFolderContent(i)),e?i.y===e.y?e=i.y<e.y?i:e:i.y<e.y&&(e=i):e=i}return e}});o.default.extend(C.prototype,h.default),e.default=C},14451:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=i(n(97575)),s=i(n(35451)),u=i(n(29845)),l=n(93786),c="variant-loaded",d="variant-failed",h=function(t){var e=this;this.initVariants=function(t){var n=new Set;e.variants=[];var i=function(t){var i=t.guid;n.has(i)||(n.add(i),e.variants.push(t))},o=function(t){var n=e.getVariant(t);i(n)},a=function(t,n){r.default.each(n,(function(n){var o=r.default.extend({},t,n),a=e.getVariant(o);i(a)}))};t.defaultSpan&&o(t.defaultSpan),a(t.defaultSpan,t.textSpans),r.default.each(t.states,r.default.bind((function(e){var n=e.config||e;n.defaultSpan&&o(r.default.extend({},t.defaultSpan,n.defaultSpan)),n.textSpans&&a(n.defaultSpan||t.defaultSpan,n.textSpans)}),e)),e.resources=null},this.initVariants(t)};r.default.extend(h.prototype,o.default.Events,{getVariant:function(t){return u.default.resolveFont(t.variantGuid)},getAllVariants:function(){return this.variants},load:function(){null===this.resources&&(this.resources={},r.default.each(this.variants,r.default.bind((function(t){if(t.isBuiltIn())this.trigger(c,t);else if(t.isUploaded()){var e=s.default.addCustomWebFont(t.getCssFamilyName(),t.cssUrl,void 0);e.getPromise().done(r.default.bind((function(){this.trigger(c,t)}),this)),e.getPromise().fail(r.default.bind((function(){this.trigger(d,t)}),this)),this.resources[t.guid]=e}else{var n=t.getFontFamily().getFamilyName()+":"+l.FontUtil.buildGoogleVariantName(t.getFontWeight(),t.getFontStyle()),i=s.default.addGoogleWebFont(n);i.getPromise().done(r.default.bind((function(){this.trigger(c,t)}),this)),i.getPromise().fail(r.default.bind((function(){this.trigger(d,t)}),this)),this.resources[t.guid]=i}}),this)))},waitForFontToLoad:function(t){var e=this;return new Promise((function(n,i){var o="Variant with uuid "+t+" was never loaded";e.resources&&!e.resources[t]&&i(o);var a=e.resources[t];a.getPromise().done(r.default.bind((function(){n()}),e)),a.getPromise().fail(r.default.bind((function(){i(o)}),e))}))},loadNow:function(){this.load(),r.default.each(this.resources,(function(t){t.loadNow()}))},reload:function(t){this.initVariants(t),this.loadNow()},onVariantLoaded:function(t,e){r.default.each(this.getAllLoadedVariants(),(function(n){t.call(e,n)})),this.on(c,t,e)},onLoadFail:function(t,e){this.hasFailedVariant()&&t.call(e),this.on(d,t,e)},getAllLoadedVariants:function(){return null===this.resources?(a.default.warn("Variants were never loaded"),[]):r.default.filter(this.variants,r.default.bind((function(t){return!!t.isBuiltIn()||r.default.has(this.resources,t.guid)&&"resolved"===this.resources[t.guid].getPromise().state()}),this))},hasFailedVariant:function(){return null===this.resources?(a.default.warn("Variants were never loaded"),!1):r.default.some(this.variants,r.default.bind((function(t){return!t.isBuiltIn()&&r.default.has(this.resources,t.guid)&&"rejected"===this.resources[t.guid].getPromise().state()}),this))}}),e.default=h},41207:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=i(n(97575)),s=function(t,e){this.componentWidth=t.width,this.componentHeight=t.height,this.componentId=t.id,this.currentResource=null,this.url=e.url};r.default.extend(s.prototype,o.default.Events,{IMAGE_LOADED_EVENT:"image-loaded",LOW_RES_IMAGE_LOADED_EVENT:"low-res-image-loaded",url:null,loadLowRes:function(t){throw"implement loadLowRes in subclasses"},load:function(t){throw"implement load in subclasses"},getCurrentUrl:function(){throw"implement getCurrentUrl in subclasses"},loadNow:function(t){this.load(t),this.currentResource&&this.currentResource.loadNow()},loadLowResNow:function(t){this.loadLowRes(t),this.currentResource&&this.currentResource.loadNow()},onImageLoaded:function(t,e){this.currentResource?("resolved"===this.currentResource.getPromise().state()&&t.call(e),this.bind(this.IMAGE_LOADED_EVENT,t,e)):a.default.warn("No resource was ever loaded",{componentId:this.componentId})},onLowResImageLoaded:function(t,e){this.currentResource?("resolved"===this.currentResource.getPromise().state()&&t.call(e),this.bind(this.LOW_RES_IMAGE_LOADED_EVENT,t,e)):a.default.warn("No resource was ever loaded",{componentId:this.componentId})},getFullResolutionUrl:function(){return this.url},getCurrentResource:function(){return this.currentResource}}),e.default=s},48901:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(68843)),o=i(n(19690)),a=i(n(81873));e.default={create:function(t,e){return r.default.isVectorBased(t.contentType)?new o.default(t,e):new a.default(t,e)}}},81873:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(35451)),a=i(n(67189)),s=i(n(60115)),u=i(n(41207)),l=.25,c=function(t,e){u.default.call(this,t,e),this.imageId=e.id,s.default.isValidCropObject(t.crop)?(this.cropDimensions=t.crop,this.originalWidth=this.cropDimensions.width,this.originalHeight=this.cropDimensions.height):(this.originalWidth=r.default.get(e,["original","width"],null),this.originalHeight=r.default.get(e,["original","height"],null))};r.default.extend(c.prototype,u.default.prototype,{imageId:null,originalWidth:null,originalHeight:null,currentUrl:null,currentWidth:-1,cropDimensions:null,loadLowRes:function(t){var e=this.componentWidth*t.adjustedRatio,n=this.componentHeight*t.adjustedRatio,i=this._calculateLowResDimensions(e,n);i.width<=50&&i.height<=50?this.load(t):this._loadLowResWidth(i.width,t)},load:function(t){var e=Math.round(this.componentWidth*t.ratio),n=a.default.calculateWidthForDevicePixelRatio(e);this.loadWidth(n).done(r.default.bind((function(){this.trigger(this.IMAGE_LOADED_EVENT)}),this))},getCurrentUrl:function(){return this.currentUrl},loadWidth:function(t){if(this.currentResource){if(t<=this.currentWidth)return this.currentResource.getPromise();this.currentResource.cancel()}return this.currentResource=o.default.addRasterImage(this.imageId,t,this.cropDimensions),this.currentResource.getPromise().done(r.default.bind((function(t){this.currentUrl=t.getSrc(),this.currentWidth=t.getWidth()}),this))},_loadLowResWidth:function(t,e){this.loadWidth(t).done(r.default.bind((function(){this.trigger(this.LOW_RES_IMAGE_LOADED_EVENT),this.loadNow(e)}),this))},_calculateLowResDimensions:function(t,e){var n,i,r=Math.min(t,this.originalWidth),o=Math.min(e,this.originalHeight),a=r/this.originalWidth,s=o/this.originalHeight,u=this.originalWidth/this.originalHeight;return a<s?(n=Math.ceil(r*l),i=Math.ceil(r*u*l)):(n=Math.ceil(o*u*l),i=Math.ceil(o*l)),{width:n,height:i}}}),e.default=c},19690:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(54400)),a=i(n(41207)),s=i(n(35451)),u=function(t,e){a.default.call(this,t,e)};r.default.extend(u.prototype,a.default.prototype,{loadLowRes:function(t){this.load(t)},load:function(t){if(!this.currentResource){var e=o.default.replaceProtocolIfHttpsRequest(this.url);this.currentResource=s.default.addVectorImage(e,t.shouldRenameCssClassesAndIds),this.currentResource.getPromise().done(r.default.bind((function(){this.trigger(this.IMAGE_LOADED_EVENT)}),this))}},getCurrentUrl:function(){return this.url}}),e.default=u},41554:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={on:function(t,e){throw new Error("on() must be defined by child class")},getPosition:function(){throw new Error("getPosition() must be defined by child class")},getLength:function(){throw new Error("getLength() must be defined by child class")},isPlaying:function(){throw new Error("isPlaying() must be defined by child class")},getCurrentSource:function(){throw new Error("getCurrentSource() must be defined by child class")}}},49802:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41554)),a=function(t){this.$videoElement=t};r.default.extend(a.prototype,o.default,{on:function(t,e){this.$videoElement.on(t,e)},getPosition:function(){return this.$videoElement.currentTime()},getLength:function(){return this.$videoElement.duration()},isPlaying:function(){return!1===this.$videoElement.ended()&&!1===this.$videoElement.paused()&&this.$videoElement.currentTime()>0},getCurrentSource:function(){return this.$videoElement.currentSource()}}),e.default=a},3549:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(43700)),a=i(n(8030)),s=n(66103),u=new o.default.Module({id:"page",description:"",version:"1.0",dependencies:{splashScreen:"1.0"},publishedEvents:{PAGE_COMPONENT_INTERACTION:"page.component.interaction",PAGE_COMPONENT_HOVER_INTERACTION:"page.component.hover.interaction",PAGE_COMPONENT_CLICKED:"page.component.clicked",PAGE_COMPONENT_FORM_SUBMITTED:"page.component.form_submitted",PAGE_PRELOAD_READY:"page.preload_ready",PAGE_ACTIVATED:"page.activated",PAGE_SCROLL:"page.scroll",PAGE_ACTION_SCROLL_TO:"page.action.scroll_to",PAGE_ACTION_TOGGLE_REDUCED_MOTION:"page.action.toggle_reduced_motion",PAGE_ACTION_GO_TO_PREV_PAGE:"page.action.go_to_prev_page",PAGE_ACTION_GO_TO_NEXT_PAGE:"page.action.go_to_next_page",PAGE_ACTION_GO_TO_PAGE:"page.action.go_to_page",PAGE_ACTION_ENABLE_DISABLE_PAGES:"page.action.enable_disable_pages",PAGE_ACTION_GO_TO_URL:"page.action.go_to_url",PAGE_ACTION_OPEN_LIGHTBOX:"page.action.open_lightbox",PAGE_ACTION_OPEN_PRODUCT_PANEL:"page.action.open_product_panel",PAGE_ACTION_OPEN_SHOPPING_CART:"page.action.open_shopping_cart",PAGE_ACTION_LAYER_VISIBILITY:"page.action.layer_visibility",PAGE_ACTION_INVOKE_ANIMATION:"page.action.invoke.animation",PAGE_ACTION_PLAY_AUDIO:"page.action.play_audio",PAGE_ACTION_SHARE_PAGE:"page.action.share.page",PAGE_ACTION_CHANGE_STATE:"page.component.change_state",PAGE_VIDEO_PLAY:"page.video.play",PAGE_VIDEO_PROGRESS_TIME:"page.video.progress_time",PAGE_VIDEO_PROGRESS_PERCENT:"page.video.progress_percent",PAGE_RELOAD:"page.reload",PAGE_COMPONENT_ANIMATION_START:"page.component.animation.start",PAGE_COMPONENT_ANIMATION_END:"page.component.animation.end",TIMED_INTERACTION:"page.component.timed.interaction",PAGE_ACTION_BRING_TO_FRONT:"page.action.bring_to_front"},INTERACTION_TRIGGERS:{CLICK:"click",MOUSEDOWN:"mouseDown",MOUSEUP:"mouseUp",HOVER:"hover",VIEW:"view",SUBMIT:"submit"},delegate:{createPageView:function(t,e){var n={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};return e=r.default.extend({enableLoadingThumbnail:!1,enableLoadingSpinner:!1,allowCommerceIntegration:a.default.allowCommerceIntegration},n,e||{}),new s.PageView(r.default.extend(e,{module:u,model:t}))}}});e.default=u},74433:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(9069)),s=n(5401);function u(t,e){t.isComponent()&&t.isAnyPartOfComponentWithinBoundaries(e)&&t.createTimedTriggers(),t.childViews&&o.default.each(t.childViews,(function(t){u(t,e)}))}function l(t){null!==t&&!1!==t.visible&&(t.reset(),t.isComponent()&&t.activateAndRunEntryAnimations(),t.childViews&&o.default.each(t.childViews,(function(t){l(t)})))}function c(t){t&&(t.setVisible(!0),t.runningExitAnimations&&(t.cancelHide=!0,t.isComponent()&&t.resetTimers()),t.isComponent()&&t.show(),o.default.isEmpty(t.childViews)||o.default.each(t.childViews,(function(t){t.visible&&c(t)})))}function d(t){t.cancelHide=!1,o.default.each(t.childViews,(function(t){d(t)}))}function h(t){if(t){if(t.cancelHide)return void d(t);t.setVisible(!1),t.hide(),f(t)}}function f(t){t.isComponent()&&t.resetTimers(),t.childViews&&o.default.each(t.childViews,(function(t){f(t)}))}function p(t){t&&(t.setVisible(!1),t.hide(),g(t))}function g(t){t.isComponent()&&(t.resetTimers(),t instanceof s.VideoComponentView&&t.disableVideoTrackingAndAutoPlayingVideo()),t.childViews&&o.default.each(t.childViews,(function(t){g(t)}))}function m(){}m.prototype={activateAndRunEntryAnimationsForAllVisible:function(t,e){var n=function(t){o.default.each(t,(function(t){if(t.isComponent()&&(o.default.isUndefined(t.visible)||t.visible)){var i=t.isAnyPartOfComponentWithinBoundaries(e);i&&t.setWasInsideVisibleBoundaries(!0),(i||t.isOutsideOfPage())&&t.activateAndRunEntryAnimations()}t.childViews&&t.visible&&n(t.childViews)}))};n(t)},createTimedTriggers:function(t,e){o.default.each(t,(function(t){t.isAnyPartOfComponentWithinBoundaries(e)&&t.createTimedTriggers()}))},whenVisibleBoundariesChange:function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=i.getComponentBoundaries(),o=i.isAnyPartOfComponentWithinBoundaries(e,r),a=i.getWasInsideVisibleBoundaries(),s=!a&&o;if(a&&!o?(i.setWasInsideVisibleBoundaries(!1),i.whenLeavingVisibleBoundaries()):s&&(i.setWasInsideVisibleBoundaries(!0),i.createTimedTriggers()),o){if(!i.visible||i.areAnyParentsNotVisible())continue;i.isAnyPartOfComponentWithinEntryAnimationBoundaries(e,r)&&!i.isOutsideOfPage()&&i.activateAndRunEntryAnimations()}}},resetHoverInteractionViewsToInitialVisibility:function(t,e,n){for(var i=function(t,e,n){for(var i=[],r=0;r<t.length;r++){var s=t[r];if(!s.isAnyPartOfComponentWithinBoundaries(n)){var u=o.default.flatMap(s.getResettableHoverInteractions(),l);u.length>0&&(i.push(s),i=i.concat(u))}}function l(t){if(!t.resetWhenScrolledOffscreen)return[];var n=o.default.map(t.layerTargets,(function(t){return a.default.find(e,t)}));return o.default.every(n,c)?n:[]}function c(t){var e=[];return function t(n){n.isComponent()?e.push(n):o.default.each(n.childViews,(function(e){t(e)}))}(t),o.default.every(e,(function(t){return!(t&&t.isAnyPartOfComponentWithinBoundaries(n))}))}return i}(t,e,n),r=0;r<i.length;r++){var s=i[r];o.default.isUndefined(s.initiallyVisible)||s.initiallyVisible?c(s):p(s)}},resetAnimationsAndInitialVisibility:function(t){var e=function(t){o.default.each(t,(function(t){t.childViews&&e(t.childViews),o.default.isUndefined(t.initiallyVisible)||t.initiallyVisible?c(t):h(t),t.reset()}))};e(t)},restartRepeatEntryAnimationsForAllVisibleOrViewed:function(t,e){var n=function(t){o.default.each(t,(function(t){if(t.isComponent()&&(o.default.isUndefined(t.visible)||t.visible)&&t.shouldRestartEntryAnimations){var i=t.isAnyPartOfComponentWithinBoundaries(e);i&&t.setWasInsideVisibleBoundaries(!0),(!i&&!t.options.animationsReplayOnScroll||i||t.isOutsideOfPage())&&t.restartRepeatEntryAnimations()}t.childViews&&t.visible&&n(t.childViews)}))};n(t)},showChildViewIfAllParentsVisible:function(t,e){t.areAllParentsVisible()&&(c(t),u(t,e),l(t))},hideAllChildViewsAndRunExitAnimations:function(t){o.default.each(t,(function(t){if(!t.runningExitAnimations){var e=t.runAllChildViewExitAnimations();r.default.when.apply(r.default,e).done((function(){h(t),function(t){t.reset(),t.childViews&&o.default.each(t.childViews,(function(t){t.reset()}))}(t)}))}}))},resetWasVisible:function(t){o.default.each(t,(function(t){t.setWasInsideVisibleBoundaries(!1)}))}},e.default=m},92254:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(97575)),o=i(n(44422)),a=i(n(7396)),s=i(n(4652)),u=i(n(12254)),l=i(n(28877)),c=i(n(66594)),d=i(n(58514)),h=i(n(25234)),f=i(n(44434)),p=i(n(9238)),g=i(n(27435)),m=i(n(71868)),v=i(n(68843)),y=n(86238),_=n(28192),b=n(82934),w=n(38453),T=n(49113),S=n(31454),E=n(36561),O=n(12746),P=n(83530);e.default={createComponentFromObject:function(t){var e=null;switch(t.type){case"html-component":e=new u.default(t);break;case"chartblocks-chart-component":e=new l.default(t);break;case"hubspot-form-component":e=new c.default(t);break;case"marketo-form-component":e=new d.default(t);break;case"hotspot-component":e=new h.default(t);break;case"hotspot-path-component":e=new _.HotspotPathComponentView(t);break;case"canvas-background-component":e=new o.default(t);break;case"shape-component":switch(t.shape){case"square":e=new a.default(t);break;case"circle":e=new b.CircleComponentView(t);break;case"triangle":case"right-triangle":e=new T.TriangleComponentView(t);break;default:e=new s.default(t)}break;case"line-component":e=new w.LineComponentView(t);break;case"image-component":e=v.default.isVectorBased(t.contentType)?new O.VectorImageComponentView(t):new f.default(t);break;case"smartgroup":e=new g.default(t);break;case"group":e=new m.default(t);break;case"mask-group":e=new P.MaskGroupView(t);break;case"text-component":e=new S.TextComponentView(t);break;case"text-plus-component":e=new E.TextPlusComponentView(t);break;case"video-widget":e=p.default.create(t);break;case"custom-shape-component":e=new y.CustomShapeComponentView(t);break;default:return r.default.warn("Object type not supported:",t.type),null}return e}}},95230:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(8030)),s=i(n(80771)),u=i(n(55099)),l=i(n(68843)),c=function(t,e){this.documentVersion=t,this.layers=e,this.visibleMedia=[],this.hiddenMedia=[],this.visibleImages=[],this.hiddenImages=[],this.sortMediaForLayers(this.layers,!1,0),this.visibleMedia=o.default.orderBy(this.visibleMedia,"absoluteY"),this.hiddenMedia=o.default.orderBy(this.hiddenMedia,"absoluteY")};c.prototype={lazyPreloadAllMedia:function(t,e){var n;this.lazyLoadingVerticalBreakpoint=this.getHighPriorityMediaLoadVerticalBreakpoint(t);var i=null,r=0;for(n=0;n<this.visibleMedia.length&&(r=n,(i=this.visibleMedia[n]).absoluteY<=this.lazyLoadingVerticalBreakpoint);n++)i.layer.isInInitialViewport=!0,this.loadMediaItem(i,t,e);var o=0;for(n=0;n<this.hiddenMedia.length&&(o=n,(i=this.hiddenMedia[n]).absoluteY<=this.lazyLoadingVerticalBreakpoint);n++)i.layer.isInInitialViewport=!0,this.loadMediaItem(i,t,e);for(n=r;n<this.visibleMedia.length;n++)i=this.visibleMedia[n],this.loadMediaItem(i,t,e);for(n=o;n<this.hiddenMedia.length;n++)i=this.hiddenMedia[n],this.loadMediaItem(i,t,e)},preloadVisibleMedia:function(t,e){this.loadMediaItems(this.visibleMedia,t,e)},preloadImages:function(t){this.loadMediaItems(this.visibleImages,t,!1),this.loadMediaItems(this.hiddenImages,t,!1)},preloadHiddenMedia:function(t){this.loadMediaItems(this.hiddenMedia,t,!1)},getlazyLoadingVerticalBreakpoint:function(){return this.lazyLoadingVerticalBreakpoint},sortMediaForLayers:function(t,e,n){n||(n=0),o.default.each(t,o.default.bind((function(t){if(this.isContainerLayer(t)){var i=e||!t.visible;this.sortMediaForLayers(this.getChildLayers(t),i,this.isSmartGroupOrGroup(t)?n+t.y:n)}else this.sortMediaForLayer(t,e,n)}),this))},sortMediaForLayer:function(t,e,n){if(this.getLoader(t)){var i={layer:t,absoluteY:t.y+n};e||!t.visible?(this.hiddenMedia.push(i),this.isImage(t)&&this.hiddenImages.push(i)):(this.visibleMedia.push(i),this.isImage(t)&&this.visibleImages.push(i))}},getHighPriorityMediaLoadVerticalBreakpoint:function(t){var e=r.default(window).height()/t.ratio;if(a.default.isEmbedded&&a.default.heightOverride){var n=u.default.getDimensions();if(s.default.desktop())e=Math.min(e,n.height/t.ratio);else{var i=n.height/n.width;s.default.landscape()&&i>1&&(i=1/i),e=this.documentVersion.getExperienceWidth()*i}}return e},isSmartGroupOrGroup:function(t){return!(!t.smartgroupId&&"group"!==t.type&&"mask-group"!==t.type)},getChildLayers:function(t){return t.smartgroupId?t.layers:t.items},isContainerLayer:function(t){return!(!t.smartgroupId&&"folder"!==t.type&&"group"!==t.type&&"mask-group"!==t.type)},getLoader:function(t){return t.imageLoader||t.posterLoader||t.fontLoader},isImage:function(t){return!(!t.imageLoader&&!t.posterLoader)},shouldLoadLowRes:function(t){return o.default.isFunction(this.getLoader(t).loadLowRes)&&!t.posterLoader&&this.documentVersion.shouldLoadLowRes()},loadMediaItems:function(t,e,n){o.default.each(t,o.default.bind((function(t){this.loadMediaItem(t,e,n)}),this))},loadMediaItem:function(t,e,n){t&&t.layer&&(e.shouldRenameCssClassesAndIds=!l.default.hasCurrentConvertedVectorImageUri(l.default.VECTOR_IMAGE_CONVERSION_VERSION,t.layer.convertedVectorImage));var i=this.getLoader(t.layer);this.shouldLoadLowRes(t.layer)?n?i.loadLowResNow(e):i.loadLowRes(e):n?i.loadNow(e):i.load(e)}},e.default=c},79078:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(87557)),a=n(90597);e.default={createPreRenderList:function(t){var e=t.model.get("layers"),n=a.Scranchor.scranchorsForPage(t);if(!e)return n;var i=function(t,e){t&&r.default.each(t,(function(t){var r=new o.default(e,t);n.push(r),t.smartgroupId?i(t.layers,r):function(t){return"folder"===t.type||"group"===t.type||"mask-group"===t.type}(t)&&i(t.items,r)}))},s=new o.default(null,null);return s.childViews=t.childViews,i(e,s),n.reverse()}}},9069:function(t,e){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var i=new Map;e.default={find:function(t,e){return i.has(t)||function(t){i.set(t,new Map);var e=function(r){var o,a;try{for(var s=n(r),u=s.next();!u.done;u=s.next()){var l=u.value;i.get(t).set(l.id,l),l.childViews&&e(l.childViews)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}};e(t)}(t),i.get(t).get(e)||null},reset:function(){i.clear()}}},37942:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(80771)),o=i(n(65311)),a=i(n(96486)),s=i(n(97575)),u=n(21833),l=i(n(92254)),c=i(n(79078)),d=n(52348),h=i(n(67551)),f=n(54120),p=i(n(52272)),g=n(57824),m=function(t){this.prerenderDeferred=new o.default.Deferred,this.prerenderWorkQueue=[],this.accessibilityOverrides=new f.PrerenderAccessibilityOverride(t),this.pageView=t,this.pageIndex=this.pageView.getPageIndex(),this.nextZIndex=1,this.docFrag=document.createDocumentFragment(),this.pinnedDocFrag=document.createDocumentFragment(),this.automaticHoverInteractionCollection=t.automaticHoverInteractionCollection};m.prototype={prerender:function(){s.default.debug("Pre-rendering page idx: "+this.pageIndex);var t=Date.now();for(this.isPrerenderQueueEmpty()&&this.initPrerenderQueue();!this.isPrerenderQueueEmpty();)this.prerenderNextWorkItem();for(var e=this.accessibilityOverrides.applyOverrides();!e.next().done;);this.automaticHoverInteractionCollection.prepareAccessibleHoverTargets(),s.default.debug("Prerender complete for page idx: "+this.pageIndex+". Elapsed time: "+(Date.now()-t)+" ms"),this.prerenderDeferred.resolve()},lazyPrerender:function(){if(!this.isPrerendered()){var t=Date.now();s.default.debug("Starting lazy prerender on page idx: "+this.pageIndex),this.isPrerenderQueueEmpty()&&this.initPrerenderQueue();var e=!1,n=this.accessibilityOverrides.applyOverrides(),i=function(t){return Date.now()-t<10},r=a.default.bind((function(){var o=Date.now();if(!this.isPrerendered()){if(this.isPrerenderQueueEmpty())do{e=n.next().done}while(!e&&i(o));else do{this.prerenderNextWorkItem()}while(!this.isPrerenderQueueEmpty()&&i(o));this.isPrerenderQueueEmpty()&&e?(this.automaticHoverInteractionCollection.prepareAccessibleHoverTargets(),s.default.debug("Lazy prerender complete for page idx: "+this.pageIndex+". Elapsed time: "+(Date.now()-t)+" ms"),this.prerenderDeferred.resolve()):window.requestAnimationFrame(r)}}),this);window.requestAnimationFrame(r)}return this.prerenderDeferred.promise()},initPrerenderQueue:function(){this.pageView.resetPageForPrerender(),this.nextZIndex=1,this.docFrag=document.createDocumentFragment(),this.pinnedDocFrag=document.createDocumentFragment(),this.prerenderWorkQueue=c.default.createPreRenderList(this.pageView),this.prerenderWorkQueue.unshift(this.getCanvasBackgroundFromQueue(this.prerenderWorkQueue)),s.default.debug("Prerender queue for page idx: "+this.pageIndex+" has "+this.prerenderWorkQueue.length+" items.")},getCanvasBackgroundFromQueue:function(t){for(var e,n=t.length-1;n>=0;--n){var i=t[n];if(e="canvas-background-component"===i.model.type?t.splice(n,1)[0]:this.getCanvasBackgroundFromQueue(i.childViews))break}return e},addViewToDOM:function(t,e){var n=e.$el.hasClass("group")||e.$el.hasClass("hover-area")?h.default.determineEffectivePositionOf(e.$el):e.options,i=n.x,r=n.y;h.default.insert(t,e.$el[0],i,r),e.hoverArea&&(this.addViewToDOM(t,e.hoverArea),this.setObjectViewToNextHighestZIndex(e.hoverArea))},addComponentToDOM:function(t){t.options.fixedPosition&&r.default.desktop()?this.addViewToDOM(this.pinnedDocFrag,t):this.addViewToDOM(this.docFrag,t)},prerenderObjectView:function(t,e){var n=this.createObjectView(t);return null!==n&&(n.render(),n.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(n),n.hasResettableHoverInteractions()&&this.pageView.addResetWhenOffscreenHoverTrigger(n),n.options.fixedPosition&&this.pageView.setFixedPosition(n),e||(this.setObjectViewToNextHighestZIndex(n),this.addComponentToDOM(n))),n},createObjectView:function(t){var e=this;return t=this.pageView.applyPageContext(t),l.default.createComponentFromObject(t,(function(t,n){return e.pageView.model.layerDocPersister.saveModelChanges(n)}))},prerenderFolderView:function(t,e){var n=new u.FolderView(t);return n.childViews=e,a.default.each(n.childViews,a.default.bind((function(t){n.isInitiallyVisible()||t.hide(),t.addParentView(n),t.addContainerId(n.getId())}),this)),n},prerenderGroupView:function(t,e){var n=this,i=this.createObjectView(t);return i.childViews=e,i.childrenUseBlendingModes()?this.addBlendingModesFocusClass(i):this.setObjectViewToNextHighestZIndex(i),"mask-group"===t.type?(this.reArrangeMaskGroupViews(i),i.render()):(a.default.each(e,(function(t){var e=t;e.addParentView(i),e.addContainerId(i.getId()),e.childrenUseBlendingModes()||n.setObjectViewToNextHighestZIndex(e),e.hasActiveBlendingMode()&&n.addBlendingModesFocusClass(e),n.addViewToDOM(i.$el[0],e)})),i.render()),i.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(i),i.hasResettableHoverInteractions()&&this.pageView.addResetWhenOffscreenHoverTrigger(i),i.options.fixedPosition&&this.pageView.setFixedPosition(i),this.addComponentToDOM(i),i},reArrangeMaskGroupViews:function(t){var e=t.getMaskView(),n=t.getWrappedView();e.addParentView(t),e.addContainerId(t.getId()),n.addParentView(e),n.addContainerId(e.getId()),this.setObjectViewToNextHighestZIndex(e),this.setObjectViewToNextHighestZIndex(n),t.options.interactions&&t.options.interactions.length&&e.setMaskInteractions(t.options.interactions),n.hasBlendingMode()&&t.isAlphaMask()&&e.$el.css("mix-blend-mode",n.blendingMode),this.addViewToDOM(e.$el[0],n),this.addViewToDOM(t.$el[0],e)},prerenderSmartgroupView:function(t,e){var n=this;t=this.pageView.applyPageContext(t);var i=l.default.createComponentFromObject(t);return i.childViews=e,this.setObjectViewToNextHighestZIndex(i),function t(e){a.default.each(e,(function(e){if("folder"===e.options.type)t(e.childViews);else{var r=e;n.setObjectViewToNextHighestZIndex(r),n.addViewToDOM(i.$el[0],r),"image-component"===e.options.type&&e.$el.css("mix-blend-mode",d.BlendingModes.getDefault()),r.setParentSmartgroup(i),r.updatePositionForHoverArea()}}))}(i.childViews),i.render(),i.addContainerId(i.id),i.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(i),i.options.fixedPosition&&this.pageView.setFixedPosition(i),this.addComponentToDOM(i),i},setObjectViewToNextHighestZIndex:function(t){t.setInitialZIndex(this.nextZIndex),this.nextZIndex++},addBlendingModesFocusClass:function(t){var e=r.default.isBrowserFirefox()?"blending-modes-focus-mozilla":"blending-modes-focus";t.$el.addClass(e)},isPrerendered:function(){return"resolved"===this.prerenderDeferred.state()},getPrerenderPromise:function(){return this.prerenderDeferred.promise()},getDocumentFragment:function(){return this.docFrag},getPinnedDocumentFragment:function(){return this.pinnedDocFrag},isPrerenderQueueEmpty:function(){return!this.prerenderWorkQueue||0===this.prerenderWorkQueue.length},prerenderNextWorkItem:function(){var t=this.prerenderWorkQueue.shift();this.prerenderSingleWorkItem(t),t&&t.model&&p.default.hasFeature(g.FeatureFlagName.ACCESSIBILITY)&&this.accessibilityOverrides.analyzeLayerForOverrides(t)},prerenderSingleWorkItem:function(t){if(t)if(t.isSmartgroupLayer()){var e=this.prerenderSmartgroupView(t.model,t.childViews);t.setView(e)}else if(t.isFolder()){var n=this.prerenderFolderView(t.model,t.childViews);t.setView(n)}else if(t.isGroup()){var i=this.prerenderGroupView(t.model,t.childViews);t.setView(i)}else if(t.isScranchor())h.default.insert(this.docFrag,t.$el[0],t.x,t.y,!0),t.adjustYCoordinateWithinGroup();else{var r;r=t.findParentSmartgroupOrGroupModel();var o=this.prerenderObjectView(t.model,r);t.setView(o)}}},e.default=m},51339:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(96486)),a=i(n(65311)),s=i(n(41232)),u=i(n(80771)),l=i(n(8030)),c=i(n(97575)),d=i(n(35425)),h=i(n(33410)),f="device-type",p=function(t){var e=d.default.getLayoutSettings();return d.default.doesVariantExist("mobile")&&t<=e.maxMobileWidthBreakpoint?"mobile":d.default.doesVariantExist("tablet")&&t<=e.maxTabletWidthBreakpoint?"tablet":"desktop"};function g(){var t=u.default.deviceType();return"smartphone"===t&&(t="mobile"),t}var m=function(t){var e=d.default.getLayoutSettings();return 0!==d.default.getNumberOfExistingVariants()&&d.default.isValidVariantName(t)?"desktop"===t||d.default.doesVariantExist(t)?t:v(e.deviceTypeMissingVariantFallback):"desktop"},v=function(t){return d.default.doesVariantExist(t)?t:(c.default.info("FALLBACK RECTIFIED"),"tablet"===t?"desktop":"mobile"===t&&d.default.doesVariantExist("tablet")?"tablet":"desktop")},y=function(){if(!l.default.allowAdaptiveLayouts)return"desktop";if(!d.default.isDocVersionSet())throw new Error("Trying to resolve variant before DocVersion set");return 0===d.default.getNumberOfExistingVariants()?"desktop":l.default.previewMode?function(){var t=d.default.getLayoutSettings(),e=g(),n=e!==u.default.DEVICE_TYPE_DESKTOP;if(t.layoutPrimarySetting===f){if(n){var i=function(t,e){return d.default.doesVariantExist(e)?e:d.default.doesVariantExist(t.deviceTypeMissingVariantFallback)?t.deviceTypeMissingVariantFallback:"desktop"}(t,e);return c.default.debug("Resolved layout for touch device: "+e),i!==d.default.getPreviewerFrameSize()&&(c.default.debug("Forcing frame size as on touch device: "+i),d.default.setPreviewerFrameSize(i)),i}var r=d.default.getPreviewerFrameSize();return m(r)}var o=a.default(".adaptive-layouts-frame").width();return p(o)}():("smartphone"===(t=d.default.getLayoutFromQueryParam())&&(t="mobile"),t&&d.default.doesVariantExist(t)?t:null)||(d.default.getLayoutSettings().layoutPrimarySetting===f?m(g()):l.default.isEmbedded?(e=h.default.getInstance().getEmbedContextDimensions(),p(e.width)):(n=window.innerWidth,p(n)));var t,e,n};e.default=o.default.extend({},s.default.Events,{getVariant:function(){if(!r)throw new Error("Something wants to know the variant before detection");return r},hasDetectedVariant:function(){return!!r},detect:function(){var t=y();if(t!==r){var e=r;r=t,c.default.debug("Detected variant "+t+(e?", was "+e:"")),this.trigger("change",r,e)}return r}})},35425:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s,u=a(n(96486)),l=a(n(41232)),c=a(n(65311)),d=a(n(97575)),h=a(n(8030)),f=o(n(29231)),p=a(n(15014)),g=n(90308),m=n(54769),v={tablet:{height:4,width:3},mobile:{height:16,width:9}},y={tablet:{height:1.2,width:1.11},mobile:{height:1.2,width:1.11},desktop:{height:1,width:1}},_={tablet:106,mobile:96,desktop:52},b={tablet:106,mobile:96,desktop:0},w={tablet:54,mobile:44,desktop:0},T=["desktop","tablet","mobile"],S="desktop",E={CHANGE_PREVIEWER_FRAME_SIZE:"changePreviewerFrameSize",UPDATE_URL:"updateUrl",RELOAD_TRIGGERED:"reloadTriggered"};e.default=u.default.extend({},l.default.Events,{fullScreenMode:!1,previewerFrameSize:S,triggerReload:function(t){s.trigger("reload",t),this.trigger(E.RELOAD_TRIGGERED)},setPreviewerFrameSize:function(t){this.previewerFrameSize=t,this.triggerFrameSizeUrlUpdate(t),this.trigger(this.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,{variant:t})},getPreviewerFrameSize:function(){return this.previewerFrameSize},setDocVersion:function(t){s=t},isDocVersionSet:function(){return!u.default.isUndefined(s)},doesVariantExist:function(t){return u.default.includes(u.default.keys(s.get("overrides")),t)||"desktop"===t},hasVariants:function(){return h.default.allowAdaptiveLayouts&&this.getNumberOfExistingVariants()>0},getNumberOfExistingVariants:function(){return u.default.keys(s.get("overrides")).length},getExistingVariants:function(){return u.default.keys(s.get("overrides"))},getLayoutSettings:function(){return s.get("layoutSettings")},isViewportWidthDetection:function(){return"viewport-width"===this.getLayoutSettings().layoutPrimarySetting},doesCurrentVariantExists:function(){return this.doesVariantExist(this.getPreviewerFrameSize())},getExperienceContainerDimensions:function(t){var e=this.fullScreenMode;if(h.default.previewMode&&h.default.allowAdaptiveLayouts&&!e){var n=this.getPreviewerFrameSize(),i=h.default.isEmbedded?b[n]:_[n],r=w[n],o=g.PlayerContextService.isEmbeddedPreviewer(),a=h.default.previewWindowState===m.PreviewModalWindowState.FULLSCREEN||!h.default.previewWindowState;o&&!a&&(i=0,r=0);var s=t.height()-(i+r),u=Math.max(s/y[n].height,o&&!a?s:h.default.isEmbedded?0:300),l="desktop"===n?t.width():u*(v[n].width/v[n].height);return{width:f.toNextMultiple(l,2),height:f.toNextMultiple(u,2)}}return{width:t.width(),height:t.height()}},getExperienceContainerWidth:function(t){return this.getExperienceContainerDimensions(t).width},getExperienceContainerHeight:function(t){return this.getExperienceContainerDimensions(t).height},detectPreviewerFrameSizeFromUrl:function(){if(h.default.previewMode&&h.default.allowAdaptiveLayouts){var t=this.getPreviewerFrameSize(),e=this.getFrameSizeFromUrl();d.default.debug("Previewer frame size based on URL: "+e),this.isValidFrameSize(e)?e!==t&&this.setPreviewerFrameSize(e):(d.default.debug("Frame size from URL is invalid, updating URL to default frame size"),this.triggerFrameSizeUrlUpdate(S))}},triggerFrameSizeUrlUpdate:function(t){this.trigger(this.EVENTS.UPDATE_URL,t)},getFrameSizeFromUrl:function(){return this.hasFrameSizeOnUrl()?p.default.parseLayoutFromLocation():S},getLayoutFromQueryParam:function(){return p.default.getLayoutFromQueryParam()},hasFrameSizeOnUrl:function(){return!!p.default.parseLayoutFromLocation()},isValidVariantName:function(t){return u.default.includes(T,t)},isValidFrameSize:function(t){return this.isValidVariantName(t)},getLeftRightBorderWidth:function(t,e,n){return(n||this.getExperienceContainerDimensions(t).width)*(y[e].width-1)/2},getTopBottomBorderWidth:function(t,e,n){return(n||this.getExperienceContainerDimensions(t).height)*(y[e].height-1)/2},setFullScreenMode:function(t){this.fullScreenMode=t;var e=c.default(".adaptive-layouts-frame");this.fullScreenMode?(c.default(".previewer-selection-header").hide(),e.addClass("-full-screen-mode"),e.css({width:c.default(window).width(),height:c.default(window).height()}),c.default(window).trigger("resize")):(c.default(".previewer-selection-header").show(),e.removeClass("-full-screen-mode"),c.default(window).trigger("resize"))},VALID_VARIANT_NAMES:T,PREVIEWER_TOP_PADDING_BY_VARIANT:_,PREVIEWER_FRAME_PROPORTION_FACTORS_BY_VARIANT:y,EVENTS:E})},74535:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(97575)),a=i(n(51339)),s=i(n(83668));e.default={reconcileComponentForCurrentVariant:function(t){var e=a.default.getVariant();return this.reconcileComponentForVariant(e,t)},reconcileComponentForVariant:function(t,e){if("desktop"===t)return e;var n=r.default.isObject(e.overrides)&&r.default.isObject(e.overrides[t]),i=!n&&r.default.isObject(e.parentSmartGroup),a="desktop"!==t&&!i;if(n){var u=e.synced?r.default.omit(e.overrides[t],s.default.get(e.type)):e.overrides[t];r.default.extend(e,u)}else a&&o.default.warn("PlayerVariantUtil::reconcileComponentForVariant provided with component missing overrides definition",{variantName:t,componentType:e.type,componentId:e.id});return e}}},87557:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=function(){function t(t,e){this.parentItem=t,this.model=e,this.childViews=[],this.view=null,this.setPageCoordinates()}return t.prototype.isScranchor=function(){return"scranchor"===this.model.type},t.prototype.isSmartgroupLayer=function(){return this.model&&!r.default.isUndefined(this.model.smartgroupId)},t.prototype.isFolder=function(){return this.model&&"folder"===this.model.type},t.prototype.isGroup=function(){return this.model&&"group"===this.model.type||this.isMaskGroup()},t.prototype.isMaskGroup=function(){return this.model&&"mask-group"===this.model.type},t.prototype.findParentSmartgroupOrGroupModel=function(){for(var t=null,e=this;null!==e;){if(e.isSmartgroupLayer()||e.isGroup()){t=e.model;break}e=e.parentItem}return t},t.prototype.addAllParentCoords=function(t,e,n){return t&&r.default.isNumber(t.x)&&r.default.isNumber(t.y)?(e+=t.x,n+=t.y,this.addAllParentCoords(t.parentItem,e,n)):{pageCoordX:e,pageCoordY:n}},t.prototype.setPageCoordinates=function(){var t,e,n,i,o;if("text-plus-component"===(null===(t=this.model)||void 0===t?void 0:t.type)){var a={pageCoordX:this.model.x,pageCoordY:this.model.y};if(r.default.isNumber(null===(n=null===(e=this.parentItem)||void 0===e?void 0:e.model)||void 0===n?void 0:n.x)&&r.default.isNumber(null===(o=null===(i=this.parentItem)||void 0===i?void 0:i.model)||void 0===o?void 0:o.y)){var s=this.addAllParentCoords(this.parentItem,this.parentItem.model.x,this.parentItem.model.y);a.pageCoordX+=s.pageCoordX,a.pageCoordY+=s.pageCoordY}this.model.pageCoordX=a.pageCoordX,this.model.pageCoordY=a.pageCoordY}},t.prototype.setView=function(t){this.view=t,this.parentItem.childViews.push(t)},t}();e.default=o},22918:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a,s=i(n(97575)),u=i(n(96486));e.default=(o=function(t,e){"string"==typeof e&&(e=r(e)),t.beginPath();var n,i,o,a,l,c,d=0,h=0,f=null,p=null;u.default.each(e,(function(e,r){var u=e.coords;switch(e.op){case"m":d+=u[0],h+=u[1],t.moveTo(d,h);break;case"M":f=d=u[0],p=h=u[1],t.moveTo(d,h);break;case"c":n=d+u[0],i=h+u[1],o=d+u[2],a=h+u[3],d+=u[4],h+=u[5],l=2*d-o,c=2*h-a,t.bezierCurveTo(n,i,o,a,d,h);break;case"C":n=u[0],i=u[1],o=u[2],a=u[3],d=u[4],h=u[5],l=2*d-o,c=2*h-a,t.bezierCurveTo(n,i,o,a,d,h);break;case"s":o=d+u[0],a=h+u[1],d+=u[2],h+=u[3],t.bezierCurveTo(l,c,o,a,d,h),l=2*d-o,c=2*h-a;break;case"q":n=d+u[0],i=h+u[1],d+=u[2],h+=u[3],l=2*d-n,c=2*h-i,t.quadraticCurveTo(n,i,d,h);break;case"t":d+=u[0],h+=u[1],t.quadraticCurveTo(l,c,d,h),l=2*d-l,c=2*h-c;break;case"l":d+=u[0],h+=u[1],t.lineTo(d,h);break;case"L":d=u[0],h=u[1],t.lineTo(d,h);break;case"h":d+=u[0],t.lineTo(d,h);break;case"H":d=u[0],t.lineTo(d,h);break;case"v":h+=u[0],t.lineTo(d,h);break;case"V":h=u[0],t.lineTo(d,h);break;case"z":case"Z":t.lineTo(f,p);break;default:s.default.warn("UNKNOWN SVG OP: "+e.op)}}))},{pointsToPath:function(t){t=t.replace(/(\s+)/g,";").split(";");var e="M";return u.default.each(t,(function(t,n){t.length>0&&(e+=(0===n?"":"L")+t)})),e+="z"},parse:r=function(t){var e=t.replace(/([MmZzLlHhVvCcSsQqTtAa])\s/g,"$1").replace(/\s-/g,"-").replace(/\s/g,",").match(/([MmZzLlHhVvCcSsQqTtAa](-?\d+[\.\s]?\d*,?)*)/g),n=[];return u.default.each(e,(function(t,i){var r=t.substr(1).replace(/-/g,",-").replace(/(^,)/,"").split(",");u.default.each(r,(function(t,e){r[e]=parseFloat(t)})),n.push({op:e[i].substr(0,1),coords:r})})),n},render:a=function(t,e,n,i){e&&null!==e&&(o(t,e),i&&t.stroke(),n&&t.fill())},stroke:function(t,e){a(t,e,!1,!0)},fill:function(t,e){a(t,e,!0,!1)},trace:o})},40812:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(22918)),s=i(n(76653)),u=i(n(61652)),l=function(){this.shapes=r.default(u.default),this.scale={x:parseInt(this.shapes.filter(":first").attr("width"),10),y:parseInt(this.shapes.filter(":first").attr("height"),10)},this.paths={},this.shapes.find("g").each(o.default.bind((function(t,e){var n,i=(e=r.default(e)).attr("id"),o=e.children(),s=this.getScale().x,u=this.getScale().y;this.paths[i]=null,o.length>0&&(o.is("path")?(n=a.default.parse(o.attr("d")),this.paths[i]=function(t){a.default.trace(t,n)}):o.is("polygon")?(n=a.default.pointsToPath(o.attr("points")),this.paths[i]=function(t){a.default.trace(t,n)}):o.is("circle")?this.paths[i]=function(t){var e=s>u?u/2:s/2;t.translate(s/2,u/2),t.scale(s>u?s/u:1,u>s?u/s:1),t.arc(0,0,e,0,Math.toRad(360),!0)}:o.is("rect")&&(this.paths[i]=function(t){t.rect(0,0,s,u)}))}),this))};o.default.extend(l.prototype,{getScale:function(){return this.scale},getPathFunc:function(t){return this.paths[t]},getAllShapes:function(){return o.default.keys(this.paths)},hasShape:function(t){return o.default.has(this.paths,t)},getImageResource:function(t,e,n,i,a){var u=r.default('<canvas width="'+e+'" height="'+n+'"></canvas>'),l=u[0].getContext("2d");l.save(),l.clearRect(0,0,e,n),o.default.isUndefined(i)||(l.fillStyle=i),o.default.isUndefined(a)||(l.strokeStyle=a);var c=this.getPathFunc(t);null!==c&&(l.scale(e/this.getScale().x,n/this.getScale().y),l.beginPath(),c(l),o.default.isUndefined(i)||l.fill(),o.default.isUndefined(a)||l.stroke()),l.restore();var d=new s.default(u[0].toDataURL());return u.remove(),d}}),e.default=new l},17020:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(8030)),s=i(n(60888)),u=!1,l={initialize:function(){!function(){if(!1!==u)return u;if("undefined"==typeof sharejs)throw Error("Unable to connect to ShareJS Server");(u=new sharejs.Connection(a.default.shareJsServer,a.default.sharejsAccessPolicy)).on("error",o.default.bind(l._showErrorInternal,l)),r.default(window).on("unload",(function(){u&&u.disconnect()}))}()},getConnection:function(){return u},_showErrorInternal:function(t){if("Unknown session ID"===t)return!1;var e="There was a problem connecting to the server.";return t&&(e=t).match(/\bOp apply failed/gi)&&(e="Your changes were unable to be saved."),this.showError(e)},showError:function(t){return this.readOnlyConnectionLimitExceededError||window.onerror(t,null,null),u&&(u.disconnect(),u=!1),!0},listenForReadOnlyConnectionLimitError:function(t){t.on("shout",o.default.bind((function(t){if(t){try{t=JSON.parse(t)}catch(t){return}"READONLY_CONNECTION_LIMIT_EXCEEDED"===t.name&&(this.readOnlyConnectionLimitExceededError=!0,s.default.show503())}}),this))}};e.default=l},67551:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o={},a=function(t){if(!t)return Number.POSITIVE_INFINITY;var e=parseInt(t.style.top);return r.default(t).parents(".group, .smart-group").each((function(t,n){e+=parseInt(n.style.top)})),e},s={insert:function(t,e,n,i,o){var a=this.getChildNodeToInsertBefore(t,n,i,o);a?r.default(e).insertBefore(a,t):t.appendChild(e)},getChildNodeToInsertBefore:function(t,e,n,i,o,s){for(var u,l,c=0,d=t.children||t.childNodes,h=d.length-1;c<=h;){u=Math.floor((c+h)/2);var f=this.determineEffectivePositionOf(r.default(d[u])),p=f.x,g=f.y;p+=o||0;var m=(g+=s||0)===n?p-e:g-n;if(0===m)return d[u];if(m<0){if(i&&r.default(d[u]).is(".group, .smart-group")){var v=parseInt(d[u].style.left)+(o||0),y=parseInt(d[u].style.top)+(s||0),_=this.getChildNodeToInsertBefore(d[u],e,n,i,v,y);_&&(!l||parseInt(_.style.top)<a(l))&&(l=_)}c=u+1}else h=u-1,(!l||!i||parseInt(d[u].style.top)<a(l))&&(l=d[u])}return l},determineEffectivePositionOf:function(t){var e=this,n=t[0];if(o[n.id])return o[n.id];var i={x:parseInt(n.style.left)||0,y:parseInt(n.style.top)||0};if(!t.hasClass("group"))return i;var a={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY};return t.children().each((function(t,n){var i=r.default(n);if("none"!==n.style.display&&!i.hasClass("sr-only")){var o=i.hasClass("group")?e.determineEffectivePositionOf(i):{x:parseInt(n.style.left),y:parseInt(n.style.top)};(o.y<a.y||o.y===a.y&&o.x<a.x)&&(a=o)}})),a.y===Number.POSITIVE_INFINITY?o[n.id]=i:o[n.id]={x:i.x+a.x,y:i.y+a.y},o[n.id]}};e.default=s},24031:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=function(t,e){for(var n=0;n<e.length;n++)if(t>=e[n].index&&t<e[n].index+e[n].length)return n;return-1},s=function(t,e){var n=a(t,e);return-1!=n?e[n]:void 0};e.default={padTextSpans:function(t,e,n){var i=[],r=0;if(n&&n.length>0){for(var a=0;a<n.length;a++){var s=n[a];s.index>r&&i.push({underline:e.underline,letterSpacing:e.letterSpacing,index:r,length:s.index-r}),r=s.index+s.length,i.push(o.default.extend(!0,{underline:e.underline,letterSpacing:e.letterSpacing},s))}return r<t.length&&i.push({underline:e.underline,letterSpacing:e.letterSpacing,index:r,length:t.length-r}),i}return[{underline:e.underline,letterSpacing:e.letterSpacing,index:0,length:t.length}]},findTextSpanForCharIndex:s,findTextSpansForLine:function(t,e,n){var i=[],s=a(t,n),u=a(t+e-1,n);if(-1!==s&&-1!==u){i=o.default.extend(!0,[],n.slice(s,u+1));var l=r.default.first(i),c=r.default.last(i);t>l.index&&(l.length-=t-l.index,l.index=t),t+e<c.index+c.length&&(c.length=t+e-c.index)}return i},generateUnstyledHtmlSpansForParagraph:function(t,e){void 0===t&&(t=""),void 0===e&&(e=[]);for(var n=function(t){return{position:"relative",content:r.default.escape(t)}},i=[],o=r.default.first(e),a="",u=0;u<t.length;++u){var l=s(u,e),c=r.default.isEqual(o,l);c&&(a+=t.charAt(u),u!==t.length-1)||(a&&i.push([n(a),o]),u!==t.length-1?(a=t.charAt(u),o=l):a&&!c&&i.push([n(t.charAt(u)),l]))}return i}}},29845:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(97575)),o=i(n(96486)),a=i(n(65311)),s=i(n(8030)),u=n(10518),l=n(90149),c=n(10154),d=n(78302),h=n(12234),f=function(t,e,n,i){var a=t.find(".marker");if(0!==a.length)if(0!==a.position().top){var s=a.position().top+a.height(),u=n/e.unitsPerEm,l=Math.round(u*e.ascent-s),c=t.attr("data-baseline");if(o.default.isUndefined(c)||o.default.isUndefined(l)||parseInt(c,10)!==l)return t.attr("data-baseline",l),void o.default.defer((function(){f(t,e,n,i)}));i.resolve(l)}else o.default.defer((function(){f(t,e,n,i)}));else r.default.info("could not find img baseline marker!")},p=function(t){return'"'+t.replace('"','\\"')+'"'};e.default={resolveFont:function(t){var e=s.default.fontManifest[t];if(e||(e=s.default.fontManifest[u.FontConstants.DEFAULT_FONT_VARIANT_GUID])&&r.default.warn("Could not find font in the font manifest. Using default variant.",{variantGuid:t,defaultVariantGuid:u.FontConstants.DEFAULT_FONT_VARIANT_GUID}),e){var n=void 0,i=void 0;"FontPlusUploaded"===e.api?(n=d.FontPlusFamily,i=h.FontPlusVariant):(n=l.FontFamily,i=c.FontVariant);var o=new n({family:e.familyName,guid:e.familyGuid,crossAccount:e.crossAccount,api:e.api});return new i(e.variantName,{fontFamily:o,familyName:e.familyName,fontWeight:e.fontWeight,fontStyle:e.fontStyle,guid:e.variantGuid,cssFamilyName:e.cssFamilyName,cssUrl:e.cssFileURL,unitsPerEm:e.unitsPerEm,ascent:e.ascent})}throw new Error("Could not find desired font "+t+" or default font "+u.FontConstants.DEFAULT_FONT_VARIANT_GUID+" in the font manifest.")},measureFontBaselineOffset:function(t,e,n){var i=new a.default.Deferred;if(e<=1)return i.resolve(0),i.promise();var r=a.default('<div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////AAAAVcLTfgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" style="position:relative;vertical-align:baseline;" class="marker"/><span>Mq</span></div>').css({width:"auto",height:"auto",lineHeight:n+"px",position:"absolute",top:0,left:0,fontSize:e+"px",fontFamily:p(t.getCssFamilyName()),fontWeight:t.getFontWeight(),fontStyle:t.getFontStyle(),opacity:0}).attr("data-baseline",null);return a.default("body").append(r),f(r,t,e,i),i.done((function(){r.remove()})),i.promise()},formatFamilyNameForCSS:p}},923:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(80771)),a="full",s="muted",u="none",l=r.default.once((function(){return o.default.isIos()?o.default.isIosLessThan(10)?u:s:o.default.isAndroid()&&o.default.isBrowserChrome()?o.default.isBrowserChromeLessThan(53)?u:s:o.default.isDesktopSafari()&&!o.default.isDesktopSafariLessThan(11)||o.default.desktop()&&o.default.isBrowserChrome()&&!o.default.isBrowserChromeLessThan(66)||o.default.desktop()&&o.default.isBrowserFirefoxGreaterThanOrEqualTo(63)?s:a}));e.default={isFullSupport:function(){return l()===a},isMutedSupport:function(){return l()===s},isNoSupport:function(){return l()===u}}},71970:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=function(t,e){this.video=t,this.loadedMetaData=!1,this.playedVideoBeforeMetaDataLoaded=!1,this.sentInitialPlayEvent=!1,this.progressPercents=[],this.isPlaying=!1,this.isTransitioningToPaused=!1,this.videoLength=e||!1,this.enabled=!0,this.currentPosition=0,this.lastPosition=0,this.progressStartPosition=0,this.isWindowVisible="hidden"!==document.visibilityState,this.addEventListeners()};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{PLAY:"play",PROGRESS_TIME:"progress_time",PROGRESS_PERCENT:"progress_percent"},enableTracking:function(){this.enabled||(this.enabled=!0,this.isWindowVisible&&this.restartProgressTracking())},disableTracking:function(){this.enabled&&(this.isWindowVisible&&this.triggerProgressEvent(this.lastPosition),this.enabled=!1)},addEventListeners:function(){document.addEventListener("visibilitychange",r.default.bind((function(){"hidden"===document.visibilityState?(this.isWindowVisible=!1,this.enabled&&this.triggerProgressEvent(this.lastPosition)):"visible"===document.visibilityState&&(this.isWindowVisible=!0,this.enabled&&this.restartProgressTracking())}),this));var t=this;r.default.each("loadedmetadata,timeupdate".split(","),(function(e){t.video.on(e,(function(){switch(t.currentPosition=t.video.getPosition(),t.videoLength&&(t.currentPosition=Math.min(t.currentPosition,t.videoLength)),t.isTransitioningToPaused=t.isPlaying&&!t.video.isPlaying(),t.isPlaying=t.video.isPlaying(),e){case"loadedmetadata":t.handleLoadedMetadataEvent();break;case"timeupdate":t.handleTimeUpdateEvent();break;default:throw new Error("Missing handler function for video event: "+e)}t.lastPosition=t.currentPosition}))}))},handleLoadedMetadataEvent:function(){this.loadedMetaData=!0,this.videoLength||!this.video.getLength()||this.video.getLength()===1/0||isNaN(this.video.getLength())||(this.videoLength=this.video.getLength()),this.playedVideoBeforeMetaDataLoaded&&(this.triggerPlayEvent(),this.sentInitialPlayEvent=!0)},sendInitialPlayEvent:function(){this.sentInitialPlayEvent||this.playedVideoBeforeMetaDataLoaded||(this.loadedMetaData?(this.triggerPlayEvent(),this.sentInitialPlayEvent=!0):this.playedVideoBeforeMetaDataLoaded=!0)},triggerPlayEvent:function(){this.triggerEvent(this.EVENTS.PLAY,{videoPosition:this.sanitizeVideoPosition(this.currentPosition)})},handleTimeUpdateEvent:function(){this.isPlaying&&this.sendInitialPlayEvent(),this.enabled&&this.isWindowVisible&&(this.currentPosition<this.lastPosition||Math.abs(this.currentPosition-this.lastPosition)>1?this.triggerProgressEvent(this.lastPosition):(this.isTransitioningToPaused||this.currentPosition-this.progressStartPosition>=10)&&this.triggerProgressEvent(),(this.isPlaying||this.isTransitioningToPaused)&&this.trackProgressPercent())},trackProgressPercent:function(){var t=this.videoLength?Math.floor(this.videoLength):this.videoLength;if(t&&100!==this.progressPercents.length){var e=Math.round(this.currentPosition/t*100);e=Math.max(1,Math.min(100,e));var n=1;t<100&&(n=Math.ceil(100/t));for(var i=0;i<n&&(this.addProgressPercentViewed(e),!(--e<=0));i++);}},addProgressPercentViewed:function(t){if(!r.default.includes(this.progressPercents,t)){this.progressPercents.push(t);var e=this.progressPercents.length;this.triggerEvent(this.EVENTS.PROGRESS_PERCENT,{progressPercent:e})}},triggerProgressEvent:function(t){var e=(t=t||this.currentPosition)-this.progressStartPosition;e>.1&&this.triggerEvent(this.EVENTS.PROGRESS_TIME,{videoPosition:this.sanitizeVideoPosition(this.progressStartPosition),videoPlayTime:this.round(e)}),this.restartProgressTracking()},triggerEvent:function(t,e){this.videoLength&&(e.videoLength=this.round(this.videoLength)),this.trigger(t,e)},restartProgressTracking:function(){this.progressStartPosition=this.currentPosition},round:function(t){return Math.round(100*t)/100},sanitizeVideoPosition:function(t){var e=this.round(t);return e<0&&(e=0),e}}),e.default=a},63113:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(11516)),a=i(n(54777));e.default=o.default.extend({initiallyVisible:!0,mediaHasBeenLoaded:!0,childViews:null,keepVisibleForScreenReaders:!1,wasShownByFocusInteraction:!1,exitAnimations:[],cancelHide:!1,initialize:function(){o.default.prototype.initialize.call(this),this.parentViews=[],this.setVisible(this.options.visible),this.initiallyVisible=this.options.visible,this.mediaHasBeenLoaded=this.options.visible},setVisible:function(t){t!==this.visible&&(this.visible=t,a.default.trigger("viewport.send_state_data"))},close:function(){},preloadMedia:function(){},preloadMediaNow:function(){},attachMedia:function(){},scaleComponent:function(){},doCustomScaling:function(){},getRatioForCustomScaling:function(){return 1},onAttach:function(){},pauseAnimations:function(){},resumeAnimations:function(){},reset:function(){},getExtents:function(){},getId:function(){return this.id},isInitiallyVisible:function(){return this.initiallyVisible},runAllChildViewExitAnimaions:function(){},areAllParentsVisible:function(){},childrenUseBlendingModes:function(){return!1},hasActiveBlendingMode:function(){return!1},isMaskImage:function(){return!1},resetTimers:function(){this.childViews&&r.default.each(this.childViews,(function(t){t.resetTimers&&t.resetTimers()}))}})},45643:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(80771)),o=n(49986),a=n(98866);e.default=o.AbstractComponentView.extend({render:function(){o.AbstractComponentView.prototype.render.apply(this,arguments),this.$el.off("focus.resize").on("focus.resize",this.applyFocusDimensions.bind(this)),this.$el.off("blur.resize").on("blur.resize",this._applyDimensions.bind(this))},applyFocusDimensions:function(){this.$el.css({height:this.options.height,width:this.options.width})},_applyDimensions:function(t,e){this.$el.css({height:r.default.webkit?"1px":"",width:r.default.webkit?"1px":""});var n=this.options.width/2+"px "+this.options.height/2+"px";this.$el.css("transform-origin",n),this.$el.css("-moz-transform-origin",n),this.$el.css("-webkit-transform-origin",n),this.$el.css("-ms-transform-origin",n)},callObjectStateInvoker:function(t,e){a.ObjectStateInvoker.invokeScaleableObjectState(this,t,e)}})},40729:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=n(36403),s=i(n(16982));e.default=a.AbstractPageChildView.extend({initialize:function(){a.AbstractPageChildView.prototype.initialize.call(this),this.childViews={}},hide:function(){o.default.each(this.childViews,(function(t){t.hide()}))},addContainerId:function(t){o.default.each(this.childViews,(function(e){e.addContainerId(t)}))},addParentView:function(t){this.parentViews.push(t),o.default.each(this.childViews,(function(e){e.addParentView(t)}))},areAllParentsVisible:function(){return o.default.every(this.parentViews,(function(t){return t.visible}))},isHovered:function(t){return o.default.some(this.childViews,(function(e){return e.isHovered(t)}))},addPointerEvents:function(){o.default.each(this.childViews,(function(t){t.addPointerEvents()}))},runAllChildViewExitAnimations:function(t){this.runningExitAnimations=!0,t=t||[],o.default.each(this.childViews,(function(e){e.runAllChildViewExitAnimations(t)}));var e=this;return r.default.when.apply(r.default,t).done((function(){e.runningExitAnimations=!1})),t},reset:function(){this.runningExitAnimations=!1},getExtents:function(){var t;return this.childViews?o.default.each(this.childViews,function(e){var n=e.getExtents();t=t?s.default.getSmallestContainingRectangle(t,n):n}.bind(this)):t={},t},getFirstAvailableZIndex:function(){var t=0;return this.childViews&&this.childViews.length>0&&(t="folder"===this.childViews[0].options.type?this.childViews[0].getFirstAvailableZIndex():this.childViews[0].$el.css("zIndex")||0),t},isFixedPosition:function(){return!1}})},71868:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(8030)),s=n(6232);e.default=s.AbstractTransformableGroupView.extend({initialize:function(){s.AbstractTransformableGroupView.prototype.initialize.call(this),this.$el.addClass("group"),this.childViews={}},render:function(){s.AbstractTransformableGroupView.prototype.render.call(this),this.renderSROnlyText()},renderSROnlyText:function(){if(this.hasAccessibilityFeature){if(a.default.previewMode){var t=this.$el.children(":first");t.hasClass("group-sr-only-text")&&t.remove()}if(this.options.screenReaderOnlyText){var e=r.default("<p>").addClass("sr-only group-sr-only-text").text(this.options.screenReaderOnlyText);this.$el.prepend(e)}}},addParentView:function(t){s.AbstractTransformableGroupView.prototype.addParentView.call(this,t),o.default.each(this.childViews,(function(e){e.addParentView(t)}))},areAllParentsVisible:function(){return o.default.every(this.parentViews,(function(t){return t.visible}))},prepareGroupForBlendingModes:function(){var t,e=this.$el.css("left"),n=this.$el.css("top"),i=this.options.width,o=this.options.height,a=this;(t=this.hasClickInteraction()?r.default('<button class="wrapper-for-blending-modes" data-for="'+this.id+'"></button>'):r.default('<div class="wrapper-for-blending-modes" data-for="'+this.id+'"></div>')).css("position","absolute"),t.css("left",e),t.css("top",n),this.hasClickInteraction()&&(t.on("focus",(function(){var t=r.default('[data-for="'+a.id+'"]');t.css("width",i+"px"),t.css("height",o+"px")})),t.on("blur",(function(){var t=r.default('[data-for="'+a.id+'"]');t.css("width","1px"),t.css("height","1px")})),t.on("click",(function(t){t.originalEvent.target===t.currentTarget&&a.$el.click()}))),this.$el.wrapAll(t),this.$el.css("display","contents")}})},98269:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PAGE_EVENTS=void 0;var l=u(n(97575)),c=u(n(65311)),d=u(n(96486)),h=u(n(80771)),f=u(n(8030)),p=u(n(33410)),g=u(n(11516)),m=u(n(37942)),v=u(n(74433)),y=u(n(9069)),_=n(35256),b=u(n(4148)),w=u(n(51339)),T=u(n(54777)),S=u(n(16982)),E=n(19043),O=o(n(66625)),P=n(91426),C=u(n(54400)),A=n(45233),k=n(36281),x=n(18500),I=u(n(88522)),M=n(46792),R=u(n(52272)),N=n(57275),D=n(57824);e.PAGE_EVENTS={REMOTE_CHANGE_DONE:"remote.done",PAGE_RELOAD_DONE:"reload.done"},e.default=g.default.extend({className:"page-viewport",tagName:"div",activated:!1,processingReload:!1,documentVersion:null,$pageContainer:null,$pinnedContainer:null,$pageScroll:null,scaleContext:null,scaleTransformKey:null,scaleTransformValue:null,scaleExperience:null,prerenderer:null,focusArbiter:null,activeHoversGroupedByInteraction:null,defaults:{physicalPageNumber:"unknown"},automaticHoverInteractionCollection:null,initialize:function(){var t=this;if(this.options=d.default.defaults(this.options,this.defaults),this.animationRunner=new v.default,this.automaticHoverInteractionCollection=new x.AutomaticHoverInteractionCollection,this.documentVersion=this.options.documentVersion,this.scaleContext=this.options.scaleContext,this.scaleExperience=this.documentVersion.getScaleExperience(),this.scrollTriggeredObjects=[],this.resetWhenOffscreenHoverTriggers=[],this.prerenderer=new m.default(this),this.$pageContainer=c.default("<div>",{class:"page-container"}),this.throttleReload=d.default.debounce((function(e){return t.reload(!1,e)}),1e3),this.documentVersion.on("reload",this.throttleReload),this.$pageScroll=c.default("<div>",{class:"page-scroll"}),this.$pageContainer.append(this.$pageScroll),this.documentVersion.shouldLazyLoad()&&C.default.getUrlParams(window.location.href).showLazyLoadBreakpoint){var e=c.default("<hr/>",{class:"lazyLoadingBreakpointLine"});e.css("top",this.model.getlazyLoadingVerticalBreakpoint()+"px"),this.$pageScroll.append(e)}this.focusArbiter=new P.FocusArbiter(this),this.textPlusLazyLoader=new N.TextPlusLazyLoader({pageView:this});var n=this;if(h.default.desktop()&&(this.$pinnedContainer=c.default("<div>",{class:"pinned-container"}),this.$el.append(this.$pinnedContainer),this.$pinnedContainer.on("wheel mousewheel",(function(t){if(t.originalEvent.deltaY){t.preventDefault(),t.stopPropagation();var e=n.$pageContainer.scrollTop(),i=t.originalEvent.deltaY;1===t.originalEvent.deltaMode&&(i*=n.getUnstyledLineHeight()),n.$pageContainer.scrollTop(e+i)}}))),this.$pageContainer.on("wheel mousewheel",(function(t){if(t.originalEvent.deltaY){var e=n.$pageContainer.scrollTop(),i=e+t.originalEvent.deltaY;1===t.originalEvent.deltaMode&&(i=e+t.originalEvent.deltaY*n.getUnstyledLineHeight());var r=n.$pageContainer[0].scrollHeight>n.$pageContainer[0].offsetHeight,o=n.$pageContainer[0].scrollHeight-n.$pageContainer[0].scrollTop>0,a=n.$pageContainer[0].scrollHeight-n.$pageContainer[0].scrollTop<n.$pageContainer[0].clientHeight;if(f.default.isEmbedded){if(!(-1===window.location.href.indexOf("?heightOverride=")&&r&&o&&a))return;t.preventDefault(),t.stopPropagation(),n.$pageContainer.scrollTop(i)}else t.preventDefault(),t.stopPropagation(),n.$pageContainer.scrollTop(i)}})),!R.default.hasFeature(D.FeatureFlagName.USE_MODERN_IPADOS_SCROLLING)){var i=h.default.isDesktopSafari()||h.default.isMobileSafari();h.default.isIpadPretendingToBeDesktop()&&h.default.isIosGreaterThanOrEqualTo(13)&&i&&(this.$pageContainer.addClass("page-container-for-ipad-pretending-to-be-desktop"),this.$pinnedContainer.addClass("pinned-container-for-ipad-pretending-to-be-desktop"))}this.$el.append(this.$pageContainer),g.default.prototype.initialize.call(this),this.el=function(){return this.$el},this.$el.attr("data-slug",this.model.get("slug")),this.prepare=d.default.once(d.default.bind(this.prepare,this)),this.attach=d.default.once(d.default.bind(this.attach,this)),this.spinner=null,this.pageReady=new c.default.Deferred,this.renderPlaceholder(),this.activeHoversGroupedByInteraction=[],this.lastViewportUpdate=performance.now(),this.isProcessingScroll=!1;var r=this,o=function(t){t-r.lastViewportUpdate>100?(r.onScrollAndWindowResize(),r.lastViewportUpdate=t,r.isProcessingScroll=!1):requestAnimationFrame(o)};this.$pageContainer.on("scroll",(function(t){r.isProcessingScroll||(r.isProcessingScroll=!0,requestAnimationFrame(o))})),p.default.getInstance().on("change",d.default.bind(this.onScrollAndWindowResize,this)),f.default.previewMode&&this.registerVariantListeners(),this.childViews=[],f.default.isPreviewer&&f.default.isEmbedded&&M.editorToggleService.on(M.EditorToggleEvent.CHANGED,(function(e){e||(t.resetTimedTriggers(),t.animationRunner.resetWasVisible(t.scrollTriggeredObjects),t.onScrollAndWindowResize())}),this)},registerVariantListeners:function(){var t=this;w.default.on("change",d.default.debounce((function(){return t.reload()}),50,{leading:!0,trailing:!0})),p.default.getInstance().on("change:windowWidth change:windowHeight",(function(){w.default.detect()})),c.default(window).on("resize",(function(){w.default.detect()}))},startLazyPrerender:function(){return this.prerenderer.lazyPrerender()},prerender:function(){this.prerenderer.prerender()},getPrerenderDeferred:function(){return this.prerenderer.prerenderDeferred},isPrerendered:function(){return this.prerenderer.isPrerendered()},resetPageForPrerender:function(){this.closeAllComponents(),this.childViews=[],this.scrollTriggeredObjects=[],this.resetWhenOffscreenHoverTriggers=[]},getUnstyledLineHeight:function(){if(!this.unstyledLineHeight){var t=document.createElement("iframe");t.src="#",document.body.appendChild(t);var e=t.contentWindow.document;e.open(),e.write("<!DOCTYPE html><html><head></head><body><span>a</span></body></html>"),e.close();var n=e.body.firstElementChild;this.unstyledLineHeight=n.offsetHeight,document.body.removeChild(t)}return this.unstyledLineHeight},getPageHeight:function(){return this.model.getPageHeight(this.documentVersion)},getPageWidth:function(){return this.model.getPageWidth(this.documentVersion)},getScrollPosition:function(){return this.$pageContainer.scrollTop()},setScrollPosition:function(t){this.$pageContainer.scrollTop(t)},focusScrollContainer:function(){this.$pageContainer.trigger("focus")},triggerModuleScrollEvent:function(t){this.getModule().trigger(this.getModule().publishedEvents.PAGE_SCROLL,{slug:this.model.get("slug"),topY:t.topY,bottomY:t.bottomY,pageHeight:this.getPageHeight()})},onScrollAndWindowResize:function(){if(this.activated){var t=this.getVisibleBoundaries();if(this.animationRunner.whenVisibleBoundariesChange(this.scrollTriggeredObjects,t),this.animationRunner.resetHoverInteractionViewsToInitialVisibility(this.resetWhenOffscreenHoverTriggers,this.childViews,t),!this.documentVersion.getSwipeEnabled()&&h.default.isIosSafari()){if(document.documentElement.offsetHeight/window.innerHeight!=1){var e=this.$pageContainer.scrollTop()/(this.$pageContainer[0].scrollHeight-this.$pageContainer.height()||this.$pageContainer.height());c.default("html").scrollTop((c.default("html")[0].scrollHeight-window.innerHeight||window.innerHeight)*e)}h.default.isIosGreaterThanOrEqualTo(17)&&(c.default("body").css("overflow","hidden"),setTimeout((function(){c.default("body").css("overflow","auto")})))}this.triggerModuleScrollEvent(t)}},resetTimedTriggers:function(){d.default.each(this.childViews,(function(t){t.resetTimers&&t.resetTimers(),t.timedTriggersCreatedAtLeastOnce=!1}))},getVisibleBoundaries:function(){var t=this.getVisibleYBoundaries(),e=this.getVisibleXBoundaries();return e?new _.VisibleBoundaries(t.topY,t.bottomY,e.leftX,e.rightX):new _.VisibleBoundaries(t.topY,t.bottomY)},getVisibleYBoundaries:function(){var t,e,n=this.getScaleContext(),i=n.height/n.ratio,r=p.default.getInstance(),o=this.$pageContainer.scrollTop();if(r.isActive()){var a=this.getPageHeight(),s=Math.max((i-a)/2,0),u=r.getTop()/n.ratio,l=r.getBottom()/n.ratio;t=Math.max(u,0)+o-s,e=Math.min(l,i)+o-s}else e=(t=o)+i;return{topY:Math.round(t),bottomY:Math.round(e)}},getVisibleXBoundaries:function(){if(this.scaleExperience)return null;var t=this.getScaleContext();return{leftX:this.$pageContainer.scrollLeft(),rightX:this.$pageContainer.scrollLeft()+t.width}},getScaleContext:function(){return this.scaleContext.getPageScaleContext(this.model)},getSlug:function(){return this.model.get("slug")},getName:function(){return this.model.get("name")},onClose:function(){this.closeAllComponents()},closeAllComponents:function(){if(this.childViews){var t=function(e){d.default.each(e,(function(e){e.close(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},_bindModel:function(){this.model.on("remote",this.applyRemoteChange,this),this.model.on("reload",this.throttleReload,this)},renderPlaceholder:function(){this.closeAllComponents();var t=c.default(window);this.$el.css({width:t.width(),height:t.height()}),this._createSpinner(!1)},setFixedPosition:function(t){var e=this;h.default.desktop()||(t.$el.css("position","fixed"),t.$el.on("mousewheel",(function(t){t.preventDefault(),t.stopPropagation();var n=e.$pageContainer.scrollTop();t.originalEvent.deltaY&&e.$pageContainer.scrollTop(n+t.originalEvent.deltaY)})))},findChildView:function(t){return y.default.find(this.childViews,t)},findVideo:function(t){var e=null,n=function(i){return d.default.some(i,(function(i){return i.el&&i.el.id===t?(e=i,!0):!!i.childViews&&n(i.childViews)}))};return this.childViews&&n(this.childViews),e},_addScrollTriggeredObject:function(t){d.default.some(this.scrollTriggeredObjects,(function(e){return e.id==t.id}))||this.scrollTriggeredObjects.push(t)},_removeScrollTriggeredObject:function(t){var e;d.default.find(this.scrollTriggeredObjects,(function(n,i){return n.id==t.id&&(e=i,!0)}))&&this.scrollTriggeredObjects.splice(e,1)},addResetWhenOffscreenHoverTrigger:function(t){d.default.some(this.resetWhenOffscreenHoverTriggers,(function(e){return e.id==t.id}))||this.resetWhenOffscreenHoverTriggers.push(t)},removeResetWhenOffscreenHoverTrigger:function(t){var e;d.default.find(this.resetWhenOffscreenHoverTriggers,(function(n,i){return n.id==t.id&&(e=i,!0)}))&&this.resetWhenOffscreenHoverTriggers.splice(e,1)},prepare:function(){return this.prerenderer.isPrerendered()||this.prerenderer.prerender(),this.prerenderer.getPrerenderPromise().done(d.default.bind((function(){c.default.when.apply(c.default,this.attachInitialMedia()).done(d.default.bind((function(){l.default.debug("All page media attached"),this.pageReady.resolve()}),this)).fail(d.default.bind((function(){l.default.debug("Page media failed"),this.pageReady.reject()}),this))}),this)),this.pageReady.promise()},attachInitialMedia:function(){return this.documentVersion.shouldLazyLoad()?(this.attachChildMedia(this,!0),this.attachInitialViewportMedia(this)):this.attachChildMedia(this,!0)},attachViewMedia:function(t){var e=[];return e.push(t.attachMedia()),e.concat(this.attachChildMedia(t,!1))},attachChildMedia:function(t,e){var n=[],i=this,r=function(t){d.default.each(t,(function(t){(!e||t.initiallyVisible||t.keepVisibleForScreenReaders||t.visible)&&(t.mediaHasBeenLoaded||(t.mediaHasBeenLoaded=!0),(!i.documentVersion.shouldLazyLoad()||i.documentVersion.shouldLazyLoad()&&!t.options.isInInitialViewport)&&n.push(t.attachMedia()),t.childViews&&r(t.childViews))}))};return t&&t.childViews&&r(t.childViews),n},attachInitialViewportMedia:function(t){var e=[],n=function(t){d.default.each(t,(function(t){t.options.isInInitialViewport&&e.push(t.attachMedia()),t.childViews&&n(t.childViews)}))};return t&&t.childViews&&n(t.childViews),e},scale:function(){var t=this.getScaleContext();this.model.preloadImages(t);var e=function(t){d.default.each(t,(function(t){(t.mediaHasBeenLoaded||t.initiallyVisible)&&(t.scaleComponent(),t.childViews&&e(t.childViews))}))};e(this.childViews)},doCustomScaling:function(){var t=function(e){d.default.each(e,(function(e){(e.mediaHasBeenLoaded||e.initiallyVisible)&&(e.doCustomScaling(!0),e.childViews&&t(e.childViews))}))};t(this.childViews)},attach:function(){this._destroySpinner(),this.pageReady.resolve(),this.render(),l.default.debug("Page idx: "+this.getPageIndex()+" attached!")},render:function(){this.$pageScroll[0].appendChild(this.prerenderer.getDocumentFragment()),h.default.desktop()&&this.$pinnedContainer[0].appendChild(this.prerenderer.getPinnedDocumentFragment());var t=function(e){d.default.each(e,(function(e){e.onAttach(),e.childViews&&(h.default.isDesktopSafari()&&e.childrenUseBlendingModes()&&d.default.isFunction(e.prepareGroupForBlendingModes)&&e.prepareGroupForBlendingModes(),t(e.childViews))}))};t(this.childViews),this.automaticHoverInteractionCollection.initInteractions(),this.$pageScroll.trigger("focus")},applyRemoteChange:function(t){this.throttleReload.flush(),y.default.reset();var n,i=this,r=this.findChildView(t.id);(i.model.updateLayerDictionaryFromRemoteChange(t),null==r?void 0:r.isComponent())&&(n=!r.areAllParentsVisible(),r.applyChanges(i.applyPageContext(t.options)),n&&r.hide(),r.doTriggerOnScroll()?i._addScrollTriggeredObject(r):i._removeScrollTriggeredObject(r),r.getResettableHoverInteractions()?i.addResetWhenOffscreenHoverTrigger(r):i.removeResetWhenOffscreenHoverTrigger(r));this.automaticHoverInteractionCollection.refreshInteractions(),this.trigger(e.PAGE_EVENTS.REMOTE_CHANGE_DONE,t)},reload:function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),this.processingReload=!0;var i=this.getObjectStates(),r=this.getVisibilityState(),o=w.default.getVariant();if(o!==this.model.getReconciledVariant()){var a=this.model.reconcileLayers(this.model.get("layerHierarchies")[o],this.model.get("layerDictionary"));this.model.set("layers",a),this.model.resolveSmartgroupsAndMedia()}this.scaleExperience=this.documentVersion.getScaleExperience();var s=this.getScaleContext();this.documentVersion.shouldLazyLoad()?this.model.lazyPreloadAllMedia(s,this.options.isRequestedPage):(this.model.preloadVisibleMedia(s,!0),this.model.preloadHiddenMedia(s)),this.prerender(),this.$pageScroll.empty(),h.default.desktop()&&this.$pinnedContainer.empty(),this.resetTimedTriggers(),!0===t&&this.setScrollPosition(0),!0===n&&this.setStateAndVisibility(this.childViews,i,r),this.render(),this.getModule().trigger(this.getModule().publishedEvents.PAGE_RELOAD),this.attachInitialMedia(),this.activateAndRunEntryAnimationsForAllVisible(),this.trigger(e.PAGE_EVENTS.PAGE_RELOAD_DONE),this.processingReload=!1,T.default.trigger("viewport.send_state_data")},storeScaleTransform:function(t,e){this.scaleTransformKey=t,this.scaleTransformValue=e},setBackgroundPositionAndScaleTransform:function(t,e){var n={"background-position-x":t+"px",zoom:"",transform:""};(this.scaleExperience||e)&&(e?"transform"===this.scaleTransformKey?n.transform="translateX("+t+"px) "+this.scaleTransformValue:(n.transform="translateX("+t+"px)",n[this.scaleTransformKey]=this.scaleTransformValue):n[this.scaleTransformKey]=this.scaleTransformValue),this.$el.css(n)},getLeft:function(){return parseInt(this.$el.css("background-position-x"),10)},setOpacity:function(t){this.$pageScroll.css("opacity",t)},isInTransition:function(){return this.$el.hasClass("in-transition")},isPending:function(){return this.$el.hasClass("pending")},isTop:function(){return this.$el.hasClass("top")},isViewed:function(){return this.$el.hasClass("viewed")},isReady:function(){return"resolved"===this.pageReady.state()},isDisabled:function(){return!0===this.model.get("disabled")},disable:function(){this.model.set("disabled",!0)},enable:function(){this.model.set("disabled",!1)},makeInTransition:function(){this.$el.addClass("in-transition"),this._startSpinner()},makePending:function(){this.$el.removeClass("top viewed in-transition").addClass("pending").attr("aria-hidden",!0);var t=this.getScaleContext();this.setBackgroundPositionAndScaleTransform(t.originalWindowWidth,!1),this._stopSpinner()},makeTop:function(){this._startSpinner(),this.$el.removeClass("pending viewed in-transition").addClass("top").attr("aria-hidden",!1),this.setBackgroundPositionAndScaleTransform(0,!1)},activate:function(){this.activateAndRunEntryAnimationsForAllVisible();var t=this.getVisibleBoundaries();this.animationRunner.createTimedTriggers(this.scrollTriggeredObjects,t),this.getModule().trigger(this.getModule().publishedEvents.PAGE_ACTIVATED,{slug:this.model.get("slug"),pageName:this.model.get("name"),topY:t.topY,bottomY:t.bottomY,pageHeight:this.getPageHeight(),sdkTags:this.model.get("sdkTags"),sdkPayload:this.model.get("sdkPayload")}),this.activated=!0},triggerScrollTo:function(t){t=t.replace(/^#?/,""),t=window.decodeURIComponent(t);var e="#"+O.escapeComponentId(t),n="component",i=t.match(/page-[0-9]+-(top|bottom)/);i?n=i[1]:this.$pageContainer.find(e).hasClass("scranchor")&&(n="scranchor"),T.default.trigger(this.module.publishedEvents.PAGE_ACTION_SCROLL_TO,{scrollTargetType:n,scrollTargetScranchor:t})},makeViewed:function(){this.$el.removeClass("top pending in-transition").addClass("viewed").attr("aria-hidden",!0);var t=this.getScaleContext();this.setBackgroundPositionAndScaleTransform(-t.originalWindowWidth,!1),this._stopSpinner()},getThumbnail:function(){return this.options&&this.options.thumbnail?C.default.makeUrlAbsolute(this.options.thumbnail):null},getChildViews:function(){return this.childViews},isChildVisible:function(t){return null!==t&&!0===t.visible},reset:function(){this.childViews&&(this.deactivateHovers(),this.animationRunner.resetAnimationsAndInitialVisibility(this.childViews))},activateAndRunEntryAnimationsForAllVisible:function(){this.childViews&&this.animationRunner.activateAndRunEntryAnimationsForAllVisible(this.childViews,this.getVisibleBoundaries())},restartRepeatEntryAnimationsForAllVisibleOrViewed:function(){this.childViews&&this.animationRunner.restartRepeatEntryAnimationsForAllVisibleOrViewed(this.childViews,this.getVisibleBoundaries())},pauseAnimations:function(){if(this.childViews){var t=function(e){d.default.each(e,(function(e){e.pauseAnimations(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},resumeAnimations:function(){if(this.childViews){var t=function(e){d.default.each(e,(function(e){e.resumeAnimations(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},isValidChildView:function(t){return null!==this.findChildView(t)},applyPageContext:function(t){var e,n,i,r;return t.interactions=E.InteractionFactory.initializeInteractions(t.interactions,this,t.id),(null===(n=null===(e=t.overrides)||void 0===e?void 0:e.tablet)||void 0===n?void 0:n.interactions)&&(t.overrides.tablet.interactions=E.InteractionFactory.initializeInteractions(t.overrides.tablet.interactions,this,t.id)),(null===(r=null===(i=t.overrides)||void 0===i?void 0:i.mobile)||void 0===r?void 0:r.interactions)&&(t.overrides.mobile.interactions=E.InteractionFactory.initializeInteractions(t.overrides.mobile.interactions,this,t.id)),t.states&&(t.states=A.ObjectStateFactory.initializeStates(t.states)),d.default.defaults(t,{pageWidth:this.getPageWidth(),pageHeight:this.getPageHeight(),module:this.getModule(),pageView:this,theme:this.options.theme,allowCommerceIntegration:this.options.allowCommerceIntegration,textPlusLazyLoader:this.textPlusLazyLoader})},invokeShowAction:function(t,e){if(t&&0!==t.length){var n=this,i=[];d.default.each(t,(function(t){var e=n.findChildView(t);e&&i.push(e)})),this.loadAllMediaThenShowChildViews(d.default.uniq(i),e)}},invokeHideAction:function(t){if(t&&0!==t.length){var e=[],n=this;d.default.each(t,(function(t){var i=n.findChildView(t);i&&e.push(i)})),this.hideAllChildViews(d.default.uniq(e))}},invokeToggleAction:function(t){if(t&&0!==t.length){var e=[],n=[],i=this;d.default.each(t,(function(t){var r=i.findChildView(t);r&&(i.isChildVisible(r)?e.push(r):n.push(r))})),this.hideAllChildViews(d.default.uniq(e)),this.loadAllMediaThenShowChildViews(d.default.uniq(n))}},invokeShowOrHideOnlyAction:function(t,e){if(t&&0!==t.length){var n=[];d.default.each(t,d.default.bind((function(t){var e=this.findChildView(t);e&&(e.parentViews.length>0?n.push(e.parentViews[0]):n.push(this))}),this));var i=[],r=[];d.default.each(d.default.uniq(n),(function(n){d.default.each(n.childViews,(function(n){var o=-1!==t.indexOf(n.id);o&&e||!o&&!e?r.push(n):i.push(n)}))})),this.loadAllMediaThenShowChildViews(d.default.uniq(r)),this.hideAllChildViews(d.default.uniq(i))}},invokeShowOnlyAction:function(t){this.invokeShowOrHideOnlyAction(t,!0)},invokeHideOnlyAction:function(t){this.invokeShowOrHideOnlyAction(t,!1)},invokeCycleNextOrPreviousAction:function(t,e){if(t&&0!==t.length){var n=[],i=[];d.default.each(t,d.default.bind((function(t){var r=this.findChildView(t);if(r&&r.childViews&&0!==r.childViews.length){var o,a=d.default.findLast(r.childViews,(function(t){return t.visible}));if(a){var s=r.childViews.indexOf(a);o=e?0===s?r.childViews.length-1:s-1:s===r.childViews.length-1?0:s+1}else o=e?r.childViews.length-1:0;i.push(r.childViews[o]),n=n.concat(r.childViews.slice(0,o)).concat(r.childViews.slice(o+1))}}),this)),this.loadAllMediaThenShowChildViews(d.default.uniq(i)),this.hideAllChildViews(d.default.uniq(n))}},invokeCycleNextAction:function(t){this.invokeCycleNextOrPreviousAction(t,!0)},invokeCyclePreviousAction:function(t){this.invokeCycleNextOrPreviousAction(t,!1)},loadAllMediaThenShowChildViews:function(t,e){var n=this;function i(){var e=n.getVisibleBoundaries();d.default.each(t,(function(t){t.mediaHasBeenLoaded=!0,n.animationRunner.showChildViewIfAllParentsVisible(t,e)}))}var r=[];if(d.default.each(t,(function(t){t.mediaHasBeenLoaded||(r=r.concat(n.attachViewMedia(t)))})),d.default.isEmpty(r))i(),e&&e();else{d.default.isNull(n.childLoadingTimeout)||clearTimeout(n.childLoadingTimeout),n.childLoadingTimeout=d.default.delay((function(){n._createSpinner(!0)}),200);var o=function(){clearTimeout(n.childLoadingTimeout),n.childLoadingTimeout=null,n._destroySpinner(),i()};c.default.when.apply(c.default,r).done((function(){l.default.debug("Successfully attached child media being shown."),o(),e&&e()})).fail((function(){l.default.debug("Failed to load child media being shown."),o()}))}},hideAllChildViews:function(t){this.animationRunner.hideAllChildViewsAndRunExitAnimations(t)},_createSpinner:function(t){d.default.isNull(this.spinner)&&(this.spinner=b.default.showLoading(this.$el,{startImmediately:t}))},_destroySpinner:function(){this.spinner&&(this.spinner.destroy(),this.spinner=null)},_stopSpinner:function(){this.spinner&&this.spinner.stop()},_startSpinner:function(){this.spinner&&this.spinner.start()},addActiveHover:function(t,e){var n=e.targetsSelf?[t.id]:e.getHoverTargets(),i=t.getExtents(),r=[];d.default.isEmpty(i)?this.deactivateHovers():(d.default.each(n,d.default.bind((function(n){if(this.isValidChildView(n)){var i=t.isFixedPosition(),o=n,a=[],s=this.calculateHoverArea(t,t.getExtents(),o,e,i),u=this.findChildView(n),l=parseInt(u.$el.css("zIndex"),10)||0;"folder"===u.options.type?l=u.getFirstAvailableZIndex():e.action===k.ActionTypes.changeState&&(a=d.default.map(u.getParentsWithLinkInteraction(),d.default.bind((function(t){return this.findChildView(t)}),this)));var c={object:t,interaction:e,area:s,target:u,targetZIndex:l,targetParentsWithLinkInteraction:a,pinned:i};r.push(c)}}),this)),r.length?this.activeHoversGroupedByInteraction.push(r):0===this.activeHoversGroupedByInteraction.length&&this.deactivateHovers())},calculateHoverArea:function(t,e,n,i,r){var o,a=this.getChildViewExtents(n,i);if(!d.default.isEmpty(a)){if(r){var s=d.default.cloneDeep(t.getExtents()),u=t.getTopAndBottomFixedPosition(s.y1,s.y2);s.y1=u.top,s.y2=u.bottom,o=S.default.createHoverArea(s,a,!1)}else o=S.default.createHoverArea(e,a,!1);return o}this.deactivateHovers()},getMouseXAndMouseYFromEvent:function(t){var e,n,i=this.getScaleContext(),r=this.$pageScroll.offset();return this.scaleContext.useZoom(i.ratio)?(e=t.pageX/i.ratio-r.left,n=t.pageY/i.ratio-r.top):(e=(t.pageX-r.left)/i.ratio,n=(t.pageY-r.top)/i.ratio),{mouseX:e,mouseY:n}},handleMouseMove:function(t){var e=t.pageX,n=t.pageY;if(this.mouseMovePositionLast={pageX:e,pageY:n},!M.editorToggleService.editMode){var i=this,r=this.getMouseXAndMouseYFromEvent(t),o=r.mouseX,a=r.mouseY,u=[],l=Math.ceil(o),c=Math.floor(o),h=Math.ceil(a),f=Math.floor(a),p=new Set;d.default.each(this.activeHoversGroupedByInteraction,d.default.bind((function(e){!e||e.length<1||(d.default.every(e,d.default.bind((function(e){var n,r,o=this;if("change-state"===e.interaction.action&&(e.object.options.linkInteraction||"smartgroup"===e.object.options.type)){var a=e.interaction.getTargets(),u=function(t){return t.some((function(n){var i=!1,r=o.findChildView(n);if(p.has(n))return!0;if(r.options.id===e.object.options.id&&r.childViews&&r.childViews.length>0){var a=r.childViews.map((function(t){return t.id}));i=u(a)}else i=r.isHovered();return i&&t.forEach((function(t){return p.add(t)})),i}))};return!u(s(a,[e.object.options.id]))}var g=e.object.isHovered(t),m=e.interaction.shouldCreateHoverArea(),v=I.default.isShowLayersOnHoverInteraction(e.interaction)&&e.target.isHovered(t);if(m||v){var y=d.default.cloneDeep(e.object.getExtents()),_=!m&&v?e.object:e.target;n=e.interaction.hoverArea||i.calculateHoverArea(e.object,y,_.id,e.interaction,e.pinned),g=g||v&&m,r=!(Math.pointInPoly(n,l,h)||Math.pointInPoly(n,l,f)||Math.pointInPoly(n,c,h)||Math.pointInPoly(n,c,f)||g)}else r=!g;return e.target.mediaHasBeenLoaded&&r}),this))?e[0].object.triggerMouseOutAction(e[0].interaction):u.push(e))}),this)),this.activeHoversGroupedByInteraction=u,0===this.activeHoversGroupedByInteraction.length&&this.deactivateHovers(),this.mouseMovePositionWhileEditModeToggleOn={pageX:e,pageY:n}}},handleMouseLeave:function(t){M.editorToggleService.editMode||(this.triggerMouseOutForInteractions(this.activeHoversGroupedByInteraction),this.deactivateHovers())},triggerMouseOutForInteractions:function(t){d.default.each(t,d.default.bind((function(t){t&&t.length&&t[0].object.triggerMouseOutAction(t[0].interaction)}),this))},deactivateNonParentHovers:function(t){if(M.editorToggleService.editMode)return!1;var e=[];return d.default.each(this.activeHoversGroupedByInteraction,d.default.bind((function(n){n.length>0&&(d.default.every(n,d.default.bind((function(e){var n=t.idBelongsToParent(e.target.id)||e.target.id===t.id,i=e.object.id===t.id,r=t.childViews&&t.childViews.find((function(t){return t.id===e.object.id})),o=e.interaction.action!==k.ActionTypes.changeState,a=e.interaction.action===k.ActionTypes.changeState&&"hover"===e.interaction.trigger,s=e.interaction.action!==k.ActionTypes.bringToFront;return!(n||i||r||!e.target.mediaHasBeenLoaded||!a&&!o||!s)}),this))?n[0].object.triggerMouseOutAction(n[0].interaction):e.push(n))}),this)),this.activeHoversGroupedByInteraction=e,!0},isMouseOverAnActiveHoverAreaWithHigherZIndex:function(t,e){var n=this.getMouseXAndMouseYFromEvent(e),i=n.mouseX,r=n.mouseY,o=Math.ceil(i),a=Math.floor(i),s=Math.ceil(r),u=Math.floor(r),l=!1,c=parseInt(t.$el.css("zIndex"),10)||0;return"folder"===t.options.type&&(c=t.getFirstAvailableZIndex()),d.default.each(this.activeHoversGroupedByInteraction,d.default.bind((function(t){if(t.length>0&&(l=d.default.some(t,d.default.bind((function(t){return!!(t.interaction.createHoverArea&&t.targetZIndex>c)&&(Math.pointInPoly(t.area,o,s)||Math.pointInPoly(t.area,o,u)||Math.pointInPoly(t.area,a,s)||Math.pointInPoly(t.area,a,u))}),this))))return!0}),this)),l},deactivateHovers:function(){this.activeHoversGroupedByInteraction=[],this.$pageScroll.off("mousemove"),this.$pageScroll.off("mouseleave")},getChildViewExtents:function(t,e){var n=this.findChildView(t),i={};if(n)if(e&&e.action===k.ActionTypes.changeState)i=n.getExtentsFromObjectState(e.state);else if(i=n.getExtents(),n.isFixedPosition()){var r=n.getTopAndBottomFixedPosition(i.y1,i.y2);i.y1=r.top,i.y2=r.bottom}return i},getPageIndex:function(){return this.model.getPageIndex()},getVisibilityState:function(){return this.getChildViewVisibilityState(this.childViews)},getChildViewVisibilityState:function(t){var e=this,n={};return t?(t.forEach((function(t){if(n[t.id]=t.visible,t.childViews&&e.getChildViewVisibilityState){var i=e.getChildViewVisibilityState(t.childViews);d.default.extend(n,i)}})),n):n},getObjectStates:function(){return this.getChildViewObjectStates(this.childViews)},getChildViewObjectStates:function(t){var e={};return t?(d.default.each(t,function(t){t.options.selectedState&&(e[t.id]=t.options.selectedState),t.childViews&&d.default.extend(e,this.getChildViewObjectStates(t.childViews))}.bind(this)),e):e},setStateAndVisibility:function(t,e,n){var i=this;t.forEach((function(t){var r=e[t.id];r&&r!==t.selectedState&&t.invokeObjectState(r,!0),Object.hasOwn(n,t.id)&&n[t.id]!==t.visible&&(t.visible=n[t.id]),t.childViews&&i.setStateAndVisibility(t.childViews,e,n)}))}})},27435:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(8030)),a=n(6232),s=n(95825),u=i(n(16982));e.default=a.AbstractTransformableGroupView.extend({sizeAdjusted:!1,initialize:function(){a.AbstractTransformableGroupView.prototype.initialize.call(this),this.$el.addClass("smart-group"),this.childViews={},this.setSizeFromExtents()},setSizeFromExtents:function(){o.default.previewMode&&(this.options=r.default.clone(this.options)),this.options.scaleWidth=this.options.width/100,this.options.scaleHeight=this.options.height/100;var t=[];function e(n){if("folder"===n.type)r.default.each(n.items,(function(t){e(t)}));else{var i=n,o=u.default.getExtentsFromDimensions(i.x,i.y,i.width,i.height,Math.toRad(i.rotation),i.border&&i.border.width?i.border.width:0);t.push(o)}}r.default.each(this.options.layers,(function(t){e(t)}));var n=u.default.getSmallestContainingRectangle.apply(u.default,t);this.options.width=n.x2-n.x1,this.options.height=n.y2-n.y1;var i=this.options.width/2,a=this.options.height/2,s=this.options.width/2*this.options.scaleWidth,l=this.options.height/2*this.options.scaleHeight;this.options.originalX=this.options.x,this.options.originalY=this.options.y,this.options.x=this.options.x-(i-s),this.options.y=this.options.y-(a-l),this.options.fixedPosition&&(this.options.unfixedX=this.options.x,this.options.unfixedY=this.options.y),this.sizeAdjusted=!0},_applyDimensions:function(t,e){a.AbstractTransformableGroupView.prototype._applyDimensions.call(this,t,e),s.CssUtils.setTransformToElement(this.$el,{scale:{x:this.options.scaleWidth,y:this.options.scaleHeight}})},render:function(){this.sizeAdjusted||this.setSizeFromExtents(),a.AbstractTransformableGroupView.prototype.render.call(this)},applyChanges:function(t){this.sizeAdjusted=!1,a.AbstractTransformableGroupView.prototype.applyChanges.call(this,t)},getAnimatedObjectModelData:function(){return this.sizeAdjusted||this.setSizeFromExtents(),a.AbstractTransformableGroupView.prototype.getAnimatedObjectModelData.call(this)}})},37110:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=n(49986);e.default=a.AbstractComponentView.extend({tagName:"canvas",canvasElement:function(){return this.$el.is("canvas")?this.$el:this.$el.find("canvas")},getApplyDimensionsTarget:function(){return this.$el.add(this.$el.find("canvas"))},applyTagOverride:function(){var t=this.tagOverride(),e=this.canvasElement();if(t){var n=this.getSpecifiedAttributes(this.$el[0].attributes),i=o.default("<"+t.tagName+"></"+t.tagName+">");i.attr(r.default.assign({},n,t.attributes));var a=this.getSpecifiedAttributes(i[0].attributes);if(this.$el.is(t.tagName)&&r.default.isEqual(n,a))return;this.unbindInteractions(),this.$el.replaceWith(i),e.css("left",0),e.css("top",0),this.setElement(i.append(e))}else this.$el.is("canvas")||(this.unbindInteractions(),e.attr("style",this.$el.attr("style")),this.$el.replaceWith(e),this.setElement(e))}})},617:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=u(n(65311)),c=u(n(96486)),d=u(n(80771)),h=u(n(34987)),f=u(n(8030)),p=n(36403),g=u(n(47767)),m=u(n(33722)),v=u(n(64643)),y=n(95825),_=n(62863),b=u(n(54777)),w=n(35256),T=u(n(16982)),S=u(n(88522)),E=a(n(29231)),O=u(n(51339)),P=n(52348),C=u(n(52272)),A=n(57824),k=u(n(89184)),x=n(36281),I=n(91426),M=u(n(26882)),R=n(46792);e.default=p.AbstractPageChildView.extend({COMMERCE_ACTIONS:["product","shopping-cart"],LIGHTBOX_ACTION:"lightbox",className:"component",timedTriggersCreatedAtLeastOnce:!1,entryAnimations:[],exitAnimations:[],startIdxMemo:[],PARENT_EXIT_ANIMATION_ENDED_EVENT:"parentExitAnimationEnded",initialize:function(){p.AbstractPageChildView.prototype.initialize.call(this),this.hasAccessibilityFeature=C.default.hasFeature(A.FeatureFlagName.ACCESSIBILITY),this.$el.addClass("page-object"),this.$el.addClass(this.type),this.$el.css({position:"absolute"}),this.options.rotation||(this.options.rotation=0),this.options.actualRotation=this.options.rotation,this.timedTriggerTimeouts=[],this.shouldRestartEntryAnimations=!1,this._activatedEntryAnimations=!1,this.runningExitAnimations=!1,this.wasInsideVisibleBoundaries=!1,this.timedTriggersActivated=!1,this.exitAnimationPromise=null,this.exitAnimationComplete=null,this.validInteractions={},this.options.unfixedX=this.options.x,this.options.unfixedY=this.options.y,this.options.absoluteX=this.options.x,this.options.absoluteY=this.options.y,this.options.absoluteBoundaryX=this.options.x,this.options.absoluteBoundaryY=this.options.y,this.$window=l.default(window),this.options.animationsRepeatAll=!!this.options.animationsRepeatAll,this.defaultTagName=this.tagName,this._handleOnEscKeyPressed=c.default.bind(this._handleOnEscKeyPressed,this)},tagOverride:function(){var t=void 0;if(this.hasAccessibilityFeature&&this.options.htmlLandmarkTag&&(t={tagName:this.options.htmlLandmarkTag}),Array.isArray(this.options.interactions)){var e=this.options.interactions.reduce((function(t,e){var n=e.domTagOverride;return n?t?n.priority>t.priority?n:t:n:t}),void 0);t=e||t}return t},getSpecifiedAttributes:function(t){return c.default.transform(t,(function(t,e){e.specified&&(t[e.name]=e.value)}),{})},applyAccessibilityFeatures:function(){this.isMask()?this.hasAccessibilityFeature&&this.setAriaLabel():(this.applyTagOverride(),this.hasAccessibilityFeature&&(this.enableAutomaticHoverInteraction(),this.setAriaLabel()))},setAriaLabel:function(){this.options.ariaLabel?this.getAriaElement().attr("aria-label",this.options.ariaLabel):this.getAriaElement()&&this.getAriaElement().removeAttr("aria-label"),this.setAriaRole()},setAriaRole:function(){},getAriaElement:function(){return this.$el},applyTabindex:function(){var t=this;this.hasAccessibilityFeature&&((this.hasHoverInteraction()||this.hasClickInteraction()||this.hasMouseDownInteraction())&&this.getPointerEventsTarget().attr("tabindex",0),this.hasHoverInteraction()?this.getPointerEventsTarget().off("focus.hover").on("focus.hover",(function(e){I.FocusArbiter.prepareTargetOutlineForFocus(t.getPointerEventsTarget())})):this.getPointerEventsTarget().off("focus.hover"))},applyTagOverride:function(){var t=this.tagOverride();if(t&&t.tagName){this.tagName=c.default.get(t,"tagName",this.tagName);var e=this.attributes||{};if(this.attributes=c.default.assign({},this.attributes,c.default.get(t,"attributes")),this.$el.is(this.tagName)&&c.default.isEqual(e,this.attributes))return;var n=c.default.assign(this.getSpecifiedAttributes(this.$el[0].attributes),this.attributes),i=l.default("<"+this.tagName+">",n).append(this.$el.contents());this.$el.replaceWith(i),this.setElement(i)}else this.$el.is(this.defaultTagName)||(n=c.default.assign(this.getSpecifiedAttributes(this.$el[0].attributes),this.attributes),i=l.default("<"+this.defaultTagName+">",n).append(this.$el.contents()),this.$el.replaceWith(i),this.setElement(i))},getOpacity:function(){return this.options.opacity},setParentSmartgroup:function(t){this.options.parentSmartgroup=t,this.options.parentSmartgroup.options.rotation&&(delete this.options.allWidth,delete this.options.allHeight,this._configureAllWidthAllHeight(),this._applyAnimations()),this.configureAbsoluteCoordinates()},addParentView:function(t){this.parentViews.push(t),t.options.rotation&&(delete this.options.allWidth,delete this.options.allHeight,this._configureAllWidthAllHeight(),this._applyAnimations()),this.configureAbsoluteCoordinates()},hasParents:function(){return this.parentViews.length>0},configureAbsoluteCoordinates:function(){var t=new E.Point(this.options.x+this.options.width/2,this.options.y+this.options.height/2),e=this.parentViews;c.default.each(e,(function(e){if(e.options.rotation){var n=e.options.width/2,i=e.options.height/2;t.rotate(n,i,-Math.toRad(e.options.rotation))}t.x+=e.options.x||0,t.y+=e.options.y||0})),this.options.absoluteX=t.x-this.options.width/2,this.options.absoluteY=t.y-this.options.height/2,this.options.absoluteBoundaryX=t.x-this.options.allWidth/2,this.options.absoluteBoundaryY=t.y-this.options.allHeight/2,this.hoverArea&&(this.hoverArea.updatePosition(),this.hoverArea.updateRotation(),this.hoverArea.setWidthAndHeight())},areAllParentsVisible:function(){var t=c.default.every(this.parentViews,(function(t){return t.visible}));return this.options.parentSmartgroup?t&&this.options.parentSmartgroup.visible:t},areAllParentsInitiallyVisible:function(){var t=c.default.every(this.parentViews,(function(t){return t.initiallyVisible}));return this.options.parentSmartgroup?t&&this.options.parentSmartgroup.initiallyVisible:t},areAnyParentsNotVisible:function(){var t=c.default.some(this.parentViews,(function(t){return!t.visible}));return this.options.parentSmartgroup?t||!this.options.parentSmartgroup.visible:t},idBelongsToParent:function(t){return c.default.some(this.parentViews,(function(e){return e.id===t}))},addContainerId:function(t){var e=this.$el.attr("data-container-id")?this.$el.attr("data-container-id")+",":"";this.$el.attr("data-container-id",e+t)},onClose:function(){},_configureAllWidthAllHeight:function(){if(c.default.isUndefined(this.options.allWidth)&&c.default.isUndefined(this.options.allHeight)){var t,e,n=this.options.rotation?this.options.rotation:0;if(this.options.parentSmartgroup&&this.options.parentSmartgroup.options.rotation&&(n+=this.options.parentSmartgroup.options.rotation,n%=360),this.hasParents()&&!this.isMaskImage()&&(n+=c.default.reduce(this.parentViews,(function(t,e){return t+(e.options.rotation||0)}),0)),this.options.actualRotation=n,n>180&&(n=360-n),n>90&&(n=180-n),0!==(n=Math.toRad(n))){t=Math.cos(n),e=Math.sin(n);var i=T.default.getExtentsFromDimensions(this.options.x,this.options.y,this.options.width,this.options.height,n,this.options.border&&this.options.border.width?this.options.border.width:0);this.options.allWidth=i.x2-i.x1,this.options.allHeight=i.y2-i.y1}else this.options.allWidth=this.options.width,this.options.allHeight=this.options.height;this._configureAllWidthAllHeightForShadow(),this._configureAllWidthAllHeightForBorder(n,e,t)}},_configureAllWidthAllHeightForShadow:function(){c.default.isEmpty(this.options.shadow)||""===this.options.shadow||(this.options.allWidth+=c.default.isNumber(this.options.shadow.x)?Math.abs(this.options.shadow.x):0,this.options.allHeight+=c.default.isNumber(this.options.shadow.y)?Math.abs(this.options.shadow.y):0,this.options.allWidth+=c.default.isNumber(this.options.shadow.blur)?Math.abs(this.options.shadow.blur):0,this.options.allHeight+=c.default.isNumber(this.options.shadow.blur)?Math.abs(this.options.shadow.blur):0,this.options.shadow.blur>Math.abs(this.options.shadow.x)&&(this.options.allWidth+=this.options.shadow.blur-Math.abs(this.options.shadow.x)),this.options.shadow.blur>Math.abs(this.options.shadow.y)&&(this.options.allHeight+=this.options.shadow.blur-Math.abs(this.options.shadow.y)))},_configureAllWidthAllHeightForBorder:function(t,e,n){!c.default.isEmpty(this.options.border)&&""!==this.options.border&&c.default.isNumber(this.options.border.width)&&(0!==t?(this.options.allWidth+=2*(this.options.border.width*n+this.options.border.width*e),this.options.allHeight+=2*(this.options.border.width*n+this.options.border.width*e)):(this.options.allWidth+=2*this.options.border.width,this.options.allHeight+=2*this.options.border.width))},enablePointerEventsForIPadSafariDesktop:function(){if(this.options.fixedPosition){var t=d.default.isDesktopSafari()||d.default.isMobileSafari();d.default.isIpadPretendingToBeDesktop()&&d.default.isIosGreaterThanOrEqualTo(13)&&t&&(this.hasClickInteraction()||this.hasMouseDownInteraction())&&this.$el.css("pointer-events","all")}},render:function(){this.applyTabindex(),this.applyAccessibilityFeatures(),this.$el.css("transform",""),this.updateFixedPosition(),this.enablePointerEventsForIPadSafariDesktop(),this._configureAllWidthAllHeight(),this.configureAbsoluteCoordinates(),this._applyPosition(this.options.x,this.options.y,this.options.border),this._applyRotation(this.options.rotation,this.options.width,this.options.height),this._applyDimensions(this.options.width,this.options.height),this._applyOpacity(this.getOpacity());var t=this.visible!==this.initiallyVisible?this.visible:this.options.visible;if(this._applyVisibility(t),this.$onClickShowHideTriggers=void 0,this._configureInteractions(),_.WebkitUtils.requiresHardwareAccelerateTransform(this.options.fixedPosition,"text"===this.type)&&_.WebkitUtils.hardwareAccelerateTransform(this.$el),"image"===this.type&&d.default.isDesktopSafari()&&this.hasActiveBlendingMode()){var e=this.$el.find("img");_.WebkitUtils.hardwareAccelerateTransform(e)}return this.doCustomScaling(),this._applyAnimations(),this._applyBorder(this.options.border),this._applyBackground(this.options.background),this._applyShadow(this.options.shadow,this.options.rotation,this.options.border,this.options.background),this},scaleComponent:function(){this.updateFixedPosition()},updateFixedPosition:function(){if(this.options.fixedPosition&&!d.default.desktop()){var t=this.options.pageView.$pageScroll,e=parseFloat(t.css("left")),n=parseFloat(t.css("top"));this.options.x=this.options.unfixedX+e,this.options.y=this.options.unfixedY+n,this._applyPosition(this.options.x,this.options.y,this.options.border)}},attachMedia:function(){return(new l.default.Deferred).resolve().promise()},applyChanges:function(t){f.default.allowAdaptiveLayouts&&(t=c.default.extend(t,t.overrides[O.default.getVariant()])),delete t.selectedState,this.options=c.default.extend(this.options,t),this.render(),this.invokeObjectState(this.options.selectedState,!0),this.attachMedia(),this.rerunActivationAndEntryAnimations()},getApplyPositionTarget:function(){return this.$el},_applyPosition:function(t,e,n){t=c.default.isNil(t)?this.options.x:t,e=c.default.isNil(e)?this.options.y:e,n=c.default.isNil(n)?this.options.border:n||{};var i=this.getApplyPositionTarget();!c.default.isEmpty(n)&&c.default.isNumber(n.width)&&(t-=n.width,e-=n.width),i.css("left",t+"px"),i.css("top",e+"px")},getApplyDimensionsTarget:function(){return this.$el},_applyDimensions:function(t,e){t=c.default.isNil(t)?this.options.width:t,e=c.default.isNil(e)?this.options.height:e;var n=this.getApplyDimensionsTarget();n.css("width",t+"px"),n.css("height",e+"px"),n.css("transform-origin","center")},getApplyOpacityTarget:function(){return this.$el},_applyOpacity:function(t){t=c.default.isNil(t)?this.getOpacity():t,this.options.parentSmartgroup&&this.options.parentSmartgroup.getOpacity()<1&&(t*=this.options.parentSmartgroup.getOpacity()),this.getApplyOpacityTarget().css("opacity",t)},_applyVisibility:function(t){t?this.show():this.hide()},_applyRotation:function(t){((t=c.default.isNil(t)?this.options.rotation:t)||0===t)&&y.CssUtils.setTransformToElement(this.$el,{rotate:t})},getApplyBorderTarget:function(){return this.$el},_applyBorder:function(t){t=c.default.isNil(t)?this.options.border:t;var e=this.getApplyBorderTarget();c.default.isEmpty(t)?e.css("border","none"):(t.width?(e.css("borderWidth",t.width+"px"),t.color&&""!==t.color&&e.css("borderColor",t.color),t.style&&""!==t.style&&t.style.match(/(solid|dashed|dotted)/)?e.css("borderStyle",t.style):e.css("borderStyle","solid")):e.css("borderWidth","0"),e.css("borderRadius",this.getBorderRadius(t)))},getBorderRadius:function(t){if(t.radius){var e=(t.radius+"").split(",");return 1===e.length?parseInt(e[0],10)+"px":parseInt(e[0],10)+"px "+parseInt(e[1],10)+"px "+parseInt(e[2],10)+"px "+parseInt(e[3],10)+"px"}return""},entryAnimationsActivated:function(){return this._activatedEntryAnimations},isEntryAnimationConfiguredToReplayOnScroll:function(){return this.options.animationsReplayOnScroll},setWasInsideVisibleBoundaries:function(t){this.wasInsideVisibleBoundaries=t},getWasInsideVisibleBoundaries:function(){return this.wasInsideVisibleBoundaries},isAnyPartOfComponentWithinBoundaries:function(t,e){var n=(e=e||this.getComponentBoundaries()).componentTop<t.bottomY&&e.componentBottom>=t.topY;return t.hasXBoundaries&&(n=n&&e.componentLeft<t.rightX&&e.componentRight>=t.leftX),n},isAnyPartOfComponentWithinEntryAnimationBoundaries:function(t,e){return this.isAnyPartOfComponentWithinBoundaries(t.getEntryAnimationVisibleBoundaries(this.options.pageHeight,this.options.pageWidth),e)},isOutsideOfPage:function(){var t=new w.VisibleBoundaries(0,this.options.pageHeight,0,this.options.pageWidth);return!1===this.isAnyPartOfComponentWithinBoundaries(t)},getComponentActualWidthHeight:function(){var t=this.options.width,e=this.options.height,n=this.options.parentSmartgroup;return n&&(t*=n.options.scaleWidth,e*=n.options.scaleHeight),{width:t,height:e}},getComponentBoundaries:function(){var t=this.options.absoluteBoundaryX,e=this.options.absoluteBoundaryY,n=this.options.allHeight,i=this.options.allWidth,r=this.options.parentSmartgroup,o=this.isFixedPosition();if(r){t*=r.options.scaleWidth,t+=r.options.originalX,e*=r.options.scaleHeight,e+=r.options.originalY;var a=Math.toRad(r.options.rotation);if(a){var s=r.options.x+r.options.width/2,u=r.options.y+r.options.height/2,l=Math.rotateCoord(t,e,s,u,-a);t=l.x,e=l.y}n*=r.options.scaleHeight}var c=e+n,d=t+i;if(o){var h=this.getTopAndBottomFixedPosition(e,c);e=h.top,c=h.bottom}return{componentTop:e,componentLeft:t,componentBottom:c,componentRight:d}},getTopAndBottomFixedPosition:function(t,e){var n=this.options.pageView.$pinnedContainer,i=this.options.pageView.scaleContext,r=this.options.pageView.getScaleContext(),o=n?n.offset():{left:0,top:0},a=this.options.pageView.$pageScroll.offset().top-o.top;return i.useZoom(r.ratio)||(a/=r.ratio),{top:Math.floor(t-a),bottom:Math.floor(e-a)}},isFixedPosition:function(){if(this.options.fixedPosition||this.options.parentSmartgroup&&this.options.parentSmartgroup.options.fixedPosition)return!0;if(!c.default.isEmpty(this.parentViews))for(var t=0;t<this.parentViews.length;++t){var e=this.parentViews[t];if(void 0!==e.isFixedPosition&&e.isFixedPosition())return!0}return!1},_hasInteraction:function(t){var e=this.options.interactions;return!(!c.default.isArray(e)||0===e.length)&&this.getValidInteractionsByTrigger(t).length>0},hasOnViewInteraction:function(){return this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.VIEW)},hasClickInteraction:function(){return this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.CLICK)},hasMouseDownInteraction:function(){return this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.MOUSEDOWN)},hasHoverInteraction:function(){return d.default.desktop()&&this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.HOVER)},getResettableHoverInteractions:function(){if(this.hasHoverInteraction()){var t=this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.HOVER);return c.default.filter(t,(function(t){return t.resetWhenScrolledOffscreen}))}return null},hasResettableHoverInteractions:function(){var t=this.getResettableHoverInteractions();return t&&t.length>0},getValidInteractionsByTrigger:function(t){if(!this.validInteractions[t]||f.default.previewMode){var e=this.options.interactions,n=this;(e=c.default.filter(e,(function(e){return!!n._isValidInteraction(e)&&(c.default.isUndefined(t)||e.trigger===t||e.config&&e.config.trigger===t)}))).sort(this._sortInteractions),this.validInteractions[t]=e}return this.validInteractions[t]},_sortInteractions:function(t,e){var n=-1!==["page-goto","page-next","page-prev"].indexOf(t.action),i=-1!==["page-goto","page-next","page-prev"].indexOf(e.action),r="page-enable-disable"===t.action,o="page-enable-disable"===e.action,a="bring-to-front"===t.action,s="bring-to-front"===e.action,u="change-state"===t.action,l="change-state"===e.action;return r&&i?-1:o&&n?1:a&&l?-1:s&&u?1:0},_isValidInteraction:function(t){return!(-1!==c.default.indexOf(this.COMMERCE_ACTIONS,t.action)&&!this.options.allowCommerceIntegration)&&t.isValid()},createTimedTriggers:function(){var t=this.getModule(),e=this;if(this.canCreateTimedTriggers()){var n=c.default.groupBy(e.getValidInteractionsByTrigger(t.INTERACTION_TRIGGERS.VIEW),(function(t){return t.delay}));c.default.forOwn(n,(function(n,i){var r=c.default.filter(n,(function(t){return!e.timedTriggersCreatedAtLeastOnce||t.repeat}));if(r.length>0){var o=setTimeout((function(){function n(r){if(e.isInteractionEnabled(r)){var o="cycle-next"===r.action||"cycle-previous"===r.action;f.default.shouldReduceMotion&&o||(e.simulateClick(!0,r),b.default.trigger(t.publishedEvents.TIMED_INTERACTION,e.addComponentAndClickDataToEvent(r))),o&&e.timedTriggerTimeouts.push(setTimeout((function(){n(r)}),1e3*i))}}c.default.each(r,(function(t){n(t)}))}),1e3*i);e.timedTriggerTimeouts.push(o)}})),this.timedTriggersCreatedAtLeastOnce=!0,this.timedTriggersActivated=!0}},isInteractionEnabled:function(t){return!(f.default.isPreviewer&&f.default.isEmbedded&&R.editorToggleService.editMode)},canCreateTimedTriggers:function(){if(this.timedTriggersActivated)return!1;if(!this.visible)return!1;var t=this.getModule();return!!this._hasInteraction(t.INTERACTION_TRIGGERS.VIEW)&&this.areAllParentsVisible()},simulateClick:function(t,e){var n={clientX:-1,clientY:-1,preventDefault:l.default.noop};this._handleClickInteraction(n,t,e)},_handleClickInteraction:function(t,e,n,i){var r=this.getModule(),o=!1;t.preventDefault();var a=[];if(e){if(!n)return;a=[n]}else a=this.getValidInteractionsByTrigger(r.INTERACTION_TRIGGERS.CLICK);c.default.each(a,c.default.bind((function(e){i&&!e.shouldTriggerOnKeyboardNavigation()||this._triggerClickAction(t,e)&&(o=!0)}),this));var s=this.addComponentAndClickDataToEvent({},t);if(b.default.trigger(r.publishedEvents.PAGE_COMPONENT_CLICKED,s),o){t.handledByComponent=!0;var u=this._hasParentWithLinkInteraction();e||u||r.trigger(r.publishedEvents.PAGE_COMPONENT_INTERACTION,s)}!e&&"mouse"===M.default.ask()&&this.$el.is(":focus")&&this.$el.blur()},handleClickWithoutInteraction:function(t){var e=this.getModule(),n=this.addComponentAndClickDataToEvent({},t);b.default.trigger(e.publishedEvents.PAGE_COMPONENT_CLICKED,n)},_triggerClickAction:function(t,e){var n=this.addComponentAndClickDataToEvent({},t);return e.triggerAction(n)},addComponentAndClickDataToEvent:function(t,e){var n=e&&e.originalEvent&&window.TouchEvent&&e.originalEvent instanceof TouchEvent?e.touches[0]:e,r=n&&!(n.originalEvent instanceof KeyboardEvent);return l.default.extend(t,i({clickX:r?n.clientX:-1,clickY:r?n.clientY:-1},this.getEventInteractionData()))},_hasParentWithLinkInteraction:function(){var t=this.getParentsWithLinkInteraction();return t&&t.length>0},_handleMouseDownInteraction:function(t,e){var n,i,r=this,o=this.getModule(),a=this.getValidInteractionsByTrigger(o.INTERACTION_TRIGGERS.MOUSEDOWN),u=[];this.isMask()&&(u=this.getSiblingsWithInteraction(this.getModule().INTERACTION_TRIGGERS.MOUSEDOWN));var l=!1,c=this._hasParentWithLinkInteraction();try{for(var d=s(a),h=d.next();!h.done;h=d.next()){var f=h.value;f.action===x.ActionTypes.changeState&&c?l=!0:e&&!f.shouldTriggerOnKeyboardNavigation()||this._triggerMouseDownAction(t,f)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}if(this.isMask()&&u.forEach((function(t){t.getValidInteractionsByTrigger(r.getModule().INTERACTION_TRIGGERS.MOUSEDOWN).forEach((function(e){t._triggerMouseDownAction(t.getEventInteractionData(),e)}))})),!l){var p=this.getValidInteractionsByTrigger(o.INTERACTION_TRIGGERS.CLICK);if(!p||p.length<1){t.stopPropagation();var g=this.addComponentAndClickDataToEvent({},t);b.default.trigger(o.publishedEvents.PAGE_COMPONENT_CLICKED,g),c||o.trigger(o.publishedEvents.PAGE_COMPONENT_INTERACTION,g)}}},_copyCallingInteractionValuesForLinkInteraction:function(t,e){return t.lockState=e.lockState,t.hasOutTrigger=e.hasOutTrigger,t},_triggerMouseDownAction:function(t,e){var n=this.addComponentAndClickDataToEvent({},t);e.hasOutTrigger&&this.options.pageView.addActiveClickAndBindMouseEvents(this,e),e.triggerAction(n)},_handleMouseOverInteraction:function(t){var e=this,n=(this.getModule(),this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.HOVER)),i=[];if(this.isMask()&&(i=this.getSiblingsWithInteraction(this.getModule().INTERACTION_TRIGGERS.HOVER)),n.length>0||(null==i?void 0:i.length)>0){if(this.options.pageView.isMouseOverAnActiveHoverAreaWithHigherZIndex(this,t))return;this.options.pageView.deactivateNonParentHovers(this),n.forEach((function(t){if(t.action===x.ActionTypes.changeState){if(e._hasParentWithLinkInteraction())return;if(t.targets&&1===t.targets.length&&t.targets[0].id===e.options.id&&e.options.pageView.hasActiveHover(e))return}e._triggerMouseOverAction(t,e.getEventInteractionData())})),this.isMask()&&i.forEach((function(t){t.getValidInteractionsByTrigger(e.getModule().INTERACTION_TRIGGERS.HOVER).forEach((function(e){t._triggerMouseOverAction(e,t.getEventInteractionData())}))})),this.options.linkInteraction&&!this.isMaskImage()||this.sendPublishedHoverEvents()}},getSiblingsWithInteraction:function(t){return this.parentViews[0]&&this.parentViews[0].childViews?this.parentViews[0].childViews.filter((function(e){return e.getValidInteractionsByTrigger(t).length>0})):[]},enableAutomaticHoverInteraction:function(t){if(this.hasHoverInteraction()){var e=this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.HOVER);0!==e.length&&this.options.pageView.automaticHoverInteractionCollection.add(this,e,this.options.pageView)}else this.options.pageView.automaticHoverInteractionCollection.remove(this.$el)},_triggerMouseOverAction:function(t,e){if(S.default.hasCustomFiringHoverAction(t)){var n=t.layerTargets,i=S.default.isHoverInteractionShowingLayers(t);n=c.default.filter(n,c.default.bind((function(t){var e=this.options.pageView.findChildView(t),n=this.options.pageView.isChildVisible(e);return i?!n:n}),this)),i?this.options.pageView.invokeShowAction(n):this.options.pageView.invokeHideAction(n),S.default.isTemporaryHoverInteractionShowingOrHidingLayers(t)&&this.options.pageView.addActiveHoverAndBindMouseEvents(this,t)}else t.hasOutTrigger&&(this.options.pageView.addActiveHoverAndBindMouseEvents(this,t),this.activateHoverArea()),t.triggerAction(e)},triggerMouseOutAction:function(t){var e=this;c.default.each(t.layerTargets,(function(t){e.options.pageView.findChildView(t).addPointerEvents()})),S.default.isShowLayersOnHoverInteraction(t)?this.options.pageView.invokeHideAction(t.layerTargets):S.default.isHideLayersInteraction(t)?this.options.pageView.invokeShowAction(t.layerTargets):t.hasOutTrigger&&t.triggerOutAction()},getApplyAnimationsTarget:function(){return this.$el},getAnimatedObjectModelData:function(){return{x:this.options.x,y:this.options.y,allWidth:this.options.allWidth,allHeight:this.options.allHeight,width:this.options.width,height:this.options.height,rotation:this.options.rotation,opacity:this.getOpacity(),scaleWidth:this.options.scaleWidth,scaleHeight:this.options.scaleHeight,pageWidth:this.options.pageWidth,pageHeight:this.options.pageHeight,parentSmartgroup:this.options.parentSmartgroup,requiresHardwareAcceleration:_.WebkitUtils.requiresHardwareAccelerateTransform(this.options.fixedPosition,"text"===this.type)}},_applyAnimations:function(){var t=this.getAnimatedObjectModelData();this.animatedObjectModel=new v.default(t);var e=this.getApplyAnimationsTarget();this.cleanupAnimations(),this.entryAnimations=this.buildAnimationPhases(e,this.options.animations,this.options.animationsRepeatAll,this.animatedObjectModel),this.exitAnimations=this.buildAnimationPhases(e,this.options.exitAnimations,!1,this.animatedObjectModel),this.resetToInitialState()},buildAnimationPhases:function(t,e,n,i){var r=[];if(e&&e.length>0)for(var o=function(t){t.play()},a=0;a<e.length;a++){n&&(e[a].loop=!1);var s=m.default.compileNewSequence(t,e[a],i);if(c.default.isNull(s))break;if(r.push(s),r[r.length-2]&&r[r.length-2].on(g.default.END_EVENT,c.default.bind((function(){c.default.defer(o,this)}),s)),!0===e[a].loop)break}return r},reset:function(){this.resetAnimations()},resetAnimations:function(){this.cleanupAnimations(),this.resetToInitialState(),this.runningExitAnimations=!1,this._activatedEntryAnimations=!1},resetTimers:function(){p.AbstractPageChildView.prototype.resetTimers.call(this),c.default.each(this.timedTriggerTimeouts,(function(t){window.clearTimeout(t)})),this.timedTriggerTimeouts=[],this.timedTriggersActivated=!1},whenLeavingVisibleBoundaries:function(){var t=this.entryAnimationsActivated()&&this.isEntryAnimationConfiguredToReplayOnScroll(),e=this.getModule(),n=!c.default.isEmpty(this.getValidInteractionsByTrigger(e.INTERACTION_TRIGGERS.VIEW))&&this.initiallyVisible&&this.areAllParentsInitiallyVisible();this.isOutsideOfPage()||(t&&(this.resetAnimations(),this.exitAnimationPromise&&(this.exitAnimationPromise.resolve(),this.exitAnimationPromise=null),this.visible&&"none"===this.$el.css("display")&&this.$el.show()),n&&this.resetTimers())},onActivationStart:function(){},onActivationEnd:function(){this.shouldRestartEntryAnimations=this.hasEntryAnimation()&&(this.options.animationsRepeatAll||this.options.animations[this.options.animations.length-1].loop)},onExitStart:function(){},onExitEnd:function(){},activateAndRunEntryAnimations:function(){if(this.onActivationStart(),this.hasEntryAnimation()&&!this.entryAnimationsActivated()){this._activatedEntryAnimations=!0;var t=this;this.runEntryAnimations().done((function(){t.onActivationEnd()}))}else this.onActivationEnd()},rerunActivationAndEntryAnimations:function(){if(this.onActivationStart(),this.hasEntryAnimation()){this._activatedEntryAnimations=!0;var t=this;this.runEntryAnimations().done((function(){t.onActivationEnd()}))}else this.onActivationEnd()},restartRepeatEntryAnimations:function(){this.onActivationStart();var t=this.options.animationsRepeatAll&&!f.default.shouldReduceMotion?0:this.options.animations.length-1,e=this;this.runEntryAnimations(t).done((function(){e.onActivationEnd()}))},_getEntryAnimationFrameId:function(t){return this.id+"-"+t},_shouldRunEntryAnimationsOnAnimationComplete:function(){return this.options.animationsRepeatAll&&!f.default.shouldReduceMotion},runEntryAnimations:function(t,e){var n=this.getModule();if(t=t||0,!this.runningExitAnimations){c.default.each(this.entryAnimations,(function(t){t.cleanup()})),this.entryAnimations[t].resetToInitialState();var i=this,r=new l.default.Deferred,o=function(){c.default.last(i.entryAnimations).off(g.default.END_EVENT,o),i._shouldRunEntryAnimationsOnAnimationComplete()?c.default.defer(c.default.bind(i.runEntryAnimations,i)):(r.resolve(),b.default.trigger(n.publishedEvents.PAGE_COMPONENT_ANIMATION_END,i.id))};return c.default.last(this.entryAnimations).on(g.default.END_EVENT,o),this.entryAnimations[t].play(),this.entryAnimations.length>0&&b.default.trigger(n.publishedEvents.PAGE_COMPONENT_ANIMATION_START,this.id),r.promise()}return(new l.default.Deferred).resolve().promise()},runAllChildViewExitAnimations:function(t){if(t=t||[],!this.runningExitAnimations&&this.visible&&this.areAllParentsVisible()){var e=this;this.runningExitAnimations=!0,this.onExitStart();var n=this.runExitAnimations().then((function(){e.runningExitAnimations=!1,e.onExitEnd()}));t.push(n),this.childViews&&c.default.each(this.childViews,(function(e){e.runAllChildViewExitAnimations(t)}))}return t},runExitAnimations:function(){var t=this,e=this.getModule();this.entryAnimations&&c.default.each(this.entryAnimations,(function(t){t.cleanup()}));var n=new l.default.Deferred;return this.exitAnimationPromise=n,c.default.isEmpty(this.exitAnimations)||"none"===this.$el.css("display")?(b.default.trigger(e.publishedEvents.PAGE_COMPONENT_ANIMATION_END,this.id),n.resolve()):(this.exitAnimationComplete=function(){b.default.trigger(e.publishedEvents.PAGE_COMPONENT_ANIMATION_END,t.id),n.resolve(),c.default.last(t.exitAnimations).off(g.default.END_EVENT,t.exitAnimationComplete),t.exitAnimationComplete=null},c.default.last(this.exitAnimations).on(g.default.END_EVENT,this.exitAnimationComplete),this.listenToParentExitAnimationEvents(),c.default.each(this.exitAnimations,(function(t){t.cleanup()})),this.exitAnimations[0].resetToInitialState(),this.exitAnimations[0].play(),this.exitAnimations.length>0&&b.default.trigger(e.publishedEvents.PAGE_COMPONENT_ANIMATION_START,this.id)),n.promise()},listenToParentExitAnimationEvents:function(){var t=this;this.parentViews.forEach((function(e){var n=c.default.last(e.exitAnimations);n&&n.on(g.default.END_EVENT,(function(){t.exitAnimationComplete&&t.exitAnimationComplete(),t.trigger(t.PARENT_EXIT_ANIMATION_ENDED_EVENT,t.exitAnimationPromise)}))}))},cleanupAnimations:function(){this.entryAnimations&&c.default.each(this.entryAnimations,(function(t){t.cleanup()})),this.exitAnimations&&c.default.each(this.exitAnimations,(function(t){t.cleanup()}))},hasEntryAnimation:function(){return this.entryAnimations&&c.default.size(this.entryAnimations)>0},doTriggerOnScroll:function(){return this.hasEntryAnimation()||this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.VIEW)||"html"===this.type},resetToInitialState:function(){if(c.default.isEmpty(this.entryAnimations)){if(!c.default.isEmpty(this.exitAnimations)){var t=c.default.first(this.exitAnimations);if(t.isEntryAnimation()||this.options.visible&&0===t.initialState.opacity)return void t.setToFinalState();t.resetToInitialState()}}else c.default.first(this.entryAnimations).resetToInitialState()},pauseAnimations:function(){this.entryAnimations&&c.default.each(this.entryAnimations,(function(t){t.pause()})),this.exitAnimations&&c.default.each(this.exitAnimations,(function(t){t.pause()}))},resumeAnimations:function(){this.entryAnimations&&c.default.each(this.entryAnimations,(function(t){t.resume()})),this.exitAnimations&&c.default.each(this.exitAnimations,(function(t){t.resume()}))},hasShadow:function(t){return!c.default.isEmpty(t)&&(t.x>0||t.x<0||t.y>0||t.y<0||t.blur>0)},getApplyShadowTarget:function(){return this.$el},_applyShadow:function(t,e){var n=this.getApplyShadowTarget();if(t=c.default.isNil(t)?this.options.shadow:t,e=c.default.isNil(e)?this.options.rotation:e,this.hasShadow(t)){var i={x:c.default.isNumber(t.x)?t.x:0,y:c.default.isNumber(t.y)?t.y:0};e&&0!==e&&this._rotateShadowCoordinates(i,e);var r="";r+=Math.round(i.x)+"px",r+=" "+Math.round(i.y)+"px",r+=t.blur?" "+t.blur+"px":" 0",r+=t.spread?" "+t.spread+"px":" 0",r+=" "+t.color,n.css("boxShadow",r)}else n.css("boxShadow","none")},_rotateShadowCoordinates:function(t,e){e=Math.toRad(e);var n=t.x*Math.cos(e)+t.y*Math.sin(e),i=-1*t.x*Math.sin(e)+t.y*Math.cos(e);t.x=n,t.y=i},_flipShadowCoordinates:function(t,e,n){e&&(t.x*=-1),n&&(t.y*=-1)},getApplyBackgroundTarget:function(){return this.$el},_applyBackground:function(t){if(!this.isMaskImage()){t=c.default.isNil(t)?this.options.background:t;var e=this.getApplyBackgroundTarget();if(!t)return e.css("backgroundColor","transparent"),void e.css("backgroundImage","none");t.color?e.css("backgroundColor",t.color):e.css("backgroundColor","transparent"),t.gradient?e.css("backgroundImage","linear-gradient("+parseInt(t.gradient.angle,10)+"deg,"+h.default.buildStops(t.gradient.stops)+")"):e.css("backgroundImage","none")}},getExtents:function(){var t=this.getExtentsDimensionData(),e=T.default.getExtentsPointsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,t.borderWidth);return this._transformPointsToExtents(e)},_transformPointsToExtents:function(t){var e=this.transformPointToPageCoordinateSpace(t[0]),n=this.transformPointToPageCoordinateSpace(t[1]),i=this.transformPointToPageCoordinateSpace(t[2]),r=this.transformPointToPageCoordinateSpace(t[3]);return{x1:Math.round(Math.min(e.x,n.x,i.x,r.x)),y1:Math.round(Math.min(e.y,n.y,i.y,r.y)),x2:Math.round(Math.max(e.x,n.x,i.x,r.x)),y2:Math.round(Math.max(e.y,n.y,i.y,r.y))}},transformPointToPageCoordinateSpace:function(t){var e=new E.Point(t.x,t.y),n=this.parentViews;if(c.default.each(n,(function(t){if(t.options.rotation){var n=t.options.width/2,i=t.options.height/2;e.rotate(n,i,-Math.toRad(t.options.rotation))}e.x+=t.options.x||0,e.y+=t.options.y||0})),this.options.parentSmartgroup){var i=this.options.parentSmartgroup.options.x,r=this.options.parentSmartgroup.options.y,o=this.options.parentSmartgroup.options.width/2,a=this.options.parentSmartgroup.options.height/2,s=-Math.toRad(this.options.parentSmartgroup.options.rotation);0!==s&&e.rotate(o,a,s),e.x+=i,e.y+=r}return e},isFlipped:function(){return!c.default.isNil(this.options.flipHorizontal)||!c.default.isNil(this.options.flipVertical)},childrenUseBlendingModes:function(){return!!this.childViews&&this.childViews.some((function(t){return t.hasActiveBlendingMode()||t.childrenUseBlendingModes()}))},hasActiveBlendingMode:function(){var t=this.options.blendingMode&&!P.BlendingModes.isDefaultBlendingMode(this.options.blendingMode),e=!!this.options.state&&c.default.some(this.options.states,(function(t){return t.config.blendingMode&&!P.BlendingModes.isDefaultBlendingMode(t.config.blendingMode)}));return t||e},show:function(){if(p.AbstractPageChildView.prototype.show.call(this),this.addPointerEvents(),this.hasAccessibilityFeature){if(void 0===this.$onClickShowHideTriggers&&this.populateOnClickShowHideTriggers(),this.$onClickShowHideTriggers.length){var t=this.isCarouselSlide?"aria-current":"aria-expanded";this.$onClickShowHideTriggers.attr(t,"true")}this.wasShownByFocusInteraction=!1}},hide:function(){if(p.AbstractPageChildView.prototype.hide.call(this),this.removePointerEvents(),this.hasAccessibilityFeature&&(void 0===this.$onClickShowHideTriggers&&this.populateOnClickShowHideTriggers(),this.$onClickShowHideTriggers.length)){if(this.isCarouselSlide?this.$onClickShowHideTriggers.removeAttr("aria-current"):this.$onClickShowHideTriggers.attr("aria-expanded","false"),this.wasShownByFocusInteraction)return void(this.wasShownByFocusInteraction=!1);if(!("keyboard"!==M.default.ask()||document.activeElement&&document.activeElement.classList.contains("ceros-no-return-focus"))){if(void 0===this.$outsideClickShowHideTriggers){var t=this;this.$outsideClickShowHideTriggers=this.$onClickShowHideTriggers.filter((function(){return t.id!==this.id&&!l.default.contains(t.$el[0],this)}))}1!==this.$outsideClickShowHideTriggers.length||this.$outsideClickShowHideTriggers.is(":focus")||this.$outsideClickShowHideTriggers.focus()}}},populateOnClickShowHideTriggers:function(){this.$onClickShowHideTriggers=l.default("[aria-controls~='"+this.id+"']")},parentsHaveInteractions:function(){var t=this.options.parentSmartGroup||this.parentViews;if(t&&(!Array.isArray(t)||t.length)){var e=[];if(this.options.parentSmartGroup)e=this.options.parentSmartGroup.interactions;else for(var n=0;n<this.parentViews.length;++n)this.parentViews[n].validInteractions&&(e.push(this.parentViews[n].validInteractions.click),e.push(this.parentViews[n].validInteractions.hover),e.push(this.parentViews[n].validInteractions.view));return!!c.default.filter(c.default.flatten(e)).length}},sendPublishedHoverEvents:function(){var t=this.getModule();t.trigger(t.publishedEvents.PAGE_COMPONENT_HOVER_INTERACTION,this.getEventInteractionData())},_handleOnEscKeyPressed:function(t){var e=this;k.default.isEscKeyPressed(t)&&this.$el.attr("aria-controls")&&(void 0===this.hideableTargets&&(this.hideableTargets=c.default.reduce(this.$el.attr("aria-controls").split(" "),(function(t,n){var i=e.options.pageView.findChildView(n);return i&&i.$el.hasClass("ceros-hideable")&&t.push(n),t}),[])),this.hideableTargets.length&&this.options.pageView.invokeHideAction(this.hideableTargets),t.stopPropagation())}})},19530:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=n(49986);e.default=o.AbstractComponentView.extend({type:"form-component",onAttach:function(){o.AbstractComponentView.prototype.onAttach.call(this),this.renderForm()},applyChanges:function(t){o.AbstractComponentView.prototype.applyChanges.call(this,t),this.renderForm()},getContainerDivId:function(){return"form-component-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"form-component-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){throw new Error("renderForm not implemented.")},handleSubmit:function(t){throw new Error("handleSubmit not implemented.")},triggerSubmitInteractions:function(t,e){var n=this.getModule(),i=this.getValidInteractionsByTrigger(n.INTERACTION_TRIGGERS.SUBMIT);n.trigger(n.publishedEvents.PAGE_COMPONENT_FORM_SUBMITTED,this.addComponentAndClickDataToEvent({formOrigin:t,formOriginAccountId:e,formOriginFormId:this.options.formId,formOriginFormName:this.options.formName,interactionTriggered:!r.default.isEmpty(i)})),r.default.isEmpty(i)||r.default.each(i,r.default.bind((function(t){"url"===t.action||"page-goto"===t.action||"page-next"===t.action||"page-prev"===t.action||"scroll-to"===t.action?r.default.defer(r.default.bind((function(){this._triggerClickAction(null,t)}),this)):this._triggerClickAction(null,t)}),this))},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){}})},44422:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(49986);e.default=i.AbstractComponentView.extend({type:"canvas-background",initialize:function(t){t.height=t.pageView.getPageHeight(),t.width=t.pageView.documentVersion.getExperienceWidth(),i.AbstractComponentView.prototype.initialize.apply(this,arguments)},applyChanges:function(t){t.height=this.options.pageView.getPageHeight(),t.width=this.options.pageView.documentVersion.getExperienceWidth(),i.AbstractComponentView.prototype.applyChanges.apply(this,arguments)}})},28877:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=n(49986);e.default=o.AbstractComponentView.extend({type:"chartblocks-chart",renderHash:null,render:function(){o.AbstractComponentView.prototype.render.call(this);var t=this.generateRenderHash();if(t!==this.renderHash){this.oldX=this.options.x,this.oldY=this.options.y;var e=r.default("<iframe />");e.attr({width:this.options.width,height:this.options.height,src:this.getEmbedUrl(),frameBorder:"0"}),this.$el.empty(),this.$el.append(e),this.renderHash=t}},getEmbedUrl:function(){return"//embed.chartblocks.com/1.0/?c="+this.options.chartId+"&t="+this.options.requestToken},generateRenderHash:function(){return[this.options.width,this.options.height,this.options.chartId,this.options.requestToken].join(":")}})},25234:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(49986);e.default=i.AbstractComponentView.extend({type:"hotspot",render:function(){return i.AbstractComponentView.prototype.render.call(this),this.$el.css({"background-color":"transparent"}),this},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){},isUsingHoverAreaForMouseOut:function(){return!1}})},12254:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(8030)),s=n(49986);e.default=s.AbstractComponentView.extend({type:"html",onActivationStart:function(){if(this.previousCustomHtml!==this.options.customHtml)if(this.previousCustomHtml=this.options.customHtml,-1!==this.options.customHtml.indexOf("http:")&&"https:"===location.protocol)a.default.previewMode?this.$el.html("<p style='background-color:white'>Can't load an insecure resource on a secure page. Please publish your experience or change the embed code to use https.</p>"):this.$el.empty();else if(this._hasHubspotCall()){var t=window.hbspt.forms.create;window.hbspt.forms.create=o.default.bind((function(e){e&&!e.target&&(e.target="#"+r.default.escapeSelector(this.el.id)),t(e)}),this),this._parseHtml(),window.hbspt.forms.create=t}else this._parseHtml()},_parseHtml:function(){this.$el.empty().html(r.default.parseHTML(this.options.customHtml,document,!0)),this.options.fillEmbedFrame&&this.$el.css("overflow","hidden")},_hasHubspotCall:function(){return-1!==this.options.customHtml.indexOf("hbspt.forms.create")},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){}})},66594:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=i(n(80771)),s=i(n(70847)),u=i(n(15014)),l=i(n(19530));e.default=l.default.extend({type:"hubspot-form",getContainerDivId:function(){return"hubspot-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"hubspot-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){this.$el.empty();var t=o.default('<div id="'+this.getContainerDivId()+'"></div>');t.addClass(this.getContainerClassName()),this.$el.append(t),s.default.renderForm({portalId:this.options.hubId,formId:this.options.formId,css:this.options.css,domId:this.getContainerDivId(),onFormSubmit:r.default.bind(this.handleSubmit,this)})},handleSubmit:function(t){this.doIframeHack(t),this.triggerSubmitInteractions("hubspot",this.options.hubId)},scaleComponent:function(){var t=this.options.pageView.getScaleContext().ratio,e=this.$("#"+this.getContainerDivId());this.options.pageView.scaleContext.useZoom(t)?e.css({zoom:1/t,transform:"scale("+t+")","transform-origin":"0 0",width:100/t+"%","-moz-transform-origin":"0 0","-webkit-transform-origin":"0 0","-ms-transform-origin":"0 0"}):e.css({zoom:"initial",transform:"initial","transform-origin":"initial",width:"initial","-moz-transform-origin":"initial","-webkit-transform-origin":"initial","-ms-transform-origin":"initial"}),l.default.prototype.scaleComponent.call(this)},doIframeHack:function(t){if(a.default.isIos()||a.default.edge||a.default.isDesktopSafari()||a.default.msie){var e=!1,n=null,i=o.default(t).find("input[name=hs_context]").val();if(!r.default.isEmpty(i))try{var s=JSON.parse(i),l=u.default.getLocationWithoutParamsAndLayoutOrPageNumber();s.redirectUrl&&0===s.redirectUrl.indexOf(l)&&(n=s.redirectUrl),e=r.default.isEmpty(s.redirectUrl)||Boolean(n)}catch(t){}if(e){var c="hubspot-submit";o.default("#"+c).remove();var d="hubspot-submit",h=o.default("<iframe></iframe>");h.attr("id",c),h.attr("name",d),h.css({position:"absolute",left:"99999px"}),o.default(document.body).append(h),o.default(t).attr("target",d),n&&this.doThankYouMessageHack(t,n)}}},doThankYouMessageHack:function(t,e){var n=window.location.href,i=e+"&submissionGuid=1";window.history.replaceState({},"",i),r.default.defer(r.default.bind((function(){o.default(t).remove(),s.default.renderForm({portalId:this.options.hubId,formId:this.options.formId,css:this.options.css,domId:this.getContainerDivId(),onFormReady:function(){window.history.replaceState({},"",n)}})}),this))}})},44434:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(97575)),o=i(n(65311)),a=i(n(96486)),s=n(92056),u=i(n(52272)),l=n(57824),c=n(25965),d=n(95825);e.default=s.AbstractImageComponentView.extend({type:"image",image:null,srcOverride:null,canvasImage:null,dimensionsOverride:!1,initialize:function(){this.imageReadyPromises={},s.AbstractImageComponentView.prototype.initialize.call(this)},_applyShadow:function(t,e){t=a.default.isNil(t)?this.options.shadow:t,e=a.default.isNil(e)?this.options.rotation:e,this.applyDropShadow(t,e)},getApplyBorderTarget:function(){return this.$innerElement},attachMedia:function(){if(this.srcOverride)return this.attachImageSrc(this.srcOverride);if(!this.imageLoader)return this.attachImageSrc("");var t=this.imageLoader.getCurrentResource();return t?t.loadNow().then(a.default.bind((function(t){return this.attachImageSrc(t.getSrc())}),this)):(r.default.warn("Image should have been added to resource loader during preload"),o.default.Deferred().resolve(null).promise())},attachImageSrc:function(t){var e=this.imageReadyPromises[t];return e?(this.setSrc(t,e),e.promise()):(e=this.imageReadyPromises[t]=o.default.Deferred(),this.$innerElement.on("load",a.default.bind((function(){this.addAltText(this.$innerElement),e.resolve()}),this)),this.$innerElement.on("error",a.default.bind((function(){this.addAltText(this.$innerElement)}),this)),this.setSrc(t,e),e.promise())},shouldRenderMaskOnCanvas:function(){return 0!==this.options.rotation||1!==this.options.opacity||this.isFlipped()},setSrc:function(t,e){var n=this;this.isMaskImage()?this.shouldRenderMaskOnCanvas()?this.getAlphaMaskCanvas().renderAndReturnMask(t,this.options).then((function(t){n.applyAsMask(t,e)})):this.applyAsMask(t,e):this.$innerElement.attr("src",t)},getAlphaMaskCanvas:function(){return this.canvasImage||(this.canvasImage=new c.AlphaMaskCanvasImage),this.canvasImage},applyAsMask:function(t,e){var n="url("+t+")",i=this.options,r=i.allHeight,o={"-webkit-mask-image":n,"mask-image":n,"-webkit-mask-repeat":"no-repeat","-webkit-mask-size":i.allWidth+"px "+r+"px"};this.$el.css(o),this._applyPosition(),this._applyDimensions(),e.resolve()},_applyBackground:function(t){},addAltText:function(t){var e=this.options.altText;e||(e=u.default.hasFeature(l.FeatureFlagName.ACCESSIBILITY)?"":void 0),t.attr("alt",e)},applyTransitionToTarget:function(t,e){var n=this.getApplyShadowTarget();n.css("transition",t),n.css("transition-property",e||"none"),this.$el.css("transition",t),this.$el.css("transition-property",e||"none"),this.$innerElement.css("transition",t),this.$innerElement.css("transition-property",e||"none"),s.AbstractImageComponentView.prototype.applyTransitionToTarget.call(this,t,e)},_applyRotation:function(t){this.isMaskImage()||((t=a.default.isNil(t)?this.options.rotation:t)||0===t)&&d.CssUtils.setTransformToElement(this.$el,{rotate:t})}})},58514:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=i(n(55634)),s=i(n(19530));e.default=s.default.extend({type:"marketo-form",getContainerDivId:function(){return"marketo-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"marketo-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){this.$el.empty();var t=o.default('<form id="'+this.getContainerDivId()+'"></form>');t.addClass(this.getContainerClassName()),this.$el.append(t),a.default.renderForm({munchkinId:this.options.munchkinId,formId:this.options.formId,marketoInstanceUrl:this.options.marketoInstanceUrl,domId:this.getContainerDivId(),renderingElement:t,onFormSubmit:r.default.bind(this.handleSubmit,this),onFormReady:r.default.bind(this.handleReady,this),onTimeout:function(){window.Rollbar&&window.Rollbar.error("Marketo form failed to load. (Timeout error.)",{munchkinId:this.options.munchkinId,formId:this.options.formId,marketoInstanceUrl:this.options.marketoInstanceUrl})}})},handleReady:function(t){},handleSubmit:function(t,e){return this.triggerSubmitInteractions("marketo",this.options.munchkinId),r.default.defer(r.default.bind(this.renderForm,this)),!1}})},30869:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(42216)),o=i(n(11516)),a=i(n(81433));e.default=o.default.extend({className:"media-loading",initialize:function(t){this.isImage=t.isImage,this.parentHeight=t.height,this.render()},render:function(){this.$el.html(r.default.render(a.default,{isImage:this.isImage})),this.setIconSize(),this.setSpinnerSize()},setIconSize:function(){var t=Math.floor(.2*this.parentHeight);this.$el.find(".media-loading__media-type-icon").css("font-size",t+"px")},setSpinnerSize:function(){var t=Math.floor(.08*this.parentHeight);this.$el.find(".media-loading__spinner").css({height:t+"px",width:t+"px"})}})},4652:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(97575)),u=a(n(96486)),l=a(n(37110)),c=a(n(40812)),d=a(n(80771)),h=o(n(29231));e.default=l.default.extend({type:"shape",render:function(){var t=this.canvasElement();if(!u.default.isFunction(t[0].getContext))return this;this.scale=c.default.getScale(),this.startX=0,this.startY=0;var e={width:this.options.width,height:this.options.height};if("square"===this.options.shape)throw Error("This component view cannot be used for square!");this.addShadowPadding(e),this.addBorderPadding(e),this.options.allWidth=e.width,this.options.allHeight=e.height,l.default.prototype.render.call(this);var n=this.options.shadow,i=this.options.border,r=this.options.background,o=e.width,a=e.height;!u.default.isEmpty(r)||!u.default.isEmpty(i)&&0!==i.width||u.default.isEmpty(this.options.action)||t.css({"background-color":"white",opacity:0}),this._applyDimensions(o,a),t[0].width=o*(d.default.retina()?2:1),t[0].height=a*(d.default.retina()?2:1);var s=this.getContextAndApplyBorderShadowStyles();return this.renderBackground(s,i,r,n),this},addShadowPadding:function(t){var e=this.options.shadow;if(!u.default.isEmpty(e)&&!u.default.isEmpty(this.options.background)&&""!==e){var n=this.options.rotation;if(n&&0!==n){var i=u.default.isNumber(e.x)?e.x:0,r=u.default.isNumber(e.y)?e.y:0;n=Math.toRad(n),e.x=i*Math.cos(n)+r*Math.sin(n),e.y=-1*i*Math.sin(n)+r*Math.cos(n)}e.blur=u.default.isNumber(e.blur)?Math.abs(e.blur):0,e.x=u.default.isNumber(e.x)?e.x:0,e.y=u.default.isNumber(e.y)?e.y:0,d.default.retina()&&!e.retinaReady&&(e.blur*=2,e.x*=2,e.y*=2,e.retinaReady=!0),e.x<0&&(this.options.x-=Math.abs(e.x)+e.blur,this.startX+=Math.abs(e.x)+e.blur),e.y<0&&(this.options.y-=Math.abs(e.y)+e.blur,this.startY+=Math.abs(e.y)+e.blur),t.width+=Math.abs(e.x)+e.blur,t.height+=Math.abs(e.y)+e.blur,e.blur>Math.abs(e.x)&&this._applyShadowXOffset(t,e),e.blur>Math.abs(e.y)&&this._applyShadowYOffset(t,e),this.options.shadow=e}},_applyShadowXOffset:function(t,e){var n=e.blur-Math.abs(e.x),i=this.options.isXAdjusted?0:n;t.width+=n,this.startX+=n,this.options.x-=i,this.options.isXAdjusted=!0},_applyShadowYOffset:function(t,e){var n=e.blur-Math.abs(e.y),i=this.options.isYAdjusted?0:n;t.height+=n,this.startY+=n,this.options.y-=i,this.options.isYAdjusted=!0},addBorderPadding:function(t){var e=this.options.border;!u.default.isEmpty(e)&&""!==e&&u.default.isNumber(e.width)&&(t.width+=2*e.width*this._sizeFactorForPointyShapes()+this._offsetForPointyShapes(e),t.height+=2*e.width*this._sizeFactorForPointyShapes()+this._offsetForPointyShapes(e),this.options.x-=e.width+this._offsetForPointyShapes(e),this.options.y-=e.width+this._offsetForPointyShapes(e),this.startX+=e.width+this._offsetForPointyShapes(e),this.startY+=e.width+this._offsetForPointyShapes(e))},getContextAndApplyBorderShadowStyles:function(){var t=this.canvasElement().get(0).getContext("2d");d.default.retina()&&t.scale(2,2),t.translate(this.startX,this.startY);var e=this.options.border;u.default.isEmpty(e)||""===e||(t.lineWidth=1==e.width?1.0001:e.width,t.strokeStyle=e.color);var n=this.options.shadow;return u.default.isEmpty(n)||u.default.isEmpty(this.options.background)||""===n||(t.shadowOffsetX=n.x,t.shadowOffsetY=n.y,t.shadowColor=n.color,t.shadowBlur=n.blur),t},_applyShadow:function(){},_applyBorder:function(){},_applyBackground:function(){},_sizeFactorForPointyShapes:function(){return"star2"==this.options.shape||"double-arrow"==this.options.shape?2:1},_offsetForPointyShapes:function(t){return"star2"==this.options.shape||"double-arrow"==this.options.shape||"single-arrow"==this.options.shape?t.width:0},renderBackground:function(t,e,n,i){t.save(),(u.default.isUndefined(this.options.pathData)||u.default.isNull(this.options.pathData)||""===this.options.pathData)&&(this.path=c.default.getPathFunc(this.options.shape)),"square"==this.options.shape||(null!==this.path?(t.save(),t.scale(this.options.width/this.scale.x,this.options.height/this.scale.y),t.beginPath(),this.path(t),t.closePath(),t.restore()):s.default.error("Unsupported shape")),t.save(),n&&n.gradient?this._renderGradient(t,n.gradient):n&&n.color&&(t.fillStyle=n.color,t.fill()),t.restore(),e&&e.width>0&&t.stroke(),t.restore()},_applyPosition:function(t,e,n){t=u.default.isNil(t)?this.options.x:t,e=u.default.isNil(e)?this.options.y:e;var i=this.getApplyPositionTarget();"square"==this.options.shape?l.default.prototype._applyPosition.call(this,t,e,n):(i.css("left",t+"px"),i.css("top",e+"px"))},_renderGradient:function(t,e){var n=h.calcRotatedLineIntersect(e.angle,this.options.width,this.options.height),i=n.startPt,r=n.endPt,o=t.createLinearGradient(Math.round(i.getX()),Math.round(i.getY()),Math.round(r.getX()),Math.round(r.getY()));u.default.each(e.stops,u.default.bind((function(t){o.addColorStop(t.stop,t.color)}),this)),t.fillStyle=o,t.fill()}})},7396:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=n(49986),a=i(n(67189)),s=i(n(34987));e.default=o.AbstractComponentView.extend({type:"shape",render:function(){if(this.isMaskImage()&&(this.options.allWidth=void 0,this.options.allHeight=void 0,this._configureAllWidthAllHeight()),o.AbstractComponentView.prototype.render.call(this),this.isMaskImage()){var t=this.createMaskImage();this.renderAsMask(t)}else!r.default.isEmpty(this.options.background)||!r.default.isEmpty(this.options.border)&&0!==this.options.border.width||r.default.isEmpty(this.options.action)||this.$el.css({"background-color":"white",opacity:0});return this},hasShadow:function(t){return!r.default.isEmpty(this.options.background)&&o.AbstractComponentView.prototype.hasShadow.call(this,t)},getRenderedSVG:function(){var t=this.options,e=t.x,n=t.y,i=t.width,r=t.height,o=t.allHeight,a=t.allWidth,s=t.rotation,u=this.getBorderForMask();return'\n        <svg\n          id="mask-'+this.options.id+'"\n          overflow="visible"\n          xmlns="http://www.w3.org/2000/svg">\n           <rect\n                width="'+i+'"\n                height="'+r+'"\n                style="fill:rgb(0,0,0);\n                stroke-width:0;\n                stroke:rgb(0,0,0)"\n                rx="'+u+'"\n                transform="rotate('+s+", "+a/2+", "+o/2+") translate("+e+", "+n+')"/>\n        </svg>\n      '},createMaskImage:function(){return a.default.encodedSvgStringAsBase64(this.getRenderedSVG())},renderAsMask:function(t){var e={"-webkit-mask-image":t,"mask-image":t,"-webkit-mask-repeat":"no-repeat","-webkit-mask-position":"0px 0px"};this.$el.css(e)},isMaskImage:function(){return!(!this.options.maskInfo||!this.options.maskInfo.maskedObjectId)},_applyRotation:function(t){this.isMaskImage()||o.AbstractComponentView.prototype._applyRotation.call(this,t)},_applyPosition:function(t,e){this.isMaskImage()?o.AbstractComponentView.prototype._applyPosition.call(this,0,0):o.AbstractComponentView.prototype._applyPosition.call(this,t,e)},_applyDimensions:function(t,e){this.isMaskImage()?o.AbstractComponentView.prototype._applyDimensions.call(this,this.options.allWidth,this.options.allHeight):o.AbstractComponentView.prototype._applyDimensions.call(this,t,e)},_applyBorder:function(t){this.isMaskImage()||o.AbstractComponentView.prototype._applyBorder.call(this,t)},applyMaskProperties:function(){var t,e=this.$el,n=this.options.background;if((null==n?void 0:n.color)&&e.css("background",n.color),(null==n?void 0:n.gradient)&&(null===(t=null==n?void 0:n.gradient)||void 0===t?void 0:t.stops)){var i=n.gradient.angle;e.css("backgroundImage","linear-gradient("+i+"deg,"+s.default.buildStops(n.gradient.stops)+")")}},_applyBackground:function(t){o.AbstractComponentView.prototype._applyBackground.call(this,t),this.isMaskImage()&&this.applyMaskProperties()},getBorderForMask:function(){var t=this.options.border;if(t.radius){var e=(t.radius+"").split(",");if(1==e.length)return parseInt(e[0],10)}return 0},getApplyShadowTarget:function(){return this.isMaskImage()&&this.parentViews.length>0?this.parentViews[0].$el:o.AbstractComponentView.prototype.getApplyShadowTarget.call(this)}})},54603:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(97575)),u=a(n(65311)),l=a(n(96486)),c=a(n(80771)),d=a(n(8030)),h=n(49986),f=a(n(74535)),p=a(n(29845)),g=a(n(24031)),m=a(n(72251)),v=a(n(14451)),y=a(n(73735)),_=n(67757),b=n(67757),w=n(21218),T={},S={},E=function(t,e){return t.getCssFamilyName()+":"+e};e.default=h.AbstractComponentView.extend({type:"text",textSpans:null,textContent:null,textUpdatedViaSdk:!1,initialize:function(){h.AbstractComponentView.prototype.initialize.call(this),this.fontLoader=this.options.fontLoader,this.defaultVariant=this._getVariant(this.options.defaultSpan),this.textMode=this.options.textMode||b.TextRenderMode.PARAGRAPH,this.isRerendering=!1,this.tooSmallToRender=!1},render:function(){if(!(this.options.width<=1||this.options.height<=1))return this.tooSmallToRender=!1,h.AbstractComponentView.prototype.render.call(this),c.default.webkit&&this.$el.css("-webkit-filter","blur(0px)"),this._applyDimensions(this.options.width,this.options.height),this.setDefaultTextStyle(),this.prepareTextContentAndSpans(),this.allFontsReady=new u.default.Deferred,this.variantsMeasured=0,this.fontLoader.onVariantLoaded(this.measureBaselineOffsetAndRenderText,this),this.fontLoader.onLoadFail(this.allFontsReady.reject,this.allFontsReady),this;this.tooSmallToRender=!0},prepareTextContentAndSpans:function(){this.textContent=this._applyTextTransform(this.options.textContent),this.textSpans=g.default.padTextSpans(this.textContent,this.options.defaultSpan,this.options.textSpans)},setTextFromSDK:function(t){var e,n;t=t||"",this.textUpdatedViaSdk=!0,this.options.textContent=t,this.textSpans&&this.textSpans.length>0&&(this.textSpans[0].fontColor&&(e=this.textSpans[0].fontColor),this.textSpans[0].variantGuid&&(n=this.textSpans[0].variantGuid)),this.options.textSpans=[],this.prepareTextContentAndSpans(),this.textSpans&&this.textSpans.length>0&&(e&&(this.textSpans[0].fontColor=e),n&&(this.textSpans[0].variantGuid=n)),"resolved"===this.allFontsReady.state()&&this._layoutContent(),this.$el.css("columns","unset")},measureBaselineOffsetAndRenderText:function(t){(function(t,e){var n=E(t,e);if(l.default.has(S,n))return S[n].promise();var i=new u.default.Deferred;return S[n]=i,p.default.measureFontBaselineOffset(t,e,e).then(i.resolve,i.reject),i.then((function(t){T[n]=t}))})(t,this.options.defaultSpan.fontSize).then(l.default.bind((function(){this.variantsMeasured++,this.variantsMeasured===this.fontLoader.getAllVariants().length&&this.allFontsReady.resolve()}),this))},_getPadding:function(){return{left:l.default.isNumber(this.options.paddingLeft)?this.options.paddingLeft:0,right:l.default.isNumber(this.options.paddingRight)?this.options.paddingRight:0,top:l.default.isNumber(this.options.paddingTop)?this.options.paddingTop:0,bottom:l.default.isNumber(this.options.paddingBottom)?this.options.paddingBottom:0}},_getColumnWidth:function(){var t=this._getPadding();return(this.options.width-t.left-t.right-(this.options.columns-1)*this.options.columnGap)/this.options.columns},_getVariant:function(t){return p.default.resolveFont(t.variantGuid)},_getDefaultBaselineOffset:function(){var t=0,e=this._getVariant(this.options.defaultSpan),n=E(e,this.options.defaultSpan.fontSize);return e&&l.default.has(T,n)&&(t=T[n]),t},_layoutContent:function(){var t,e=this._getDefaultBaselineOffset();this.defaultVariant=this._getVariant(this.options.defaultSpan);var n=this.options.glyphMetrics&&this.options.glyphMetrics!==m.default.EMPTY_METRICS&&l.default.isString(this.options.glyphMetrics);n&&(this.$el.css("lineHeight",this.options.defaultSpan.fontSize+"px"),t=this.glyphMetrics=m.default.decode(this.options.glyphMetrics,this.textContent));var i=!0===this.options.showOverflow?"visible":"hidden";this.$el.css("overflow",i),this.$el.empty(),!n||this.isParagraphMode()||this._useParagraphLayout(t)?(d.default.previewMode||n||this.isParagraphMode()||s.default.warn("no glyph metrics! using paragraph layout..."),this._layoutParagraphs(e)):this._useCharacterLayout(t)?this._layoutGlyphs(t,e):this._layoutLines(t,e)},_useParagraphLayout:function(t){return t.totalLines>=250},isLineMode:function(){return this.textMode===b.TextRenderMode.LINE&&!this.hasAccessibilityFeature},isParagraphMode:function(){return!(this.textMode!==b.TextRenderMode.PARAGRAPH&&!this.textUpdatedViaSdk&&!this.hasAccessibilityFeature)},isHiddenFromScreenReaders:function(){return this.options.hiddenFromScreenReaders&&this.hasAccessibilityFeature},getCurrentHtmlTag:function(){return this.options.htmlTag||"p"},_useCharacterLayout:function(t){return!this.isParagraphMode()&&this.textMode===b.TextRenderMode.CHAR&&t.totalCharacters<=250},_applyTextTransform:function(t){switch(this.options.textTransform){case"uppercase":return t.toUpperCase();case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))}return t},_applyStyle:function(t,e){void 0===e&&(e={});var n={},i=l.default.extend({},this.options.defaultSpan,e),r=this._getVariant(i);if(e.fontColor&&(n.color=e.fontColor),r.getFontWeight()!==this.defaultVariant.getFontWeight()&&(n["font-weight"]=r.getFontWeight()),r.getFontStyle()!==this.defaultVariant.getFontStyle()&&(n["font-style"]=r.getFontStyle()),r.getCssFamilyName()!==this.defaultVariant.getCssFamilyName()&&(n["font-family"]=r.getCssFamilyName()),e.underline&&(n["text-decoration"]="underline"),e.letterSpacing&&(n["letter-spacing"]=y.default.unitsToCss(e.letterSpacing)),l.default.isEmpty(n)&&this.isParagraphMode()&&!e.hyperlink)return t.content;n=l.default.extend(n,l.default.pick(t,["position","top","left"]));var o="<span";return l.default.isEmpty(n)||(o+=' style="',l.default.each(n,(function(t,e){o+=e+":"+t+";"})),o+='"'),o+">"+t.content+"</span>"},_getNumSpaces:function(t){return l.default.reduce(t,(function(t,e){return t+(" "===e.ch||"\n"===e.ch?1:0)}),0)},_layoutGlyphsChars:function(t,e,n,i){for(var r=[],o=0;o<t.length;o++){var a=e+o,s=t[o];if("\n"!==s.ch&&!l.default.isUndefined(s.ch)){var u=g.default.findTextSpanForCharIndex(a,this.textSpans),c=" "===s.ch?"&nbsp;":s.ch,d=a===u.index+u.length-1,h=o<t.length-1&&l.default.isUndefined(t[o+1].ch);!u.underline||d||s.eol||h||(c+="&nbsp"),r.push(this._applyStyle({content:c,top:s.y+n+i.top+"px",left:s.x+i.left+"px"},u))}}return r},_layoutGlyphs:function(t,e){for(var n=this._getPadding(),i=0,r=[],o=0;o<t.lines.length;o++){var a=t.lines[o],s=i;i+=a.length,0!==a.length&&(1===a.length&&l.default.isUndefined(a[0].ch)||this._getNumSpaces(a)!=a.length&&(r=r.concat(this._layoutGlyphsChars(a,s,e,n))))}this.$el.append(this.applyHyperlinks(this.textSpans,r,b.TextRenderMode.DEFAULT))},_applyTextSpans:function(t,e){var n=l.default.map(t,l.default.bind((function(t){var n=this.textContent.substr(t.index,t.length),i={content:n=this._escapeHtmlSpecialCharacters(n),position:"relative"};return e&&(i.left=e),this._applyStyle(i,t)}),this));return this.applyHyperlinks(t,n,b.TextRenderMode.LINE)},_escapeHtmlSpecialCharacters:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\s/g,"&nbsp;")},_kernLongLines:function(){var t=String.fromCharCode(160),e=this._getColumnWidth();this.$("span.text-line").each(l.default.bind((function(n,i){var r=(i=u.default(i)).width();if(r>e){var o,a=r-e,s=u.default(i).find("span"),c=l.default.reduce(s,(function(t,e){return t+u.default(e).text()}),""),d=a/(c.trim().split(t).length-1),h=-1*Math.ceil(a),f=parseInt(u.default(i).attr("index"),10);i.empty();for(var p=c.lastIndexOf(t);p>0;){o=c.lastIndexOf(t,p-1);var m=g.default.findTextSpansForLine(f+o+1,p-o,this.textSpans),v=o<0?"0px":h+"px",y=this._applyTextSpans(m,v);i.prepend(y),h+=d,p=o}}}),this))},_layoutLines:function(t,e){var n=this._getPadding();this.chIndex=0;for(var i=['<div style="width:110%;position:relative">'],r=0;r<t.lines.length;r++){var o=t.lines[r];if(0!==o.length){for(var a="",s=!1,u=this.chIndex,c=0,d=0;d<o.length;d++)l.default.isUndefined(o[d].ch)||(a+=o[d].ch,s="\n"===o[d].ch,c++);if(a.trim().length>0){var h=g.default.findTextSpansForLine(u,c,this.textSpans),f=this._applyTextSpans(h),p=o[0].y+e+n.top+"px",m=o[0].x+n.left+"px";i.push('<span class="text-line" index="'+u+'" style="top:'+p+";left:"+m+'">'+f+"</span>")}s&&i.push("<br/>"),this.chIndex+=c}}i.push("</div>"),this.$el.append(i.join("")),this._onReflow(this.$("span:first"),l.default.bind((function(){this._kernLongLines()}),this))},_layoutParagraphs:function(t){var e=this;t-=(this.options.leading-this.options.defaultSpan.fontSize)/2;var n=this.options,r=n.width,a=n.height;this.options.textTransform&&this.$el.css("textTransform",this.options.textTransform),this.$el.empty();var s=u.default("<"+this.getCurrentHtmlTag()+' style="position:relative;top:'+t+'px;"/>');this.$el.append(s),"center"!==this.options.justify&&"right"!==this.options.justify||this.textContent.indexOf("  ")>-1?this.$el.css("whiteSpace","pre-wrap"):this.$el.css("whiteSpace","pre-line");var c=g.default.generateUnstyledHtmlSpansForParagraph(this.textContent,this.textSpans).map((function(t){return e._applyStyle.apply(e,o(t))}));s.append(this.applyHyperlinks(this.textSpans,c,b.TextRenderMode.PARAGRAPH)),this.applyJustification(this.options.justify),this.$el.css("padding",0),l.default.each(["Top","Right","Bottom","Left"],l.default.bind((function(t){this.options["padding"+t]&&(this.$el.css("padding"+t,parseInt(this.options["padding"+t],10)+"px"),"Top"!=t&&"Bottom"!=t||(a-=parseInt(this.options["padding"+t],10)),"Left"!=t&&"Right"!=t||(r-=parseInt(this.options["padding"+t],10)))}),this)),"button"===this.tagName&&s.css({height:a});var d=this.$el.find("> *");if(this.options.columns>1){var h=this.options.columnGap||0,f=Math.abs(this.options.leading-this.options.defaultSpan.fontSize),p=a-t+f,m=_.COLUMN_OVERRUN_PADDING_PERCENTAGE/this.options.columns;h+=r*m/100,d.css(i({columnCount:this.options.columns,columnWidth:"auto",columnFill:"auto",columnGap:h+"px",height:p},this.getOverrunPaddingCSS(m)))}else d.css(this.getOverrunPaddingCSS(_.COLUMN_OVERRUN_PADDING_PERCENTAGE));this.$el.css("lineHeight",this.options.leading+"px"),this._applyDimensions(r,a)},getOverrunPaddingCSS:function(t){return"left"===this.options.justify?{paddingRight:t+"%"}:"right"===this.options.justify?{paddingLeft:t+"%"}:{paddingLeft:t/2+"%",paddingRight:t/2+"%"}},applyHyperlinks:function(t,e,n){return new w.InlineLinkProcessor(this,t).decorateLinks(e,n)},_onReflow:function(t,e){if(!l.default.isEmpty(t)){var n=function(){t.width()>0?e():setTimeout(n,1)};setTimeout(n,1)}},applyChanges:function(t){var e=l.default.cloneDeep(t);f.default.reconcileComponentForCurrentVariant(e),this.fontLoader=new v.default(e),this.fontLoader.load(),h.AbstractComponentView.prototype.applyChanges.call(this,t)},applyAccessibilityFeatures:function(){h.AbstractComponentView.prototype.applyAccessibilityFeatures.call(this),this.setScreenReaderVisibilityStatus()},attachMedia:function(){return this.tooSmallToRender?u.default.Deferred().resolve():(this.fontLoader.loadNow(),this.allFontsReady.always(l.default.bind((function(){this.applyDefaultFont(),this._layoutContent()}),this)),this.allFontsReady.promise())},setScreenReaderVisibilityStatus:function(){this.isHiddenFromScreenReaders()?this.$el.attr("aria-hidden","true"):this.$el.removeAttr("aria-hidden")},scaleComponent:function(){this.rerenderByTogglingVisibility()},rerenderByTogglingVisibility:l.default.debounce((function(){if(!this.isRerendering){this.isRerendering=!0;var t=this.$el.css("display");this.$el.css("display","none"),l.default.delay(l.default.bind((function(){this.$el.css("display",t),this.isRerendering=!1}),this),1)}}),100),containsHyperlinks:function(){return l.default.some(this.textSpans,"hyperlink")}})},76786:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(97575)),s=o(n(65311)),u=o(n(96486)),l=n(92056),c=n(92961),d=o(n(67189));e.default=l.AbstractImageComponentView.extend({initialize:function(){l.AbstractImageComponentView.prototype.initialize.call(this),this.loadImage=u.default.once(this.loadImage,this),this.vectorImageReady=new s.default.Deferred},attachMedia:function(){if(this.imageLoader){var t=this.imageLoader.getCurrentResource();u.default.isNull(t)?a.default.warn("Image should have been added to resource loader during preload"):t.loadNow().done(u.default.bind((function(t){this.loadImage(t,this.vectorImageReady,this.options.background,this.options.altText)}),this)).fail(u.default.bind((function(){this.vectorImageReady.reject()}),this))}return this.vectorImageReady.promise()},loadImage:function(t,e,n,r){n.backgroundHasBeenSet=this.options.backgroundHasBeenSet;var o=this.options.interactions&&this.options.interactions.length>0,a=t&&"function"==typeof t.createXMLDoc&&t.createXMLDoc(n,r,o),l=s.default(a).children();if(l[0]){var c=this.$innerElement.attr("width"),d=this.$innerElement.attr("height"),h=this.getApplyShadowTarget(),f={};if(!u.default.isNil(h[0])){var p=h[0].style.webkitFilter;f={filter:h[0].style.filter,"-webkit-filter":p}}var g=s.default(l[0]);this.isMaskImage()||(g.css(i({width:c,height:d},f)),this.setDimensionsAsAttributes(g,c,d));var m=parseInt(g.attr("width"),10),v=parseInt(g.attr("height"),10);if(!g.attr("viewBox")){var y=t.getOriginalAspectRatio();!y||isNaN(y.width)||isNaN(y.height)?isNaN(m)||isNaN(v)||g.attr("viewBox","0 0 "+m+" "+v):g.attr("viewBox","0 0 "+y.width+" "+y.height)}this.isMaskImage()?this.renderAsMask(g[0]):(g.css("display","block"),this.replaceInnerElement(g),this.setChildren(),this.isFlipped()&&this._applyImageFlip({flipHorizontal:this.options.flipHorizontal,flipVertical:this.options.flipVertical}),this.applyTransition()),e.resolve()}else e.reject(new Error("An unexpected error occurred"))},replaceInnerElement:function(t){if(this.getAnimateElements(t).length>0){var e=s.default("<div>");e.append(t),this.$innerElement.replaceWith(e),this.$innerElement=e,this.$innerElement.html(this.$innerElement.html())}else this.$innerElement.replaceWith(t),this.$innerElement=t},setChildren:function(){var t,e,n=this.getSvgChildren();try{for(var i=r(n),o=i.next();!o.done;o=i.next()){var a=o.value;this.children.push(new c.VectorImageChildView({element:a}))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},renderAsMask:function(t){this._configureAllWidthAllHeight();var e=this.options,n=e.width,i=e.height,r=e.rotation,o=e.opacity,a=this.options,s=a.allWidth,u=a.allHeight;if(t.setAttribute("width",""+s),t.setAttribute("height",""+u),0!==r){var l="rotate("+r+"deg)";t.style.transformOrigin="50% 50%";var c=t.style.transform;t.style.transform=c+" "+l}var h=d.default.getScaleValueFromFlip(this.options),f=h.scaleXValue,p=h.scaleYValue,g=t.style.transform;0!==r&&(f*=n/s,p*=i/u),t.style.transform=g+" scale("+f+", "+p+")",t.style.opacity=o;var m=t.outerHTML,v=d.default.encodedSvgStringAsBase64(m),y={"-webkit-mask-image":v,"mask-image":v,"-webkit-mask-repeat":"no-repeat"};this.$el.css(y),this._applyPosition(),this._applyDimensions()}})},9238:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(5401),a=r(n(44434)),s=r(n(923)),u=r(n(88918));function l(t){var e=i(i({},t),{imageLoader:t.posterLoader});return new a.default(e)}e.default={create:function(t){return t.videoAutoPlay?function(t){return s.default.isNoSupport()?function(t){return t.noAutoplayFallbackOption===u.default.NO_AUTOPLAY_FALLBACK_OPTIONS.SHOW_THUMBNAIL_IMAGE?l(t):new o.VideoComponentView(t)}(t):s.default.isMutedSupport()?function(t){var e=t.mutedAutoplayFallbackOption;return e===u.default.MUTED_AUTOPLAY_FALLBACK_OPTIONS.TAP_TO_PLAY?new o.VideoComponentView(t):e===u.default.MUTED_AUTOPLAY_FALLBACK_OPTIONS.SHOW_THUMBNAIL_IMAGE?l(t):(t.tapToPlay=!1,t.muted=!0,new o.VideoComponentView(t))}(t):(t.tapToPlay=!1,new o.VideoComponentView(t))}(t):new o.VideoComponentView(t)}}},57816:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(97575)),s=i(n(43700)),u=i(n(8030)),l=i(n(54777)),c=i(n(15014)),d=i(n(8529)),h=i(n(51339)),f=i(n(74535)),p=i(n(54400)),g=n(24848),m="ceros.sdk.player:",v=["sdk.experience.analytics.get.user.consent","sdk.experience.analytics.user.consent.granted","sdk.experience.analytics.user.consent.denied","sdk.experience.container.ready","sdk.experience.container.scrolled","sdk.experience.container.resized","sdk.experience.page.goto","sdk.experience.page.next","sdk.experience.page.previous","sdk.component.video.start","sdk.component.video.stop","sdk.component.text.settext","sdk.component.image.seturl","sdk.component.image.reset","sdk.component.click","sdk.component.show","sdk.component.hide","sdk.layer.show","sdk.layer.hide","sdk.page.animations.start","sdk.page.animations.pause","sdk.page.disable","sdk.page.enable","sdk.context.get.value"],y=function(t,e){e=JSON.stringify(e),t.postMessage(e,"*")},_=function(t,e){var n={name:m+t,version:"1.1.0",params:e};u.default.isEmbedded&&y(parent,n),y(window,n)},b=function(t){if(t=t.originalEvent,o.default.isString(t.data)&&-1!==t.data.indexOf(m)){var e,n,i={};try{i=JSON.parse(t.data)}catch(t){return void a.default.debug("Error processing message: "+t)}if(i.name){if(i.name=(e=i.name,n=new RegExp("^"+m),e.replace(n,"")),-1===v.indexOf(i.name))return void a.default.debug("Received message that is not an SDK event: "+i.name);l.default.trigger(i.name,i.params)}}},w=function(){var t={},e=function(e,n,i){i&&!o.default.isEmpty(i)&&o.default.each(i,(function(i){t[i]||(t[i]={pages:[],syncedObjects:[],smartgroups:[],layers:[],components:[]}),t[i][e].push(n)}))};this.addPageTags=function(t,n){e("pages",t,n)},this.addSyncedObjectTags=function(t,n){e("syncedObjects",t,n),e("smartgroups",t,n)},this.addLayerTags=function(t,n){e("layers",t,n)},this.addComponentTags=function(t,n){e("components",t,n)},this.getTags=function(){return t}},T=new s.default.Module({id:"sdk-backend",description:"The API for the player SDK.",version:"1.0",delegate:{experienceID:null,initialize:function(t,e,n){if(o.default.isUndefined(window.postMessage))a.default.warn("This browser does not support inter-frame communication.");else{a.default.debug("Embedded Player SDK listening for inter-frame messages."),r.default(window).on("message",b);var i=this.buildExperienceData(t,e,n);this.experienceID=t.get("slug"),this.registerEvents(),_("ready",i)}},buildExperienceData:function(t,e,n){var i=new w,r=this.buildPages(e,i),o=this.buildSyncedObjects(e.get("smartgroups"),i),a={experienceId:t.get("slug"),experienceAlias:u.default.issueAliasSlug,experienceTitle:t.get("title"),currentPageNumber:e.getPageInfoByNumberOrSlug(c.default.parsePageFromLocation()).number,documentVersion:u.default.docVersion,allPageData:r,allSyncedObjectData:o,allSmartgroupData:o,tags:i.getTags(),userToken:n};return a.documentVersion.viewportWidth=e.get("viewportWidth"),a.documentVersion.viewportHeight=e.get("viewportHeight"),a},buildSyncedObjects:function(t,e){var n=[],i=this;return o.default.each(t,o.default.bind((function(t){var r=[];t.layerHierarchies&&(r=i.buildLayers(t.layerHierarchies.desktop,e,void 0,t.layerDictionary,t)),n.push({id:t.id,payload:t.sdkPayload,tags:t.sdkTags,layers:r})}),this)),n},buildPages:function(t,e){var n=[];return o.default.each(t.getPages(),o.default.bind((function(i,r){var o=[];i.get("layerHierarchies")&&(o=this.buildLayers(i.get("layerHierarchies")[h.default.getVariant()],e,i.getSlug(),i.get("layerDictionary"))),n.push({pageSlug:i.getSlug(),pageNumber:i.getPageIndex()+1,payload:i.getSdkPayload(),tags:i.getSdkTags(),layers:o,width:i.getPageWidth(t),height:i.getPageHeight(t),enabled:!i.getDisabled()}),e.addPageTags(i.getSlug(),i.getSdkTags())}),this)),n},buildLayers:function(t,e,n,i,r){var s=[],u=this;function l(t){var s=t.items,c=o.default.cloneDeep(i[t.id]);if(c){if(r&&(c.parentSmartGroup=r),f.default.reconcileComponentForCurrentVariant(c),c.items=s,delete c.parentSmartGroup,c.smartgroupId)return e.addSyncedObjectTags(c.id,c.sdkTags),{id:c.id,syncedObjectId:c.smartgroupId,smartgroupId:c.smartgroupId,tags:c.sdkTags,payload:c.sdkPayload,pageSlug:n,objects:[]};if("folder"===c.type||"group"===c.type){e.addLayerTags(c.id,c.sdkTags);var d=[];return o.default.each(c.items,(function(t){var e=l(t);e&&d.push(e)})),{id:c.id,payload:c.sdkPayload,items:d,tags:c.sdkTags,pageSlug:n,type:c.type}}return u.buildComponent(c,e,n)}a.default.warn("SDKLayersCollection: Layer from hierarchy not found in dictionary",{hierarchyLayer:t})}return t&&o.default.each(t,(function(t){var e=l(t);e&&s.push(e)})),s},buildComponent:function(t,e,n){var i,r=t.id;switch(e.addComponentTags(t.id,t.sdkTags),e.addLayerTags(t.id,t.sdkTags),t.type){case"hotspot-component":i="hotspot";break;case"image-component":i="image";break;case"line-component":i="line";break;case"shape-component":i="shape";break;case"text-component":case"text-plus-component":i="text";break;case"video-widget":i="video"}var o={id:r,type:i,payload:t.sdkPayload,tags:t.sdkTags,x:t.x,y:t.y,width:t.width,height:t.height,pageSlug:n};return"text"===i&&(o.textContent=t.textContent),"image"===i&&t.imageLoader&&(o.fullResolutionUrl=t.imageLoader.getFullResolutionUrl(),o.url=t.imageLoader.getCurrentUrl()),o},registerEvents:function(){l.default.on("page.action.share.page",o.default.bind((function(t){this.announceSocialShare(t.componentSlug,t.action)}),this)),l.default.on("page.component.clicked",o.default.bind((function(t){this.announceComponentClick(t.componentSlug)}),this)),l.default.on("page.component.animation.start",o.default.bind((function(t){this.announceAnimationStarted(t)}),this)),l.default.on("page.component.animation.end",o.default.bind((function(t){this.announceAnimationEnded(t)}),this)),l.default.on("sdk.context.get.value",o.default.bind((function(t){this.getContextValue(t.name)}),this)),l.default.on("sdk.experience.analytics.get.user.consent",o.default.bind((function(){this.getUserConsentForAnalytics()}),this))},announcePageChanged:function(t){_("page.changed",{pageNum:t,experienceId:this.experienceID})},announcePageChanging:function(t){_("page.changing",{pageNum:t,experienceId:this.experienceID})},announceSocialShare:function(t,e){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),_("social.share",{componentId:t,shareType:e,experienceId:this.experienceID})},announceComponentClick:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),_("component.clicked",{componentId:t,experienceId:this.experienceID})},announceLayersShown:function(t){t=o.default.map(t,d.default.extractObjectIdFromSmartgroupInstanceId),o.default.each(t,o.default.bind((function(t){_("layer.shown",{layerId:t,experienceId:this.experienceID})}),this))},announceLayersHidden:function(t){t=o.default.map(t,d.default.extractObjectIdFromSmartgroupInstanceId),o.default.each(t,o.default.bind((function(t){_("layer.hidden",{layerId:t,experienceId:this.experienceID})}),this))},announceVideoPlayed:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),_("video.played",{componentId:t,experienceId:this.experienceID})},announceAnimationStarted:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),_("animation.started",{componentId:t,experienceId:this.experienceID})},announceAnimationEnded:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),_("animation.ended",{componentId:t,experienceId:this.experienceID})},getContextValue:function(t){var e=u.default?o.default.get(u.default,t):"";_("context.value.response",{variableName:t,variableValue:e})},getUserConsentForAnalytics:function(){var t=p.default.getExperiencePath(),e=g.AnalyticsLocalStorage.getUserConsent(t);_("user.consent",{consent:e,experienceId:this.experienceID})},announceScrollTo:function(t){_("scroll.to",{scrollPosition:t.scrollPosition,pageHeight:t.pageHeight,experienceId:this.experienceID,innerHeight:window.innerHeight})},announceTimedInteraction:function(t){_("timed.interaction.fired",t)},getNewTagMap:function(){return new w}}});e.default=T},4148:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(43700)),a=i(n(8030)),s=i(n(94358)),u=i(n(70821)),l=i(n(64130)),c=i(n(34987)),d=new o.default.Module({id:"splashScreen",description:"Loading experience including spinner animation",version:"1.0",publishedEvents:{EMBED_WARNING_DISMISSED:"embed_warning_dismissed"},delegate:{loadingViews:[],showLoading:function(t,e){var n,i={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj},o=r.default.extend({startImmediately:!0,whiteLabeling:!0,showPreviewLabel:!1,overlayed:!0},i,e),u=(n=o.theme,c.default.getMostContrasting(n.backgroundColor,n.menuFgColor,n.menuBgColor).toHex()),l=o.theme.backgroundColor;o.overlayed&&(u=o.theme.menuFgColor,l=o.theme.menuBgColor);var d=new s.default({autoContrastForegroundColor:u,foregroundColor:o.theme.menuFgColor,backgroundColor:l,previewLabelBackgroundColor:o.theme.menuBgColor,whiteLabeling:o.whiteLabeling,showPreviewLabel:o.showPreviewLabel,overlayed:o.overlayed});return this.loadingViews.push(d),t.prepend(d.$el),d.render(),o.startImmediately&&d.start(),{destroy:function(){d.destroy()},start:function(){d.start()},stop:function(){d.stop()}}},scale:function(){r.default.each(this.loadingViews,(function(t,e){t.scale()}))},showUnavailableScreen:function(t,e){var n=new u.default;t.append(n.$el)},showDeletedPageWarning:function(t){var e=new l.default({module:d});e.render(),t.append(e.$el)},hideEmbeddedPreviewerWarning:function(t){t.find(".embedded-previewer-warning").hide()}}});e.default=d},51829:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(11516)),a=i(n(42216)),s=i(n(95950));e.default=o.default.extend({className:"warning",module:null,showBranding:!1,importantText:"",descriptiveText:"",buttonText:"Dismiss",initialize:function(){o.default.prototype.initialize.call(this),this.module=this.options.module},render:function(){this.$el.html(a.default.render(s.default,{showBranding:this.showBranding,importantText:this.importantText,descriptiveText:this.descriptiveText,buttonText:this.buttonText})),this.bindEvents()},bindEvents:function(){this.bindInteraction(this.$el.find("button.dismiss"),r.default.bind((function(t){t.preventDefault(),this.onDismissHandler()}),this))},onDismissHandler:function(){}})},64130:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(51829));e.default=r.default.extend({className:"deleted-page-warning",importantText:"Page not available",descriptiveText:"This page is no longer available.<br/>Please try reloading.",buttonText:"Reload",initialize:function(){r.default.prototype.initialize.call(this)},onDismissHandler:function(){window.location.reload()}})},94358:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(42216)),s=i(n(33410)),u=i(n(11516)),l=i(n(34987)),c=i(n(59410));e.default=u.default.extend({className:"splash-screen loading",lastAnimationId:null,initialize:function(){u.default.prototype.initialize.call(this),this.options=o.default.extend({autoContrastForegroundColor:"#FFFFFF",foregroundColor:"white",backgroundColor:"#161616",previewLabelBackgroundColor:"none",borderRadius:5,revolutionsPerSecond:1.2,fadeOutSpeed:"fast",whiteLabeling:!0,showPreviewLabel:!1},this.options),this.options.degreesPerTick=360/(60*this.options.revolutionsPerSecond)},render:function(){this.$el.empty(),this.$el.html(a.default.render(c.default,{whiteLabeling:this.options.whiteLabeling&&!this.options.showPreviewLabel,showPreviewLabel:this.options.showPreviewLabel})).show(),this.$spinner=this.$el.find(".spinner");var t=this.$el.find(".branding-logo"),e=this.$el.find(".notice");this.options.overlayed&&this.$spinner.addClass("overlayed"),this.$spinner.css({borderRadius:this.options.borderRadius,backgroundColor:this.options.backgroundColor}),this.renderSpinnerCanvas(),t.css({color:this.options.autoContrastForegroundColor}),e.css({backgroundColor:this.options.previewLabelBackgroundColor,color:this.options.foregroundColor}),this.scale(),s.default.getInstance().on("change",this.repositionForEmbed,this),this.repositionForEmbed()},start:function(){o.default.isNull(this.lastAnimationId)&&(this.lastAnimationId=requestAnimationFrame(this._draw))},stop:function(){o.default.isNull(this.lastAnimationId)||(cancelAnimationFrame(this.lastAnimationId),this.lastAnimationId=null)},scale:function(){this.$el.width()<100||this.$el.height()<100?this.$el.find("div.loading-container").addClass("small"):this.$el.find("div.loading-container").removeClass("small")},repositionForEmbed:function(){var t=s.default.getInstance();if(t.isActive()){var e=Math.max(0,t.getTop()),n=Math.min(r.default(window).height(),t.getBottom());this.$el.css({top:e+"px",height:n-e+"px"}),this.scale()}},renderSpinnerCanvas:function(){var t=Math.round(64/12),e=r.default('<canvas width="64" height="64"></canvas>');this.$spinner.append(e);var n=e[0].getContext("2d"),i=0,o=!1,a=this,s=32-t-1;this._draw=function(){var e,r,u=-.5*Math.PI;n.save(),n.fillStyle=a.options.backgroundColor,n.fillRect(0,0,64,64),n.lineWidth=t;var c=l.default.fromHex(a.options.autoContrastForegroundColor);c.a=.1,n.strokeStyle=c.toString(),n.beginPath(),n.arc(32,32,s,0,2*Math.PI,!0),n.stroke(),0===i&&o?(e=u,r=u+2*Math.PI):(e=o?u+Math.PI/180*i:u,r=o?u:u+Math.PI/180*i),n.strokeStyle=a.options.autoContrastForegroundColor,n.beginPath(),n.arc(32,32,s,e,r,!1),n.stroke(),n.restore(),(i+=a.options.degreesPerTick)>359&&(i=0,o=!o),a.lastAnimationId=requestAnimationFrame(a._draw)}},_remove:function(){this.$el.remove()},destroy:function(){this.stop(),this._remove(),s.default.getInstance().off("change",this.repositionForEmbed,this)}})},70821:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(54400)),o=i(n(11516)),a=i(n(8030)),s=i(n(42216)),u=i(n(47307)),l=i(n(45303));e.default=o.default.extend({className:"splash-screen unavailable",events:{"click button.contact":"handleContactClick"},initialize:function(){o.default.prototype.initialize.call(this),this.render()},render:function(){var t=a.default.previewMode?u.default:l.default;this.$el.html(s.default.render(t))},handleContactClick:function(t){t.preventDefault();var e=r.default.appendQueryParams("http://www3.ceros.com/expiredaccount",{account:a.default.accountSlug});window.open(e)}})},80296:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PAGE_MODES=void 0;var s=a(n(43700)),u=a(n(80771)),l=a(n(15014)),c=a(n(96486)),d=a(n(65311)),h=a(n(54777)),f=o(n(66625));e.PAGE_MODES={NUMBER:"page_number",SLUG:"page_slug"};var p=new s.default.Module({id:"url-navigation",description:"",version:"1.0",publishedEvents:{POPSTATE:"url-navigation.popstate"},handledEvents:{},dependencies:{},PAGE_MODES:e.PAGE_MODES,delegate:{buildHistoryState:function(t,e,n,i,r){var o={mode:t,pageNumber:null,pageSlug:null,layoutSlug:n,title:i,hash:r};return t===p.PAGE_MODES.NUMBER?o.pageNumber=e:o.pageSlug=e,o},getCurrentHistoryState:function(){var t=p.getWindowContext();if(t.history&&t.history.state&&t.history.state.mode)return t.history.state;var e=l.default.parsePageFromLocation(),n=c.default.isString(e)?p.PAGE_MODES.SLUG:p.PAGE_MODES.NUMBER,i=l.default.parseLayoutFromLocation(),r=t.document.title,o=t.location.hash;return p.buildHistoryState(n,e,i,r,o)},navigateTo:function(t,e,n,i){var r=p.getWindowContext(),o=f.escapeComponentId(r.location.hash).replace(/\/$/,""),a=f.isValidSelector(o);o=o&&a&&d.default(o).parents(".page-viewport").hasClass("top")?r.location.hash:void 0;var s=l.default.buildUri(t,e,n,o);if(s){i||(i=r.document.title);var h=a?r.location.href:p.getUrlWithoutHash();if(c.default.endsWith(h,s)&&null!==r.history.state)document.title=i;else{if(u.default.html5()&&r.history&&r.history.pushState){var g=p.buildHistoryState(t,e,n,i,o);a||!r.location.hash||c.default.endsWith(s,r.location.hash)||(s+=r.location.hash),r.history.pushState(g,i,s)}document.title=i}}},navigateToPageNumber:function(t,e){var n=p.getCurrentHistoryState().layoutSlug;p.navigateTo(p.PAGE_MODES.NUMBER,t,n,e)},navigateToLayout:function(t){var e=p.getCurrentHistoryState(),n=e.mode,i=n===p.PAGE_MODES.NUMBER?e.pageNumber:e.pageSlug,r=e.title;p.navigateTo(n,i,t,r)},navigateToPageSlug:function(t,e){var n=p.getCurrentHistoryState().layoutSlug;p.navigateTo(p.PAGE_MODES.SLUG,t,n,e)},bindPopstate:c.default.once((function(){p.getWindowContext().onpopstate=function(t){t.state&&t.state.mode&&h.default.trigger(p.publishedEvents.POPSTATE,t.state)}})),getWindowContext:function(){return window},getUrlWithoutHash:function(){var t=p.getWindowContext();return t.location.href.replace(t.location.hash,"")}}});e.default=p},13910:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=i(n(41232)),s=i(n(8030)),u=i(n(97575)),l=i(n(17020)),c=i(n(8529)),d=i(n(8641)),h=i(n(67215)),f=i(n(92602)),p=n(10518),g=i(n(39536)),m=i(n(43039)),v=i(n(34581)),y=i(n(51339)),_=a.default.Collection.extend({model:d.default}),b=a.default.Model.extend({idAttribute:"slug",urlRoot:"/{api-version}/account/{scope}/document-versions",MANIFEST_ADD_PAGE:"manifestAddPage",MANIFEST_REMOVE_PAGE:"manifestRemovePage",MANIFEST_MOVE_PAGE:"manifestMovePage",initialize:function(t,e){if(a.default.Model.prototype.initialize.call(this,t,e),!s.default.previewMode&&!e.docVersionRequest)throw new Error("A doc version request must be passed in when not in preview mode");this.docVersionRequest=e.docVersionRequest,this.pages=[]},fetch:function(t){return this.loadBackgroundImageInfo(),s.default.previewMode?this.fetchForPreviewMode(t):this.fetchForPublished(t)},fetchForPreviewMode:function(t){var e=o.default.Deferred();try{l.default.getConnection().openExisting(this._getDocumentName(),r.default.bind((function(t,n){if(t)u.default.warn(t),e.reject();else if(n){l.default.listenForReadOnlyConnectionLimitError(n);var i=JSON.parse(JSON.stringify(n.snapshot));this.set(i),e.resolve(i,n)}}),this))}catch(t){u.default.warn(t),e.reject()}e.then(r.default.bind((function(t,e){this.bindToDocChanges(e)}),this));var n=this.loadResolvedMedia().fail((function(){u.default.warn("Could not fetch docversion media!")}));return o.default.when(e,n)},fetchForPublished:function(t){return this.docVersionRequest.then(r.default.bind((function(t){m.default.putMediaArray(t.media),delete t.media,this.set(t)}),this))},loadPageModels:function(){u.default.debug("Loading page models");var t=[],e=this.editorPagesManifest.map(r.default.bind((function(e,n){var i=this.createPageModel(e,n);return t.push(i),i.fetch()}),this));return this.pages=t,o.default.when.apply(o.default,e)},createPageModel:function(t,e){var n={slug:t.getSlug(),disabled:t.get("initiallyDisabled",{doNotFallbackToDesktop:!0})};if(!s.default.previewMode){var i=this.get("pages")[t.getSlug()];m.default.putMediaArray(i.media),delete i.media,n=r.default.extend(n,i)}var o=new c.default(n,{documentVersion:this,pageIndex:e});return t.on("change:initiallyDisabled change:overrides",(function(){o.set("disabled",t.get("initiallyDisabled",{doNotFallbackToDesktop:!0}))})),y.default.on("change",(function(){o.set("disabled",t.get("initiallyDisabled",{doNotFallbackToDesktop:!0}))})),o},processRemoteOps:function(t,e){for(var n=!1,i=!1,o=0;o<e.length;o++){var a=e[o],s=a.p[0];"editorPagesManifest"===s?this.processManifestRemoteOp(a):(this.set(s,JSON.parse(JSON.stringify(t.snapshot[s]))),"smartgroups"===s?(n=n||f.default.isMediaReloadRequiredForOp(t,a),i=!0):"fonts"===s&&this.processFontRemoteOp(a))}n?this.loadResolvedMedia().done(r.default.bind((function(){this.triggerReload(t,e)}),this)):i&&this.triggerReload(t,e)},triggerReload:function(t,e){this.trigger("reload")},processFontRemoteOp:function(t){2===t.p.length&&t.p[1]===p.FontConstants.EXPERIENCE_FAMILY_GUIDS_KEY&&o.default.when(this.loadFontMetrics()).done(r.default.bind((function(t){s.default.fontManifest=t,this.triggerReload()}),this))},createManifestCollection:function(){this.editorPagesManifest=new _(this.get("editorPagesManifest")),s.default.previewMode&&this.bindToManifestChanges()},bindToDocChanges:function(t){t.on("shout",r.default.bind((function(t){"updateViewportSize"!==(t=JSON.parse(t)).name&&"updateScaleExperience"!==t.name&&"updateTextMode"!==t.name||window.location.reload()}),this)),t.on("remoteop",r.default.bind((function(e){this.processRemoteOps(t,e)}),this))},bindToManifestChanges:function(){this.editorPagesManifest.on("add",r.default.bind((function(t,e,n){var i=n.at,o=this.createPageModel(t,i);this.pages.splice(i,0,o),o.fetch().done(r.default.bind((function(){this.trigger(this.MANIFEST_ADD_PAGE,t,n.at)}),this))}),this)),this.editorPagesManifest.on("remove",r.default.bind((function(t,e,n){this.pages.splice(n.index,1),this.trigger(this.MANIFEST_REMOVE_PAGE,n.index)}),this)),this.editorPagesManifest.on("move",r.default.bind((function(t,e){this.pages.splice(e,0,this.pages.splice(t,1)[0]),this.trigger(this.MANIFEST_MOVE_PAGE,t,e)}),this))},processManifestRemoteOp:function(t){var e,n=t.p[1];if(2===t.p.length)if(r.default.isUndefined(t.li))if(r.default.isUndefined(t.ld)){if(!r.default.isUndefined(t.lm)){var i=t.lm;e=this.editorPagesManifest.at(n),this.editorPagesManifest.remove(e,{silent:!0}),this.editorPagesManifest.add(e,{at:i,silent:!0}),this.editorPagesManifest.trigger("move",n,i)}}else e=this.editorPagesManifest.at(n),this.editorPagesManifest.remove(e);else this.editorPagesManifest.add(t.li,{at:n});else if(3===t.p.length&&!r.default.isUndefined(t.oi)){var o=t.p[2];this.editorPagesManifest.at(n).set(o,t.oi)}},getPageNumberBySlug:function(t){var e=this.editorPagesManifest;if(r.default.isEmpty(e))return null;var n=null;return e.find((function(e,i){return e.getSlug()===t&&(n=i+1,!0)})),n},getPageInfoByNumberOrSlug:function(t){var e=this.editorPagesManifest,n=null,i=null;return r.default.isString(t)?(n=this.getPageNumberBySlug(t))?i=t:n=1:((n=parseInt(t,10))<1||n>e.length)&&(n=1),!i&&e.at(n-1)&&(i=e.at(n-1).getSlug()),{number:n,slug:i}},getExperienceWidth:function(){return this.getOverrideablePropertyForCurrentVariant("viewportWidth")},getExperienceHeight:function(){return this.getOverrideablePropertyForCurrentVariant("viewportHeight")},getScaleExperience:function(){var t=this.getScaleExperienceType();return"string"==typeof t?t!==v.default.SCALE_EXPERIENCE_TYPE.NO_SCALING:this.getOverrideablePropertyForCurrentVariant("scaleExperience")},getScaleExperienceType:function(){return this.getOverrideablePropertyForCurrentVariant("scaleExperienceType")},getPages:function(){return this.pages},getEnabledPageIndexes:function(){var t=[];return r.default.each(this.pages,(function(e,n){e.get("disabled")||t.push(n)})),t},getNearestEnabledPage:function(t){var e=r.default.clamp(t,1,this.pages.length)-1;if(!this.pages[e].get("disabled"))return e+1;for(var n=1;e-n>=0||e+n<this.pages.length;n++){if(this.pages[e+n]&&!this.pages[e+n].get("disabled"))return e+n+1;if(this.pages[e-n]&&!this.pages[e-n].get("disabled"))return e-n+1}},isCarousel:function(){var t=this.editorPagesManifest,e=this.get("carousel");return e&&e.enabled&&t.length>1},isAutoTransitioning:function(){var t=this.get("carousel");return this.isCarousel()&&t.autoTransition},shouldLoadLowRes:function(){return this.get("loadLowRes")},shouldLazyLoad:function(){return this.get("lazyLoading")},getTextMode:function(){return this.get("textMode")},getAutoTransitionDelay:function(){var t=this.get("carousel");return t?t.autoTransitionDelay:0},_getDocumentName:function(){return this.get("uri").replace(/\//g,"_")},getSwipeEnabled:function(){return this.get("theming")&&this.get("theming").swipeEnabled},getSmartgroupDefinition:function(t){return r.default.find(this.get("smartgroups"),(function(e){return e.id===t}))},loadBackgroundImageInfo:function(){var t=r.default.get(s.default,"themeObj.backgroundImage",null);t&&m.default.put(t.id,t)},loadResolvedMedia:function(){return g.default.loadMediaForRestUri(this.getUri())},loadFontMetrics:function(){return o.default.ajax({url:this.getUri()+"/font-metrics",type:"GET",dataType:"json"})},getUri:function(){return"/rest"+a.default.Model.prototype.url.call(this).replace(/\{api-version\}/,s.default.apiVersion).replace(/\{scope\}/,s.default.accountSlug)}});r.default.extend(b.prototype,h.default),e.default=b},8641:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(41232)),o=i(n(96486)),a=i(n(99848)),s=r.default.Model.extend({getSlug:function(){var t=r.default.Model.prototype.get.call(this,"uri");return o.default.last(t.split("/"))}});o.default.extend(s.prototype,a.default),e.default=s},72714:function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.moduleOptions=void 0;var o=r(n(65311)),a=r(n(96486)),s=r(n(97575)),u=r(n(43700)),l=r(n(8030)),c=r(n(37876)),d=r(n(53321)),h=r(n(80771)),f=r(n(15014)),p=n(50877),g=r(n(11560)),m=r(n(3549)),v=r(n(43845)),y=r(n(54777)),_=r(n(54400)),b=r(n(52272)),w=n(57824),T=n(5401),S="top",E="bottom",O=null,P=null,C=null,A=null,k=null,x=null,I=null,M={id:"viewport",description:"",version:"1.0",dependencies:{page:"1.0"},firstPageShown:new o.default.Deferred,publishedEvents:{LONGPRESS:"viewport.longpress",SCALE:"viewport.scale",PAGE_CHANGE:"viewport.page_change",PAGE_CHANGING:"viewport.page_changing",PAGE_BATCH_LOAD_START:"viewport.page_batch_load_start",PAGE_UPDATE:"viewport.page_update",PAGE_ENABLED_CHANGE:"viewport.page_enabled_change",CURRENT_PAGE_DELETED:"viewport.current_page_deleted",TIMED_LIGHTBOX:"viewport.timed.lightbox",TIMED_PRODUCT_PANEL:"viewport.timed.product_panel",TIMED_SHOPPING_CART:"viewport.timed.shopping_cart",SEND_STATE_DATA:"viewport.send_state_data"},delegate:{init:function(t,e){C=t,I=e.performanceTracker;var n=this.createScaleContextOptions(C,e);P=new v.default(n);var i=this.createViewportViewOptions(C,P,e);(O=new c.default(i)).preloadMedia();var r=new g.default(C.getEnabledPageIndexes(),C.isCarousel()),o=f.default.parsePageFromLocation();k=C.getPageInfoByNumberOrSlug(o).number;var a=C.getNearestEnabledPage(k);k===a||l.default.previewMode||(s.default.info("Requesting disabled page",k),k=a),x=r.getPageIndexesToLoad(k-1),this.registerEvents()},createScaleContextOptions:function(t,e){return a.default.extend({module:R,marginTopCallback:function(){return 0},documentVersion:t},e||{})},createViewportViewOptions:function(t,e,n){return a.default.extend({module:R,documentVersion:t,scaleContext:e},n||{})},triggerExperienceLevelInteractions:function(t){t.get("interactions")&&a.default.each(t.get("interactions"),(function(t){switch(t.action){case"lightbox":setTimeout((function(){R.trigger(R.publishedEvents.TIMED_LIGHTBOX,t)}),1e3*t.delay);break;case"product":setTimeout((function(){R.trigger(R.publishedEvents.TIMED_PRODUCT_PANEL,t)}),1e3*t.delay);break;case"shopping-cart":setTimeout((function(){R.trigger(R.publishedEvents.TIMED_SHOPPING_CART,t)}),1e3*t.delay)}}))},registerEvents:function(){y.default.on("sdk.experience.page.goto",a.default.bind((function(t){this.jumpToPage(t.pageNum,!0)}),this)),y.default.on("sdk.experience.page.next",a.default.bind((function(t){this.nextPage()}),this)),y.default.on("sdk.experience.page.previous",a.default.bind((function(t){this.previousPage()}),this)),y.default.on("sdk.component.video.start",a.default.bind((function(t){this.startVideo(t.componentId)}),this)),y.default.on("sdk.component.video.stop",a.default.bind((function(t){this.stopVideo(t.componentId)}),this)),y.default.on("sdk.component.text.settext",a.default.bind((function(t){this.setComponentText(t.componentId,t.textContent)}),this)),y.default.on("sdk.component.image.seturl",a.default.bind((function(t){this.setImageUrl(t.componentId,t.url,t.useNewImageSize)}),this)),y.default.on("sdk.component.image.reset",a.default.bind((function(t){this.resetImage(t.componentId)}),this)),y.default.on("sdk.component.click",a.default.bind((function(t){this.clickComponent(t.componentId)}),this)),y.default.on("sdk.component.show",a.default.bind((function(t){this.showComponent(t.componentId)}),this)),y.default.on("sdk.component.hide",a.default.bind((function(t){this.hideComponent(t.componentId)}),this)),y.default.on("sdk.layer.show",a.default.bind((function(t){this.showLayer(t.layerId)}),this)),y.default.on("sdk.layer.hide",a.default.bind((function(t){this.hideLayer(t.layerId)}),this)),y.default.on("sdk.page.animations.start",a.default.bind((function(t){this.startPageAnimations(t.pageSlug)}),this)),y.default.on("sdk.page.animations.pause",a.default.bind((function(t){this.pausePageAnimations(t.pageSlug)}),this)),y.default.on("sdk.page.disable",a.default.bind((function(t){this.disablePage(t.pageNum)}),this)),y.default.on("sdk.page.enable",a.default.bind((function(t){this.enablePage(t.pageNum)}),this)),y.default.on(R.publishedEvents.SEND_STATE_DATA,a.default.bind((function(){O.sendStateChangeEventToStudio()}),this))},createPageViews:function(){var t=[];m.default.on(m.default.publishedEvents.PAGE_RELOAD,(function(){return O.scale()})),m.default.on(m.default.publishedEvents.PAGE_SCROLL,(function(){return O.sendPositionChangeEventToStudio()})),(A=C.editorPagesManifest).each(a.default.bind((function(e,n){var i=this.createSinglePageView(e,n);t.push(i)}),this)),this.pageViews=t},createSinglePageView:function(t,e){var n=C.getPages()[e],i=m.default.createPageView(n,{physicalPageNumber:e,enableLoadingThumbnail:!1,enableLoadingSpinner:!0,thumbnail:t.get("thumbnail"),documentVersion:C,scaleContext:P,isRequestedPage:e===k-1});return l.default.previewMode&&n.on("remote",function(){e===O.getCurrentPage().getPageIndex()&&O.mainContentLink.render()}.bind(this)),i},getPageViews:function(){return this.pageViews},scale:function(){O.scalePageComponents()},preloadPageMedia:function(){var t=a.default.map(C.getPages(),(function(t){return P.getPageScaleContext(t)}));C.shouldLazyLoad()?(a.default.each(x,a.default.bind((function(e,n){var i=C.getPages()[e];0===n?I.mark(I.MARKS.PLAYER.HIGH_PRIORITY_IMAGES_START_LOADING):1===n&&I.mark(I.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),s.default.debug("Lazy preloading media for page: "+(e+1));var r=0===n;i.lazyPreloadAllMedia(t[e],r)}),this)),1===x.length&&I.mark(I.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),a.default.each(C.getPages(),(function(e,n){a.default.includes(x,n)||(s.default.debug("Lazy preloading media for page: "+(n+1)),e.lazyPreloadAllMedia(t[n],!1))}))):(I.mark(I.MARKS.PLAYER.HIGH_PRIORITY_IMAGES_START_LOADING),a.default.each(x,a.default.bind((function(e,n){var i=C.getPages()[e],r=t[e];s.default.debug("Preloading visible media for page: "+(e+1)),i.preloadVisibleMedia(r,!0)}),this)),I.mark(I.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),a.default.each(C.getPages(),(function(e,n){a.default.includes(x,n)||(s.default.debug("Preloading visible media for page: "+(n+1)),e.preloadVisibleMedia(t[n],!1))})),a.default.each(C.getPages(),(function(e,n){s.default.debug("Preloading hidden media for page: "+(n+1)),e.preloadHiddenMedia(t[n])})))},renderPages:function(){this.createPageViews(),O.reset(this.pageViews,k),this.preRenderPages(),s.default.debug("Setting up the lazy preRender Defer"),a.default.defer(a.default.bind(R.startLazyPrerender,this));var t=O.showPage(k);return t.done(R.firstPageShown.resolve),t},activateFirstPage:function(){O.getBackgroundImagePromise().done(a.default.bind(O.showBackground,O));var t=O.getCurrentPage();if(O.activatePage(t,!0),R.triggerExperienceLevelInteractions(C),window.location.hash)t.triggerScrollTo(window.location.hash);else if(!l.default.isEmbedded&&h.default.isWindows()){var e="page-"+this.getCurrentPageNumber()+"-top";t.focusArbiter.moveFocusToElement(e)}},preRenderPages:function(){I.mark(I.MARKS.PLAYER.BEGIN_PRERENDERING_PAGES);var t=this.pageViews;t=C.shouldLazyLoad()?[this.pageViews[x[0]]]:a.default.map(x,a.default.bind((function(t){return this.pageViews[t]}),this));var e=[];a.default.each(t,a.default.bind((function(t){t.prerender(),e.push(t.getPrerenderDeferred())}),this)),o.default.when.apply(o.default,e).done(a.default.bind((function(){I.mark(I.MARKS.PLAYER.ALL_PAGES_PRERENDERED)}),this))},isFirstPageReadyToShow:function(){return"resolved"===R.firstPageShown.state()},getFirstPageReadyPromise:function(){return R.firstPageShown},nextPage:function(){O&&O.nextPage()},previousPage:function(){O&&O.previousPage()},jumpToPage:function(t,e){O&&O.jumpToPage(t,e)},show:function(){O&&O.show()},hide:function(){O&&O.hide()},el:function(){return O?O.$el:null},getCurrentPageHeight:function(){if(O){var t=O.getCurrentPage();if(t)return t.getPageHeight()}return null},getCurrentPageSlug:function(){return O?O.currentPageSlug:null},getCurrentPageNumber:function(){return O?O.currentPage:null},getTotalPagesNumber:function(){return A.length},getPageNameBySlug:function(t){return O?O.getPageNameBySlug(t):null},getScrollPosition:function(){return O.getCurrentPage().$pageContainer.scrollTop()},isLastPage:function(t){var e=A.length,n=A.at(e-1);return a.default.last(n.uri.split("/"))===t},isFirstPage:function(t){var e=A.at(0);return a.default.last(e.uri.split("/"))===t},scrollTo:function(t,e){var n=O.getCurrentPage(),i=this.getScrollPositionForInteraction(t,e),r=l.default.shouldReduceMotion?0:300;return b.default.hasFeature(w.FeatureFlagName.ACCESSIBILITY)&&t===S?e=p.VIEWPORT_TOP_ID:t!==S&&t!==E||(e="page-"+(n.model.pageIndex+1)+"-"+t),n.$pageContainer.animate({scrollTop:i},r,"easeOutCubic",(function(){n.focusArbiter.moveFocusToElement(e)})),{scrollPosition:i,pageHeight:n.model.getPageHeight(C),visibleHeight:n.$pageContainer.height()}},getScrollPositionForInteraction:function(t,e){switch(t){case S:return 0;case E:return O.getCurrentPage().model.getPageHeight(C);case"scranchor":var n=O.getCurrentPage().model.getScranchorsForCurrentVariant();return n&&a.default.has(n,e)?n[e]:(s.default.warn("Could not find scranchor for id: "+e),null);case"component":var i=O.getCurrentPage().model,r=i.findLayerById(e);return r?"folder"!==r.type||(r=i.constructor.findTopmostFolderContent(r))?r.parentSmartgroup?r.y+r.parentSmartgroup.options.y:r.absoluteY:(s.default.warn("Attempted to scroll to empty folder component: "+e),null):(s.default.warn("Could not find component to scroll to: "+e),null);default:return s.default.warn("Scroll interaction target type is invalid: "+t),null}},shareCurrentPageOnSocial:function(t,e){if(l.default.previewMode)alert("Pages can not be shared as a preview.  Social sharing will be enabled in the published experience.");else if(O){var n=f.default.buildUriForPageNumber(O.currentPage),i=O.getCurrentPage().getThumbnail();this.shareOnSocial(t,window.location.protocol+"//"+window.location.host+n,i)}},shareOnSocial:function(t,e,n){e=_.default.removeEmbedParams(e);var i=a.default.isEmpty(l.default.openGraphUrl)?e:l.default.openGraphUrl;switch(t){case"share-twitter":d.default.shareOnTwitter(i);break;case"share-linkedin":d.default.shareOnLinkedIn(i);break;case"share-pinterest":d.default.shareOnPinterest(i,n);break;case"share-facebook":d.default.shareOnFacebook(e);break;case"share-email":d.default.shareViaEmail(e)}},addClickShield:function(){O&&O.addClickShield()},removeClickShield:function(){O&&O.removeClickShield()},disableGestures:function(){a.default.isFunction(O.disableGestures)&&O.disableGestures()},enableGestures:function(){a.default.isFunction(O.enableGestures)&&O.enableGestures()},getExperienceWidth:function(){return O.getExperienceWidth()},getExperienceHeight:function(){return O.getExperienceHeight()},startVideo:function(t){var e=O.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=O.getCurrentPage().findVideo(t);e&&e.play()}))},stopVideo:function(t){var e=O.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=O.getCurrentPage().findVideo(t);e&&e.manuallyPause()}))},setComponentText:function(t,e){var n=O.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(n);a.default.each(i,(function(t){var n=O.getCurrentPage().findChildView(t);!n||"text"!==n.type&&"text-plus"!==n.type||n.setTextFromSDK(a.default.isNil(e)?"":String(e))}))},setImageUrl:function(t,e,n){var i=O.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),r=[t].concat(i);a.default.each(r,(function(t){var i=O.getCurrentPage().findChildView(t);if(i&&"image"===i.type)if(i.srcOverride=e,i.dimensionsOverride=n,n){var r=new Image;r.onload=function(){var t=i.$innerElement.attr("style"),e=i.$innerElement.attr("alt");i.$innerElement.remove();var n=o.default(r);n.attr("style",t).attr("alt",e),i.$innerElement=o.default(n),i.$el.append(i.$innerElement)},r.src=e}else i.$innerElement.attr("src",e)}))},resetImage:function(t){var e=O.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=O.getCurrentPage().findChildView(t);e&&"image"===e.type&&(e.srcOverride=null,e.dimensionsOverride=null,e.render())}))},showLayer:function(t){var e=O.getCurrentPage().model.getAllSmartgroupInstanceLayerIds(t),n=[t].concat(e);O.getCurrentPage().invokeShowAction(n)},hideLayer:function(t){var e=O.getCurrentPage(),n=e.model.getAllSmartgroupInstanceLayerIds(t),i=[t].concat(n);e.invokeHideAction(i)},clickComponent:function(t){var e=O.getCurrentPage(),n=e.model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(n);a.default.each(i,(function(t){var n=e.findChildView(t);n&&n.simulateClick()}))},showComponent:function(t){var e=O.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=O.getCurrentPage().findChildView(t);e&&(e.reset(),e._applyVisibility(!0),e.activateAndRunEntryAnimations())}))},hideComponent:function(t){var e=O.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=O.getCurrentPage().findChildView(t);e&&e._applyVisibility(!1)}))},startPageAnimations:function(t){var e=O.getCurrentPage();e.model.get("slug")===t&&(e.reset(),e.activateAndRunEntryAnimationsForAllVisible())},pausePageAnimations:function(t){var e=O.getCurrentPage();e.model.get("slug")===t&&e.pauseAnimations()},toggleReducedMotion:function(){l.default.shouldReduceMotion=!l.default.shouldReduceMotion,o.default("#main").toggleClass("ceros-no-animate");var t=O.getCurrentPage();this.toggleAutoPlayVideos(t.childViews),l.default.shouldReduceMotion||t.restartRepeatEntryAnimationsForAllVisibleOrViewed()},disablePage:function(t){O.disablePage(t)},enablePage:function(t){O.enablePage(t)},isLayerVisible:function(t){return a.default.some(this.pageViews,(function(e){return e.isChildVisible(t)}))},handleAutoVideoToggle:function(t){!t.options.videoAutoPlay||!t.options.videoLoop&&t.videoHandle.ended()||(l.default.shouldReduceMotion?t.autoPause():!t.wasInsideVisibleBoundaries||!t.isAutoPaused&&t.playedOnce||t.play())},toggleAutoPlayVideos:function(t){var e,n;try{for(var r=i(t),o=r.next();!o.done;o=r.next()){var a=o.value;a instanceof T.VideoComponentView?this.handleAutoVideoToggle(a):a.childViews&&this.toggleAutoPlayVideos(a.childViews)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},startLazyPrerender:function(){s.default.debug("Lazy prerender process starting...");var t=Date.now(),e=[],n=this.getPageViews();a.default.each(x,(function(t){e.push(n[t])})),a.default.each(n,(function(t,n){a.default.includes(x,n)||e.push(t)}));var i=o.default.Deferred().resolve();return a.default.each(e,(function(t){t.isPrerendered()||(i=i.then(a.default.bind(t.startLazyPrerender,t)))})),i.then((function(){document.dispatchEvent(new CustomEvent("prerenderer-done",{bubbles:!0})),s.default.debug("Lazy prerender process complete. Total elapsed time: "+(Date.now()-t)+" ms")})),i.promise()},currentPageNumber:function(){return O.currentPage||1}};e.moduleOptions=M;var R=new u.default.Module(M);e.default=R},46569:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(8030)),a=i(n(80771)),s=i(n(77705)),u={startX:null,startY:null,lastDirection:null,xDistance:0,yDistance:0,gesturesEnabled:!0,swipeDirection:null,originalDirection:null};e.default={offsetTimeout:null,disableGestures:function(){u.gesturesEnabled=!1},enableGestures:function(){u.gesturesEnabled=!0},configureGestures:function(){var t={};t.inputClass=s.default.TouchInput,a.default.isMobileSafari()&&(t.touchAction="pan-x pan-y");var e=new s.default.Manager(this.$el[0],t);e.add(new s.default.Press({time:500})),a.default.isMobileSafari()&&(e.add(new s.default.Pinch),e.add(new s.default.Tap),e.get("pinch").set({enable:!0}),e.on("pinch pinchend pinchstart tap",(function(t){"tap"===t.type&&2!==t.tapCount||t.preventDefault()}))),e.on("press",r.default.bind((function(t){u.gesturesEnabled&&(t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.LONGPRESS))}),this)),e.on("hammer.input",r.default.bind((function(t){var e=t.eventType,n=t.deltaTime;if(u.gesturesEnabled){if(t.srcEvent.target)for(var i=t.srcEvent.target;i;){if(i.classList.contains("video-js"))return;i=i.parentElement}var a=this.getCurrentPage();if(this.isPageTransitioning())t.preventDefault();else switch(e){case s.default.INPUT_START:this.pauseAnimationsOnMove=r.default.once(r.default.bind((function(){a.pauseAnimations()}),this)),this.clearAutoTransitionDelay();break;case s.default.INPUT_MOVE:var l=t.deltaX,c=t.deltaY;if(u.xDistance=Math.abs(l),u.yDistance=Math.abs(c),!u.swipeDirection&&(u.xDistance>10||u.yDistance>10))u.xDistance>u.yDistance?u.swipeDirection=s.default.DIRECTION_HORIZONTAL:u.swipeDirection=s.default.DIRECTION_VERTICAL;else if(!u.swipeDirection)return;if(u.swipeDirection==s.default.DIRECTION_HORIZONTAL?u.lastDirection=l>0?s.default.DIRECTION_RIGHT:s.default.DIRECTION_LEFT:u.swipeDirection==s.default.DIRECTION_VERTICAL&&(u.lastDirection=c>0?s.default.DIRECTION_DOWN:s.default.DIRECTION_UP),r.default.isNull(u.originalDirection)||(u.originalDirection=u.lastDirection),u.originalDirection!=u.lastDirection&&(u.changedDirection=!0),u.swipeDirection==s.default.DIRECTION_HORIZONTAL){if(!o.default.themeObj.swipeEnabled)return;if(this.getPageCount()<=1&&this.documentVersion.getScaleExperience())return void t.preventDefault();var d=this.getNextPage(),h=this.getPreviousPage();if(!this.isValidHorizontalSwipe())return;if(r.default.isFunction(this.pauseAnimationsOnMove)&&this.pauseAnimationsOnMove(),o.default.isEmbedded&&(this._isSwipeRight()&&!h||this._isSwipeLeft()&&!d))return;d&&this._isSwipeLeft()&&(d.makeInTransition(),d.setBackgroundPositionAndScaleTransform(l+this.getPageViewportWidth(),!0)),h&&this._isSwipeRight()&&(h.makeInTransition(),h.setBackgroundPositionAndScaleTransform(l-this.getPageViewportWidth(),!0));var f=l;this._isSwipeOutOfPageBounds()&&(f=this._getRubberbandHorizontalDistance(),this._isSwipeLeft()&&(f*=-1)),this.getCurrentPage().setBackgroundPositionAndScaleTransform(f,!0),t.preventDefault()}break;case s.default.INPUT_END:case s.default.INPUT_CANCEL:if(u.swipeDirection==s.default.DIRECTION_HORIZONTAL){if(!this.isValidHorizontalSwipe())return;if(this.pauseAnimationsOnMove=null,!o.default.themeObj.swipeEnabled)return void this.setAutoTransitionDelay();var p=u.xDistance/n;if(this._isSwipeOutOfPageBounds()||e!=s.default.INPUT_END||!this._isDistancePageChangeSwipe(u.xDistance)&&!this._isVelocityPageChangeSwipe(p))this._abortSlide(n);else{var g=this.calculateRemainingTransitionTime(u.xDistance,n);this._isSwipeLeft()?this._slideLeft(g):this._isSwipeRight()&&this._slideRight(g)}}u.xDistance=0,u.yDistance=0,u.lastDirection=null,u.swipeDirection=null,u.originalDirection=null,u.changedDirection=!1;break;default:t.preventDefault()}}}),this))},isValidHorizontalSwipe:function(){if(!this.documentVersion.getScaleExperience()){if(!this._isAtLeft()&&!this._isAtRight())return!1;if(this._isAtLeft()&&!this._isSwipeRight())return!1;if(this._isAtRight()&&!this._isSwipeLeft())return!1}return!0},_getPageTopWithOffset:function(){var t=this.getCurrentPage();return this._isAtTop()?this._getPageTop(t):this._isAtBottom()?this._getPageTop(t)+this.MOBILE_PAGE_SCROLL_HEIGHT_OFFSET:this._getPageTop(t)+this.MOBILE_PAGE_SCROLL_HEIGHT_OFFSET/2},_isAtTop:function(){return this.getCurrentPage().$el.scrollTop()<=0},_isAtBottom:function(){var t=this.getCurrentPage(),e=t.$el.height(),n=t.$pageScroll.height()-e;return t.$el.scrollTop()>=n},_isAtLeft:function(){return-1*this.getCurrentPage().$pageScroll.offset().left<=0},_isAtRight:function(){var t=this.getCurrentPage(),e=t.$el.width(),n=t.$pageScroll.width()-e;return-1*t.$pageScroll.offset().left>=n},_isSwipeOutOfPageBounds:function(){return this.isFirstPage()&&this._isSwipeRight()||this.isLastPage()&&this._isSwipeLeft()},_getRubberbandHorizontalDistance:function(){var t=this.getPageViewportWidth();return u.xDistance>=.5*t?.25*t:(t-u.xDistance)/t*u.xDistance},_isSwipeLeft:function(){return u.lastDirection==s.default.DIRECTION_LEFT},_isSwipeRight:function(){return u.lastDirection==s.default.DIRECTION_RIGHT},_isSwipeUp:function(){return u.lastDirection==s.default.DIRECTION_UP},_isSwipeDown:function(){return u.lastDirection==s.default.DIRECTION_DOWN},_abortSlide:function(t){var e=this.getCurrentPage();if(0!==e.getLeft()){this.isPageTransitionInProgress=!0;var n=this.calculateTransitionTime(u.xDistance,t);e.el().animate({"background-position-x":0},{duration:n,easing:"easeOutCubic",step:r.default.bind((function(t,n){e.setBackgroundPositionAndScaleTransform(t,!0),this.getNextPage()&&this.getNextPage().setBackgroundPositionAndScaleTransform(t+this.getPageViewportWidth(),!0),this.getPreviousPage()&&this.getPreviousPage().setBackgroundPositionAndScaleTransform(t-this.getPageViewportWidth(),!0)}),this),complete:r.default.bind((function(){this.isPageTransitionInProgress=!1;var t=this.getNextPage();t&&t.makePending();var n=this.getPreviousPage();n&&n.makeViewed(),e.resumeAnimations(),this.setAutoTransitionDelay()}),this)})}},_isDistancePageChangeSwipe:function(t){return t>=.2*this.getPageViewportWidth()},_isVelocityPageChangeSwipe:function(t){return t>.6},_slideRight:function(t){return this._slide("right",this.getPreviousPage(),t)},_slideLeft:function(t){return this._slide("left",this.getNextPage(),t)},_slide:function(t,e,n){"left"===t?this.nextPage(n):this.previousPage(n)},calculateTransitionTime:function(t,e){return this._calculateTransitionTimeInternal(t,e,!1)},calculateRemainingTransitionTime:function(t,e){return this._calculateTransitionTimeInternal(t,e,!0)},_calculateTransitionTimeInternal:function(t,e,n){var i=1e3,r=t/e,o=t/this.getPageViewportWidth();n&&(o=1-o);var a=(i*=o)/r;return a>i&&(a=i),a}}},11560:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=function(t,e){this.lookBehind=1,this.lookAhead=1,this.isCircular=e,this.pageIndexes=t.sort((function(t,e){return t-e}))};o.prototype={getPageIndexesToLoad:function(t){var e,n=null,i=!1;r.default.each(this.pageIndexes,r.default.bind((function(e,r){return e===t?(n=r,i=!0,!1):e>t?(n=r,!1):void 0}),this)),i?e=this.pageIndexes:(e=this.pageIndexes.slice(),null===n&&(n=e.length),e.splice(n,0,t));var o,a=[],s=n;for(o=0;o<this.lookBehind;o++){if(-1==--s){if(!this.isCircular)break;s=e.length-1}a.push(e[s])}var u=[];for(s=n,o=0;o<this.lookAhead;o++){if(++s===e.length){if(!this.isCircular)break;s=0}u.push(e[s])}return this.combinePageIndexArrays(e[n],a,u)},combinePageIndexArrays:function(t,e,n){for(var i=[t],o=0;o<n.length||o<e.length;)o<n.length&&i.push(n[o]),o<e.length&&i.push(e[o]),o++;return r.default.uniq(i)}},e.default=o},37876:function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(97575)),a=r(n(65311)),s=r(n(96486)),u=r(n(8030)),l=r(n(67189)),c=r(n(19331)),d=r(n(35451)),h=r(n(53335)),f=r(n(80771)),p=r(n(11516)),g=r(n(11560)),m=r(n(46569)),v=r(n(35425)),y=n(81611),_=n(25370),b=r(n(52272)),w=n(57824),T=r(n(26882)),S=r(n(3797)),E=n(77923),O=r(n(51339)),P=r(n(34581)),C=n(46792),A=n(8991),k=n(39668),x=n(9375),I=r(n(87967)),M=n(90308),R=!1,N=!1,D=!1,L=!1;e.default=p.default.extend({id:"viewport",documentVersion:null,module:null,pageJumpFrom:null,currentPage:null,currentPageSlug:null,pageViews:null,leftThresholdA:null,leftThresholdB:null,rightThresholdA:null,rightThresholdB:null,clickShield:null,isPageTransitionInProgress:!1,autoTransitionDelay:null,backgroundImage:null,scaleContext:null,scrollPositionsByPage:{},viewportContainer:null,backgroundContainerEl:null,backgroundImageEl:null,backgroundImageResource:null,backgroundImageInfo:null,mainContentLink:null,viewportTopAnchor:null,zoomControls:null,onStudioEvent:null,currentStudioPage:null,MOBILE_PAGE_SCROLL_HEIGHT_OFFSET:2,pageTransitionAriaLiveTimeout:null,initialize:function(){this.documentVersion=this.options.documentVersion,this.scaleContext=this.options.scaleContext,this.module=this.options.module,this.mainContentLink=new y.MainContentLinkView({docVersion:this.documentVersion}),this.viewportTopAnchor=new _.ViewportTopAnchor,this.hasAccessibilityFeature=b.default.hasFeature(w.FeatureFlagName.ACCESSIBILITY),p.default.prototype.initialize.call(this),this.hasAccessibilityFeature&&(this.viewportTopAnchor.initializeViewportTopAnchor(),this.$el.append(this.viewportTopAnchor.$viewportTop),this.$el.append(this.mainContentLink.$el),this.$el.prop("tabindex",-1),this.shouldDisplayZoomControls()&&this.initZoomControls(),u.default.previewMode&&O.default.on("change",this.handleVariantChange.bind(this))),a.default(window).on("resize",s.default.bind(this.scale,this)),this.documentVersion.getSwipeEnabled()?f.default.touch()&&(c.default.mergeDelegates(this,m.default),this.configureGestures()):f.default.isIosSafari()&&a.default("body").css({overflow:"auto"}),this.clickShield=a.default('<div class="click-shield"></div>'),this.addClickShield(),this.reset(null),u.default.previewMode&&this.listenForRemoteChanges(),s.default.each(this.documentVersion.pages,s.default.bind((function(t){t.on("change:disabled",(function(){this.module.trigger(this.module.publishedEvents.PAGE_ENABLED_CHANGE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()})}),this)}),this)),this.backgroundImageInfo=s.default.get(u.default,"themeObj.backgroundImage",null),u.default.previewMode&&document.addEventListener("keypress",this.handleKeypress.bind(this)),this.onStudioEvent=A.PreviewModalMessenger.createStudioMessageHandler(this._onStudioEvent.bind(this)),this.setupWindowMessageHandler()},listenForRemoteChanges:function(){this.documentVersion.on("change:carousel",s.default.bind((function(){this.getCurrentPage()&&this.currentPageSlug&&(this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}),this.setAutoTransitionDelay())}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_ADD_PAGE,s.default.bind((function(t,e){var n=this.module.createSinglePageView(t,e);n.reload(),this.pageViews.splice(e,0,n),n.prepare().done(s.default.bind((function(){n.attach(),this.$el[0].appendChild(n.el()[0]),this.scale(),n.makePending(),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}),this.currentStudioPage===n.getSlug()&&this.jumpToPage(e+1)}),this))}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_REMOVE_PAGE,s.default.bind((function(t){t+1===this.currentPage?this.module.trigger(this.module.publishedEvents.CURRENT_PAGE_DELETED):(this.pageViews.splice(t,1),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}))}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_MOVE_PAGE,s.default.bind((function(t,e){var n=this.pageViews.splice(t,1)[0];this.pageViews.splice(e,0,n),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()})}),this))},getFirstPageIndex:function(){var t=!1;if(this.pageViews){t=1;for(var e=this.pageViews[t-1];e&&e.isDisabled();)t++,e=this.pageViews[t-1];return!(!e||e.isDisabled())&&t}return t},getNextPageIndex:function(){var t=!1;if(this.pageViews){t=this.currentPage+1;for(var e=this.pageViews[t-1];e&&e.isDisabled();)t++,e=this.pageViews[t-1];if(!e||e.isDisabled())if(this.documentVersion.isCarousel()){for(t=1;this.pageViews[t-1].isDisabled()&&t<this.currentPage;)t++;t>=this.currentPage&&(t=!1)}else t=!1}return t},getPreviousPageIndex:function(){var t=!1;if(this.pageViews){t=this.currentPage-1;for(var e=this.pageViews[t-1];e&&e.isDisabled();)t--,e=this.pageViews[t-1];if(!e||e.isDisabled())if(this.documentVersion.isCarousel()){for(t=this.pageViews.length;this.pageViews[t-1].isDisabled()&&t>this.currentPage;)t--;t<=this.currentPage&&(t=!1)}else t=!1}return t},isFirstPage:function(){return!1===this.getPreviousPageIndex()},isLastPage:function(){return!1===this.getNextPageIndex()},getCurrentPage:function(){return null!==this.pageViews&&this.pageViews[this.currentPage-1]},getPageNameBySlug:function(t){var e,n;if(this.pageViews)try{for(var r=i(this.pageViews),o=r.next();!o.done;o=r.next()){var a=o.value;if(a.getSlug()===t)return a.getName()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},getNextPage:function(){var t=!1,e=this.getNextPageIndex();return e&&(t=this.pageViews[e-1]),t},getPreviousPage:function(){var t=!1,e=this.getPreviousPageIndex();return e&&(t=this.pageViews[e-1]),t},getPageCount:function(){return null===this.pageViews?0:this.pageViews.length},getPageViewportWidth:function(){return this.getCurrentPage().getScaleContext().originalWindowWidth},getExperienceWidth:function(){return this.documentVersion.getExperienceWidth()},getExperienceHeight:function(){return this.documentVersion.getExperienceHeight()},reset:function(t,e){if((this.zoomControls?this.$el.children().not(this.zoomControls.$el):this.$el.children()).not("#ceros-branding").not(this.mainContentLink.$el).not(this.viewportTopAnchor.$viewportTop).remove(),s.default.isNull(e)?this.currentPage=1:this.currentPage=e,null!==this.pageViews&&s.default.each(this.pageViews,(function(t){t.close()})),this.pageViews=t,this.viewportContainer=document.createDocumentFragment(),null!==this.pageViews){this._updatePageCss();var n=[];s.default.each(this.pageViews,(function(t){n.unshift(t.el()[0])})),s.default.each(n,s.default.bind((function(t){this.viewportContainer.appendChild(t)}),this)),this.$el[0].appendChild(this.viewportContainer),this.scale()}},disablePage:function(t){this.pageViews[t-1].disable()},enablePage:function(t){this.pageViews[t-1].enable()},nextPage:function(t){if(null!==this.pageViews&&!this.isPageTransitioning()){var e=this.getNextPageIndex();if(e){var n=this.getCurrentPage(),i=this.getNextPage();this._preTransition(n,i),this.switchPage(e,2,t)}}},previousPage:function(t){if(null!==this.pageViews&&!this.isPageTransitioning()){var e=this.getPreviousPageIndex();if(e){var n=this.getCurrentPage(),i=this.getPreviousPage();this._preTransition(n,i),this.switchPage(e,1,t)}}},doTransitionAnimation:function(t,e,n,i){if(0===n)return(new a.default.Deferred).resolve().promise();var r=new a.default.Deferred;this.isPageTransitionInProgress=!0,r.done(s.default.bind((function(){this.isPageTransitionInProgress=!1}),this)),e.makeInTransition();var o=this.getPageViewportWidth()*(2===n?-1:1);return t.pauseAnimations(),t.el().animate({"background-position-x":o},{duration:i,easing:"easeOutCubic",step:s.default.bind((function(n){t.setBackgroundPositionAndScaleTransform(n,this.isPageTransitionInProgress),e.setBackgroundPositionAndScaleTransform(n-o,this.isPageTransitionInProgress)}),this),complete:r.resolve}),r.promise()},_storePageScrollPosition:function(t){this.scrollPositionsByPage[t.getSlug()]=t.getScrollPosition()},_getStoredPageScrollPosition:function(t){return!s.default.isUndefined(t)&&s.default.has(this.scrollPositionsByPage,t.getSlug())?this.scrollPositionsByPage[t.getSlug()]:0},_preTransition:function(t,e){var n=t.getScaleContext();this._storePageScrollPosition(t),n.constrainedByHeight&&(this._hidePageScrollbar(t),this._hidePageScrollbar(e))},jumpToPage:function(t,e){if(void 0===e&&(e=!1),null!==this.pageViews){var n=this.pageViews.length,i=u.default.isEmbedded&&u.default.isPreviewer;t>=1&&t<=n&&(!i&&this.pageViews[t-1].isDisabled()||this.switchPage(t,0,500,e))}},isPageTransitioning:function(){return this.isPageTransitionInProgress},switchPage:function(t,e,n,i){var r=this;void 0===i&&(i=!1),this.sendLoadingEventToStudio(!1),this.isPageTransitioning()||(this.clearAutoTransitionDelay(),0==e||this.documentVersion.isAutoTransitioning()||this.getCurrentPage().pauseAnimations(),this.getCurrentPage().resetTimedTriggers(),this.getCurrentPage().handleMouseLeave(),this.showPage(t,e,n).done((function(){var t=r.getCurrentPage();r.activatePage(t),r.hasAccessibilityFeature&&(r.setPageTransitionAriaLiveText(t),r.$el.focus()),t.doCustomScaling(),i&&t.setScrollPosition(0),r.sendPositionChangeEventToStudio()})))},showPage:function(t,e,n){e=!u.default.shouldReduceMotion&&e||0,n=n||500;var i=null;this.currentPage!==t&&(i=this.pageViews[this.currentPage-1]);var r,o=t-1,l=this.pageViews[o];this.currentPage=t,this.currentPageSlug=l.getSlug(),this.module.trigger(this.module.publishedEvents.PAGE_CHANGING,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}),this.sendPageChangingEventToStudio(l),i&&i.reset(),r=this.documentVersion.shouldLazyLoad()?[o]:new g.default(this.documentVersion.getEnabledPageIndexes(),this.documentVersion.isCarousel()).getPageIndexesToLoad(o);var c=new a.default.Deferred;this.attachPages(r,o).always(s.default.bind((function(){c.resolve()}),this));var d=this.doTransitionAnimation(i,this.getCurrentPage(),e,n);return d.done(s.default.bind((function(){this._updatePageCss(),this._adjustPage()}),this)),a.default.when(c,d)},_adjustPage:function(){var t=this.getCurrentPage();t.setScrollPosition(this._getStoredPageScrollPosition(t)),this._showPageScrollbar(t),this._focusOnPageScrollContainer(t)},_focusOnPageScrollContainer:function(t){t&&(u.default.isEmbedded||this.hasAccessibilityFeature&&"keyboard"===T.default.ask()||this.zoomControls&&this.zoomControls.$("button:focus").length>0||t.focusScrollContainer())},activatePage:function(t,e){void 0===e&&(e=!1),this.module.trigger(this.module.publishedEvents.PAGE_CHANGE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isInitialLoad:e}),e||this.sendPageChangeEventToStudio(),t.activate(),this.hasAccessibilityFeature&&this.mainContentLink.setPageView(t).render(),this.setAutoTransitionDelay(),M.PlayerContextService.isEmbeddedPreviewer()&&this.sendPreviewerReadyEventToStudio()},setPageTransitionAriaLiveText:function(t){var e,n=a.default("#page-transition-aria-live"),i=t.model.get("name");e=this.documentVersion.get("pageNamesInTitle")&&i?i+" Page":"Page "+(t.model.pageIndex+1),n.text(e),window.clearTimeout(this.pageTransitionAriaLiveTimeout),this.pageTransitionAriaLiveTimeout=window.setTimeout((function(){return n.text("")}),3e3)},attachPages:function(t,e){var n=new a.default.Deferred;setTimeout(s.default.bind((function(){s.default.each(t,s.default.bind((function(t){this.pageViews[t]&&this.pageViews[t].attach()}),this)),"pending"===n.state()&&(o.default.devWarn("Page media took over 10 seconds"),n.reject())}),this),1e4),this.module.trigger(this.module.publishedEvents.PAGE_BATCH_LOAD_START);var i=[];return s.default.each(t,s.default.bind((function(t){var n=this.pageViews[t],r=n.prepare();r.always(s.default.bind(n.attach,n)),(s.default.isUndefined(e)||t===e)&&i.push(r)}),this)),a.default.when.apply(a.default,i).done(n.resolve),a.default.when.apply(a.default,i).fail(n.reject),n.promise()},_updatePageCss:function(){var t;s.default.each(this.pageViews,s.default.bind((function(e,n){(t=n+1)<this.currentPage&&!e.isViewed()?e.makeViewed():t!==this.currentPage||e.isTop()?t>this.currentPage&&!e.isPending()&&e.makePending():e.makeTop()}),this))},scalePageComponents:function(){s.default.each(this.pageViews,(function(t){t.scale()}))},_showPageScrollbar:function(t){!f.default.isIos()&&this._doesPageFitInViewport(t)?t.$pageContainer.css("overflow-y","hidden"):t.$pageContainer.css("overflow-y","scroll")},_hidePageScrollbar:function(t){t.$pageContainer.css("overflow-y","hidden")},_doesPageFitInViewport:function(t){var e=t.getScaleContext(),n=t.model.getPageHeight(this.documentVersion),i=this.documentVersion.getExperienceWidth(),r=Math.round(e.windowHeight/e.ratio),o=Math.round(e.windowWidth/e.ratio);return(n<=(u.default.heightOverride||this.documentVersion.getExperienceHeight())||n<=r)&&i<=o},scale:function(t){var e,n,i=this.scaleContext.getCurrentWindowScaleContext(),r=this.getExperienceWidth(),o=this.documentVersion.getScaleExperience();a.default("#main").css({height:i.originalWindowHeight+"px",width:i.originalWindowWidth+"px"}),this.$el.css({height:i.originalWindowHeight+"px",width:i.originalWindowWidth+"px","margin-top":i.marginTop+"px"}),null!==this.pageViews&&s.default.each(this.pageViews,s.default.bind((function(t){var a=t.model.getPageHeight(this.documentVersion),s=t.getScaleContext(),u=this._doesPageFitInViewport(t),l=u?0:h.default.getScrollbarWidth();if(n=this.getPageViewOffsetTop(t,s),e=this.getPageViewOffsetLeft(t,s,l),s.constrainedByWidth&&s.windowWidth<s.originalWindowWidth&&u){var c=(s.originalWindowWidth-s.windowWidth)/s.ratio;e+=c/2}var d=o?"hidden":"scroll";t.$pageContainer.css({width:"100%",height:"100%","overflow-y":"scroll","overflow-x":d,position:"relative"}),this._showPageScrollbar(t);var f=0;t.isPending()?f=i.originalWindowWidth:t.isViewed()&&(f=-1*i.originalWindowWidth),o?this.setPageViewScaleTransformCss(t,s):t.$el.css({height:"100%",width:"100%"}),t.setBackgroundPositionAndScaleTransform(f,this.isPageTransitionInProgress),o?t.$pageScroll.css({height:a+"px",width:r,left:e>=1?e:0,top:n>=1?n:0,transform:""}):this.setPageScrollUnscaledCss(t,a,r,s),t.$pinnedContainer&&this.setPinnedContainerCss(a,s,e,n,l,r,t)}),this));var u=this.getCurrentPage();!1!==u&&(this._focusOnPageScrollContainer(u),this.module.isFirstPageReadyToShow()&&u.onScrollAndWindowResize()),this.module.trigger(this.module.publishedEvents.SCALE,i)},setPageScrollUnscaledCss:function(t,e,n,i){t.$pageScroll.css({height:e+"px",width:n});var r="";e<=i.height?(r+="translateY(-50%) ",t.$pageScroll.css({top:"50%"})):t.$pageScroll.css({top:""}),n<=i.windowWidth?(r+="translateX(-50%)",t.$pageScroll.css({left:"50%"})):t.$pageScroll.css({left:""}),t.$pageScroll.css({transform:r})},setPinnedContainerCss:function(t,e,n,i,r,o,a){var u={height:t+"px",width:e.width/e.ratio,left:n>=1?n:0,top:i>=1?i:0};r?s.default.extend(u,{"max-width":o,width:e.originalWindowWidth/e.ratio-r}):s.default.extend(u,{width:o}),a.$pinnedContainer.css(u)},setPageViewScaleTransformCss:function(t,e){var n,i;this.zoomControls&&S.default.getInstance().hasZoom()?t.$pageContainer.css("overflow-x","auto"):t.$pageContainer.css("overflow-x","hidden"),this.scaleContext.useZoom(e.ratio)?(n="zoom",i=e.ratio):(n="transform",i="scale("+e.ratio+","+e.ratio+")"),t.storeScaleTransform(n,i);var r={height:e.height/e.ratio+"px",width:e.originalWindowWidth/e.ratio+"px"};r[n]=i,t.$el.css(r)},addClickShield:function(){this.$el.before(this.clickShield),this.clickShield.show()},removeClickShield:function(){this.clickShield.detach()},setAutoTransitionDelay:function(){this.clearAutoTransitionDelay(),this.documentVersion.isAutoTransitioning()&&(this.autoTransitionDelay=s.default.delay(s.default.bind((function(){this.clearAutoTransitionDelay(),this.nextPage()}),this),1e3*this.documentVersion.getAutoTransitionDelay()))},clearAutoTransitionDelay:function(){clearTimeout(this.autoTransitionDelay),this.autoTransitionDelay=null},preloadMedia:function(){this.getBackgroundImagePromise()},getBackgroundImagePromise:function(){return this.backgroundImageResource?this.backgroundImageResource.getPromise():s.default.isNull(this.backgroundImageInfo)?a.default.Deferred().reject().promise():(this.loadBackgroundImage(),this.backgroundImageResource.getPromise())},loadBackgroundImage:function(){this.backgroundImageResource&&this.backgroundImageResource.cancel();var t=this.calculateBackgroundImageDimensions();this.bgImageWidth=t.width,this.bgImageHeight=t.height;var e=l.default.calculateWidthForDevicePixelRatio(this.bgImageWidth);return this.backgroundImageResource=d.default.addRasterImage(this.backgroundImageInfo.id,e),this.backgroundImageResource.loadNow(),this.backgroundImageResource},showBackground:function(t){t&&(this.backgroundContainerEl=a.default("#backgroundContainer"),this.backgroundImageEl=a.default("<img>",{width:20,height:20}),this.backgroundContainerEl.empty().append(this.backgroundImageEl),this.backgroundImageEl.on("load",s.default.bind(this.scaleBackground,this)).attr("src",t.getSrc()),a.default(window).on("resize",s.default.throttle(s.default.bind(this.resizeBackgroundImage,this),200)),this.backgroundContainerEl.fadeIn())},resizeBackgroundImage:function(){this.loadBackgroundImage().getPromise().then(s.default.bind((function(t){a.default(this.backgroundImageEl).attr("src")===t.getSrc()?this.scaleBackground():a.default(this.backgroundImageEl).attr("src",t.getSrc())}),this))},scaleBackground:function(){var t=this.getWindowWidth(),e=this.getWindowHeight();this.backgroundContainerEl.width(t).height(e),this.backgroundImageEl.width(this.bgImageWidth).height(this.bgImageHeight).css({left:"-"+(this.bgImageWidth>t?this.bgImageWidth/2-t/2:0)+"px"})},getWindowWidth:function(){var t=a.default(window);return v.default.getExperienceContainerWidth(t)},getWindowHeight:function(){var t=a.default(window),e=v.default.getExperienceContainerHeight(t);return e+f.default.getSlackHeight(e)},getPageViewOffsetTop:function(t,e){return this.documentVersion.getScaleExperience()&&e.constrainedByHeight?0:Math.max(0,(e.height/e.ratio-t.model.getPageHeight(this.documentVersion))/2)},getPageViewOffsetLeft:function(t,e,n){var i,r=this.documentVersion.getScaleExperience();return i=n||(this._doesPageFitInViewport(t)?0:h.default.getScrollbarWidth()),r&&e.constrainedByWidth?0:Math.max(0,(e.windowWidth/e.ratio-this.getExperienceWidth()-i)/2)},calculateBackgroundImageDimensions:function(){var t=this.backgroundImageInfo.original.width,e=this.backgroundImageInfo.original.height,n=this.getWindowWidth()/t,i=this.getWindowHeight()/e,r=n>i?n:i;return{width:Math.round(r*t),height:Math.round(r*e)}},initZoomControls:function(){var t=this;this.zoomControls=new E.ZoomControlsView({docVersion:this.documentVersion}).render(),this.$el.append(this.zoomControls.$el),S.default.getInstance().on("zoom",(function(){t.scale()}))},destroyZoomControls:function(){this.zoomControls.remove(),this.zoomControls=null,S.default.getInstance().adjustZoom(1),S.default.getInstance().off("zoom")},shouldDisplayZoomControls:function(){return(!u.default.isPreviewer||!u.default.isEmbedded)&&this.documentVersion.get("zoomControlsEnabled")&&this.documentVersion.getScaleExperienceType()!==P.default.SCALE_EXPERIENCE_TYPE.NO_SCALING&&"desktop"===O.default.getVariant()&&!f.default.mobile()},handleVariantChange:function(t){this.zoomControls&&"desktop"!==t?this.destroyZoomControls():!this.zoomControls&&this.shouldDisplayZoomControls()&&this.initZoomControls()},resetEditMode:function(){C.editorToggleService.editMode=!1;var t=this.getFirstPageIndex();t===this.currentPage?this.getCurrentPage().reload(!0,!1):this.jumpToPage(t,!0),this.sendStateChangeEventToStudio()},togglePaused:function(t){var e=t.source;v.default.doesCurrentVariantExists()&&(C.editorToggleService.toggleMode(),this.getCurrentPage().resetInteractionsAfterEditModeToggleOff(),this.sendPauseToggledEventToStudio({source:e}))},unpause:function(t){var e=t.source;C.editorToggleService.editMode=!1,this.getCurrentPage().resetInteractionsAfterEditModeToggleOff(),this.sendUnpausedEventToStudio({source:e})},handleKeypress:function(t){M.PlayerContextService.isEmbeddedPreviewer()&&t.keyCode===I.default.SPACE&&(t.preventDefault(),this.togglePaused({source:"spacebar"}))},changeLayout:function(t){v.default.setPreviewerFrameSize(t),this.getCurrentPage().reload(!1,!1),this.unpause({source:"change-layout"})},onClose:function(){this.onStudioEvent&&window.removeEventListener("message",this.onStudioEvent)},setupWindowMessageHandler:function(){this.onStudioEvent&&window.addEventListener("message",this.onStudioEvent)},_onStudioEvent:function(t){t.data.type===x.StudioEventType.SCROLL&&(R=!0,this.getCurrentPage().setScrollPosition(t.data.yVal)),t.data.type===x.StudioEventType.PAUSE_BUTTON_CLICKED&&this.togglePaused({source:"pause-button"}),t.data.type===x.StudioEventType.SPACEBAR_PRESSED&&this.togglePaused({source:"spacebar"}),t.data.type===x.StudioEventType.PLAY_BUTTON_CLICKED&&this.togglePaused({source:"play-button"}),t.data.type===x.StudioEventType.PREVIEW_BUTTON_CLICKED&&C.editorToggleService.editMode&&this.togglePaused({source:"preview-button"}),t.data.type===x.StudioEventType.RESTART_BUTTON_CLICKED&&(C.editorToggleService.editMode&&this.togglePaused({source:"restart-button"}),this.resetEditMode()),t.data.type===x.StudioEventType.PAGE_CHANGE&&(this.unpause({source:"page-change"}),D=!0,this.currentStudioPage=t.data.slug,this.pageViews.find((function(e){return e.getSlug()===t.data.slug}))&&this.jumpToPage(t.data.pageIndex+1)),t.data.type===x.StudioEventType.LAYOUT_CHANGE&&this.changeLayout(t.data.layout),t.data.type===x.StudioEventType.PREVIEW_WINDOW_STATE_CHANGE&&(u.default.previewWindowState=t.data.previewWindowState,M.PlayerContextService.isEmbeddedPreviewer()&&this.module.topView&&this.module.topView.previewerFrame&&(N=!0,this.module.topView.previewerFrame.addOrRemoveFrameInEmbeddedPreviewerContext(t.data.previewWindowState),a.default(window).trigger("resize"),N=!1)),t.data.type===x.StudioEventType.PREVIEW_MODAL_TRANSITION_STARTED&&(L=!0),t.data.type===x.StudioEventType.PREVIEW_MODAL_TRANSITION_ENDED&&(L=!1)},sendPageChangeEventToStudio:function(){if(D)D=!1;else{var t=this.getCurrentPage();t&&this.postMessageToStudio({type:k.PreviewerEventType.PAGE_CHANGE,pageUri:t.model.getUri()})}},sendPageChangingEventToStudio:function(t){D||t.model&&t.model.getUri&&this.postMessageToStudio({type:k.PreviewerEventType.PAGE_CHANGING,pageUri:t.model.getUri()})},sendPositionChangeEventToStudio:function(){if(R)R=!1;else if(!L&&!N){var t=this.getCurrentPage();t&&this.postMessageToStudio({type:k.PreviewerEventType.POSITION_CHANGE,topY:t.$pageContainer.scrollTop()})}},sendLoadingEventToStudio:function(t){this.getCurrentPage()&&this.postMessageToStudio({type:k.PreviewerEventType.PAGE_LOADING,isLoading:t})},sendPauseToggledEventToStudio:function(t){var e=t.source,n=this.getCurrentPage();n&&this.postMessageToStudio({type:k.PreviewerEventType.PAUSE_TOGGLED,source:e,visibilityState:n.getVisibilityState(),objectStates:n.getObjectStates()})},sendUnpausedEventToStudio:function(t){var e=t.source,n=this.getCurrentPage();n&&!n.processingReload&&this.postMessageToStudio({type:k.PreviewerEventType.UNPAUSED,source:e,visibilityState:n.getVisibilityState(),objectStates:n.getObjectStates()})},sendStateChangeEventToStudio:function(){var t=this.getCurrentPage();(null==t?void 0:t.activated)&&!(null==t?void 0:t.processingReload)&&this.postMessageToStudio({type:k.PreviewerEventType.STATE_CHANGE,visibilityState:t.getVisibilityState(),objectStates:t.getObjectStates()})},sendPreviewerReadyEventToStudio:function(){this.postMessageToStudio({type:k.PreviewerEventType.READY})},postMessageToStudio:function(t){var e=u.default.isEmbedded?parent:null;e&&A.PreviewModalMessenger.postMessageToStudio(e,u.default.accountSlug,t)}})},20414:(t,e)=>{"use strict";var n,i;i=e,n=function(){!function(t){if(t.atob)try{t.atob(" ")}catch(e){t.atob=function(t){var e=function(e){return t(String(e).replace(/[\t\n\f\r ]+/g,""))};return e.original=t,e}(t.atob)}else{var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;t.btoa=function(t){for(var n,i,r,o,a="",s=0,u=(t=String(t)).length%3;s<t.length;){if((i=t.charCodeAt(s++))>255||(r=t.charCodeAt(s++))>255||(o=t.charCodeAt(s++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");a+=e.charAt((n=i<<16|r<<8|o)>>18&63)+e.charAt(n>>12&63)+e.charAt(n>>6&63)+e.charAt(63&n)}return u?a.slice(0,u-3)+"===".substring(u):a},t.atob=function(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!n.test(t))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");t+="==".slice(2-(3&t.length));for(var i,r,o,a="",s=0;s<t.length;)i=e.indexOf(t.charAt(s++))<<18|e.indexOf(t.charAt(s++))<<12|(r=e.indexOf(t.charAt(s++)))<<6|(o=e.indexOf(t.charAt(s++))),a+=64===r?String.fromCharCode(i>>16&255):64===o?String.fromCharCode(i>>16&255,i>>8&255):String.fromCharCode(i>>16&255,i>>8&255,255&i);return a}}}(i)}.apply(e,[]),void 0===n||(t.exports=n)},47767:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(97575)),o=i(n(65311)),a=i(n(96486)),s=i(n(41232)),u=i(n(19523)),l=i(n(19331)),c=i(n(8608)),d=n(62863),h=i(n(30159)),f="undefined"!=typeof WebKitAnimationEvent?"webkitAnimationEnd":"undefined"!=typeof AnimationEvent?"animationend":null,p="undefined"!=typeof WebKitAnimationEvent?"webkitAnimationStart":"undefined"!=typeof AnimationEvent?"animationstart":null,g=function(t){var e=o.default.extend({$el:null,name:"unknown"},t||{});this.$el=e.$el,this.name=e.name,this.compiled=!1,this.tweens=[],this.eventState={},this.runClass=null,this.pauseClass=null,this.initialState={},this.finalState={},this.loop=!1,this.useSrOnlyClassInsteadDisplayChange=!1,this.requiresHardwareAcceleration=e.requiresHardwareAcceleration};g.EASING={EASE:"ease",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out",LINEAR:"linear"},g.RUNNING_STATE="running",g.COMPLETE_STATE="complete",g.START_EVENT="start",g.PAUSE_EVENT="pause",g.RESUME_EVENT="resume",g.END_EVENT="end",l.default.mergeDelegates(g,c.default),a.default.extend(g.prototype,s.default.Events,{add:function(t){return this.compiled?(r.default.warn("Animation already compiled!"),this):(this.tweens.push(t),this)},compile:function(){if(this.compiled)return this;if(a.default.isEmpty(this.tweens))return this;var t=u.default.generate(this.tweens);return this.runClass=t.runClass,this.pauseClass=t.pauseClass,this._buildRestingStates(),this.compiled=!0,this},precompile:function(t){if(a.default.isUndefined(t)||(this.$el=t),!a.default.isNull(this.$el)){var e={};a.default.each(["opacity","left","top","transform"],a.default.bind((function(t){e[t]=this.$el.css(t)}),this)),e["transform-origin"]=this.$el.get(0).style.transformOrigin,this.initialState=e}},_buildRestingStates:function(){a.default.each(this.tweens,a.default.bind((function(t){this.initialState[t.property]=t.frames["0%"],this.finalState[t.property]=t.frames["100%"]}),this)),a.default.has(this.finalState,"transform")&&this.requiresHardwareAcceleration&&(this.finalState.transform=d.WebkitUtils.hardwareAccelerateTransform(this.finalState.transform))},resetToInitialState:function(){a.default.isNull(this.$el)||this.$el.css(this.initialState)},setToFinalState:function(){a.default.isNull(this.$el)||this.$el.css(this.finalState)},isRunning:function(){return!a.default.isNull(this.$el)&&this.$el.hasClass(this.runClass)},isPaused:function(){return!a.default.isNull(this.$el)&&this.$el.hasClass(this.pauseClass)},play:function(t){if(this.compile(),a.default.isUndefined(t)||(this.$el=t),!a.default.isNull(this.$el))return u.default.flush(),this.eventState={},this.$el.bind(f,a.default.bind((function(t){t.originalEvent.target===this.$el[0]&&(this.eventState[t.originalEvent.animationName]=!1),a.default.every(a.default.values(this.eventState),(function(t){return!t}))&&this.finish()}),this)),this.$el.bind(p,a.default.bind((function(t){t.originalEvent.target===this.$el[0]&&(this.eventState[t.originalEvent.animationName]=!0)}),this)),this.$el[0].offsetWidth,"none"===this.$el.css("display")&&this.$el.show(),this.$el.addClass(this.runClass),this.trigger(g.START_EVENT),this},pause:function(){this.compiled&&!a.default.isNull(this.$el)&&this.isRunning()&&!this.isPaused()&&(this.$el.addClass(this.pauseClass),this.trigger(g.PAUSE_EVENT))},resume:function(){this.compiled&&!a.default.isNull(this.$el)&&this.isPaused()&&(this.$el.removeClass(this.pauseClass),this.trigger(g.RESUME_EVENT))},finish:function(){this.$el.css(this.finalState),"0"===this.$el.css("opacity")&&(this.useSrOnlyClassInsteadDisplayChange?this.$el.addClass("sr-only"):this.$el.hide()),this.cleanup(),this.trigger(g.END_EVENT)},cleanup:function(){this.compiled&&!a.default.isNull(this.$el)&&this.$el.off(f).off(p).removeClass(this.runClass).removeClass(this.pauseClass)},isInProgress:function(){return this.$el.hasClass(this.runClass)},isEntryAnimation:function(){return h.default.isEntryAnimation(this.name)},setLoop:function(t){this.loop=t},isLooping:function(){return this.loop},keepVisibleForScreenReaders:function(){this.useSrOnlyClassInsteadDisplayChange=!0},restoreHideBehavior:function(){this.useSrOnlyClassInsteadDisplayChange=!1}}),e.default=g},19523:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a="undefined"!=typeof WebKitAnimationEvent?"-webkit-":"undefined"!=typeof AnimationEvent?"":null,s=function(){this.ruleBuffer=[],this.keyframeInc=0,this.keyframeMap={},this.sequenceInc=0,this.sequenceMap={},this.pauseClassCache=[]};o.default.extend(s.prototype,{reset:function(){this.ruleBuffer=[],this.keyframeInc=0,this.keyframeMap={},this.sequenceInc=0,this.sequenceMap={},this.pauseClassCache=[]},_generateKeyframe:function(t,e,n,i){var r=t+"|"+JSON.stringify(e);if(0!==i&&(r+="|"+n+"|"+i),this.keyframeMap.hasOwnProperty(r))return this.keyframeMap[r];var s="@"+a+"keyframes keyframe"+this.keyframeInc+"{",u=o.default.sortBy(o.default.keys(e),(function(t){return parseInt(t,10)}));if(0===i)o.default.each(u,(function(n){s+=n+"{"+t+":"+e[n]+"}"}));else{var l=o.default.round(i/(i+n)*100,5),c=100-l;s+="0%{"+t+":"+e["0%"]+"}"+l+"%{"+t+":"+e["0%"]+"}",o.default.each(u,(function(n){"0%"!=n&&(s+=Math.round(l+c*(parseInt(n,10)/100))+"%{"+t+":"+e[n]+"}")}))}return s+="}",this.ruleBuffer.push(s),this.keyframeMap[r]="keyframe"+this.keyframeInc++,this.keyframeMap[r]},_generatePauseClass:function(t){var e="sequencePause"+t;if(!o.default.includes(this.pauseClassCache,e)){this.pauseClassCache.push(e);var n=[];o.default(t).times((function(){n.push("paused")})),this.ruleBuffer.push("."+e+"{"+a+"animation-play-state:"+n.join(",")+" !important;}")}return e},_generateRunClass:function(t,e,n,i){var r="sequenceRun"+this.sequenceInc++;return this.ruleBuffer.push("."+r+"{"+a+"animation-name:"+t.join(",")+";"+a+"animation-duration:"+e.join(",")+";"+a+"animation-timing-function:"+n.join(",")+";"+a+"animation-fill-mode:"+o.default.map(t,(function(){return"both"})).join(",")+";"+a+"animation-play-state:"+o.default.map(t,(function(){return"running"})).join(",")+";"+a+"animation-iteration-count:"+i.join(",")+";}"),r},generate:function(t){var e=o.default.map(t,(function(t){return t.getKey()})).join("&");if(!this.sequenceMap.hasOwnProperty(e)){var n=[],i=[],r=[],s=[],u=this;o.default.each(t,(function(t){var e="transform"==t.property?a+"transform":t.property;n.push(u._generateKeyframe(e,t.frames,t.duration,t.delay)),i.push(t.duration+t.delay+"ms"),r.push(t.easing),s.push(t.iterations)})),this.sequenceMap[e]={runClass:this._generateRunClass(n,i,r,s),pauseClass:this._generatePauseClass(t.length)}}return this.sequenceMap[e]},flush:function(){this.ruleBuffer.length>0&&(r.default("head").append(r.default("<style></style>").html(this.ruleBuffer.join("\n"))),this.ruleBuffer=[])}});var u=null;e.default=(null===u&&(u=new s),u)},33722:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(97575)),a=i(n(47767)),s=i(n(80771)),u={0:[0,0],15:[-30,6],30:[15,-6],45:[-15,3.6],60:[9,-2.4],75:[-6,1.2],100:[0,0]},l={0:[1,1],30:[1.25,.75],40:[.75,1.25],50:[1.15,.85],65:[.95,1.15],75:[1.05,.95],100:[1,1]},c={0:0,10:2,20:-4,30:4,40:-4,50:4,60:-4,70:4,80:-2,90:2,100:0},d={0:[0,0,0],20:[-3,-.1,-.1],30:[3,.1,.1],40:[-3,.1,.1],50:[3,.1,.1],60:[-3,.1,.1],70:[3,.1,.1],80:[-3,.1,.1],90:[3,.1,.1],100:[0,0,0]},h={0:[0,0],5:[-2,2],10:[-2,-2],15:[2,2],20:[2,-2],25:[-2,2],30:[-2,-2],35:[2,2],40:[2,-2],45:[-2,2],50:[-2,-2],55:[2,2],60:[2,-2],65:[-2,2],70:[-2,-2],75:[2,2],80:[2,-2],85:[-2,2],90:[-2,-2],95:[2,2],100:[0,0]};e.default={compileNewSequence:function(t,e,n){var i=null;if(r.default.isString(e.type)&&!r.default.isEmpty(e.type)&&r.default.isNumber(e.duration)&&e.duration>0){var s={$el:t,name:e.type,requiresHardwareAcceleration:n.get("requiresHardwareAcceleration")};(i=new a.default(s)).precompile(),!r.default.isUndefined(e.delay)&&r.default.isNumber(e.delay)||(e.delay=0),!0===e.loop&&i.setLoop(!0),r.default.isFunction(this[e.type])?this[e.type](i,e,n):o.default.warn("Animation type not supported: "+JSON.stringify(e)),i.compile()}return i},getIterations:function(t){var e=t.iterations?t.iterations:1;return!0===t.loop&&(e="infinite"),e},getDuration:function(t){return 1e3*t.duration},getDelay:function(t){return 1e3*t.delay},getEasing:function(t){return t.easing},buildTween:function(t,e,n){return new a.default.Tween(e,n,this.getDuration(t),this.getDelay(t),this.getIterations(t),this.getEasing(t))},fadeIn:function(t,e,n){t.add(this.buildTween(e,"opacity",{"0%":0,"100%":n.get("opacity")}))},fadeOut:function(t,e,n){t.add(this.buildTween(e,"opacity",{"0%":n.get("opacity"),"100%":0}))},spinSequence:function(t,e,n,i,r){var o=n.getScale(),a=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"transform-origin",{"0%":a,"100%":a}))},spinRight:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i-360,i)},spinLeft:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i+360,i)},rotateCW90:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i-90,i)},rotateCCW90:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i+90,i)},slideInXSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("x");s.default.mobile()?t.add(this.buildTween(e,"left",{"0%":i.x+"px","100%":a+"px"})):t.add(this.buildTween(e,"transform",{"0%":"translateX("+(i.x-a)+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translateX(0px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},slideInYSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("y");s.default.mobile()?t.add(this.buildTween(e,"top",{"0%":i.y+"px","100%":a+"px"})):t.add(this.buildTween(e,"transform",{"0%":"translateY("+(i.y-a)+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translateY(0px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},slideInXYSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),u=n.get("x"),l=n.get("y");s.default.mobile()?(t.add(this.buildTween(e,"left",{"0%":i.x+"px","100%":u+"px"})),t.add(this.buildTween(e,"top",{"0%":r.y+"px","100%":l+"px"}))):t.add(this.buildTween(e,"transform",{"0%":"translateX("+(i.x-u)+"px) translateY("+(r.y-l)+"px) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translateX(0px) translateY(0px) rotate("+o+"deg) scale("+a.x+","+a.y+")"}))},slideLeft:function(t,e,n){this.slideLeftIn(t,e,n)},slideLeftIn:function(t,e,n){var i=n.getOffPageRight();this.slideInXSequence(t,e,n,i)},slideRight:function(t,e,n){this.slideRightIn(t,e,n)},slideRightIn:function(t,e,n){var i=n.getOffPageLeft();this.slideInXSequence(t,e,n,i)},slideDown:function(t,e,n){this.slideDownIn(t,e,n)},slideDownIn:function(t,e,n){var i=n.getOffPageTop();this.slideInYSequence(t,e,n,i)},slideUp:function(t,e,n){this.slideUpIn(t,e,n)},slideUpIn:function(t,e,n){var i=n.getOffPageBottom();this.slideInYSequence(t,e,n,i)},slideTopRight:function(t,e,n){var i=n.getOffPageBottom(),r=n.getOffPageLeft();this.slideInXYSequence(t,e,n,r,i)},slideTopLeft:function(t,e,n){var i=n.getOffPageRight(),r=n.getOffPageBottom();this.slideInXYSequence(t,e,n,i,r)},slideBottomRight:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageLeft();this.slideInXYSequence(t,e,n,r,i)},slideBottomLeft:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageRight();this.slideInXYSequence(t,e,n,r,i)},slideOutSequence:function(t,e,n,i){var r=n.get("x"),o=n.get("y");t.add(this.buildTween(e,"left",{"0%":r+"px","100%":i.x+"px"})),t.add(this.buildTween(e,"top",{"0%":o+"px","100%":i.y+"px"}))},slideOutXYSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),u=n.get("x"),l=n.get("y");s.default.mobile()?(t.add(this.buildTween(e,"left",{"0%":u+"px","100%":i.x+"px"})),t.add(this.buildTween(e,"top",{"0%":l+"px","100%":r.y+"px"}))):t.add(this.buildTween(e,"transform",{"0%":"translateX(0px) translateY(0px) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translateX("+(i.x-u)+"px) translateY("+(r.y-l)+"px) rotate("+o+"deg) scale("+a.x+","+a.y+")"}))},slideLeftOut:function(t,e,n){var i=n.getOffPageRight();this.slideOutSequence(t,e,n,i)},slideRightOut:function(t,e,n){var i=n.getOffPageLeft();this.slideOutSequence(t,e,n,i)},slideDownOut:function(t,e,n){var i=n.getOffPageBottom();this.slideOutSequence(t,e,n,i)},slideUpOut:function(t,e,n){var i=n.getOffPageTop();this.slideOutSequence(t,e,n,i)},slideTopRightOut:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageRight();this.slideOutXYSequence(t,e,n,r,i)},slideTopLeftOut:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageLeft();this.slideOutXYSequence(t,e,n,r,i)},slideBottomRightOut:function(t,e,n){var i=n.getOffPageRight(),r=n.getOffPageBottom();this.slideOutXYSequence(t,e,n,i,r)},slideBottomLeftOut:function(t,e,n){var i=n.getOffPageLeft(),r=n.getOffPageBottom();this.slideOutXYSequence(t,e,n,i,r)},shake:function(t,e,n){var i=n.get("rotation"),o=n.getTransformOriginString(.5,.5,!0),a=n.getScale(),s={};r.default.each(c,(function(t,e){s[e+"%"]="rotate("+(i+t)+"deg) scale("+a.x+", "+a.y+")"})),t.add(this.buildTween(e,"transform",s)),t.add(this.buildTween(e,"transform-origin",{"0%":o,"100%":o}))},shiftInSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale();i.x*=o.x,i.y*=o.y,t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},shiftLeft:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.shiftInSequence(t,e,n,r)},shiftRight:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.shiftInSequence(t,e,n,r)},shiftDown:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,-1*i);this.shiftInSequence(t,e,n,r)},shiftUp:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,i);this.shiftInSequence(t,e,n,r)},shiftOutSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale();i.x*=o.x,i.y*=o.y,t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},shiftLeftOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.shiftOutSequence(t,e,n,r)},shiftRightOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.shiftOutSequence(t,e,n,r)},shiftDownOut:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,i);this.shiftOutSequence(t,e,n,r)},shiftUpOut:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,-1*i);this.shiftOutSequence(t,e,n,r)},flash:function(t,e,n){var i=n.get("opacity");t.add(this.buildTween(e,"opacity",{"0%":i,"50%":0,"100%":i}))},pulse:function(t,e,n){var i=n.get("rotation"),r=n.getScale();t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale("+r.x+","+r.y+")","50%":"rotate("+i+"deg) scale("+(r.x+.1)+","+(r.y+.1)+")","100%":"rotate("+i+"deg) scale("+r.x+","+r.y+")"}))},bob:function(t,e,n){var i=n.get("rotation"),r=n.getScale(),o=n.getRelativeRotatedPoint(0,-30),a=n.getRelativeRotatedPoint(0,-15);t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")","40%":"translate("+o.x+"px,"+o.y+"px) rotate("+i+"deg) scale("+r.x+","+r.y+")","50%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")","60%":"translate("+a.x+"px,"+a.y+"px) rotate("+i+"deg) scale("+r.x+","+r.y+")","80%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")","100%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")"}))},tada:function(t,e,n){var i=n.get("rotation"),o=n.getScale(),a={};r.default.each(d,(function(t,e){a[e+"%"]="rotate("+(i+t[0])+"deg) scale("+(o.x+t[1])+", "+(o.y+t[2])+")"})),t.add(this.buildTween(e,"transform",a));var s=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},flipSequence:function(t,e,n,i,r){var o=n.getOffsetRotation(),a=Math.rotateCoord(i,r,0,0,o),s=n.get("rotation"),u=n.getScale();t.add(this.buildTween(e,"transform",{"0%":"rotate3d("+a.x+","+a.y+", 0, 180deg) rotateZ("+s+"deg) scale("+u.x+", "+u.y+")","100%":"rotate3d("+a.x+","+a.y+", 0, 0deg) rotateZ("+s+"deg) scale("+u.x+", "+u.y+")"}));var l=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":l,"100%":l}))},flip:function(t,e,n){this.flipSequence(t,e,n,0,1)},flipHorizontal:function(t,e,n){this.flipSequence(t,e,n,1,0)},flipDiagonalRight:function(t,e,n){this.flipSequence(t,e,n,1,1)},flipDiagonalLeft:function(t,e,n){this.flipSequence(t,e,n,-1,1)},flipInX:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(1,0,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","40%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","70%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},flipInY:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(0,1,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","40%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","70%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},flipOutX:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(1,0,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},flipOutY:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(0,1,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},fadeInSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},fadeUp:function(t,e,n){this.fadeUpIn(t,e,n)},fadeUpIn:function(t,e,n){var i=n.getRelativeRotatedPoint(0,25);this.fadeInSequence(t,e,n,i)},fadeDown:function(t,e,n){this.fadeDownIn(t,e,n)},fadeDownIn:function(t,e,n){var i=n.getRelativeRotatedPoint(0,-25);this.fadeInSequence(t,e,n,i)},fadeRight:function(t,e,n){this.fadeRightIn(t,e,n)},fadeRightIn:function(t,e,n){var i=n.getRelativeRotatedPoint(-25,0);this.fadeInSequence(t,e,n,i)},fadeLeft:function(t,e,n){this.fadeLeftIn(t,e,n)},fadeLeftIn:function(t,e,n){var i=n.getRelativeRotatedPoint(25,0);this.fadeInSequence(t,e,n,i)},fadeOutSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},fadeUpOut:function(t,e,n){var i=n.getRelativeRotatedPoint(0,-25);this.fadeOutSequence(t,e,n,i)},fadeDownOut:function(t,e,n){var i=n.getRelativeRotatedPoint(0,25);this.fadeOutSequence(t,e,n,i)},fadeRightOut:function(t,e,n){var i=n.getRelativeRotatedPoint(25,0);this.fadeOutSequence(t,e,n,i)},fadeLeftOut:function(t,e,n){var i=n.getRelativeRotatedPoint(-25,0);this.fadeOutSequence(t,e,n,i)},bounceInSequence:function(t,e,n,i,r,o){var a=n.get("x"),s=n.get("y"),u=n.get("opacity");t.add(this.buildTween(e,"left",{"0%":i.x+"px","60%":a+r.x+"px","80%":a+o.x+"px","100%":a+"px"})),t.add(this.buildTween(e,"top",{"0%":i.y+"px","60%":s+r.y+"px","80%":s+o.y+"px","100%":s+"px"})),t.add(this.buildTween(e,"opacity",{"0%":0,"60%":u,"100%":u}))},bounceUp:function(t,e,n){this.bounceUpIn(t,e,n)},bounceUpIn:function(t,e,n){var i=n.getOffPageBottom(),r=n.getRelativeRotatedPoint(0,-30),o=n.getRelativeRotatedPoint(0,10);this.bounceInSequence(t,e,n,i,r,o)},bounceDown:function(t,e,n){this.bounceDownIn(t,e,n)},bounceDownIn:function(t,e,n){var i=n.getOffPageTop(),r=n.getRelativeRotatedPoint(0,30),o=n.getRelativeRotatedPoint(0,-10);this.bounceInSequence(t,e,n,i,r,o)},bounceLeft:function(t,e,n){this.bounceLeftIn(t,e,n)},bounceLeftIn:function(t,e,n){var i=n.getOffPageLeft(),r=n.getRelativeRotatedPoint(30,0),o=n.getRelativeRotatedPoint(-10,0);this.bounceInSequence(t,e,n,i,r,o)},bounceRight:function(t,e,n){this.bounceRightIn(t,e,n)},bounceRightIn:function(t,e,n){var i=n.getOffPageRight(),r=n.getRelativeRotatedPoint(-30,0),o=n.getRelativeRotatedPoint(10,0);this.bounceInSequence(t,e,n,i,r,o)},bounceOutSequence:function(t,e,n,i,r,o){var a=n.get("x"),s=n.get("y"),u=n.get("opacity");t.add(this.buildTween(e,"left",{"0%":a+"px","20%":a+r.x+"px","40%":a+o.x+"px","100%":i.x+"px"})),t.add(this.buildTween(e,"top",{"0%":s+"px","20%":s+r.y+"px","40%":s+o.y+"px","100%":i.y+"px"})),t.add(this.buildTween(e,"opacity",{"0%":u,"60%":u,"100%":0}))},bounceUpOut:function(t,e,n){var i=n.getOffPageTop(),r=n.getRelativeRotatedPoint(0,-10),o=n.getRelativeRotatedPoint(0,30);this.bounceOutSequence(t,e,n,i,r,o)},bounceDownOut:function(t,e,n){var i=n.getOffPageBottom(),r=n.getRelativeRotatedPoint(0,10),o=n.getRelativeRotatedPoint(0,-30);this.bounceOutSequence(t,e,n,i,r,o)},bounceLeftOut:function(t,e,n){var i=n.getOffPageLeft(),r=n.getRelativeRotatedPoint(-10,0),o=n.getRelativeRotatedPoint(30,0);this.bounceOutSequence(t,e,n,i,r,o)},bounceRightOut:function(t,e,n){var i=n.getOffPageRight(),r=n.getRelativeRotatedPoint(10,0),o=n.getRelativeRotatedPoint(-30,0);this.bounceOutSequence(t,e,n,i,r,o)},spinFadeInSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+(r+i)+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}));var s=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},spinRightFade:function(t,e,n){this.spinRightFadeIn(t,e,n)},spinRightFadeIn:function(t,e,n){this.spinFadeInSequence(t,e,n,-90)},spinLeftFade:function(t,e,n){this.spinLeftFadeIn(t,e,n)},spinLeftFadeIn:function(t,e,n){this.spinFadeInSequence(t,e,n,90)},spinFadeOutSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+(r+i)+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}));var s=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},spinRightFadeOut:function(t,e,n){this.spinFadeOutSequence(t,e,n,90)},spinLeftFadeOut:function(t,e,n){this.spinFadeOutSequence(t,e,n,-90)},lightSpeedInSequence:function(t,e,n,i,r,o){var a=n.get("rotation"),s=n.getScale(),u=n.get("opacity"),l="right"===o?1:-1;t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) skewX("+30*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","60%":"translate("+r.x+"px,"+r.y+"px) skewX("+-30*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","80%":"translate(0,0) skewX("+15*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","100%":"translate(0,0) skewX(0deg) rotate("+a+"deg) scale("+s.x+","+s.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"60%":u,"100%":u}))},lightSpeedRight:function(t,e,n){this.lightSpeedRightIn(t,e,n)},lightSpeedRightIn:function(t,e,n){var i=n.getScale(),r=n.get("width")*i.x,o=n.get("pageWidth"),a=n.getRelativeRotatedPoint(-1*o,0),s=n.getRelativeRotatedPoint(Math.round(.6*r),0);this.lightSpeedInSequence(t,e,n,a,s,"right")},lightSpeedLeft:function(t,e,n){this.lightSpeedLeftIn(t,e,n)},lightSpeedLeftIn:function(t,e,n){var i=n.getScale(),r=n.get("width")*i.x,o=n.get("pageWidth"),a=n.getRelativeRotatedPoint(o,0),s=n.getRelativeRotatedPoint(-1*Math.round(.6*r),0);this.lightSpeedInSequence(t,e,n,a,s,"left")},lightSpeedOutSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),s=n.get("opacity"),u=30*("right"===r?-1:1);t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) skewX(0deg) rotate("+o+"deg) scale("+a.x+","+a.y+")","60%":"translate("+i.x+"px,"+i.y+"px) skewX("+u+"deg) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translate("+i.x+"px,"+i.y+"px) skewX(0deg) rotate("+o+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":s,"60%":0,"100%":0}))},lightSpeedRightOut:function(t,e,n){var i=n.get("pageWidth"),r=n.getRelativeRotatedPoint(i,0);this.lightSpeedOutSequence(t,e,n,r,"right")},lightSpeedLeftOut:function(t,e,n){var i=n.get("pageWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.lightSpeedOutSequence(t,e,n,r,"left")},rollInSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),s=n.get("opacity");i.x*=a.x,i.y*=a.y,t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) rotate("+(o+r)+"deg) scale("+a.x+","+a.y+")","100%":"translate(0,0) rotate("+o+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":s}));var u=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":u,"100%":u}))},rollLeft:function(t,e,n){this.rollLeftIn(t,e,n)},rollRightIn:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.rollInSequence(t,e,n,r,-120)},rollRight:function(t,e,n){this.rollRightIn(t,e,n)},rollLeftIn:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.rollInSequence(t,e,n,r,120)},rollOutSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),s=n.get("opacity");i.x*=a.x,i.y*=a.y,t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translate("+i.x+"px,"+i.y+"px) rotate("+(o+r)+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":s,"100%":0}));var u=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":u,"100%":u}))},rollLeftOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.rollOutSequence(t,e,n,r,-120)},rollRightOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.rollOutSequence(t,e,n,r,120)},enlargeFadeIn:function(t,e,n){var i=n.get("rotation"),r=n.getScale(),o=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale(0)","100%":"rotate("+i+"deg) scale("+r.x+","+r.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":o}))},shrinkFadeOut:function(t,e,n){var i=n.get("rotation"),r=n.getScale(),o=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale("+r.x+","+r.y+")","100%":"rotate("+i+"deg) scale(0)"})),t.add(this.buildTween(e,"opacity",{"0%":o,"100%":0}))},scale:function(t,e,n,i,r,o){var a=n.get("rotation"),s=n.getScale(),u="rotate("+a+"deg) scale(0, 0)",l="rotate("+a+"deg) scale("+s.x+","+s.y+")";o&&(u="rotate("+a+"deg) scale("+("x"===o?0:s.x)+","+("y"===o?0:s.y)+")");var c={"0%":u,"100%":l};if("down"===i&&(c={"0%":l,"100%":u}),t.add(this.buildTween(e,"transform",c)),r){var d=r;0===a&&1===s.x&&1===s.y||(d=n.getTransformOriginString(.5,.5,!0)),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":d}))}},enlarge:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,.5,!0))},scaleUpRight:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(0,.5))},scaleUpLeft:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(1,.5))},scaleUpBottom:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,0))},scaleUpTop:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,1))},scaleUpVerticalTop:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(1,0),"y")},scaleUpVerticalBottom:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(0,1),"y")},scaleUpVerticalCenter:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,.5),"y")},scaleUpHorizontalLeft:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(1,1),"x")},scaleUpHorizontalRight:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(0,0),"x")},scaleUpHorizontalCenter:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,.5),"x")},shrink:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,.5,!0))},scaleDownLeft:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(0,.5))},scaleDownRight:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(1,.5))},scaleDownTop:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,1))},scaleDownBottom:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,0))},scaleDownVerticalTop:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(0,1),"y")},scaleDownVerticalBottom:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(1,0),"y")},scaleDownVerticalCenter:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,.5),"y")},scaleDownHorizontalLeft:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(0,0),"x")},scaleDownHorizontalRight:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(1,1),"x")},scaleDownHorizontalCenter:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,.5),"x")},swing:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale();t.add(this.buildTween(e,"transform",{"0%":i+" rotate("+o+"deg) scale("+a.x+", "+a.y+")","100%":"rotateX(0) rotateY(0) rotate("+o+"deg) scale("+a.x+", "+a.y+")"})),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":n.getTransformOriginString(.5,.5,!0)})),t.add(this.buildTween(e,"transform-box",{"0%":"fill-box","100%":"fill-box"}))},swingTopLeft:function(t,e,n){this.swing(t,e,n,"rotateX(180deg) rotateY(-180deg)",n.getTransformOriginString(0,0))},swingTopRight:function(t,e,n){this.swing(t,e,n,"rotateX(-180deg) rotateY(-180deg)",n.getTransformOriginString(1,0))},swingBottomLeft:function(t,e,n){this.swing(t,e,n,"rotateX(180deg) rotateY(180deg)",n.getTransformOriginString(0,1))},swingBottomRight:function(t,e,n){this.swing(t,e,n,"rotateX(-180deg) rotateY(180deg)",n.getTransformOriginString(1,1))},swingLeft:function(t,e,n){this.swing(t,e,n,"rotateY(180deg)",n.getTransformOriginString(1,.5))},swingRight:function(t,e,n){this.swing(t,e,n,"rotateY(-180deg)",n.getTransformOriginString(0,.5))},swingTop:function(t,e,n){this.swing(t,e,n,"rotateX(180deg)",n.getTransformOriginString(.5,1))},swingBottom:function(t,e,n){this.swing(t,e,n,"rotateX(-180deg)",n.getTransformOriginString(.5,0))},jelloHorizontal:function(t,e,n){var i=n.get("rotation"),o=n.getScale(),a={};r.default.each(l,(function(t,e){a[e+"%"]="scale("+t[0]*o.x+", "+t[1]*o.y+") rotate("+i+"deg)"})),t.add(this.buildTween(e,"transform",a))},wobble:function(t,e,n,i,o){var a=n.get("rotation"),s=n.getTransformOriginString(.5,.5,!0),l=n.getScale(),c="translate"+i,d=o?1:-1,h={};r.default.each(u,(function(t,e){var n=a+t[1]*d;h[e+"%"]=c+"("+t[0]+"px) rotate("+n+"deg) scale("+l.x+", "+l.y+")"})),t.add(this.buildTween(e,"transform",h)),t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},wobbleTop:function(t,e,n){this.wobble(t,e,n,"X",!0)},wobbleBottom:function(t,e,n){this.wobble(t,e,n,"X",!1)},wobbleLeft:function(t,e,n){this.wobble(t,e,n,"Y",!0)},wobbleRight:function(t,e,n){this.wobble(t,e,n,"Y",!1)},vibrate:function(t,e,n){var i=n.get("rotation"),o=n.getScale(),a={};r.default.each(h,(function(t,e){a[e+"%"]="translate("+t[0]+"px, "+t[1]+"px) rotate("+i+"deg) scale("+o.x+", "+o.y+")"})),t.add(this.buildTween(e,"transform",a))},kenBurns:function(t,e,n,i,r,o){var a=n.get("rotation"),s=n.getScale();t.add(this.buildTween(e,"transform",{"0%":"scale("+s.x+", "+s.y+") translate(0, 0) rotate("+a+"deg)","100%":"scale("+1.25*s.x+", "+1.25*s.y+") translate("+i+") rotate("+a+"deg)"})),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":o}))},kenBurnsTop:function(t,e,n){this.kenBurns(t,e,n,"0, -15px",n.getTransformOriginString(.5,.16),n.getTransformOriginString(.5,0))},kenBurnsBottom:function(t,e,n){this.kenBurns(t,e,n,"0, 15px",n.getTransformOriginString(.5,.84),n.getTransformOriginString(.5,1))},kenBurnsLeft:function(t,e,n){this.kenBurns(t,e,n,"-20px, 0",n.getTransformOriginString(.16,.5),n.getTransformOriginString(0,.5))},kenBurnsRight:function(t,e,n){this.kenBurns(t,e,n,"20px, 0",n.getTransformOriginString(.84,.5),n.getTransformOriginString(1,.5))}}},43700:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(96486)),u=a(n(65311)),l=a(n(41232)),c={Module:function(t){s.default.extend(this,t),this.status=c.Module.STATUS.PENDING,t.delegate&&this.setDelegate(t.delegate)}};s.default.extend(c.Module.prototype,l.default.Events,{setDelegate:function(t){if(!s.default.isObject(t))throw Error("invalid module delegate!");for(var e in t)!this.hasOwnProperty(e)&&t.hasOwnProperty(e)&&s.default.isFunction(t[e])&&(this[e]=s.default.bind(t[e],t))},getModule:function(t){return this.application.getModule(t)},setApplication:function(t){this.application=t},getApplication:function(){return this.application},getDependency:function(t){return this.application.getModule(t)},setStatus:function(t){this.status=t},getStatus:function(){return this.status},getDeferredLoadingTimeout:function(){return c.Application.DEFERRED_LOADING_TIMEOUT}}),c.Module.extend=l.default.View.extend,c.Module.STATUS={PENDING:1,LOADED:2,STARTED:4},c.Application=function(t){this.initCallbacks=new c.Callbacks,this.modules={};var e=this;this.loadedAllModules=(new u.default.Deferred).progress((function(t){e._loadModule(t),e._allLoaded()&&this.resolve()})),s.default.extend(this,t)},s.default.extend(c.Application.prototype,l.default.Events,{_allLoaded:function(){return s.default.every(s.default.values(this.modules),(function(t){return t&&t.getStatus()===c.Module.STATUS.LOADED}))},_loadModule:function(t){if(s.default.isUndefined(t)||s.default.isNull(t))throw Error("invalid module!");this.modules[t.id]=t,t.setApplication(this),t.trigger("load"),t.setStatus(c.Module.STATUS.LOADED),this.addInitializer((function(){t.trigger("start"),t.setStatus(c.Module.STATUS.STARTED)}))},use:function(t){var e=this;s.default.isString(t)?(this.modules[t]=null,Promise.resolve().then((function(){return o(n(41891)("./"+t+"/module"))})).then((function(n){if(!n)throw Error("could not load module: "+t);e.loadedAllModules.notify(n)}))):this._loadModule(t)},getModule:function(t){return this.modules[t]},addInitializer:function(t){this.initCallbacks.add(t)},start:function(t){var e=s.default.bind((function(){this.trigger("initialize:before",t),this.initCallbacks.run(t,this),this.trigger("initialize:after",t),this.trigger("start",t)}),this);this._allLoaded()?e():u.default.when(this.loadedAllModules).then(e)}}),c.Application.extend=l.default.View.extend,c.Application.DEFERRED_LOADING_TIMEOUT=5e3,c.Callbacks=function(){this.deferred=u.default.Deferred(),this.promise=this.deferred.promise()},s.default.extend(c.Callbacks.prototype,{add:function(t,e){this.promise.done((function(n,i){e&&(n=e),t.call(n,i)}))},run:function(t,e){this.deferred.resolve(e,t)}}),e.default=c},34987:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=function(t,e,n,i){var o=parseFloat(i);return(r.default.isUndefined(i)||r.default.isNaN(o))&&(o=1),null!==t&&(this.r=parseInt(t,10)),null!==e&&(this.g=parseInt(e,10)),null!==n&&(this.b=parseInt(n,10)),this.a=o,this};o.prototype={toHex:function(){var t;return null===this.r||null===this.g||null===this.b?"transparent":(t=(this.b|this.g<<8|this.r<<16).toString(16),(t="#"+"000000".substr(0,6-t.length)+t).toUpperCase())},isTransparent:function(){return!this.a},set:function(t){return r.default.each(t,r.default.bind((function(t,e){this[e]=t}),this)),this},hsv:function(){var t={h:0,s:0,v:0},e=this.r/255,n=this.g/255,i=this.b/255,r=Math.min(e,Math.min(n,i)),o=Math.max(e,Math.max(n,i));if(r==o)return t.v=r,t;var a=e==r?n-i:i==r?e-n:i-e,s=e==r?3:i==r?1:5;return t.h=60*(s-a/(o-r)),t.s=(o-r)/o,t.v=o,t},rgb:function(){return{r:this.r,g:this.g,b:this.b}},rgba:function(){return{r:this.r,g:this.g,b:this.b,a:this.a}},cmyk:function(){var t={c:0,m:0,y:0,k:0},e=this.r/255,n=this.g/255,i=this.b/255;return t.k=Math.min(1-e,1-n,1-i),t.c=(1-e-t.k)/(1-t.k),t.m=(1-n-t.k)/(1-t.k),t.y=(1-i-t.k)/(1-t.k),isNaN(t.c)&&(t.c=0),isNaN(t.m)&&(t.m=0),isNaN(t.y)&&(t.y=0),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},contrastRatio:function(t){t=o.fromString(t);var e=this.relativeLuminance(),n=t.relativeLuminance();if(e<n){var i=e;e=n,n=i}return(e+.05)/(n+.05)},relativeLuminance:function(){var t=function(t){return t<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)};return.2126*t(this.r/255)+.7152*t(this.g/255)+.0722*t(this.b/255)},clone:function(){return new o(this.r,this.g,this.b,this.a)},cloneWithAlpha:function(t){var e=this.clone();return e.a=t,e},toString:function(){return null!==this.r&&null!==this.g&&null!==this.b?null!==this.a&&1!==this.a?"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")":this.toHex():"transparent"},toValue:function(){return[this.r,this.g,this.b,this.a]}},o.fromHex=function(t){var e,n,i;return"#"===t[0]&&(t=t.substring(1,7)),3===t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),i=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),e=parseInt(t.substring(4,6),16),new o(i,n,e)},o.fromHSV=function(t,e,n){var i,a,s,u,l,c,d,h;if(r.default.isObject(t)&&(e=t.s,n=t.v,t=t.h),0===e)return c=d=h=n,new o(255*c,255*d,255*h);switch(s=n*(1-e),u=n*(1-e*(a=(t/=60)-(i=Math.floor(t)))),l=n*(1-e*(1-a)),i){case 0:c=n,d=l,h=s;break;case 1:c=u,d=n,h=s;break;case 2:c=s,d=n,h=l;break;case 3:c=s,d=u,h=n;break;case 4:c=l,d=s,h=n;break;default:c=n,d=s,h=u}return new o(255*c,255*d,255*h)},o.fromCMYK=function(t,e,n,i){r.default.isObject(t)&&(e=t.m,n=t.y,i=t.k,t=t.c);var a=o.Black();return t/=100,e/=100,n/=100,i/=100,a.r=1-Math.min(1,t*(1-i)+i),a.g=1-Math.min(1,e*(1-i)+i),a.b=1-Math.min(1,n*(1-i)+i),a.r=Math.round(255*a.r),a.g=Math.round(255*a.g),a.b=Math.round(255*a.b),a},o.fromString=function(t){var e,n,i,r,a,s,u;if(t instanceof o)return t;var l=t.match(this.regex);return l?(a=l[1],s=l[2],a?o.fromHex(a):s?(e=(u=s.split(/\s*,\s*/))[0],n=u[1],i=u[2],r=u[3],new o(e,n,i,r)):void 0):null},o.regex=/(?:#([0-9a-f]{3,6})|rgba?\(([^)]+)\))/i,o.buildStops=function(t){return r.default.map(t,(function(t){return o.fromString(t.color)+" "+parseInt(100*t.stop,10)+"%"})).join(",")},o.White=function(t){return new o(255,255,255,t)},o.Black=function(t){return new o(0,0,0,t)},o.Transparent=function(){return new o},o.getMostContrasting=function(t,e,n){return t=o.fromString(t),e=o.fromString(e),n=o.fromString(n),t.contrastRatio(e)>t.contrastRatio(n)?e:n},window.Color=o,e.default=o},86900:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(80771)),s="backgroundImage",u=document.createElement("div"),l=u.style,c=/^(.*?)(:?linear-gradient)(\()([0-9]+)deg,([^,]+) ([0-9]+)%,([^,]+) ([0-9]+)%(\))(.*?)$/i;l.cssText="background-image: linear-gradient(red, blue);",r.default.support.linearGradient=!!/(^|\s)linear-gradient/.test(l.backgroundImage)&&"linear-gradient",u=l=null,r.default.support.linearGradient||(r.default.cssNumber[s]=!0,r.default.cssHooks[s]={set:function(t,e){var n=c.exec(e);if(o.default.isEmpty(n))t.style[s]=e;else{n[0];var i=n[4],r=n[5],u=n[6],l=n[7],d=n[8];t.style[s]=function(t,e,n,i,r,o,s){var u="";return a.default.webkit?u="-webkit-":a.default.mozilla&&(u="-moz-"),u+"linear-gradient("+(n=90-parseInt(n,10))+"deg,"+i+" "+r+"%,"+o+" "+s+"%)"}(0,0,i,r,u,l,d)}}})},84232:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=function(t){return this.url=t,this.deferred=r.default.Deferred(),this.cssLinkResource=r.default("<link>",{rel:"stylesheet",type:"text/css",href:t}),this.data=this.cssLinkResource,this.cssLinkResource.on("load",o.default.bind((function(){this.deferred.resolve()}),this)),this.cssLinkResource.appendTo("head"),this};a.prototype={onload:function(){return this.deferred.done.apply(this.deferred,arguments),this.deferred},ready:function(){return"resolved"==this.deferred.state()},remove:function(){delete this.cssLinkResource}},e.default=a},97575:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o={debug:!1,info:!1,warn:!1,error:!1},a=!1,s=!1,u={debug:function(){o.debug&&(window.Rollbar&&window.Rollbar.debug.apply(window.Rollbar,arguments),console.debug.apply(console,arguments))},info:function(){o.info&&(window.Rollbar&&window.Rollbar.info.apply(window.Rollbar,arguments),console.info.apply(console,arguments))},forceInfo:function(){window.Rollbar&&window.Rollbar.info.apply(window.Rollbar,arguments),console.info.apply(console,arguments)},devWarn:function(){return a?u.warn.apply(this,arguments):u.info.apply(this,arguments)},warn:function(){o.warn&&(window.Rollbar&&window.Rollbar.warn.apply(window.Rollbar,arguments),console.warn.apply(console,arguments))},error:function(){o.error&&(window.Rollbar&&window.Rollbar.error.apply(window.Rollbar,arguments),console.error.apply(console,arguments))},init:function(t){o=r.default.defaults(t.modes||{},o),a=t.emitDevWarnings,s=r.default.reduce(o,(function(t,e,n){return t||e}),s)},isEnabled:function(t){return r.default.isUndefined(t)?s:o[t]}};u.d=u.debug,u.i=u.info,u.w=u.warn,u.e=u.error,u.fi=u.forceInfo,e.default=u},6745:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(97575)),o=i(n(96486)),a=i(n(65311)),s={},u=[],l={bindToIframe:function(t){return new f(t)},on:function(t,e){if(o.default.isFunction(e))return"*"===t?(u.push(e),o.default.each(s,(function(t){t.push(e)}))):(o.default.has(s,t)||(s[t]=u.slice()),s[t].push(e)),this;r.default.warn("handler is not a function")},unbindAll:function(){s={},u=[]},handleRequest:function(t,e){if(o.default.has(s,t.name)){var n=s[t.name].slice(),i={},a=function(){e(i)},u=function(t){r.default.warn("Error:",t),i={error:"Unable to process request due to an error"},a()},l=function(){try{var e=n.shift();if(!e)return void a();var r=e(t,i);if(r&&o.default.isFunction(r.done)&&o.default.isFunction(r.fail)&&o.default.isFunction(r.always)){var s=setTimeout((function(){u(new Error("handler timed out"))}),1e4);r.done((function(){l()})).fail((function(){a()})).always((function(){clearTimeout(s)}))}else!1===r?a():l()}catch(t){u(t)}};l()}else r.default.warn("No handler for "+t.name)}},c=function(t){if(o.default.isUndefined(t.client))throw new Error("No client object given");if(o.default.isUndefined(t.name))throw new Error("No name given");this.name=t.name,this.client=t.client,this.params=t.params||{}},d=[],h=!1,f=function(t){d.push(this),this.iframe=t,h||(h=!0,o.default.isUndefined(window.postMessage)?r.default.warn("This browser does not support inter-frame communication"):(r.default.debug("listening for iframe messages"),a.default(window).on("message",(function(t){var e=t.originalEvent.source,n=null;if(o.default.each(d,(function(t){e===t.getWindow()&&(n=t)})),n&&o.default.isString(t.originalEvent.data)){var i;try{i=JSON.parse(t.originalEvent.data)}catch(e){return void r.default.warn("Could not parse data: ["+t.originalEvent.data+"]")}if(i.name){if(0!==i.name.indexOf("ceros.sdk.player")){var a=i.uuid,s=new c({name:i.name,params:i.params,client:{type:"iframe",sdkVersion:i.version}});l.handleRequest(s,(function(t){var n=JSON.stringify({uuid:a,response:t});e.postMessage(n,"*")}))}}else r.default.warn('Data has no "name" property')}}))))};f.prototype={getWindow:function(){return this.iframe.contentWindow}},e.default=l},43228:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486));n(93229),n(20414),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),o=window.setTimeout((function(){e(i+r)}),r);return t=i+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),"undefined"==typeof console&&(window.console={log:function(){},warn:function(){},error:function(){},info:function(){},debug:function(){}}),Math.toRad=function(t){return t*(Math.PI/180)},Math.toDeg=function(t){return t*(180/Math.PI)},Math.format=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},Math.hit=function(t,e,n,i,r,o,a){return a?t>=n-r/2&&t<=n-r/2+r&&e>=i-o/2&&e<=i-o/2+o:t>=n&&t<=n+r&&e>=i&&e<=i+o},Math.boxhit=function(t,e,n,i,r,o,a,s){return(t>=r&&t<=r+a||t+n>=r&&t+n<=r+a)&&(e>=o&&e<=o+s||e+i>=o&&e+i<=o+s)},Math.clamp=function(t,e,n){return t<e?e:t>n?n:t},Math.rotateCoord=function(t,e,n,i,r){var o=t-n,a=e-i;return t=Math.cos(r)*o+Math.sin(r)*a,e=-Math.sin(r)*o+Math.cos(r)*a,{x:t+=n,y:e+=i}},Math.pointInPoly=function(t,e,n){var i,r,o=!1,a=t.length;for(i=0,r=a-1;i<a;r=i++)t[i].y>n!=t[r].y>n&&e<(t[r].x-t[i].x)*(n-t[i].y)/(t[r].y-t[i].y)+t[i].x&&(o=!o);return o},Object.create||(Object.create=function(t,e){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function n(){}return n.prototype=t,new n}),!r.default.omitBy&&r.default.omit&&(r.default.omitBy=r.default.omit)},53321:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(54400));e.default={getExperienceTitle:function(){return window.document.title},getOpenGraphTitle:function(){return window.cerosContext.docVersion.ogTitle},getOpenGraphDescription:function(){return window.cerosContext.docVersion.ogDescription},getTwitterTitle:function(){return window.cerosContext.docVersion.twitterTitle},urlForTwitter:function(t){var e={text:this.getTwitterTitle()||this.getExperienceTitle(),url:t};return o.default.appendQueryParams("https://twitter.com/share",e)},urlForLinkedIn:function(t){var e={url:t,mini:"true",title:this.getOpenGraphTitle()||this.getExperienceTitle()};return o.default.appendQueryParams("https://www.linkedin.com/shareArticle",e)},urlForPinterest:function(t,e){var n={url:t,media:e},i=this.getOpenGraphDescription()||this.getOpenGraphTitle()||this.getExperienceTitle();return i&&(n.description=i),o.default.appendQueryParams("https://pinterest.com/pin/create/button/",n)},urlForFacebook:function(t){var e={u:t};return o.default.appendQueryParams("https://www.facebook.com/sharer.php",e)},urlForEmail:function(t){var e={subject:this.getExperienceTitle(),body:"I thought you might like this. Here's a link to it on the web: "+t};return o.default.appendQueryParams("mailto:",e)},shareOnTwitter:function(t){window.open(this.urlForTwitter(t),"_blank","width=450,height=300")},shareOnLinkedIn:function(t){window.open(this.urlForLinkedIn(t),"_blank","width=520,height=570")},shareOnPinterest:function(t,e){window.open(this.urlForPinterest(t,e),"_blank","width=810,height=530")},shareOnFacebook:function(t){window.open(this.urlForFacebook(t),"_blank","width=450,height=300")},shareViaEmail:function(t){var e=document.createElement("a");e.href=this.urlForEmail(t),r.default("body").append(e),e.click(),r.default(e).remove()}}},77705:(t,e,n)=>{"use strict";var i;!function(r,o,a,s){var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),d="function",h=Math.round,f=Math.abs,p=Date.now;function g(t,e,n){return setTimeout(T(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(v(t,n[e],n),!0)}function v(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function y(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==s&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var _=y((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===s)&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),b=y((function(t,e){return _(t,e,!0)}),"merge","Use `assign`.");function w(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&u(i,n)}function T(t,e){return function(){return t.apply(e,arguments)}}function S(t,e){return typeof t==d?t.apply(e&&e[0]||s,e):t}function E(t,e){return t===s?e:t}function O(t,e,n){v(k(e),(function(e){t.addEventListener(e,n,!1)}))}function P(t,e,n){v(k(e),(function(e){t.removeEventListener(e,n,!1)}))}function C(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function A(t,e){return t.indexOf(e)>-1}function k(t){return t.trim().split(/\s+/g)}function x(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function I(t){return Array.prototype.slice.call(t,0)}function M(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];x(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function R(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((i=(n=l[o])?n+r:e)in t)return i;o++}return s}var N=1;function D(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var L="ontouchstart"in r,j=R(r,"PointerEvent")!==s,F=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),V="touch",U="mouse",B=25,H=1,G=4,W=8,Z=1,z=2,q=4,$=8,Y=16,K=z|q,X=$|Y,J=K|X,Q=["x","y"],tt=["clientX","clientY"];function et(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){S(t.options.enable,[t])&&n.handler(e)},this.init()}function nt(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&H&&i-r==0,a=e&(G|W)&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=it(e)),r>1&&!n.firstMultiple?n.firstMultiple=it(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,l=e.center=rt(i);e.timeStamp=p(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=ut(u,l),e.distance=st(u,l),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==H&&o.eventType!==G||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=at(e.deltaX,e.deltaY);var c,d,h=ot(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=f(h.x)>f(h.y)?h.x:h.y,e.scale=a?(c=a.pointers,st((d=i)[0],d[1],tt)/st(c[0],c[1],tt)):1,e.rotation=a?function(t,e){return ut(e[1],e[0],tt)+ut(t[1],t[0],tt)}(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=W&&(u>B||a.velocity===s)){var l=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,d=ot(u,l,c);i=d.x,r=d.y,n=f(d.x)>f(d.y)?d.x:d.y,o=at(l,c),t.lastInterval=e}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var g=t.element;C(e.srcEvent.target,g)&&(g=e.srcEvent.target),e.target=g}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function it(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:rt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function rt(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:h(n/e),y:h(i/e)}}function ot(t,e,n){return{x:e/t||0,y:n/t||0}}function at(t,e){return t===e?Z:f(t)>=f(e)?t<0?z:q:e<0?$:Y}function st(t,e,n){n||(n=Q);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function ut(t,e,n){n||(n=Q);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}et.prototype={handler:function(){},init:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&P(this.element,this.evEl,this.domHandler),this.evTarget&&P(this.target,this.evTarget,this.domHandler),this.evWin&&P(D(this.element),this.evWin,this.domHandler)}};var lt={mousedown:H,mousemove:2,mouseup:G},ct="mousedown",dt="mousemove mouseup";function ht(){this.evEl=ct,this.evWin=dt,this.pressed=!1,et.apply(this,arguments)}w(ht,et,{handler:function(t){var e=lt[t.type];e&H&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=G),this.pressed&&(e&G&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:U,srcEvent:t}))}});var ft={pointerdown:H,pointermove:2,pointerup:G,pointercancel:W,pointerout:W},pt={2:V,3:"pen",4:U,5:"kinect"},gt="pointerdown",mt="pointermove pointerup pointercancel";function vt(){this.evEl=gt,this.evWin=mt,et.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(gt="MSPointerDown",mt="MSPointerMove MSPointerUp MSPointerCancel"),w(vt,et,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=ft[i],o=pt[t.pointerType]||t.pointerType,a=o==V,s=x(e,t.pointerId,"pointerId");r&H&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):r&(G|W)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var yt={touchstart:H,touchmove:2,touchend:G,touchcancel:W};function _t(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,et.apply(this,arguments)}function bt(t,e){var n=I(t.touches),i=I(t.changedTouches);return e&(G|W)&&(n=M(n.concat(i),"identifier",!0)),[n,i]}w(_t,et,{handler:function(t){var e=yt[t.type];if(e===H&&(this.started=!0),this.started){var n=bt.call(this,t,e);e&(G|W)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:V,srcEvent:t})}}});var wt={touchstart:H,touchmove:2,touchend:G,touchcancel:W},Tt="touchstart touchmove touchend touchcancel";function St(){this.evTarget=Tt,this.targetIds={},et.apply(this,arguments)}function Et(t,e){var n=I(t.touches),i=this.targetIds;if(e&(2|H)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=I(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return C(t.target,u)})),e===H)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),e&(G|W)&&delete i[a[r].identifier],r++;return s.length?[M(o.concat(s),"identifier",!0),s]:void 0}w(St,et,{handler:function(t){var e=wt[t.type],n=Et.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:V,srcEvent:t})}});var Ot=2500;function Pt(){et.apply(this,arguments);var t=T(this.handler,this);this.touch=new St(this.manager,t),this.mouse=new ht(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Ct(t,e){t&H?(this.primaryTouch=e.changedPointers[0].identifier,At.call(this,e)):t&(G|W)&&At.call(this,e)}function At(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),Ot)}}function kt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}w(Pt,et,{handler:function(t,e,n){var i=n.pointerType==V,r=n.pointerType==U;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)Ct.call(this,e,n);else if(r&&kt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var xt=R(c.style,"touchAction"),It=xt!==s,Mt="compute",Rt="auto",Nt="manipulation",Dt="none",Lt="pan-x",jt="pan-y",Ft=function(){if(!It)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}();function Vt(t,e){this.manager=t,this.set(e)}Vt.prototype={set:function(t){t==Mt&&(t=this.compute()),It&&this.manager.element.style&&Ft[t]&&(this.manager.element.style[xt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,(function(e){S(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(A(t,Dt))return Dt;var e=A(t,Lt),n=A(t,jt);return e&&n?Dt:e||n?e?Lt:jt:A(t,Nt)?Nt:Rt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=A(i,Dt)&&!Ft[Dt],o=A(i,jt)&&!Ft[jt],a=A(i,Lt)&&!Ft[Lt];if(r){var s=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return r||o&&n&K||a&&n&X?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Ut=1,Bt=32;function Ht(t){this.options=u({},this.defaults,t||{}),this.id=N++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=Ut,this.simultaneous={},this.requireFail=[]}function Gt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Wt(t){return t==Y?"down":t==$?"up":t==z?"left":t==q?"right":""}function Zt(t,e){var n=e.manager;return n?n.get(t):t}function zt(){Ht.apply(this,arguments)}function qt(){zt.apply(this,arguments),this.pX=null,this.pY=null}function $t(){zt.apply(this,arguments)}function Yt(){Ht.apply(this,arguments),this._timer=null,this._input=null}function Kt(){zt.apply(this,arguments)}function Xt(){zt.apply(this,arguments)}function Jt(){Ht.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Qt(t,e){return(e=e||{}).recognizers=E(e.recognizers,Qt.defaults.preset),new te(t,e)}function te(t,e){this.options=u({},Qt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(j?vt:F?St:L?Pt:ht))(this,nt),this.touchAction=new Vt(this,this.options.touchAction),ee(this,!0),v(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function ee(t,e){var n,i=t.element;i.style&&(v(t.options.cssProps,(function(r,o){n=R(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}Ht.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Zt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)||(t=Zt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===x(e,t=Zt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Zt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+Gt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+Gt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=Bt},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(Bt|Ut)))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!S(this.options.enable,[this,e]))return this.reset(),void(this.state=Bt);56&this.state&&(this.state=Ut),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(zt,Ht,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(n&W||!r)?16|e:i||r?n&G?8|e:2&e?4|e:2:Bt}}),w(qt,zt,{defaults:{event:"pan",threshold:10,pointers:1,direction:J},getTouchAction:function(){var t=this.options.direction,e=[];return t&K&&e.push(jt),t&X&&e.push(Lt),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(e.direction&K?(r=0===o?Z:o<0?z:q,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?Z:a<0?$:Y,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return zt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Wt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w($t,zt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Dt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),w(Yt,Ht,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Rt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(G|W)&&!r)this.reset();else if(t.eventType&H)this.reset(),this._timer=g((function(){this.state=8,this.tryEmit()}),e.time,this);else if(t.eventType&G)return 8;return Bt},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&G?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),w(Kt,zt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Dt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),w(Xt,zt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|X,pointers:1},getTouchAction:function(){return qt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(K|X)?e=t.overallVelocity:n&K?e=t.overallVelocityX:n&X&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&t.eventType&G},emit:function(t){var e=Wt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(Jt,Ht,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Nt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&H&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=G)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||st(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=g((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return Bt},failTimeout:function(){return this._timer=g((function(){this.state=Bt}),this.options.interval,this),Bt},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Qt.VERSION="2.0.8",Qt.defaults={domEvents:!1,touchAction:Mt,enable:!0,inputTarget:null,inputClass:null,preset:[[Kt,{enable:!1}],[$t,{enable:!1},["rotate"]],[Xt,{direction:K}],[qt,{direction:K},["swipe"]],[Jt],[Jt,{event:"doubletap",taps:2},["tap"]],[Yt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},te.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Ht)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=x(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return v(k(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==s){var n=this.handlers;return v(k(t),(function(t){e?n[t]&&n[t].splice(x(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&ee(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Qt,{INPUT_START:H,INPUT_MOVE:2,INPUT_END:G,INPUT_CANCEL:W,STATE_POSSIBLE:Ut,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Bt,DIRECTION_NONE:Z,DIRECTION_LEFT:z,DIRECTION_RIGHT:q,DIRECTION_UP:$,DIRECTION_DOWN:Y,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:X,DIRECTION_ALL:J,Manager:te,Input:et,TouchAction:Vt,TouchInput:St,MouseInput:ht,PointerEventInput:vt,TouchMouseInput:Pt,SingleTouchInput:_t,Recognizer:Ht,AttrRecognizer:zt,Tap:Jt,Pan:qt,Swipe:Xt,Pinch:$t,Rotate:Kt,Press:Yt,on:O,off:P,each:v,merge:b,extend:_,assign:u,inherit:w,bindFn:T,prefixed:R}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Qt,(i=function(){return Qt}.call(e,n,e,t))===s||(t.exports=i)}(window,document)},64086:()=>{"use strict";!function(t){var e=navigator.userAgent;if(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(e)&&e.indexOf("AppleWebKit")>-1){var n=t.document;if(n.querySelector){var i,r,o,a,s=n.querySelector("meta[name=viewport]"),u=s&&s.getAttribute("content"),l=u+",maximum-scale=1",c=u+",maximum-scale=10",d=!0;s&&(t.addEventListener("orientationchange",h,!1),t.addEventListener("devicemotion",(function(e){a=e.accelerationIncludingGravity,i=Math.abs(a.x),r=Math.abs(a.y),o=Math.abs(a.z),t.orientation&&180!==t.orientation||!(i>7||(o>6&&r<8||o<8&&r>6)&&i>5)?d||h():d&&(s.setAttribute("content",l),d=!1)}),!1))}}function h(){s.setAttribute("content",c),d=!0}}(window)},93229:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=!0;if(!r.default.support.cors&&r.default.ajaxTransport&&window.XDomainRequest||(o=!1),o){var a=/^(https?:)?\/\//i,s=/^get|post$/i,u=new RegExp("^(//|"+location.protocol+")","i");r.default.ajaxTransport("* text html xml json",(function(t,e,n){if(t.crossDomain&&t.async&&s.test(t.type)&&a.test(t.url)&&u.test(t.url)){var i=null;return{send:function(n,o){var a="",s=(e.dataType||"").toLowerCase();i=new XDomainRequest,/^\d+$/.test(e.timeout)&&(i.timeout=e.timeout),i.ontimeout=function(){o(500,"timeout")},i.onload=function(){var t="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,e={code:200,message:"success"},n={text:i.responseText};try{if("html"===s||/text\/html/i.test(i.contentType))n.html=i.responseText;else if("json"===s||"text"!==s&&/\/json/i.test(i.contentType))try{n.json=JSON.parse(i.responseText)}catch(t){e.code=500,e.message="parseerror"}else if("xml"===s||"text"!==s&&/\/xml/i.test(i.contentType)){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=!1;try{r.loadXML(i.responseText)}catch(t){r=void 0}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw e.code=500,e.message="parseerror","Invalid XML: "+i.responseText;n.xml=r}}catch(t){throw t}finally{o(e.code,e.message,n,t)}},i.onprogress=function(){},i.onerror=function(){o(500,"error",{text:i.responseText})},e.data&&(a="string"===r.default.type(e.data)?e.data:r.default.param(e.data)),i.open(t.type,t.url),i.send(a)},abort:function(){i&&i.abort()}}}}))}e.default=r.default},74341:(t,e,n)=>{"use strict";var i,r;i=[n(65311)],void 0===(r=function(t){return function(t){void 0!==t.easing&&(t.easing.jswing=t.easing.swing);var e=Math.pow,n=Math.sqrt,i=Math.sin,r=Math.cos,o=Math.PI,a=1.70158,s=1.525*a,u=a+1,l=2*o/3,c=2*o/4.5;function d(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return 1-(1-t)*(1-t)},easeInOutQuad:function(t){return t<.5?2*t*t:1-e(-2*t+2,2)/2},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1-e(1-t,3)},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-e(-2*t+2,3)/2},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1-e(1-t,4)},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-e(-2*t+2,4)/2},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1-e(1-t,5)},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-e(-2*t+2,5)/2},easeInSine:function(t){return 1-r(t*o/2)},easeOutSine:function(t){return i(t*o/2)},easeInOutSine:function(t){return-(r(o*t)-1)/2},easeInExpo:function(t){return 0===t?0:e(2,10*t-10)},easeOutExpo:function(t){return 1===t?1:1-e(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?e(2,20*t-10)/2:(2-e(2,-20*t+10))/2},easeInCirc:function(t){return 1-n(1-e(t,2))},easeOutCirc:function(t){return n(1-e(t-1,2))},easeInOutCirc:function(t){return t<.5?(1-n(1-e(2*t,2)))/2:(n(1-e(-2*t+2,2))+1)/2},easeInElastic:function(t){return 0===t?0:1===t?1:-e(2,10*t-10)*i((10*t-10.75)*l)},easeOutElastic:function(t){return 0===t?0:1===t?1:e(2,-10*t)*i((10*t-.75)*l)+1},easeInOutElastic:function(t){return 0===t?0:1===t?1:t<.5?-e(2,20*t-10)*i((20*t-11.125)*c)/2:e(2,-20*t+10)*i((20*t-11.125)*c)/2+1},easeInBack:function(t){return u*t*t*t-a*t*t},easeOutBack:function(t){return 1+u*e(t-1,3)+a*e(t-1,2)},easeInOutBack:function(t){return t<.5?e(2*t,2)*(7.189819*t-s)/2:(e(2*t-2,2)*((s+1)*(2*t-2)+s)+2)/2},easeInBounce:function(t){return 1-d(1-t)},easeOutBounce:d,easeInOutBounce:function(t){return t<.5?(1-d(1-2*t))/2:(1+d(2*t-1))/2}})}(t)}.apply(e,i))||(t.exports=r)},70947:function(t){"use strict";t.exports=function(t,e){t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var n="7.10.2",i=[];var r=function e(n){var r,o="info",a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r("log",o,e)};return r=function(e,n){return function(r,o,a){var s=n.levels[o],u=new RegExp("^("+s+")$");if("log"!==r&&a.unshift(r.toUpperCase()+":"),a.unshift(e+":"),i){i.push([].concat(a));var l=i.length-1e3;i.splice(0,l>0?l:0)}if(t.console){var c=t.console[r];c||"debug"!==r||(c=t.console.info||t.console.log),c&&s&&u.test(r)&&c[Array.isArray(a)?"apply":"call"](t.console,a)}}}(n,a),a.createLogger=function(t){return e(n+": "+t)},a.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:o},a.level=function(t){if("string"==typeof t){if(!a.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');o=t}return o},(a.history=function(){return i?[].concat(i):[]}).filter=function(t){return(i||[]).filter((function(e){return new RegExp(".*"+t+".*").test(e[0])}))},a.history.clear=function(){i&&(i.length=0)},a.history.disable=function(){null!==i&&(i.length=0,i=null)},a.history.enable=function(){null===i&&(i=[])},a.error=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("error",o,e)},a.warn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("warn",o,e)},a.debug=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("debug",o,e)},a}("VIDEOJS"),o=r.createLogger;function a(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s(t,e){return t(e={exports:{}},e.exports),e.exports}var u=s((function(t){function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e.apply(this,arguments)}t.exports=e})),l=Object.prototype.toString,c=function(t){return f(t)?Object.keys(t):[]};function d(t,e){c(t).forEach((function(n){return e(t[n],n)}))}function h(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?u.apply(void 0,[t].concat(n)):(n.forEach((function(e){e&&d(e,(function(e,n){t[n]=e}))})),t)}function f(t){return!!t&&"object"==typeof t}function p(t){return f(t)&&"[object Object]"===l.call(t)&&t.constructor===Object}function g(e,n){if(!e||!n)return"";if("function"==typeof t.getComputedStyle){var i=t.getComputedStyle(e);return i?i.getPropertyValue(n)||i[n]:""}return""}function m(t){return"string"==typeof t&&Boolean(t.trim())}function v(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function y(){return e===t.document}function _(t){return f(t)&&1===t.nodeType}function b(){try{return t.parent!==t.self}catch(t){return!0}}function w(t){return function(n,i){if(!m(n))return e[t](null);m(i)&&(i=e.querySelector(i));var r=_(i)?i:e;return r[t]&&r[t](n)}}function T(t,n,i,o){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===i&&(i={});var a=e.createElement(t);return Object.getOwnPropertyNames(n).forEach((function(t){var e=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(r.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+t+" to "+e+"."),a.setAttribute(t,e)):"textContent"===t?S(a,e):a[t]!==e&&(a[t]=e)})),Object.getOwnPropertyNames(i).forEach((function(t){a.setAttribute(t,i[t])})),o&&H(a,o),a}function S(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function E(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function O(t,e){return v(e),t.classList?t.classList.contains(e):(n=e,new RegExp("(^|\\s)"+n+"($|\\s)")).test(t.className);var n}function P(t,e){return t.classList?t.classList.add(e):O(t,e)||(t.className=(t.className+" "+e).trim()),t}function C(t,e){return t.classList?t.classList.remove(e):(v(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function A(t,e,n){var i=O(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!i),n!==i)return n?P(t,e):C(t,e),t}function k(t,e){Object.getOwnPropertyNames(e).forEach((function(n){var i=e[n];null==i||!1===i?t.removeAttribute(n):t.setAttribute(n,!0===i?"":i)}))}function x(t){var e={};if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,i=n.length-1;i>=0;i--){var r=n[i].name,o=n[i].value;"boolean"!=typeof t[r]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")||(o=null!==o),e[r]=o}return e}function I(t,e){return t.getAttribute(e)}function M(t,e,n){t.setAttribute(e,n)}function R(t,e){t.removeAttribute(e)}function N(){e.body.focus(),e.onselectstart=function(){return!1}}function D(){e.onselectstart=function(){return!0}}function L(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),n.height||(n.height=parseFloat(g(t,"height"))),n.width||(n.width=parseFloat(g(t,"width"))),n}}function j(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};var e=t.offsetWidth,n=t.offsetHeight,i=0,r=0;do{i+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent}while(t);return{left:i,top:r,width:e,height:n}}function F(t,e){var n={},i=j(e.target),r=j(t),o=r.width,a=r.height,s=e.offsetY-(r.top-i.top),u=e.offsetX-(r.left-i.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-r.left,s=e.changedTouches[0].pageY+r.top),n.y=1-Math.max(0,Math.min(1,s/a)),n.x=Math.max(0,Math.min(1,u/o)),n}function V(t){return f(t)&&3===t.nodeType}function U(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function B(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"==typeof t&&(t=t()),_(t)||V(t)?t:"string"==typeof t&&/\S/.test(t)?e.createTextNode(t):void 0})).filter((function(t){return t}))}function H(t,e){return B(e).forEach((function(e){return t.appendChild(e)})),t}function G(t,e){return H(U(t),e)}function W(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||"mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons}var Z,z=w("querySelector"),q=w("querySelectorAll"),$=Object.freeze({__proto__:null,isReal:y,isEl:_,isInFrame:b,createEl:T,textContent:S,prependTo:E,hasClass:O,addClass:P,removeClass:C,toggleClass:A,setAttributes:k,getAttributes:x,getAttribute:I,setAttribute:M,removeAttribute:R,blockTextSelection:N,unblockTextSelection:D,getBoundingClientRect:L,findPosition:j,getPointerPosition:F,isTextNode:V,emptyEl:U,normalizeContent:B,appendContent:H,insertContent:G,isSingleLeftClick:W,$:z,$$:q}),Y=!1,K=function(){if(y()&&!1!==Z.options.autoSetup){var t=Array.prototype.slice.call(e.getElementsByTagName("video")),n=Array.prototype.slice.call(e.getElementsByTagName("audio")),i=Array.prototype.slice.call(e.getElementsByTagName("video-js")),r=t.concat(n,i);if(r&&r.length>0)for(var o=0,a=r.length;o<a;o++){var s=r[o];if(!s||!s.getAttribute){X(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&Z(s)}else Y||X(1)}};function X(e,n){n&&(Z=n),t.setTimeout(K,e)}function J(){Y=!0,t.removeEventListener("load",J)}y()&&("complete"===e.readyState?J():t.addEventListener("load",J));var Q,tt=function(t){var n=e.createElement("style");return n.className=t,n},et=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},nt=3;function it(){return nt++}t.WeakMap||(Q=function(){function e(){this.vdata="vdata"+Math.floor(t.performance&&t.performance.now()||Date.now()),this.data={}}var n=e.prototype;return n.set=function(t,e){var n=t[this.vdata]||it();return t[this.vdata]||(t[this.vdata]=n),this.data[n]=e,this},n.get=function(t){var e=t[this.vdata];if(e)return this.data[e];r("We have no data for this element",t)},n.has=function(t){return t[this.vdata]in this.data},n.delete=function(t){var e=t[this.vdata];e&&(delete this.data[e],delete t[this.vdata])},e}());var rt,ot=t.WeakMap?new WeakMap:new Q;function at(t,e){if(ot.has(t)){var n=ot.get(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&ot.delete(t)}}function st(t,e,n,i){n.forEach((function(n){t(e,n,i)}))}function ut(n){if(n.fixed_)return n;function i(){return!0}function r(){return!1}if(!n||!n.isPropagationStopped){var o=n||t.event;for(var a in n={},o)"layerX"!==a&&"layerY"!==a&&"keyLocation"!==a&&"webkitMovementX"!==a&&"webkitMovementY"!==a&&("returnValue"===a&&o.preventDefault||(n[a]=o[a]));if(n.target||(n.target=n.srcElement||e),n.relatedTarget||(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),n.preventDefault=function(){o.preventDefault&&o.preventDefault(),n.returnValue=!1,o.returnValue=!1,n.defaultPrevented=!0},n.defaultPrevented=!1,n.stopPropagation=function(){o.stopPropagation&&o.stopPropagation(),n.cancelBubble=!0,o.cancelBubble=!0,n.isPropagationStopped=i},n.isPropagationStopped=r,n.stopImmediatePropagation=function(){o.stopImmediatePropagation&&o.stopImmediatePropagation(),n.isImmediatePropagationStopped=i,n.stopPropagation()},n.isImmediatePropagationStopped=r,null!==n.clientX&&void 0!==n.clientX){var s=e.documentElement,u=e.body;n.pageX=n.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),n.pageY=n.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}n.which=n.charCode||n.keyCode,null!==n.button&&void 0!==n.button&&(n.button=1&n.button?0:4&n.button?1:2&n.button?2:0)}return n.fixed_=!0,n}var lt=function(){if("boolean"!=typeof rt){rt=!1;try{var e=Object.defineProperty({},"passive",{get:function(){rt=!0}});t.addEventListener("test",null,e),t.removeEventListener("test",null,e)}catch(t){}}return rt},ct=["touchstart","touchmove"];function dt(t,e,n){if(Array.isArray(e))return st(dt,t,e,n);ot.has(t)||ot.set(t,{});var i=ot.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=it()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(e,n){if(!i.disabled){e=ut(e);var o=i.handlers[e.type];if(o)for(var a=o.slice(0),s=0,u=a.length;s<u&&!e.isImmediatePropagationStopped();s++)try{a[s].call(t,e,n)}catch(t){r.error(t)}}}),1===i.handlers[e].length)if(t.addEventListener){var o=!1;lt()&&ct.indexOf(e)>-1&&(o={passive:!0}),t.addEventListener(e,i.dispatcher,o)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function ht(t,e,n){if(ot.has(t)){var i=ot.get(t);if(i.handlers){if(Array.isArray(e))return st(ht,t,e,n);var r=function(t,e){i.handlers[e]=[],at(t,e)};if(void 0!==e){var o=i.handlers[e];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);at(t,e)}else r(t,e)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&r(t,s)}}}function ft(t,e,n){var i=ot.has(t)?ot.get(t):{},r=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=ut(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&!0===e.bubbles)ft.call(null,r,e,n);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){ot.has(e.target)||ot.set(e.target,{});var o=ot.get(e.target);e.target[e.type]&&(o.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function pt(t,e,n){if(Array.isArray(e))return st(pt,t,e,n);var i=function i(){ht(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||it(),dt(t,e,i)}function gt(t,e,n){var i=function i(){ht(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||it(),dt(t,e,i)}var mt,vt=Object.freeze({__proto__:null,fixEvent:ut,on:dt,off:ht,trigger:ft,one:pt,any:gt}),yt=30,_t=function(t,e,n){e.guid||(e.guid=it());var i=e.bind(t);return i.guid=n?n+"_"+e.guid:e.guid,i},bt=function(e,n){var i=t.performance.now();return function(){var r=t.performance.now();r-i>=n&&(e.apply(void 0,arguments),i=r)}},wt=function(){};wt.prototype.allowedEvents_={},wt.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},dt(this,t,e),this.addEventListener=n},wt.prototype.addEventListener=wt.prototype.on,wt.prototype.off=function(t,e){ht(this,t,e)},wt.prototype.removeEventListener=wt.prototype.off,wt.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},pt(this,t,e),this.addEventListener=n},wt.prototype.any=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},gt(this,t,e),this.addEventListener=n},wt.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=ut(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),ft(this,t)},wt.prototype.dispatchEvent=wt.prototype.trigger,wt.prototype.queueTrigger=function(e){var n=this;mt||(mt=new Map);var i=e.type||e,r=mt.get(this);r||(r=new Map,mt.set(this,r));var o=r.get(i);r.delete(i),t.clearTimeout(o);var a=t.setTimeout((function(){0===r.size&&(r=null,mt.delete(n)),n.trigger(e)}),0);r.set(i,a)};var Tt=function(t){return t instanceof wt||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"==typeof t[e]}))},St=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},Et=function(t){if(!t.nodeName&&!Tt(t))throw new Error("Invalid target; must be a DOM node or evented object.")},Ot=function(t){if(!St(t))throw new Error("Invalid event type; must be a non-empty string or array.")},Pt=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},Ct=function(t,e){var n,i,r,o=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return o?(n=t.eventBusEl_,e.length>=3&&e.shift(),i=e[0],r=e[1]):(n=e[0],i=e[1],r=e[2]),Et(n),Ot(i),Pt(r),{isTargetingSelf:o,target:n,type:i,listener:r=_t(t,r)}},At=function(t,e,n,i){Et(t),t.nodeName?vt[e](t,n,i):t[e](n,i)},kt={on:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Ct(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(At(a,"on",s,u),!o){var l=function(){return t.off(a,s,u)};l.guid=u.guid;var c=function(){return t.off("dispose",l)};c.guid=u.guid,At(this,"on","dispose",l),At(a,"on","dispose",c)}},one:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Ct(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(o)At(a,"one",s,u);else{var l=function e(){t.off(a,s,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];u.apply(null,i)};l.guid=u.guid,At(a,"one",s,l)}},any:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Ct(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(o)At(a,"any",s,u);else{var l=function e(){t.off(a,s,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];u.apply(null,i)};l.guid=u.guid,At(a,"any",s,l)}},off:function(t,e,n){if(!t||St(t))ht(this.eventBusEl_,t,e);else{var i=t,r=e;Et(i),Ot(r),Pt(n),n=_t(this,n),this.off("dispose",n),i.nodeName?(ht(i,r,n),ht(i,"dispose",n)):Tt(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(t,e){return ft(this.eventBusEl_,t,e)}};function xt(e,n){void 0===n&&(n={});var i=n.eventBusKey;if(i){if(!e[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');e.eventBusEl_=e[i]}else e.eventBusEl_=T("span",{className:"vjs-event-bus"});return h(e,kt),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(t){t()})),e.on("dispose",(function(){e.off(),t.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var It={state:{},setState:function(t){var e,n=this;return"function"==typeof t&&(t=t()),d(t,(function(t,i){n.state[i]!==t&&((e=e||{})[i]={from:n.state[i],to:t}),n.state[i]=t})),e&&Tt(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function Mt(t,e){return h(t,It),t.state=h({},t.state,e),"function"==typeof t.handleStateChanged&&Tt(t)&&t.on("statechanged",t.handleStateChanged),t}var Rt=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toLowerCase()}))},Nt=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))};function Dt(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach((function(e){e&&d(e,(function(e,n){p(e)?(p(t[n])||(t[n]={}),t[n]=Dt(t[n],e)):t[n]=e}))})),t}var Lt=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(t){return t in this.map_},e.delete=function(t){var e=this.has(t);return delete this.map_[t],e},e.set=function(t,e){return this.set_[t]=e,this},e.forEach=function(t,e){for(var n in this.map_)t.call(e,this.map_[n],n,this)},t}(),jt=t.Map?t.Map:Lt,Ft=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(t){return t in this.set_},e.delete=function(t){var e=this.has(t);return delete this.set_[t],e},e.add=function(t){return this.set_[t]=1,this},e.forEach=function(t,e){for(var n in this.set_)t.call(e,n,n,this)},t}(),Vt=t.Set?t.Set:Ft,Ut=function(){function e(t,e,n){if(!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Dt({},this.options_),e=this.options_=Dt(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+it()}this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&xt(this,{eventBusKey:this.el_?"el_":null}),Mt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Vt,this.setIntervalIds_=new Vt,this.rafIds_=new Vt,this.namedRafs_=new jt,this.clearingTimersOnDispose_=!1,!1!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var n=e.prototype;return n.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),ot.has(this.el_)&&ot.delete(this.el_),this.el_=null),this.player_=null}},n.isDisposed=function(){return Boolean(this.isDisposed_)},n.player=function(){return this.player_},n.options=function(t){return t?(this.options_=Dt(this.options_,t),this.options_):this.options_},n.el=function(){return this.el_},n.createEl=function(t,e,n){return T(t,e,n)},n.localize=function(t,e,n){void 0===n&&(n=t);var i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),o=r&&r[i],a=i&&i.split("-")[0],s=r&&r[a],u=n;return o&&o[t]?u=o[t]:s&&s[t]&&(u=s[t]),e&&(u=u.replace(/\{(\d+)\}/g,(function(t,n){var i=e[n-1],r=i;return void 0===i&&(r=t),r}))),u},n.contentEl=function(){return this.contentEl_||this.el_},n.id=function(){return this.id_},n.name=function(){return this.name_},n.children=function(){return this.children_},n.getChildById=function(t){return this.childIndex_[t]},n.getChild=function(t){if(t)return this.childNameIndex_[t]},n.getDescendant=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=e.reduce((function(t,e){return t.concat(e)}),[]);for(var i=this,r=0;r<e.length;r++)if(!(i=i.getChild(e[r]))||!i.getChild)return;return i},n.addChild=function(t,n,i){var r,o;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof t){o=Nt(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,n)}else r=t;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(o=o||r.name&&Nt(r.name()))&&(this.childNameIndex_[o]=r,this.childNameIndex_[Rt(o)]=r),"function"==typeof r.el&&r.el()){var u=null;this.children_[i+1]&&(this.children_[i+1].el_?u=this.children_[i+1].el_:_(this.children_[i+1])&&(u=this.children_[i+1])),this.contentEl().insertBefore(r.el(),u)}return r},n.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[Nt(t.name())]=null,this.childNameIndex_[Rt(t.name())]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},n.initChildren=function(){var t=this,n=this.options_.children;if(n){var i,r=this.options_,o=e.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(t){return!i.some((function(e){return"string"==typeof e?t===e:t===e.name}))}))).map((function(e){var i,r;return"string"==typeof e?r=n[i=e]||t.options_[i]||{}:(i=e.name,r=e),{name:i,opts:r}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||Nt(t.name));return n&&!o.isTech(n)})).forEach((function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}}))}},n.buildCSSClass=function(){return""},n.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},n.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},n.$=function(t,e){return z(t,e||this.contentEl())},n.$$=function(t,e){return q(t,e||this.contentEl())},n.hasClass=function(t){return O(this.el_,t)},n.addClass=function(t){P(this.el_,t)},n.removeClass=function(t){C(this.el_,t)},n.toggleClass=function(t,e){A(this.el_,t,e)},n.show=function(){this.removeClass("vjs-hidden")},n.hide=function(){this.addClass("vjs-hidden")},n.lockShowing=function(){this.addClass("vjs-lock-showing")},n.unlockShowing=function(){this.removeClass("vjs-lock-showing")},n.getAttribute=function(t){return I(this.el_,t)},n.setAttribute=function(t,e){M(this.el_,t,e)},n.removeAttribute=function(t){R(this.el_,t)},n.width=function(t,e){return this.dimension("width",t,e)},n.height=function(t,e){return this.dimension("height",t,e)},n.dimensions=function(t,e){this.width(t,!0),this.height(e)},n.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e==e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[t],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+Nt(t)],10)},n.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if(e=g(this.el_,t),0===(e=parseFloat(e))||isNaN(e)){var n="offset"+Nt(t);e=this.el_[n]}return e},n.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},n.currentWidth=function(){return this.currentDimension("width")},n.currentHeight=function(){return this.currentDimension("height")},n.focus=function(){this.el_.focus()},n.blur=function(){this.el_.blur()},n.handleKeyDown=function(t){this.player_&&(t.stopPropagation(),this.player_.handleKeyDown(t))},n.handleKeyPress=function(t){this.handleKeyDown(t)},n.emitTapEvents=function(){var e,n=0,i=null;this.on("touchstart",(function(r){1===r.touches.length&&(i={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},n=t.performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(i){var n=t.touches[0].pageX-i.pageX,r=t.touches[0].pageY-i.pageY;Math.sqrt(n*n+r*r)>10&&(e=!1)}}));var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){i=null,!0===e&&t.performance.now()-n<200&&(r.preventDefault(),this.trigger("tap"))}))},n.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=_t(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},n.setTimeout=function(e,n){var i,r=this;return e=_t(this,e),this.clearTimersOnDispose_(),i=t.setTimeout((function(){r.setTimeoutIds_.has(i)&&r.setTimeoutIds_.delete(i),e()}),n),this.setTimeoutIds_.add(i),i},n.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),t.clearTimeout(e)),e},n.setInterval=function(e,n){e=_t(this,e),this.clearTimersOnDispose_();var i=t.setInterval(e,n);return this.setIntervalIds_.add(i),i},n.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),t.clearInterval(e)),e},n.requestAnimationFrame=function(e){var n,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=_t(this,e),n=t.requestAnimationFrame((function(){i.rafIds_.has(n)&&i.rafIds_.delete(n),e()})),this.rafIds_.add(n),n):this.setTimeout(e,1e3/60)},n.requestNamedAnimationFrame=function(t,e){var n=this;if(!this.namedRafs_.has(t)){this.clearTimersOnDispose_(),e=_t(this,e);var i=this.requestAnimationFrame((function(){e(),n.namedRafs_.has(t)&&n.namedRafs_.delete(t)}));return this.namedRafs_.set(t,i),t}},n.cancelNamedAnimationFrame=function(t){this.namedRafs_.has(t)&&(this.cancelAnimationFrame(this.namedRafs_.get(t)),this.namedRafs_.delete(t))},n.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),t.cancelAnimationFrame(e)),e):this.clearTimeout(e)},n.clearTimersOnDispose_=function(){var t=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(e){var n=e[0],i=e[1];t[n].forEach((function(e,n){return t[i](n)}))})),t.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var i=e.getComponent("Tech"),r=i&&i.isTech(n),o=e===n||e.prototype.isPrototypeOf(n.prototype);if(r||!o)throw new Error('Illegal component, "'+t+'"; '+(r?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");t=Nt(t),e.components_||(e.components_={});var a=e.getComponent("Player");if("Player"===t&&a&&a.players){var s=a.players,u=Object.keys(s);if(s&&u.length>0&&u.map((function(t){return s[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[Rt(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();Ut.prototype.supportsRaf_="function"==typeof t.requestAnimationFrame&&"function"==typeof t.cancelAnimationFrame,Ut.registerComponent("Component",Ut);var Bt=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};s((function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e})),s((function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e}));var Ht,Gt=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},Wt=t.navigator&&t.navigator.userAgent||"",Zt=/AppleWebKit\/([\d.]+)/i.exec(Wt),zt=Zt?parseFloat(Zt.pop()):null,qt=/iPod/i.test(Wt),$t=(Ht=Wt.match(/OS (\d+)_/i))&&Ht[1]?Ht[1]:null,Yt=/Android/i.test(Wt),Kt=function(){var t=Wt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),Xt=Yt&&Kt<5&&zt<537,Jt=/Firefox/i.test(Wt),Qt=/Edg/i.test(Wt),te=!Qt&&(/Chrome/i.test(Wt)||/CriOS/i.test(Wt)),ee=function(){var t=Wt.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),ne=function(){var t=/MSIE\s(\d+)\.\d/.exec(Wt),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Wt)&&/rv:11.0/.test(Wt)&&(e=11),e}(),ie=/Safari/i.test(Wt)&&!te&&!Yt&&!Qt,re=/Windows/i.test(Wt),oe=y()&&("ontouchstart"in t||t.navigator.maxTouchPoints||t.DocumentTouch&&t.document instanceof t.DocumentTouch),ae=/iPad/i.test(Wt)||ie&&oe&&!/iPhone/i.test(Wt),se=/iPhone/i.test(Wt)&&!ae,ue=se||ae||qt,le=(ie||ue)&&!te,ce=Object.freeze({__proto__:null,IS_IPOD:qt,IOS_VERSION:$t,IS_ANDROID:Yt,ANDROID_VERSION:Kt,IS_NATIVE_ANDROID:Xt,IS_FIREFOX:Jt,IS_EDGE:Qt,IS_CHROME:te,CHROME_VERSION:ee,IE_VERSION:ne,IS_SAFARI:ie,IS_WINDOWS:re,TOUCH_ENABLED:oe,IS_IPAD:ae,IS_IPHONE:se,IS_IOS:ue,IS_ANY_SAFARI:le});function de(t,e,n,i){return function(t,e,n){if("number"!=typeof e||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}(t,i,n.length-1),n[i][e]}function he(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:de.bind(null,"start",0,t),end:de.bind(null,"end",1,t)}}function fe(t,e){return Array.isArray(t)?he(t):void 0===t||void 0===e?he():he([[t,e]])}function pe(t,e){var n,i,r=0;if(!e)return 0;t&&t.length||(t=fe(0,0));for(var o=0;o<t.length;o++)n=t.start(o),(i=t.end(o))>e&&(i=e),r+=i-n;return r/e}for(var ge,me={prefixed:!0},ve=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],ye=ve[0],_e=0;_e<ve.length;_e++)if(ve[_e][1]in e){ge=ve[_e];break}if(ge){for(var be=0;be<ge.length;be++)me[ye[be]]=ge[be];me.prefixed=ge[0]!==ye[0]}function we(t){if(t instanceof we)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:f(t)&&("number"==typeof t.code&&(this.code=t.code),h(this,t)),this.message||(this.message=we.defaultMessages[this.code]||"")}we.prototype.code=0,we.prototype.message="",we.prototype.status=null,we.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],we.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Te=0;Te<we.errorTypes.length;Te++)we[we.errorTypes[Te]]=Te,we.prototype[we.errorTypes[Te]]=Te;var Se=function(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(t){i=t}return[i,n]};function Ee(t){return null!=t&&"function"==typeof t.then}function Oe(t){Ee(t)&&t.then(null,(function(t){}))}var Pe=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,n,i){return t[n]&&(e[n]=t[n]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))})},Ce=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,(function(t){return t.track}));return Array.prototype.map.call(e,(function(t){var e=Pe(t.track);return t.src&&(e.src=t.src),e})).concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===n.indexOf(t)})).map(Pe))},Ae=function(t,e){return t.forEach((function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return n.addCue(t)}))})),e.textTracks()},ke=s((function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return a[t];var n,o=String(t);return(n=i[o.toLowerCase()])?n:(n=r[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var o;if(o=i[e.toLowerCase()])return o===n;if(o=r[e.toLowerCase()])return o===n}else if("number"==typeof e)return e===n;return!1}};var i=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)i[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)i[o-48]=o;for(o=1;o<13;o++)i["f"+o]=o+111;for(o=0;o<10;o++)i["numpad "+o]=o+96;var a=e.names=e.title={};for(o in i)a[i[o]]=o;for(var s in r)i[s]=r[s]})),xe=(ke.code,ke.codes,ke.aliases,ke.names,ke.title,"vjs-modal-dialog"),Ie=function(n){function i(t,e){var i;return(i=n.call(this,t,e)||this).opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=T("div",{className:xe+"-content"},{role:"document"}),i.descEl_=T("p",{className:xe+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),S(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}Gt(i,n);var r=i.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,n.prototype.dispose.call(this)},r.buildCSSClass=function(){return xe+" vjs-hidden "+n.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},r.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),G(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},r.empty=function(){this.trigger("beforemodalempty"),U(this.contentEl()),this.trigger("modalempty")},r.content=function(t){return void 0!==t&&(this.content_=t),this.content_},r.conditionalFocus_=function(){var t=e.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(t)||n===t)&&(this.previouslyActiveEl_=t,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(t){if(t.stopPropagation(),ke.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(ke.isEventKey(t,"Tab")){for(var n,i=this.focusableEls_(),r=this.el_.querySelector(":focus"),o=0;o<i.length;o++)if(r===i[o]){n=o;break}e.activeElement===this.el_&&(n=0),t.shiftKey&&0===n?(i[i.length-1].focus(),t.preventDefault()):t.shiftKey||n!==i.length-1||(i[0].focus(),t.preventDefault())}},r.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof t.HTMLAnchorElement||e instanceof t.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof t.HTMLInputElement||e instanceof t.HTMLSelectElement||e instanceof t.HTMLTextAreaElement||e instanceof t.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof t.HTMLIFrameElement||e instanceof t.HTMLObjectElement||e instanceof t.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},i}(Ut);Ie.prototype.options_={pauseOnOpen:!0,temporary:!0},Ut.registerComponent("ModalDialog",Ie);var Me=function(t){function e(e){var n;void 0===e&&(e=[]),(n=t.call(this)||this).tracks_=[],Object.defineProperty(Bt(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)n.addTrack(e[i]);return n}Gt(e,t);var n=e.prototype;return n.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this}))},n.removeTrack=function(t){for(var e,n=0,i=this.length;n<i;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},n.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},e}(wt);for(var Re in Me.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Me.prototype.allowedEvents_)Me.prototype["on"+Re]=null;var Ne=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)},De=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].enabled){Ne(e,e[i]);break}return(n=t.call(this,e)||this).changing_=!1,n}Gt(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.enabled&&Ne(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){n.changing_||(n.changing_=!0,Ne(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(Me),Le=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)},je=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].selected){Le(e,e[i]);break}return(n=t.call(this,e)||this).changing_=!1,Object.defineProperty(Bt(n),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n}Gt(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.selected&&Le(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){n.changing_||(n.changing_=!0,Le(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(Me),Fe=function(t){function e(){return t.apply(this,arguments)||this}Gt(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Me),Ve=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,n=t.length;e<n;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},e.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),Ue=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,n=0,i=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<i)for(n=e;n<i;n++)r.call(this,n)},e.getCueById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},t}(),Be={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},He={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Ge={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},We={disabled:"disabled",hidden:"hidden",showing:"showing"},Ze=function(t){function e(e){var n;void 0===e&&(e={}),n=t.call(this)||this;var i={id:e.id||"vjs_track_"+it(),kind:e.kind||"",label:e.label||"",language:e.language||""},r=function(t){Object.defineProperty(Bt(n),t,{get:function(){return i[t]},set:function(){}})};for(var o in i)r(o);return n}return Gt(e,t),e}(wt),ze=function(n){var i=["protocol","hostname","port","pathname","search","hash","host"],r=e.createElement("a");r.href=n;var o,a=""===r.host&&"file:"!==r.protocol;a&&((o=e.createElement("div")).innerHTML='<a href="'+n+'"></a>',r=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),e.body.appendChild(o));for(var s={},u=0;u<i.length;u++)s[i[u]]=r[i[u]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=t.location.protocol),a&&e.body.removeChild(o),s},qe=function(t){if(!t.match(/^https?:\/\//)){var n=e.createElement("div");n.innerHTML='<a href="'+t+'">x</a>',t=n.firstChild.href}return t},$e=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(e)return e.pop().toLowerCase()}return""},Ye=function(e,n){void 0===n&&(n=t.location);var i=ze(e);return(":"===i.protocol?n.protocol:i.protocol)+i.host!==n.protocol+n.host},Ke=Object.freeze({__proto__:null,parseUrl:ze,getAbsoluteURL:qe,getFileExtension:$e,isCrossOrigin:Ye}),Xe=function(t){var e=Je.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)},Je=Object.prototype.toString;var Qe=function(t){var e={};return t?(t.trim().split("\n").forEach((function(t){var n=t.indexOf(":"),i=t.slice(0,n).trim().toLowerCase(),r=t.slice(n+1).trim();void 0===e[i]?e[i]=r:Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]})),e):e},tn=rn,en=rn;function nn(t,e,n){var i=t;return Xe(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=u({},e,{uri:t}),i.callback=n,i}function rn(t,e,n){return on(e=nn(t,e,n))}function on(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,i,r){e||(e=!0,t.callback(n,i,r))};function i(){var t=void 0;if(t=u.response?u.response:u.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(u),g)try{t=JSON.parse(t)}catch(t){}return t}function r(t){return clearTimeout(l),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,m)}function o(){if(!s){var e;clearTimeout(l),e=t.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var r=m,o=null;return 0!==e?(r={body:i(),statusCode:e,method:d,headers:{},url:c,rawRequest:u},u.getAllResponseHeaders&&(r.headers=Qe(u.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,r,r.body)}}var a,s,u=t.xhr||null;u||(u=t.cors||t.useXDR?new rn.XDomainRequest:new rn.XMLHttpRequest);var l,c=u.url=t.uri||t.url,d=u.method=t.method||"GET",h=t.body||t.data,f=u.headers=t.headers||{},p=!!t.sync,g=!1,m={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:u};if("json"in t&&!1!==t.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),h=JSON.stringify(!0===t.json?h:t.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(o,0)},u.onload=o,u.onerror=r,u.onprogress=function(){},u.onabort=function(){s=!0},u.ontimeout=r,u.open(d,c,!p,t.username,t.password),p||(u.withCredentials=!!t.withCredentials),!p&&t.timeout>0&&(l=setTimeout((function(){if(!s){s=!0,u.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)}}),t.timeout)),u.setRequestHeader)for(a in f)f.hasOwnProperty(a)&&u.setRequestHeader(a,f[a]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(u),u.send(h||null),u}rn.XMLHttpRequest=t.XMLHttpRequest||function(){},rn.XDomainRequest="withCredentials"in new rn.XMLHttpRequest?rn.XMLHttpRequest:t.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],(function(t){rn["delete"===t?"del":t]=function(e,n,i){return(n=nn(e,n,i)).method=t.toUpperCase(),on(n)}})),tn.default=en;var an=function(e,n){var i=new t.WebVTT.Parser(t,t.vttjs,t.WebVTT.StringDecoder()),o=[];i.oncue=function(t){n.addCue(t)},i.onparsingerror=function(t){o.push(t)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(e),o.length>0&&(t.console&&t.console.groupCollapsed&&t.console.groupCollapsed("Text Track parsing errors for "+n.src),o.forEach((function(t){return r.error(t)})),t.console&&t.console.groupEnd&&t.console.groupEnd()),i.flush()},sn=function(e,n){var i={uri:e},o=Ye(e);o&&(i.cors=o);var a="use-credentials"===n.tech_.crossOrigin();a&&(i.withCredentials=a),tn(i,_t(this,(function(e,i,o){if(e)return r.error(e,i);n.loaded_=!0,"function"!=typeof t.WebVTT?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],(function(t){if("vttjserror"!==t.type)return an(o,n);r.error("vttjs failed to load, stopping trying to process "+n.src)})):an(o,n)})))},un=function(e){function n(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var i=Dt(t,{kind:Ge[t.kind]||"subtitles",language:t.language||t.srclang||""}),r=We[i.mode]||"disabled",o=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(r="hidden"),(n=e.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var a=new Ue(n.cues_),s=new Ue(n.activeCues_),u=!1,l=_t(Bt(n),(function(){this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1)}));return"disabled"!==r&&n.tech_.ready((function(){n.tech_.on("timeupdate",l)}),!0),Object.defineProperties(Bt(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return r},set:function(t){var e=this;We[t]&&(r=t,this.preload_||"disabled"===r||0!==this.cues.length||sn(this.src,this),"disabled"!==r?this.tech_.ready((function(){e.tech_.on("timeupdate",l)}),!0):this.tech_.off("timeupdate",l),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var t=this.tech_.currentTime(),e=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(u=!1,e.length!==this.activeCues_.length)u=!0;else for(var o=0;o<e.length;o++)-1===this.activeCues_.indexOf(e[o])&&(u=!0);return this.activeCues_=e,s.setCues_(this.activeCues_),s},set:function(){}}}),i.src?(n.src=i.src,n.preload_||(n.loaded_=!0),(n.preload_||o||"subtitles"!==i.kind&&"captions"!==i.kind)&&sn(n.src,Bt(n))):n.loaded_=!0,n}Gt(n,e);var i=n.prototype;return i.addCue=function(e){var n=e;if(t.vttjs&&!(e instanceof t.vttjs.VTTCue)){for(var i in n=new t.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i in n||(n[i]=e[i]);n.id=e.id,n.originalCue_=e}for(var r=this.tech_.textTracks(),o=0;o<r.length;o++)r[o]!==this&&r[o].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)},i.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},n}(Ze);un.prototype.allowedEvents_={cuechange:"cuechange"};var ln=function(t){function e(e){var n;void 0===e&&(e={});var i=Dt(e,{kind:He[e.kind]||""});n=t.call(this,i)||this;var r=!1;return Object.defineProperty(Bt(n),"enabled",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return Gt(e,t),e}(Ze),cn=function(t){function e(e){var n;void 0===e&&(e={});var i=Dt(e,{kind:Be[e.kind]||""});n=t.call(this,i)||this;var r=!1;return Object.defineProperty(Bt(n),"selected",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return Gt(e,t),e}(Ze),dn=function(t){function e(e){var n,i;void 0===e&&(e={}),n=t.call(this)||this;var r=new un(e);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n.default=r.default,Object.defineProperties(Bt(n),{readyState:{get:function(){return i}},track:{get:function(){return r}}}),i=0,r.addEventListener("loadeddata",(function(){i=2,n.trigger({type:"load",target:Bt(n)})})),n}return Gt(e,t),e}(wt);dn.prototype.allowedEvents_={load:"load"},dn.NONE=0,dn.LOADING=1,dn.LOADED=2,dn.ERROR=3;var hn={audio:{ListClass:De,TrackClass:ln,capitalName:"Audio"},video:{ListClass:je,TrackClass:cn,capitalName:"Video"},text:{ListClass:Fe,TrackClass:un,capitalName:"Text"}};Object.keys(hn).forEach((function(t){hn[t].getterName=t+"Tracks",hn[t].privateName=t+"Tracks_"}));var fn={remoteText:{ListClass:Fe,TrackClass:un,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Ve,TrackClass:dn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},pn=u({},hn,fn);fn.names=Object.keys(fn),hn.names=Object.keys(hn),pn.names=[].concat(fn.names).concat(hn.names);var gn=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function mn(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function vn(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function yn(){this.values=gn(null)}function _n(t,e,n,i){var r=i?t.split(i):[t];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(n);2===a.length&&e(a[0],a[1])}}function bn(t,e,n){var i=t;function r(){var e=vn(t);if(null===e)throw new mn(mn.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=r(),o(),"--\x3e"!==t.substr(0,3))throw new mn(mn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),o(),e.endTime=r(),o(),function(t,e){var i=new yn;_n(t,(function(t,e){switch(t){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];i.integer(t,a),i.percent(t,a)&&i.set("snapToLines",!1),i.alt(t,a,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=e.split(","),i.percent(t,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start","center","end"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start","center","end","left","right"])}}),/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");try{e.line=i.get("line","auto")}catch(t){}e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100);try{e.align=i.get("align","center")}catch(t){e.align=i.get("align","middle")}try{e.position=i.get("position","auto")}catch(t){e.position=i.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},e.align)}e.positionAlign=i.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},e.align)}(t,e)}mn.prototype=gn(Error.prototype),mn.prototype.constructor=mn,mn.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},yn.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var wn=e.createElement("textarea"),Tn={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Sn={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},En={v:"title",lang:"lang"},On={rt:"ruby"};function Pn(t,e){function n(){if(!e)return null;var t,n=e.match(/^([^<]*)(<[^>]*>?)?/);return t=n[1]?n[1]:n[2],e=e.substr(t.length),t}function i(t,e){return!On[e.localName]||On[e.localName]===t.localName}function r(e,n){var i=Tn[e];if(!i)return null;var r=t.document.createElement(i),o=En[e];return o&&n&&(r[o]=n.trim()),r}for(var o,a=t.document.createElement("div"),s=a,u=[];null!==(o=n());)if("<"!==o[0])s.appendChild(t.document.createTextNode((f=o,wn.innerHTML=f,f=wn.textContent,wn.textContent="",f)));else{if("/"===o[1]){u.length&&u[u.length-1]===o.substr(2).replace(">","")&&(u.pop(),s=s.parentNode);continue}var l,c=vn(o.substr(1,o.length-2));if(c){l=t.document.createProcessingInstruction("timestamp",c),s.appendChild(l);continue}var d=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!d)continue;if(!(l=r(d[1],d[3])))continue;if(!i(s,l))continue;if(d[2]){var h=d[2].split(".");h.forEach((function(t){var e=/^bg_/.test(t),n=e?t.slice(3):t;if(Sn.hasOwnProperty(n)){var i=e?"background-color":"color",r=Sn[n];l.style[i]=r}})),l.className=h.join(" ")}u.push(d[1]),s.appendChild(l),s=l}var f;return a}var Cn=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function An(t){for(var e=0;e<Cn.length;e++){var n=Cn[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function kn(t){var e=[],n="";if(!t||!t.childNodes)return"ltr";function i(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function r(t){if(!t||!t.length)return null;var e=t.pop(),n=e.textContent||e.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(t.length=0,o[0]):n}return"ruby"===e.tagName?r(t):e.childNodes?(i(t,e),r(t)):void 0}for(i(e,t);n=r(e);)for(var o=0;o<n.length;o++)if(An(n.charCodeAt(o)))return"rtl";return"ltr"}function xn(){}function In(t,e,n){xn.call(this),this.cue=e,this.cueDiv=Pn(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:kn(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function Mn(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=void 0!==e?e:t.lineHeight}function Rn(t,e,n,i){var r=new Mn(e),o=e.cue,a=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)"showing"===n[r].mode&&i++;return-1*++i}(o),s=[];if(o.snapToLines){var u;switch(o.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var l=r.lineHeight,c=l*Math.round(a),d=n[u]+l,h=s[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/l)*l),a<0&&(c+=""===o.vertical?n.height:n.width,s=s.reverse()),r.move(h,c)}else{var f=r.lineHeight/n.height*100;switch(o.lineAlign){case"center":a-=f/2;break;case"end":a-=f}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],r=new Mn(e)}var p=function(t,e){for(var r,o=new Mn(t),a=1,s=0;s<e.length;s++){for(;t.overlapsOppositeAxis(n,e[s])||t.within(n)&&t.overlapsAny(i);)t.move(e[s]);if(t.within(n))return t;var u=t.intersectPercentage(n);a>u&&(r=new Mn(t),a=u),t=new Mn(o)}return r||o}(r,s);e.move(p.toCSSCompatValues(n))}function Nn(){}xn.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},xn.prototype.formatStyle=function(t,e){return 0===t?0:t+e},In.prototype=gn(xn.prototype),In.prototype.constructor=In,Mn.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},Mn.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},Mn.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},Mn.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},Mn.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},Mn.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},Mn.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},Mn.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n}},Nn.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},Nn.convertCueToDOMTree=function(t,e){return t&&e?Pn(t,e):null};Nn.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var r=[],o=Mn.getSimpleBoxPosition(i),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,s,u=0;u<e.length;u++)s=e[u],n=new In(t,s,a),i.appendChild(n.div),Rn(0,n,o,r),s.displayState=n.div,r.push(Mn.getSimpleBoxPosition(n))}()}else for(var s=0;s<e.length;s++)i.appendChild(e[s].displayState)},Nn.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},Nn.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof mn))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function n(){for(var t=e.buffer,n=0;n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var i=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),i}function i(t){t.match(/X-TIMESTAMP-MAP/)?_n(t,(function(t,n){"X-TIMESTAMP-MAP"===t&&function(t){var n=new yn;_n(t,(function(t,e){switch(t){case"MPEGT":n.integer(t+"S",e);break;case"LOCA":n.set(t+"L",vn(e))}}),/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}),/=/):_n(t,(function(t,n){"Region"===t&&function(t){var n=new yn;if(_n(t,(function(t,e){switch(t){case"id":n.set(t,e);break;case"width":n.percent(t,e);break;case"lines":n.integer(t,e);break;case"regionanchor":case"viewportanchor":var i=e.split(",");if(2!==i.length)break;var r=new yn;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;n.set(t+"X",r.get("x")),n.set(t+"Y",r.get("y"));break;case"scroll":n.alt(t,e,["up"])}}),/=/,/\s/),n.has("id")){var i=new(e.vttjs.VTTRegion||e.window.VTTRegion);i.width=n.get("width",100),i.lines=n.get("lines",3),i.regionAnchorX=n.get("regionanchorX",0),i.regionAnchorY=n.get("regionanchorY",100),i.viewportAnchorX=n.get("viewportanchorX",0),i.viewportAnchorY=n.get("viewportanchorY",100),i.scroll=n.get("scroll",""),e.onregion&&e.onregion(i),e.regionList.push({id:n.get("id"),region:i})}}(n)}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var r;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var o=(r=n()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new mn(mn.Errors.BadSignature);e.state="HEADER"}for(var a=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(a?a=!1:r=n(),e.state){case"HEADER":/:/.test(r)?i(r):r||(e.state="ID");continue;case"NOTE":r||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){e.state="NOTE";break}if(!r)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch(t){e.cue.align="middle"}if(e.state="CUE",-1===r.indexOf("--\x3e")){e.cue.id=r;continue}case"CUE":try{bn(r,e.cue,e.regionList)}catch(t){e.reportOrThrowError(t),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var s=-1!==r.indexOf("--\x3e");if(!r||s&&(a=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(e.state="ID");continue}}}catch(t){e.reportOrThrowError(t),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new mn(mn.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Dn=Nn,Ln={"":1,lr:1,rl:1},jn={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function Fn(t){return"string"==typeof t&&!!jn[t.toLowerCase()]&&t.toLowerCase()}function Vn(t,e,n){this.hasBeenReset=!1;var i="",r=!1,o=t,a=e,s=n,u=null,l="",c=!0,d="auto",h="start",f="auto",p="auto",g=100,m="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(t){i=""+t}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(t){r=!!t}},startTime:{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");o=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");a=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(t){s=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(t){u=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(t){var e=function(t){return"string"==typeof t&&!!Ln[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");l=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(t){c=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(t){var e=Fn(t);e?(h=e,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return f},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");f=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(t){var e=Fn(t);e?(p=e,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return g},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");g=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return m},set:function(t){var e=Fn(t);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");m=e,this.hasBeenReset=!0}}}),this.displayState=void 0}Vn.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Un=Vn,Bn={"":!0,up:!0};function Hn(t){return"number"==typeof t&&t>=0&&t<=100}var Gn=function(){var t=100,e=3,n=0,i=100,r=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!Hn(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(t){if(!Hn(t))throw new Error("RegionAnchorX must be between 0 and 100.");i=t}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(t){if(!Hn(t))throw new Error("RegionAnchorY must be between 0 and 100.");n=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!Hn(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!Hn(t))throw new Error("ViewportAnchorX must be between 0 and 100.");r=t}},scroll:{enumerable:!0,get:function(){return a},set:function(t){var e=function(t){return"string"==typeof t&&!!Bn[t.toLowerCase()]&&t.toLowerCase()}(t);!1===e?console.warn("Scroll: an invalid or illegal string was specified."):a=e}}})},Wn=s((function(e){var n=e.exports={WebVTT:Dn,VTTCue:Un,VTTRegion:Gn};t.vttjs=n,t.WebVTT=n.WebVTT;var i=n.VTTCue,r=n.VTTRegion,o=t.VTTCue,a=t.VTTRegion;n.shim=function(){t.VTTCue=i,t.VTTRegion=r},n.restore=function(){t.VTTCue=o,t.VTTRegion=a},t.VTTCue||n.shim()}));Wn.WebVTT,Wn.VTTCue,Wn.VTTRegion;var Zn=function(n){function i(t,e){var i;return void 0===t&&(t={}),void 0===e&&(e=function(){}),t.reportTouchActivity=!1,(i=n.call(this,null,t,e)||this).hasStarted_=!1,i.on("playing",(function(){this.hasStarted_=!0})),i.on("loadstart",(function(){this.hasStarted_=!1})),pn.names.forEach((function(e){var n=pn[e];t&&t[n.getterName]&&(i[n.privateName]=t[n.getterName])})),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==t.preloadTextTracks,i.autoRemoteTextTracks_=new pn.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}Gt(i,n);var o=i.prototype;return o.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},o.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},o.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},o.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(_t(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()})),500)},o.onDurationChange=function(t){this.duration_=this.duration()},o.buffered=function(){return fe(0,0)},o.bufferedPercent=function(){return pe(this.buffered(),this.duration_)},o.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},o.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},o.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},o.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},o.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.dispose=function(){this.clearTracks(hn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),n.prototype.dispose.call(this)},o.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach((function(t){for(var n=e[t+"Tracks"]()||[],i=n.length;i--;){var r=n[i];"text"===t&&e.removeRemoteTextTrack(r),n.removeTrack(r)}}))},o.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},o.reset=function(){},o.crossOrigin=function(){},o.setCrossOrigin=function(){},o.error=function(t){return void 0!==t&&(this.error_=new we(t),this.trigger("error")),this.error_},o.played=function(){return this.hasStarted_?fe(0,0):fe()},o.setScrubbing=function(){},o.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.initTrackListeners=function(){var t=this;hn.names.forEach((function(e){var n=hn[e],i=function(){t.trigger(e+"trackchange")},r=t[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),t.on("dispose",(function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)}))}))},o.addWebVttScript_=function(){var n=this;if(!t.WebVTT)if(e.body.contains(this.el())){if(!this.options_["vtt.js"]&&p(Wn)&&Object.keys(Wn).length>0)return void this.trigger("vttjsloaded");var i=e.createElement("script");i.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",i.onload=function(){n.trigger("vttjsloaded")},i.onerror=function(){n.trigger("vttjserror")},this.on("dispose",(function(){i.onload=null,i.onerror=null})),t.WebVTT=!0,this.el().parentNode.appendChild(i)}else this.ready(this.addWebVttScript_)},o.emulateTextTracks=function(){var t=this,e=this.textTracks(),n=this.remoteTextTracks(),i=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();var o=function(){return t.trigger("texttrackchange")},a=function(){o();for(var t=0;t<e.length;t++){var n=e[t];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",(function(){n.off("addtrack",i),n.off("removetrack",r),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(var t=0;t<e.length;t++)e[t].removeEventListener("cuechange",o)}))},o.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,n,i,r){void 0===r&&(r={});var o=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var a=new pn.text.TrackClass(r);return o.addTrack(a),a}(this,t,e,n)},o.createRemoteTextTrack=function(t){var e=Dt(t,{tech:this});return new fn.remoteTextEl.TrackClass(e)},o.addRemoteTextTrack=function(t,e){var n=this;void 0===t&&(t={});var i=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(r.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==e&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(i.track)})),i},o.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},o.getVideoPlaybackQuality=function(){return{}},o.requestPictureInPicture=function(){var e=this.options_.Promise||t.Promise;if(e)return e.reject()},o.disablePictureInPicture=function(){return!0},o.setDisablePictureInPicture=function(){},o.setPoster=function(){},o.playsinline=function(){},o.setPlaysinline=function(){},o.overrideNativeAudioTracks=function(){},o.overrideNativeVideoTracks=function(){},o.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPlaySource=function(t,e){return i.canPlayType(t.type)},i.isTech=function(t){return t.prototype instanceof i||t instanceof i||t===i},i.registerTech=function(t,e){if(i.techs_||(i.techs_={}),!i.isTech(e))throw new Error("Tech "+t+" must be a Tech");if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Nt(t),i.techs_[t]=e,i.techs_[Rt(t)]=e,"Tech"!==t&&i.defaultTechOrder_.push(t),e},i.getTech=function(e){if(e)return i.techs_&&i.techs_[e]?i.techs_[e]:(e=Nt(e),t&&t.videojs&&t.videojs[e]?(r.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),t.videojs[e]):void 0)},i}(Ut);pn.names.forEach((function(t){var e=pn[t];Zn.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),Zn.prototype.featuresVolumeControl=!0,Zn.prototype.featuresMuteControl=!0,Zn.prototype.featuresFullscreenResize=!1,Zn.prototype.featuresPlaybackRate=!1,Zn.prototype.featuresProgressEvents=!1,Zn.prototype.featuresSourceset=!1,Zn.prototype.featuresTimeupdateEvents=!1,Zn.prototype.featuresNativeTextTracks=!1,Zn.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,e)},t.canPlayType=function(e){for(var n,i=t.sourceHandlers||[],r=0;r<i.length;r++)if(n=i[r].canPlayType(e))return n;return""},t.selectSourceHandler=function(e,n){for(var i=t.sourceHandlers||[],r=0;r<i.length;r++)if(i[r].canHandleSource(e,n))return i[r];return null},t.canPlaySource=function(e,n){var i=t.selectSourceHandler(e,n);return i?i.canHandleSource(e,n):""},["seekable","seeking","duration"].forEach((function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:r.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ut.registerComponent("Tech",Zn),Zn.registerTech("Tech",Zn),Zn.defaultTechOrder_=[];var zn={},qn={},$n={};function Yn(t,e,n){t.setTimeout((function(){return ei(e,zn[e.type],n,t)}),1)}function Kn(t,e,n,i){void 0===i&&(i=null);var r="call"+Nt(n),o=t.reduce(ti(r),i),a=o===$n,s=a?null:e[n](o);return function(t,e,n,i){for(var r=t.length-1;r>=0;r--){var o=t[r];o[e]&&o[e](i,n)}}(t,n,s,a),s}var Xn={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},Jn={setCurrentTime:1,setMuted:1,setVolume:1},Qn={play:1,pause:1};function ti(t){return function(e,n){return e===$n?$n:n[t]?n[t](e):e}}function ei(t,e,n,i,r,o){void 0===t&&(t={}),void 0===e&&(e=[]),void 0===r&&(r=[]),void 0===o&&(o=!1);var a=e,s=a[0],u=a.slice(1);if("string"==typeof s)ei(t,zn[s],n,i,r,o);else if(s){var l=function(t,e){var n=qn[t.id()],i=null;if(null==n)return i=e(t),qn[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var o=n[r],a=o[0],s=o[1];a===e&&(i=s)}return null===i&&(i=e(t),n.push([e,i])),i}(i,s);if(!l.setSource)return r.push(l),ei(t,u,n,i,r,o);l.setSource(h({},t),(function(e,a){if(e)return ei(t,u,n,i,r,o);r.push(l),ei(a,t.type===a.type?u:zn[a.type],n,i,r,o)}))}else u.length?ei(t,u,n,i,r,o):o?n(t,r):ei(t,zn["*"],n,i,r,!0)}var ni={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},ii=function(t){void 0===t&&(t="");var e=$e(t);return ni[e.toLowerCase()]||""},ri=function t(e){if(Array.isArray(e)){var n=[];e.forEach((function(e){e=t(e),Array.isArray(e)?n=n.concat(e):f(e)&&n.push(e)})),e=n}else e="string"==typeof e&&e.trim()?[oi({src:e})]:f(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[oi(e)]:[];return e};function oi(t){if(!t.type){var e=ii(t.src);e&&(t.type=e)}return t}var ai=function(t){function e(e,n,i){var r,o=Dt({createEl:!1},n);if(r=t.call(this,e,o,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)e.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var u=Nt(s[a]),l=Zn.getTech(u);if(u||(l=Ut.getComponent(u)),l&&l.isSupported()){e.loadTech_(u);break}}return r}return Gt(e,t),e}(Ut);Ut.registerComponent("MediaLoader",ai);var si=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).emitTapEvents(),i.enable(),i}Gt(e,t);var n=e.prototype;return n.createEl=function(e,n,i){void 0===e&&(e="div"),void 0===n&&(n={}),void 0===i&&(i={}),n=h({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&r.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=h({role:"button"},i),this.tabIndex_=n.tabIndex;var o=t.prototype.createEl.call(this,e,n,i);return this.createControlTextEl(o),o},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=function(t){return this.controlTextEl_=T("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},n.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,S(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(e){ke.isEventKey(e,"Space")||ke.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(Ut);Ut.registerComponent("ClickableComponent",si);var ui=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update(),e.on("posterchange",_t(Bt(i),i.update)),i}Gt(e,t);var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.createEl=function(){return T("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},n.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},n.handleClick=function(t){if(this.player_.controls()){var e=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(ne||Qt)&&e||this.player_.tech(!0).focus(),this.player_.paused()?Oe(this.player_.play()):this.player_.pause()}},e}(si);Ut.registerComponent("PosterImage",ui);var li="#222",ci={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function di(t,e){var n;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function hi(t,e,n){try{t.style[e]=n}catch(t){return}}var fi=function(e){function n(n,i,r){var o;o=e.call(this,n,i,r)||this;var a=_t(Bt(o),o.updateDisplay);return n.on("loadstart",_t(Bt(o),o.toggleDisplay)),n.on("texttrackchange",a),n.on("loadedmetadata",_t(Bt(o),o.preselectTrack)),n.ready(_t(Bt(o),(function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",a),n.on("playerresize",a),t.addEventListener("orientationchange",a),n.on("dispose",(function(){return t.removeEventListener("orientationchange",a)}));for(var e=this.options_.playerOptions.tracks||[],i=0;i<e.length;i++)this.player_.addRemoteTextTrack(e[i],!0);this.preselectTrack()}}))),o}Gt(n,e);var i=n.prototype;return i.preselectTrack=function(){for(var t,e,n,i={captions:1,subtitles:1},r=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var s=r[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in i?s.kind===o.kind?n=s:n||(n=s):o&&!o.enabled?(n=null,t=null,e=null):s.default&&("descriptions"!==s.kind||t?s.kind in i&&!e&&(e=s):t=s)}n?n.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"==typeof t.WebVTT&&t.WebVTT.processCues(t,[],this.el_)},i.updateDisplay=function(){var t=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){for(var n=[],i=0;i<t.length;++i){var r=t[i];"showing"===r.mode&&n.push(r)}this.updateForTrack(n)}else{for(var o=null,a=null,s=t.length;s--;){var u=t[s];"showing"===u.mode&&("descriptions"===u.kind?o=u:a=u)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},i.updateDisplayState=function(e){for(var n=this.player_.textTrackSettings.getValues(),i=e.activeCues,r=i.length;r--;){var o=i[r];if(o){var a=o.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&hi(a.firstChild,"color",di(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&hi(a.firstChild,"backgroundColor",di(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?hi(a,"backgroundColor",di(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+li:"raised"===n.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+li:"depressed"===n.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+li:"uniform"===n.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+li)),n.fontPercent&&1!==n.fontPercent){var s=t.parseFloat(a.style.fontSize);a.style.fontSize=s*n.fontPercent+"px",a.style.height="auto",a.style.top="auto"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=ci[n.fontFamily])}}},i.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof t.WebVTT&&!e.every((function(t){return!t.activeCues}))){for(var n=[],i=0;i<e.length;++i)for(var r=e[i],o=0;o<r.activeCues.length;++o)n.push(r.activeCues[o]);t.WebVTT.processCues(t,n,this.el_);for(var a=0;a<e.length;++a){for(var s=e[a],u=0;u<s.activeCues.length;++u){var l=s.activeCues[u].displayState;P(l,"vjs-text-track-cue"),P(l,"vjs-text-track-cue-"+(s.language?s.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},n}(Ut);Ut.registerComponent("TextTrackDisplay",fi);var pi=function(t){function e(){return t.apply(this,arguments)||this}return Gt(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),i=T("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r},e}(Ut);Ut.registerComponent("LoadingSpinner",pi);var gi=function(t){function e(){return t.apply(this,arguments)||this}Gt(e,t);var n=e.prototype;return n.createEl=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),e=h({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=h({type:"button"},n);var i=Ut.prototype.createEl.call(this,"button",e,n);return this.createControlTextEl(i),i},n.addChild=function(t,e){void 0===e&&(e={});var n=this.constructor.name;return r.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Ut.prototype.addChild.call(this,t,e)},n.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(e){ke.isEventKey(e,"Space")||ke.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(si);Ut.registerComponent("Button",gi);var mi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Oe(e),void(!this.player_.tech(!0)||(ne||Qt)&&n||this.player_.tech(!0).focus())}var i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(r){var o=function(){return r.focus()};Ee(e)?e.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},n.handleMouseDown=function(t){this.mouseused_=!0},e}(gi);mi.prototype.controlText_="Play Video",Ut.registerComponent("BigPlayButton",mi);var vi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(e){ke.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(gi);Ut.registerComponent("CloseButton",vi);var yi=function(t){function e(e,n){var i;return void 0===n&&(n={}),i=t.call(this,e,n)||this,n.replay=void 0===n.replay||n.replay,i.on(e,"play",i.handlePlay),i.on(e,"pause",i.handlePause),n.replay&&i.on(e,"ended",i.handleEnded),i}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},n.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(gi);yi.prototype.controlText_="Play",Ut.registerComponent("PlayToggle",yi);var _i=function(t,e){t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600),o=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=i=n="-"),(r=r>0||a>0?r+":":"")+(i=((r||o>=10)&&i<10?"0"+i:i)+":")+(n<10?"0"+n:n)},bi=_i;function wi(t,e){return void 0===e&&(e=t),bi(t,e)}var Ti=function(t){function n(e,n){var i;return(i=t.call(this,e,n)||this).on(e,["timeupdate","ended"],i.updateContent),i.updateTextNode_(),i}Gt(n,t);var i=n.prototype;return i.createEl=function(){var e=this.buildCSSClass(),n=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"</span>"});return this.contentEl_=T("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(t){var n=this;void 0===t&&(t=0),t=wi(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(n.contentEl_){var t=n.textNode_;n.textNode_=e.createTextNode(n.formattedTime_),n.textNode_&&(t?n.contentEl_.replaceChild(n.textNode_,t):n.contentEl_.appendChild(n.textNode_))}})))},i.updateContent=function(t){},n}(Ut);Ti.prototype.labelText_="Time",Ti.prototype.controlText_="Time",Ut.registerComponent("TimeDisplay",Ti);var Si=function(t){function e(){return t.apply(this,arguments)||this}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(t){var e;e=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(e)},e}(Ti);Si.prototype.labelText_="Current Time",Si.prototype.controlText_="Current Time",Ut.registerComponent("CurrentTimeDisplay",Si);var Ei=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"durationchange",i.updateContent),i.on(e,"loadstart",i.updateContent),i.on(e,"loadedmetadata",i.updateContent),i}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(t){var e=this.player_.duration();this.updateTextNode_(e)},e}(Ti);Ei.prototype.labelText_="Duration",Ei.prototype.controlText_="Duration",Ut.registerComponent("DurationDisplay",Ei);var Oi=function(t){function e(){return t.apply(this,arguments)||this}return Gt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},e}(Ut);Ut.registerComponent("TimeDivider",Oi);var Pi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"durationchange",i.updateContent),i}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var e=t.prototype.createEl.call(this);return e.insertBefore(T("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},n.updateContent=function(t){var e;"number"==typeof this.player_.duration()&&(e=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(e))},e}(Ti);Pi.prototype.labelText_="Remaining Time",Pi.prototype.controlText_="Remaining Time",Ut.registerComponent("RemainingTimeDisplay",Pi);var Ci=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}Gt(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=T("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(Ut);Ut.registerComponent("LiveDisplay",Ci);var Ai=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}Gt(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=T("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,t.prototype.dispose.call(this)},e}(gi);Ai.prototype.controlText_="Seek to live, currently playing live",Ut.registerComponent("SeekToLive",Ai);var ki=function(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))},xi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}Gt(e,t);var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(e,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=h({tabIndex:0},n),i=h({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),t.prototype.createEl.call(this,e,n,i)},n.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||te||t.preventDefault(),N(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.handleMouseMove=function(t){},n.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;D(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.update=function(){var t=this;if(this.el_&&this.bar){var e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",(function(){var n=t.vertical()?"height":"width";t.bar.el().style[n]=(100*e).toFixed(2)+"%"}))),e}},n.getProgress=function(){return Number(ki(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(t){var e=F(this.el_,t);return this.vertical()?e.y:e.x},n.handleKeyDown=function(e){ke.isEventKey(e,"Left")||ke.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):ke.isEventKey(e,"Right")||ke.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){t.stopPropagation(),t.preventDefault()},n.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(Ut);Ut.registerComponent("Slider",xi);var Ii=function(t,e){return ki(t/e*100,0,100).toFixed(2)+"%"},Mi=function(t){function n(e,n){var i;return(i=t.call(this,e,n)||this).partEls_=[],i.on(e,"progress",i.update),i}Gt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),i=T("span",{className:"vjs-control-text"}),r=T("span",{textContent:this.localize("Loaded")}),o=e.createTextNode(": ");return this.percentageEl_=T("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),n.appendChild(i),i.appendChild(r),i.appendChild(o),i.appendChild(this.percentageEl_),n},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},i.update=function(t){var e=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var t=e.player_.liveTracker,n=e.player_.buffered(),i=t&&t.isLive()?t.seekableEnd():e.player_.duration(),r=e.player_.bufferedEnd(),o=e.partEls_,a=Ii(r,i);e.percent_!==a&&(e.el_.style.width=a,S(e.percentageEl_,a),e.percent_=a);for(var s=0;s<n.length;s++){var u=n.start(s),l=n.end(s),c=o[s];c||(c=e.el_.appendChild(T()),o[s]=c),c.dataset.start===u&&c.dataset.end===l||(c.dataset.start=u,c.dataset.end=l,c.style.left=Ii(u,r),c.style.width=Ii(l-u,r))}for(var d=o.length;d>n.length;d--)e.el_.removeChild(o[d-1]);o.length=n.length}))},n}(Ut);Ut.registerComponent("LoadProgressBar",Mi);var Ri=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=bt(_t(Bt(i),i.update),yt),i}Gt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(t,e,n){var i=j(this.el_),r=L(this.player_.el()),o=t.width*e;if(r&&i){var a=t.left-r.left+o,s=t.width-o+(r.right-t.right),u=i.width/2;a<u?u+=u-a:s<u&&(u=s),u<0?u=0:u>i.width&&(u=i.width),this.el_.style.right="-"+u+"px",this.write(n)}},n.write=function(t){S(this.el_,t)},n.updateTime=function(t,e,n,i){var r=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var o,a=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var s=r.player_.liveTracker.liveWindow(),u=s-e*s;o=(u<1?"":"-")+wi(u,s)}else o=wi(n,a);r.update(t,e,o),i&&i()}))},e}(Ut);Ut.registerComponent("TimeTooltip",Ri);var Ni=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=bt(_t(Bt(i),i.update),yt),i}Gt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(t,e){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(t,e,i)}},e}(Ut);Ni.prototype.options_={children:[]},ue||Yt||Ni.prototype.options_.children.push("timeTooltip"),Ut.registerComponent("PlayProgressBar",Ni);var Di=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=bt(_t(Bt(i),i.update),yt),i}Gt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,e){var n=this,i=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,i,(function(){n.el_.style.left=t.width*e+"px"}))},e}(Ut);Di.prototype.options_={children:["timeTooltip"]},Ut.registerComponent("MouseTimeDisplay",Di);var Li=function(t){function n(e,n){var i;return(i=t.call(this,e,n)||this).setEventHandlers_(),i}Gt(n,t);var i=n.prototype;return i.setEventHandlers_=function(){this.update_=_t(this,this.update),this.update=bt(this.update_,yt),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in e&&"visibilityState"in e&&this.on(e,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(t){e.hidden?this.disableInterval_(t):(this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,yt))},i.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&"ended"!==t.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(e){var n=this,i=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var t=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),e=n.player_.liveTracker,r=n.player_.duration();e&&e.isLive()&&(r=n.player_.liveTracker.liveCurrentTime()),n.percent_!==i&&(n.el_.setAttribute("aria-valuenow",(100*i).toFixed(2)),n.percent_=i),n.currentTime_===t&&n.duration_===r||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[wi(t,r),wi(r,r)],"{1} of {2}")),n.currentTime_=t,n.duration_=r),n.bar&&n.bar.update(L(n.el()),n.getProgress())})),i},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var t,e=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(t=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t},i.handleMouseDown=function(e){W(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},i.handleMouseMove=function(t){if(W(t)){var e,n=this.calculateDistance(t),i=this.player_.liveTracker;if(i&&i.isLive()){if(n>=.99)return void i.seekToLiveEdge();var r=i.seekableStart(),o=i.liveCurrentTime();if((e=r+n*i.liveWindow())>=o&&(e=o),e<=r&&(e=r+.1),e===1/0)return}else(e=n*this.player_.duration())===this.player_.duration()&&(e-=.1);this.player_.currentTime(e)}},i.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},i.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},i.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Oe(this.player_.play()):this.update_()},i.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},i.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},i.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(e){if(ke.isEventKey(e,"Space")||ke.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(ke.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(0);else if(ke.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(ke(e))){e.preventDefault(),e.stopPropagation();var n=10*(ke.codes[ke(e)]-ke.codes[0])/100;this.player_.currentTime(this.player_.duration()*n)}else ke.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):ke.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):t.prototype.handleKeyDown.call(this,e)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in e&&"visibilityState"in e&&this.off(e,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},n}(xi);Li.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},ue||Yt||Li.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ut.registerComponent("SeekBar",Li);var ji=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handleMouseMove=bt(_t(Bt(i),i.handleMouseMove),yt),i.throttledHandleMouseSeek=bt(_t(Bt(i),i.handleMouseSeek),yt),i.enable(),i}Gt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("playProgressBar"),i=e.getChild("mouseTimeDisplay");if(n||i){var r=e.el(),o=j(r),a=F(r,t).x;a=ki(a,0,1),i&&i.update(o,a),n&&n.update(o,e.getProgress())}}},n.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(Ut);ji.prototype.options_={children:["seekBar"]},Ut.registerComponent("ProgressControl",ji);var Fi=function(t){function n(e,n){var i;return(i=t.call(this,e,n)||this).on(e,["enterpictureinpicture","leavepictureinpicture"],i.handlePictureInPictureChange),i.on(e,["disablepictureinpicturechanged","loadedmetadata"],i.handlePictureInPictureEnabledChange),i.disable(),i}Gt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){e.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},i.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},n}(gi);Fi.prototype.controlText_="Picture-in-Picture",Ut.registerComponent("PictureInPictureToggle",Fi);var Vi=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"fullscreenchange",r.handleFullscreenChange),!1===e[n.fsApi_.fullscreenEnabled]&&r.disable(),r}Gt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},n}(gi);Vi.prototype.controlText_="Fullscreen",Ut.registerComponent("FullscreenToggle",Vi);var Ui=function(t){function e(){return t.apply(this,arguments)||this}return Gt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(Ut);Ut.registerComponent("VolumeLevel",Ui);var Bi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on("slideractive",i.updateLastVolume_),i.on(e,"volumechange",i.updateARIAAttributes),e.ready((function(){return i.updateARIAAttributes()})),i}Gt(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(e){W(e)&&t.prototype.handleMouseDown.call(this,e)},n.handleMouseMove=function(t){W(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))},e}(xi);Bi.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Bi.prototype.playerEvent="volumechange",Ut.registerComponent("VolumeBar",Bi);var Hi=function(t){function e(e,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||p(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),i=t.call(this,e,n)||this,function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))}(Bt(i),e),i.throttledHandleMouseMove=bt(_t(Bt(i),i.handleMouseMove),yt),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}Gt(e,t);var n=e.prototype;return n.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},n.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},n.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(Ut);Hi.prototype.options_={children:["volumeBar"]},Ut.registerComponent("VolumeControl",Hi);var Gi=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))}(Bt(i),e),i.on(e,["loadstart","volumechange"],i.update),i}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(t){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var t=this.player_.volume(),e=3;ue&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)C(this.el_,"vjs-vol-"+n);P(this.el_,"vjs-vol-"+e)},n.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},e}(gi);Gi.prototype.controlText_="Mute",Ut.registerComponent("MuteToggle",Gi);var Wi=function(t){function n(e,n){var i;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||p(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=t.call(this,e,n)||this).on(e,["loadstart"],i.volumePanelState_),i.on(i.muteToggle,"keyup",i.handleKeyPress),i.on(i.volumeControl,"keyup",i.handleVolumeControlKeyUp),i.on("keydown",i.handleKeyPress),i.on("mouseover",i.handleMouseOver),i.on("mouseout",i.handleMouseOut),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}Gt(n,t);var i=n.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(t){ke.isEventKey(t,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(t){this.addClass("vjs-hover"),dt(e,"keyup",_t(this,this.handleKeyPress))},i.handleMouseOut=function(t){this.removeClass("vjs-hover"),ht(e,"keyup",_t(this,this.handleKeyPress))},i.handleKeyPress=function(t){ke.isEventKey(t,"Esc")&&this.handleMouseOut()},n}(Ut);Wi.prototype.options_={children:["muteToggle","volumeControl"]},Ut.registerComponent("VolumePanel",Wi);var Zi=function(t){function n(e,n){var i;return i=t.call(this,e,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyDown),i.boundHandleBlur_=_t(Bt(i),i.handleBlur),i.boundHandleTapClick_=_t(Bt(i),i.handleTapClick),i}Gt(n,t);var i=n.prototype;return i.addEventListenerForItem=function(t){t instanceof Ut&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(t){t instanceof Ut&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},i.addItem=function(t){var e=this.addChild(t);e&&this.addEventListenerForItem(e)},i.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=T(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),dt(n,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),n},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},i.handleBlur=function(t){var n=t.relatedTarget||e.activeElement;if(!this.children().some((function(t){return t.el()===n}))){var i=this.menuButton_;i&&i.buttonPressed_&&n!==i.el().firstChild&&i.unpressButton()}},i.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var n=e.filter((function(e){return e.el()===t.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},i.handleKeyDown=function(t){ke.isEventKey(t,"Left")||ke.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(ke.isEventKey(t,"Right")||ke.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},i.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},i.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},i.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},n}(Ut);Ut.registerComponent("Menu",Zi);var zi=function(t){function n(n,i){var r;void 0===i&&(i={}),(r=t.call(this,n,i)||this).menuButton_=new gi(n,i),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var o=gi.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+o,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"keydown",r.handleKeyDown),r.on(r.menuButton_,"mouseenter",(function(){r.addClass("vjs-hover"),r.menu.show(),dt(e,"keyup",_t(Bt(r),r.handleMenuKeyUp))})),r.on("mouseleave",r.handleMouseLeave),r.on("keydown",r.handleSubmenuKeyDown),r}Gt(n,t);var i=n.prototype;return i.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var t=new Zi(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=T("li",{className:"vjs-menu-title",innerHTML:Nt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new Ut(this.player_,{el:e});t.addItem(n)}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+gi.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},i.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},i.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(t){this.removeClass("vjs-hover"),ht(e,"keyup",_t(this,this.handleMenuKeyUp))},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(t){ke.isEventKey(t,"Esc")||ke.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),ke.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(ke.isEventKey(t,"Up")||ke.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(t){(ke.isEventKey(t,"Esc")||ke.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},i.handleSubmenuKeyDown=function(t){(ke.isEventKey(t,"Esc")||ke.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),ke.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ue&&b())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},n}(Ut);Ut.registerComponent("MenuButton",zi);var qi=function(t){function e(e,n){var i,r=n.tracks;if((i=t.call(this,e,n)||this).items.length<=1&&i.hide(),!r)return Bt(i);var o=_t(Bt(i),i.update);return r.addEventListener("removetrack",o),r.addEventListener("addtrack",o),i.player_.on("ready",o),i.player_.on("dispose",(function(){r.removeEventListener("removetrack",o),r.removeEventListener("addtrack",o)})),i}return Gt(e,t),e}(zi);Ut.registerComponent("TrackButton",qi);var $i=["Tab","Esc","Up","Down","Right","Left"],Yi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}Gt(e,t);var n=e.prototype;return n.createEl=function(e,n,i){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",h({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},n.handleKeyDown=function(e){$i.some((function(t){return ke.isEventKey(e,t)}))||t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){this.selected(!0)},n.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(si);Ut.registerComponent("MenuItem",Yi);var Ki=function(n){function i(i,r){var o,a=r.track,s=i.textTracks();r.label=a.label||a.language||"Unknown",r.selected="showing"===a.mode,(o=n.call(this,i,r)||this).track=a,o.kinds=(r.kinds||[r.kind||o.track.kind]).filter(Boolean);var u,l=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleTracksChange.apply(Bt(o),e)},c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleSelectedLanguageChange.apply(Bt(o),e)};return i.on(["loadstart","texttrackchange"],l),s.addEventListener("change",l),s.addEventListener("selectedlanguagechange",c),o.on("dispose",(function(){i.off(["loadstart","texttrackchange"],l),s.removeEventListener("change",l),s.removeEventListener("selectedlanguagechange",c)})),void 0===s.onchange&&o.on(["tap","click"],(function(){if("object"!=typeof t.Event)try{u=new t.Event("change")}catch(t){}u||(u=e.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(u)})),o.handleTracksChange(),o}Gt(i,n);var r=i.prototype;return r.handleClick=function(t){var e=this.track,i=this.player_.textTracks();if(n.prototype.handleClick.call(this,t),i)for(var r=0;r<i.length;r++){var o=i[r];-1!==this.kinds.indexOf(o.kind)&&(o===e?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},r.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},r.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,n.prototype.dispose.call(this)},i}(Yi);Ut.registerComponent("TextTrackMenuItem",Ki);var Xi=function(t){function e(e,n){return n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,e,n)||this}Gt(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var o=e[i];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var o=e[i];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Ki);Ut.registerComponent("OffTextTrackMenuItem",Xi);var Ji=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.textTracks(),t.call(this,e,n)||this}return Gt(e,t),e.prototype.createItems=function(t,e){var n;void 0===t&&(t=[]),void 0===e&&(e=Ki),this.label_&&(n=this.label_+" off"),t.push(new Xi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var o=i[r];if(this.kinds_.indexOf(o.kind)>-1){var a=new e(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),t.push(a)}}return t},e}(qi);Ut.registerComponent("TextTrackButton",Ji);var Qi=function(t){function e(e,n){var i,r=n.track,o=n.cue,a=e.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=a&&a<o.endTime,(i=t.call(this,e,n)||this).track=r,i.cue=o,r.addEventListener("cuechange",_t(Bt(i),i.update)),i}Gt(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},e}(Yi);Ut.registerComponent("ChaptersTrackMenuItem",Qi);var tr=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},n.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var n=t[e];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Nt(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,i=e.length;n<i;n++){var r=e[n],o=new Qi(this.player_,{track:this.track_,cue:r});t.push(o)}return t},e}(Ji);tr.prototype.kind_="chapters",tr.prototype.controlText_="Chapters",Ut.registerComponent("ChaptersButton",tr);var er=function(t){function e(e,n,i){var r;r=t.call(this,e,n,i)||this;var o=e.textTracks(),a=_t(Bt(r),r.handleTracksChange);return o.addEventListener("change",a),r.on("dispose",(function(){o.removeEventListener("change",a)})),r}Gt(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,i=0,r=e.length;i<r;i++){var o=e[i];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Ji);er.prototype.kind_="descriptions",er.prototype.controlText_="Descriptions",Ut.registerComponent("DescriptionsButton",er);var nr=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Ji);nr.prototype.kind_="subtitles",nr.prototype.controlText_="Subtitles",Ut.registerComponent("SubtitlesButton",nr);var ir=function(t){function e(e,n){var i;return n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=t.call(this,e,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return Gt(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Ki);Ut.registerComponent("CaptionSettingsMenuItem",ir);var rr=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new ir(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(Ji);rr.prototype.kind_="captions",rr.prototype.controlText_="Captions",Ut.registerComponent("CaptionsButton",rr);var or=function(t){function e(){return t.apply(this,arguments)||this}return Gt(e,t),e.prototype.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,h({innerHTML:r},n),i)},e}(Ki);Ut.registerComponent("SubsCapsMenuItem",or);var ar=function(t){function e(e,n){var i;return void 0===n&&(n={}),(i=t.call(this,e,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(Nt(i.label_)),i}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new ir(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e,or)},e}(Ji);ar.prototype.kinds_=["captions","subtitles"],ar.prototype.controlText_="Subtitles",Ut.registerComponent("SubsCapsButton",ar);var sr=function(t){function e(e,n){var i,r=n.track,o=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,(i=t.call(this,e,n)||this).track=r,i.addClass("vjs-"+r.kind+"-menu-item");var a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(Bt(i),e)};return o.addEventListener("change",a),i.on("dispose",(function(){o.removeEventListener("change",a)})),i}Gt(e,t);var n=e.prototype;return n.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,h({innerHTML:r},n),i)},n.handleClick=function(e){var n=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var i=0;i<n.length;i++){var r=n[i];r.enabled=r===this.track}},n.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Yi);Ut.registerComponent("AudioTrackMenuItem",sr);var ur=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.audioTracks(),t.call(this,e,n)||this}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++){var i=e[n];t.push(new sr(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return t},e}(qi);ur.prototype.controlText_="Audio Track",Ut.registerComponent("AudioTrackButton",ur);var lr=function(t){function e(e,n){var i,r=n.rate,o=parseFloat(r,10);return n.label=r,n.selected=1===o,n.selectable=!0,n.multiSelectable=!1,(i=t.call(this,e,n)||this).label=r,i.rate=o,i.on(e,"ratechange",i.update),i}Gt(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Yi);lr.prototype.contentElType="button",Ut.registerComponent("PlaybackRateMenuItem",lr);var cr=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateVisibility(),i.updateLabel(),i.on(e,"loadstart",i.updateVisibility),i.on(e,"ratechange",i.updateLabel),i}Gt(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=T("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},n.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var t=new Zi(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new lr(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>e){i=n[r];break}this.player().playbackRate(i)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(zi);cr.prototype.controlText_="Playback Rate",Ut.registerComponent("PlaybackRateMenuButton",cr);var dr=function(t){function e(){return t.apply(this,arguments)||this}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(Ut);Ut.registerComponent("Spacer",dr);var hr=function(t){function e(){return t.apply(this,arguments)||this}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="",e},e}(dr);Ut.registerComponent("CustomControlSpacer",hr);var fr=function(t){function e(){return t.apply(this,arguments)||this}return Gt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(Ut);fr.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in e&&fr.prototype.options_.children.splice(fr.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Ut.registerComponent("ControlBar",fr);var pr=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"error",i.open),i}Gt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Ie);pr.prototype.options_=u({},Ie.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ut.registerComponent("ErrorDisplay",pr);var gr="vjs-text-track-settings",mr=["#000","Black"],vr=["#00F","Blue"],yr=["#0FF","Cyan"],_r=["#0F0","Green"],br=["#F0F","Magenta"],wr=["#F00","Red"],Tr=["#FFF","White"],Sr=["#FF0","Yellow"],Er=["1","Opaque"],Or=["0.5","Semi-Transparent"],Pr=["0","Transparent"],Cr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[mr,Tr,wr,_r,vr,Sr,br,yr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Er,Or,Pr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Tr,mr,wr,_r,vr,Sr,br,yr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Er,Or]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Pr,Or,Er]}};function Ar(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}Cr.windowColor.options=Cr.backgroundColor.options;var kr=function(e){function n(t,n){var i;return n.temporary=!1,(i=e.call(this,t,n)||this).updateDisplay=_t(Bt(i),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=T("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),d(Cr,(function(t){i.on(i.$(t.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}Gt(n,e);var i=n.prototype;return i.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},i.createElSelect_=function(t,e,n){var i=this;void 0===e&&(e=""),void 0===n&&(n="label");var r=Cr[t],o=r.id.replace("%s",this.id_),a=[e,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map((function(t){var e=o+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+a+" "+e+'">',i.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},i.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return T("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return T("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var t=this.localize("restore all settings to the default values");return T("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var t,e,n,i=this;return e=function(t,e,n){var r,o,a=(r=i.$(e.selector),o=e.parser,Ar(r.options[r.options.selectedIndex].value,o));return void 0!==a&&(t[n]=a),t},void 0===(n={})&&(n=0),c(t=Cr).reduce((function(n,i){return e(n,t[i],i)}),n)},i.setValues=function(t){var e=this;d(Cr,(function(n,i){!function(t,e,n){if(e)for(var i=0;i<t.options.length;i++)if(Ar(t.options[i].value,n)===e){t.selectedIndex=i;break}}(e.$(n.selector),t[i],n.parser)}))},i.setDefaults=function(){var t=this;d(Cr,(function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n}))},i.restoreSettings=function(){var e;try{e=JSON.parse(t.localStorage.getItem(gr))}catch(t){r.warn(t)}e&&this.setValues(e)},i.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?t.localStorage.setItem(gr,JSON.stringify(e)):t.localStorage.removeItem(gr)}catch(t){r.warn(t)}}},i.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},n}(Ie);Ut.registerComponent("TextTrackSettings",kr);var xr=function(e){function n(n,i){var r,o=i.ResizeObserver||t.ResizeObserver;null===i.ResizeObserver&&(o=!1);var a=Dt({createEl:!o,reportTouchActivity:!1},i);return(r=e.call(this,n,a)||this).ResizeObserver=i.ResizeObserver||t.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function(e,n,i,r){var o;void 0===r&&(r=t);var a=function(){var t=this,a=arguments,s=function(){o=null,s=null,i||e.apply(t,a)};!o&&i&&e.apply(t,a),r.clearTimeout(o),o=r.setTimeout(s,n)};return a.cancel=function(){r.clearTimeout(o),o=null},a}((function(){r.resizeHandler()}),100,!1,Bt(r)),o?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(n.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var t=r.debouncedHandler_,e=r.unloadListener_=function(){ht(this,"resize",t),ht(this,"unload",e),e=null};dt(r.el_.contentWindow,"unload",e),dt(r.el_.contentWindow,"resize",t)}},r.one("load",r.loadListener_)),r}Gt(n,e);var i=n.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},i.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},n}(Ut);Ut.registerComponent("ResizeManager",xr);var Ir={trackingThreshold:30,liveTolerance:15},Mr=function(n){function i(t,i){var r,o=Dt(Ir,i,{createEl:!1});return(r=n.call(this,t,o)||this).reset_(),r.on(r.player_,"durationchange",r.handleDurationchange),ne&&"hidden"in e&&"visibilityState"in e&&r.on(e,"visibilitychange",r.handleVisibilityChange),r}Gt(i,n);var r=i.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(e.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var n=Number(t.performance.now().toFixed(4)),i=-1===this.lastTime_?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+i;var r=this.liveCurrentTime(),o=this.player_.currentTime(),a=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-o)>this.options_.liveTolerance;this.timeupdateSeen_&&r!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,yt),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLive_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked):(this.one(this.player_,"play",this.handlePlay),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked)},r.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=!this.skipNextSeeked_&&t>2,this.skipNextSeeked_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.skipNextSeeked_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLive_),this.off(this.player_,"seeked",this.handleSeeked),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate),this.off(this.player_,"timeupdate",this.seekToLiveEdge)},r.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.end(n));return e.length?e.sort()[e.length-1]:1/0},r.seekableStart=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.start(n));return e.length?e.sort()[0]:0},r.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var t=this.seekableEnd();return-1!==this.lastSeekEnd_&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return"number"==typeof this.trackingInterval_},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.skipNextSeeked_=!0,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(e,"visibilitychange",this.handleVisibilityChange),this.stopTracking(),n.prototype.dispose.call(this)},i}(Ut);Ut.registerComponent("LiveTracker",Mr);var Rr,Nr=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var n=t.$$("source"),i=[],r="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var a=n[o].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(r=i[0]),t.triggerSourceset(r),!0)},Dr=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(n){var i=e.createElement(this.nodeName.toLowerCase());i.innerHTML=n;for(var r=e.createDocumentFragment();i.childNodes.length;)r.appendChild(i.childNodes[0]);return this.innerText="",t.Element.prototype.appendChild.call(this,r),this.innerHTML}}),Lr=function(t,e){for(var n={},i=0;i<t.length&&!((n=Object.getOwnPropertyDescriptor(t[i],e))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},jr=function(e){var n=e.el();if(!n.resetSourceWatch_){var i={},r=function(e){return Lr([e.el(),t.HTMLMediaElement.prototype,t.Element.prototype,Dr],"innerHTML")}(e),o=function(t){return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=t.apply(n,r);return Nr(e),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(t){n[t]&&(i[t]=n[t],n[t]=o(i[t]))})),Object.defineProperty(n,"innerHTML",Dt(r,{set:o(r.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(i).forEach((function(t){n[t]=i[t]})),Object.defineProperty(n,"innerHTML",r)},e.one("sourceset",n.resetSourceWatch_)}},Fr=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?qe(t.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return t.Element.prototype.setAttribute.call(this,"src",e),e}}),Vr=function(e){if(e.featuresSourceset){var n=e.el();if(!n.resetSourceset_){var i=function(e){return Lr([e.el(),t.HTMLMediaElement.prototype,Fr],"src")}(e),r=n.setAttribute,o=n.load;Object.defineProperty(n,"src",Dt(i,{set:function(t){var r=i.set.call(n,t);return e.triggerSourceset(n.src),r}})),n.setAttribute=function(t,i){var o=r.call(n,t,i);return/src/i.test(t)&&e.triggerSourceset(n.src),o},n.load=function(){var t=o.call(n);return Nr(e)||(e.triggerSourceset(""),jr(e)),t},n.currentSrc?e.triggerSourceset(n.currentSrc):Nr(e)||jr(e),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=o,n.setAttribute=r,Object.defineProperty(n,"src",i),n.resetSourceWatch_&&n.resetSourceWatch_()}}}},Ur=function(t,e,n,i){void 0===i&&(i=!0);var r=function(n){return Object.defineProperty(t,e,{value:n,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var t=n();return r(t),t}};return i&&(o.set=r),Object.defineProperty(t,e,o)},Br=function(n){function i(t,e){var i;i=n.call(this,t,e)||this;var o=t.source,a=!1;if(o&&(i.el_.currentSrc!==o.src||t.tag&&3===t.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),t.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var s=i.el_.childNodes,u=s.length,l=[];u--;){var c=s[u];"track"===c.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),a||i.el_.hasAttribute("crossorigin")||!Ye(c.src)||(a=!0)):l.push(c))}for(var d=0;d<l.length;d++)i.el_.removeChild(l[d])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&a&&r.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(oe||se||Xt)&&!0===t.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}Gt(i,n);var o=i.prototype;return o.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),i.disposeMediaElement(this.el_),this.options_=null,n.prototype.dispose.call(this)},o.setupSourcesetHandling_=function(){Vr(this)},o.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),n=function(){t=[];for(var n=0;n<e.length;n++){var i=e[n];"metadata"===i.kind&&t.push({track:i,storedMode:i.mode})}};n(),e.addEventListener("change",n),this.on("dispose",(function(){return e.removeEventListener("change",n)}));var i=function n(){for(var i=0;i<t.length;i++){var r=t[i];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)})),this.on("webkitendfullscreen",(function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)}))},o.overrideNative_=function(t,e){var n=this;if(e===this["featuresNative"+t+"Tracks"]){var i=t.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach((function(t){n.el()[i+"Tracks"].removeEventListener(t,n[i+"TracksListeners_"][t])})),this["featuresNative"+t+"Tracks"]=!e,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},o.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},o.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},o.proxyNativeTracksForType_=function(t){var e=this,n=hn[t],i=this.el()[n.getterName],r=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var o={change:function(n){var i={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(i),"text"===t&&e[fn.remoteText.getterName]().trigger(i)},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},a=function(){for(var t=[],e=0;e<r.length;e++){for(var n=!1,o=0;o<i.length;o++)if(i[o]===r[e]){n=!0;break}n||t.push(r[e])}for(;t.length;)r.removeTrack(t.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(t){var n=o[t];i.addEventListener(t,n),e.on("dispose",(function(e){return i.removeEventListener(t,n)}))})),this.on("loadstart",a),this.on("dispose",(function(t){return e.off("loadstart",a)}))}},o.proxyNativeTracks_=function(){var t=this;hn.names.forEach((function(e){t.proxyNativeTracksForType_(e)}))},o.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var n=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(n,t),i.disposeMediaElement(t),t=n}else{t=e.createElement("video");var r=Dt({},this.options_.tag&&x(this.options_.tag));oe&&!0===this.options_.nativeControlsForTouch||delete r.controls,k(t,h(r,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&M(t,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var o=["loop","muted","playsinline","autoplay"],a=0;a<o.length;a++){var s=o[a],u=this.options_[s];void 0!==u&&(u?M(t,s,s):R(t,s),t[s]=u)}return t},o.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",i),e||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(t){this.trigger(t)}),this)}))}},o.setScrubbing=function(t){this.isScrubbing_=t},o.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&le?this.el_.fastSeek(t):this.el_.currentTime=t}catch(t){r(t,"Video is not ready. (Video.js)")}},o.duration=function(){var t=this;if(this.el_.duration===1/0&&Yt&&te&&0===this.el_.currentTime){return this.on("timeupdate",(function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))})),NaN}return this.el_.duration||NaN},o.width=function(){return this.el_.offsetWidth},o.height=function(){return this.el_.offsetHeight},o.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)}))}},o.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=t.navigator&&t.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},o.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)Oe(this.el_.play()),this.setTimeout((function(){t.pause();try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}),0);else try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},o.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},o.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},o.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},o.reset=function(){i.resetMediaElement(this.el_)},o.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},o.setControls=function(t){this.el_.controls=!!t},o.addTextTrack=function(t,e,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,e,i):n.prototype.addTextTrack.call(this,t,e,i)},o.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return n.prototype.createRemoteTextTrack.call(this,t);var i=e.createElement("track");return t.kind&&(i.kind=t.kind),t.label&&(i.label=t.label),(t.language||t.srclang)&&(i.srclang=t.language||t.srclang),t.default&&(i.default=t.default),t.id&&(i.id=t.id),t.src&&(i.src=t.src),i},o.addRemoteTextTrack=function(t,e){var i=n.prototype.addRemoteTextTrack.call(this,t,e);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},o.removeRemoteTextTrack=function(t){if(n.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var e=this.$$("track"),i=e.length;i--;)t!==e[i]&&t!==e[i].track||this.el().removeChild(e[i])},o.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),t.performance&&"function"==typeof t.performance.now?e.creationTime=t.performance.now():t.performance&&t.performance.timing&&"number"==typeof t.performance.timing.navigationStart&&(e.creationTime=t.Date.now()-t.performance.timing.navigationStart),e},i}(Zn);Ur(Br,"TEST_VID",(function(){if(y()){var t=e.createElement("video"),n=e.createElement("track");return n.kind="captions",n.srclang="en",n.label="English",t.appendChild(n),t}})),Br.isSupported=function(){try{Br.TEST_VID.volume=.5}catch(t){return!1}return!(!Br.TEST_VID||!Br.TEST_VID.canPlayType)},Br.canPlayType=function(t){return Br.TEST_VID.canPlayType(t)},Br.canPlaySource=function(t,e){return Br.canPlayType(t.type)},Br.canControlVolume=function(){try{var t=Br.TEST_VID.volume;return Br.TEST_VID.volume=t/2+.1,t!==Br.TEST_VID.volume}catch(t){return!1}},Br.canMuteVolume=function(){try{var t=Br.TEST_VID.muted;return Br.TEST_VID.muted=!t,Br.TEST_VID.muted?M(Br.TEST_VID,"muted","muted"):R(Br.TEST_VID,"muted"),t!==Br.TEST_VID.muted}catch(t){return!1}},Br.canControlPlaybackRate=function(){if(Yt&&te&&ee<58)return!1;try{var t=Br.TEST_VID.playbackRate;return Br.TEST_VID.playbackRate=t/2+.1,t!==Br.TEST_VID.playbackRate}catch(t){return!1}},Br.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(e.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(e.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(e.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(e.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},Br.supportsNativeTextTracks=function(){return le||ue&&te},Br.supportsNativeVideoTracks=function(){return!(!Br.TEST_VID||!Br.TEST_VID.videoTracks)},Br.supportsNativeAudioTracks=function(){return!(!Br.TEST_VID||!Br.TEST_VID.audioTracks)},Br.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(t){var e=t[0],n=t[1];Ur(Br.prototype,e,(function(){return Br[n]()}),!0)})),Br.prototype.movingMediaElementInDOM=!ue,Br.prototype.featuresFullscreenResize=!0,Br.prototype.featuresProgressEvents=!0,Br.prototype.featuresTimeupdateEvents=!0,Br.patchCanPlayType=function(){Kt>=4&&!Jt&&!te&&(Rr=Br.TEST_VID&&Br.TEST_VID.constructor.prototype.canPlayType,Br.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(t)?"maybe":Rr.call(this,t)})},Br.unpatchCanPlayType=function(){var t=Br.TEST_VID.constructor.prototype.canPlayType;return Rr&&(Br.TEST_VID.constructor.prototype.canPlayType=Rr),t},Br.patchCanPlayType(),Br.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},Br.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){Br.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){Br.prototype["set"+Nt(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(t){Br.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(t){Br.prototype["set"+Nt(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){Br.prototype[t]=function(){return this.el_[t]()}})),Zn.withSourceHandlers(Br),Br.nativeSourceHandler={},Br.nativeSourceHandler.canPlayType=function(t){try{return Br.TEST_VID.canPlayType(t)}catch(t){return""}},Br.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Br.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=$e(t.src);return Br.nativeSourceHandler.canPlayType("video/"+n)}return""},Br.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},Br.nativeSourceHandler.dispose=function(){},Br.registerSourceHandler(Br.nativeSourceHandler),Zn.registerTech("Html5",Br);var Hr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Gr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Wr=["tiny","xsmall","small","medium","large","xlarge","huge"],Zr={};Wr.forEach((function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Zr[t]="vjs-layout-"+e}));var zr={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},qr=function(i){function a(t,r,s){var u;if(t.id=t.id||r.id||"vjs_video_"+it(),(r=h(a.getTagSettings(t),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof t.closest){var l=t.closest("[lang]");l&&l.getAttribute&&(r.language=l.getAttribute("lang"))}else for(var c=t;c&&1===c.nodeType;){if(x(c).hasOwnProperty("lang")){r.language=c.getAttribute("lang");break}c=c.parentNode}if((u=i.call(this,null,r,s)||this).boundDocumentFullscreenChange_=_t(Bt(u),u.documentFullscreenChange_),u.boundFullWindowOnEscKey_=_t(Bt(u),u.fullWindowOnEscKey),u.isFullscreen_=!1,u.log=o(u.id_),u.fsApi_=me,u.isPosterFromTech_=!1,u.queuedCallbacks_=[],u.isReady_=!1,u.hasStarted_=!1,u.userActive_=!1,u.debugEnabled_=!1,!u.options_||!u.options_.techOrder||!u.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(u.tag=t,u.tagAttributes=t&&x(t),u.language(u.options_.language),r.languages){var d={};Object.getOwnPropertyNames(r.languages).forEach((function(t){d[t.toLowerCase()]=r.languages[t]})),u.languages_=d}else u.languages_=a.prototype.options_.languages;u.resetCache_(),u.poster_=r.poster||"",u.controls_=!!r.controls,t.controls=!1,t.removeAttribute("controls"),u.changingSrc_=!1,u.playCallbacks_=[],u.playTerminatedQueue_=[],t.hasAttribute("autoplay")?u.autoplay(!0):u.autoplay(u.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach((function(t){if("function"!=typeof u[t])throw new Error('plugin "'+t+'" does not exist')})),u.scrubbing_=!1,u.el_=u.createEl(),xt(Bt(u),{eventBusKey:"el_"}),u.fsApi_.requestFullscreen&&(dt(e,u.fsApi_.fullscreenchange,u.boundDocumentFullscreenChange_),u.on(u.fsApi_.fullscreenchange,u.boundDocumentFullscreenChange_)),u.fluid_&&u.on("playerreset",u.updateStyleEl_);var f=Dt(u.options_);r.plugins&&Object.keys(r.plugins).forEach((function(t){u[t](r.plugins[t])})),r.debug&&u.debug(!0),u.options_.playerOptions=f,u.middleware_=[],u.initChildren(),u.isAudio("audio"===t.nodeName.toLowerCase()),u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled"),u.el_.setAttribute("role","region"),u.isAudio()?u.el_.setAttribute("aria-label",u.localize("Audio Player")):u.el_.setAttribute("aria-label",u.localize("Video Player")),u.isAudio()&&u.addClass("vjs-audio"),u.flexNotSupported_()&&u.addClass("vjs-no-flex"),oe&&u.addClass("vjs-touch-enabled"),ue||u.addClass("vjs-workinghover"),a.players[u.id_]=Bt(u);var p=n.split(".")[0];return u.addClass("vjs-v"+p),u.userActive(!0),u.reportUserActivity(),u.one("play",u.listenForUserActivity_),u.on("stageclick",u.handleStageClick_),u.on("keydown",u.handleKeyDown),u.breakpoints(u.options_.breakpoints),u.responsive(u.options_.responsive),u}Gt(a,i);var s=a.prototype;return s.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),ht(e,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),ht(e,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),a.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),qn[this.id()]=null,pn.names.forEach((function(e){var n=pn[e],i=t[n.getterName]();i&&i.off&&i.off()})),i.prototype.dispose.call(this)},s.createEl=function(){var n,r=this.tag,o=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase();o?n=this.el_=r.parentNode:a||(n=this.el_=i.prototype.createEl.call(this,"div"));var s=x(r);if(a){for(n=this.el_=r,r=this.tag=e.createElement("video");n.children.length;)r.appendChild(n.firstChild);O(n,"video-js")||P(n,"video-js"),n.appendChild(r),o=this.playerElIngest_=n,Object.keys(n).forEach((function(t){try{r[t]=n[t]}catch(t){}}))}if(r.setAttribute("tabindex","-1"),s.tabindex="-1",(ne||te&&re)&&(r.setAttribute("role","application"),s.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach((function(t){a&&"class"===t||n.setAttribute(t,s[t]),a&&r.setAttribute(t,s[t])})),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=n.player=this,this.addClass("vjs-paused"),!0!==t.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=tt("vjs-styles-dimensions");var u=z(".vjs-styles-defaults"),l=z("head");l.insertBefore(this.styleEl_,u?u.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var c=r.getElementsByTagName("a"),d=0;d<c.length;d++){var h=c.item(d);P(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!o&&r.parentNode.insertBefore(n,r),E(r,n),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_=n,n},s.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");"anonymous"===t||"use-credentials"===t?this.techCall_("setCrossOrigin",t):r.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"')},s.width=function(t){return this.dimension("width",t)},s.height=function(t){return this.dimension("height",t)},s.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e||"auto"===e)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(e);isNaN(i)?r.error('Improper value "'+e+'" supplied for for '+t):(this[n]=i,this.updateStyleEl_())},s.fluid=function(t){if(void 0===t)return!!this.fluid_;var e,n;this.fluid_=!!t,Tt(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),Tt(e=function(){this.on("playerreset",this.updateStyleEl_)})?n():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},s.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},s.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},s.updateStyleEl_=function(){if(!0!==t.VIDEOJS_NO_DYNAMIC_STYLE){var e,n,i,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),o=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,n=void 0!==this.height_?this.height_:e*o,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),et(this.styleEl_,"\n      ."+i+" {\n        width: "+e+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),s>=0&&(u.height=s))}},s.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var i=Nt(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==i&&this.tag&&(Zn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var o={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};pn.names.forEach((function(t){var e=pn[t];o[e.getterName]=n[e.privateName]})),h(o,this.options_[i]),h(o,this.options_[r]),h(o,this.options_[t.toLowerCase()]),this.tag&&(o.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var a=Zn.getTech(t);if(!a)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new a(o),this.tech_.ready(_t(this,this.handleTechReady_),!0),Ae(this.textTracksJson_||[],this.tech_),Hr.forEach((function(t){n.on(n.tech_,t,n["handleTech"+Nt(t)+"_"])})),Object.keys(Gr).forEach((function(t){n.on(n.tech_,t,(function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Gr[t]+"_"].bind(n),event:e}):n["handleTech"+Gr[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreenerror",this.handleTechFullscreenError_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||E(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},s.unloadTech_=function(){var t=this;pn.names.forEach((function(e){var n=pn[e];t[n.privateName]=t[n.getterName]()})),this.textTracksJson_=Ce(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},s.tech=function(t){return void 0===t&&r.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},s.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},s.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},s.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},s.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},s.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var n,i=function(){var t=e.muted();e.muted(!0);var n=function(){e.muted(t)};e.playTerminatedQueue_.push(n);var i=e.play();if(Ee(i))return i.catch(n)};if("any"===t&&!0!==this.muted()?Ee(n=this.play())&&(n=n.catch(i)):n="muted"===t&&!0!==this.muted()?i():this.play(),Ee(n))return n.then((function(){e.trigger({type:"autoplay-success",autoplay:t})})).catch((function(n){e.trigger({type:"autoplay-failure",autoplay:t})}))}},s.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,n="";"string"!=typeof e&&(e=t.src,n=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter((function(t){return t.src===e}));if(n.length)return n[0].type;for(var i=t.$$("source"),r=0;r<i.length;r++){var o=i[r];if(o.type&&o.src&&o.src===e)return o.type}return ii(e)}(this,e)),this.cache_.source=Dt({},t,{src:e,type:n});for(var i=this.cache_.sources.filter((function(t){return t.src&&t.src===e})),r=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var u=x(o[s]);r.push(u),u.src&&u.src===e&&a.push(u.src)}a.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},s.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var n=function(t){return e.updateSourceCaches_(t)},i=this.currentSource().src,r=t.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=function(){}),n(r),t.src||this.tech_.any(["sourceset","loadstart"],(function(t){if("sourceset"!==t.type){var n=e.techGet("currentSrc");e.lastSource_.tech=n,e.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},s.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},s.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},s.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},s.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime();this.on("timeupdate",(function n(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",n))}))},s.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},s.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},s.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},s.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},s.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},s.handleTechFirstPlay_=function(){this.options_.starttime&&(r.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},s.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},s.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},s.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},s.handleTechClick_=function(t){W(t)&&this.controls_&&(this.paused()?Oe(this.play()):this.pause())},s.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(e){return e.contains(t.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},s.handleTechTap_=function(){this.userActive(!this.userActive())},s.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},s.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},s.handleTechTouchEnd_=function(t){t.preventDefault()},s.handleStageClick_=function(){this.reportUserActivity()},s.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},s.documentFullscreenChange_=function(t){var n=t.target.player;if(!n||n===this){var i=this.el(),r=e[this.fsApi_.fullscreenElement]===i;!r&&i.matches?r=i.matches(":"+this.fsApi_.fullscreen):!r&&i.msMatchesSelector&&(r=i.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}},s.handleTechFullscreenChange_=function(t,e){e&&(e.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(e.isFullscreen))},s.handleTechFullscreenError_=function(t,e){this.trigger("fullscreenerror",e)},s.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},s.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},s.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},s.handleTechError_=function(){var t=this.tech_.error();this.error(t)},s.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},s.getCache=function(){return this.cache_},s.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},s.techCall_=function(t,e){this.ready((function(){if(t in Jn)return function(t,e,n,i){return e[n](t.reduce(ti(n),i))}(this.middleware_,this.tech_,t,e);if(t in Qn)return Kn(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw r(t),t}}),!0)},s.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Xn)return function(t,e,n){return t.reduceRight(ti(n),e[n]())}(this.middleware_,this.tech_,t);if(t in Qn)return Kn(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw r("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw r("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw r(e),e}}},s.play=function(){var e=this,n=this.options_.Promise||t.Promise;return n?new n((function(t){e.play_(t)})):this.play_()},s.play_=function(t){var e=this;void 0===t&&(t=Oe),this.playCallbacks_.push(t);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!le&&!ue||this.load());var i=this.techGet_("play");null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},s.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach((function(t){t()}))},s.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach((function(e){e(t)}))},s.pause=function(){this.techCall_("pause")},s.paused=function(){return!1!==this.techGet_("paused")},s.played=function(){return this.techGet_("played")||fe(0,0)},s.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},s.currentTime=function(t){return void 0!==t?(t<0&&(t=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",t),void(this.cache_.initTime=0)):(this.cache_.initTime=t,this.off("canplay",this.applyInitTime_),void this.one("canplay",this.applyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},s.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},s.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},s.remainingTime=function(){return this.duration()-this.currentTime()},s.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},s.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=fe(0,0)),t},s.bufferedPercent=function(){return pe(this.buffered(),this.duration())},s.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},s.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},s.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},s.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},s.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},s.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},s.isFullscreen=function(t){if(void 0!==t){var e=this.isFullscreen_;return this.isFullscreen_=Boolean(t),this.isFullscreen_!==e&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},s.requestFullscreen=function(e){var n=this.options_.Promise||t.Promise;if(n){var i=this;return new n((function(t,n){function r(){i.off("fullscreenerror",a),i.off("fullscreenchange",o)}function o(){r(),t()}function a(t,e){r(),n(e)}i.one("fullscreenchange",o),i.one("fullscreenerror",a);var s=i.requestFullscreenHelper_(e);if(s)return s.then(r,r),s}))}return this.requestFullscreenHelper_()},s.requestFullscreenHelper_=function(t){var e,n=this;if(this.fsApi_.prefixed||(e=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(e=t)),this.fsApi_.requestFullscreen){var i=this.el_[this.fsApi_.requestFullscreen](e);return i&&i.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),i}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},s.exitFullscreen=function(){var e=this.options_.Promise||t.Promise;if(e){var n=this;return new e((function(t,e){function i(){n.off("fullscreenerror",o),n.off("fullscreenchange",r)}function r(){i(),t()}function o(t,n){i(),e(n)}n.one("fullscreenchange",r),n.one("fullscreenerror",o);var a=n.exitFullscreenHelper_();if(a)return a.then(i,i),a}))}return this.exitFullscreenHelper_()},s.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var n=e[this.fsApi_.exitFullscreen]();return n&&n.then((function(){return t.isFullscreen(!1)})),n}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},s.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=e.documentElement.style.overflow,dt(e,"keydown",this.boundFullWindowOnEscKey_),e.documentElement.style.overflow="hidden",P(e.body,"vjs-full-window"),this.trigger("enterFullWindow")},s.fullWindowOnEscKey=function(t){ke.isEventKey(t,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},s.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,ht(e,"keydown",this.boundFullWindowOnEscKey_),e.documentElement.style.overflow=this.docOrigOverflow,C(e.body,"vjs-full-window"),this.trigger("exitFullWindow")},s.disablePictureInPicture=function(t){if(void 0===t)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},s.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},s.requestPictureInPicture=function(){if("pictureInPictureEnabled"in e&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},s.exitPictureInPicture=function(){if("pictureInPictureEnabled"in e)return e.exitPictureInPicture()},s.handleKeyDown=function(t){var e,n,i=this.options_.userActions;i&&i.hotkeys&&(n=(e=this.el_.ownerDocument.activeElement).tagName.toLowerCase(),e.isContentEditable||("input"===n?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type):-1!==["textarea"].indexOf(n))||("function"==typeof i.hotkeys?i.hotkeys.call(this,t):this.handleHotkeys(t)))},s.handleHotkeys=function(t){var n=this.options_.userActions?this.options_.userActions.hotkeys:{},i=n.fullscreenKey,r=void 0===i?function(t){return ke.isEventKey(t,"f")}:i,o=n.muteKey,a=void 0===o?function(t){return ke.isEventKey(t,"m")}:o,s=n.playPauseKey,u=void 0===s?function(t){return ke.isEventKey(t,"k")||ke.isEventKey(t,"Space")}:s;if(r.call(this,t)){t.preventDefault(),t.stopPropagation();var l=Ut.getComponent("FullscreenToggle");!1!==e[this.fsApi_.fullscreenEnabled]&&l.prototype.handleClick.call(this,t)}else a.call(this,t)?(t.preventDefault(),t.stopPropagation(),Ut.getComponent("MuteToggle").prototype.handleClick.call(this,t)):u.call(this,t)&&(t.preventDefault(),t.stopPropagation(),Ut.getComponent("PlayToggle").prototype.handleClick.call(this,t))},s.canPlayType=function(t){for(var e,n=0,i=this.options_.techOrder;n<i.length;n++){var o=i[n],a=Zn.getTech(o);if(a||(a=Ut.getComponent(o)),a){if(a.isSupported()&&(e=a.canPlayType(t)))return e}else r.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},s.selectSource=function(t){var e,n=this,i=this.options_.techOrder.map((function(t){return[t,Zn.getTech(t)]})).filter((function(t){var e=t[0],n=t[1];return n?n.isSupported():(r.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),o=function(t,e,n){var i;return t.some((function(t){return e.some((function(e){if(i=n(t,e))return!0}))})),i},a=function(t,e){var i=t[0];if(t[1].canPlaySource(e,n.options_[i.toLowerCase()]))return{source:e,tech:i}};return(this.options_.sourceOrder?o(t,i,(e=a,function(t,n){return e(n,t)})):o(i,t,a))||!1},s.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var n=ri(t);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),Yn(this,n[0],(function(t,i){if(e.middleware_=i,e.cache_.sources=n,e.updateSourceCaches_(t),e.src_(t))return n.length>1?e.src(n.slice(1)):(e.changingSrc_=!1,e.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void e.triggerReady());var r,o;r=i,o=e.tech_,r.forEach((function(t){return t.setTech&&t.setTech(o)}))}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},s.src_=function(t){var e,n,i=this,r=this.selectSource([t]);return!r||(e=r.tech,n=this.techName_,Nt(e)===Nt(n)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready((function(){i.changingSrc_=!1})),!1))},s.load=function(){this.techCall_("load")},s.reset=function(){var e=this,n=this.options_.Promise||t.Promise;this.paused()||!n?this.doReset_():Oe(this.play().then((function(){return e.doReset_()})))},s.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Tt(this)&&this.trigger("playerreset")},s.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},s.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,e=t.durationDisplay,n=t.remainingTimeDisplay;e&&e.updateContent(),n&&n.updateContent()},s.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},s.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},s.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},s.currentSource=function(){return this.cache_.source||{}},s.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},s.currentType=function(){return this.currentSource()&&this.currentSource().type||""},s.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},s.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=void 0===e?this.options_.autoplay:e,this.tech_&&this.techCall_("setAutoplay",e)},s.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},s.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},s.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},s.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},s.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},s.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},s.error=function(t){if(void 0===t)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&4===t.code){var e=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",(function(){this.off(["click","touchstart"],e)}))}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new we(t),this.addClass("vjs-error"),r.error("(CODE:"+this.error_.code+" "+we.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},s.reportUserActivity=function(t){this.userActivity_=!0},s.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},s.listenForUserActivity_=function(){var t,e,n,i=_t(this,this.reportUserActivity),r=function(e){i(),this.clearInterval(t)};this.on("mousedown",(function(){i(),this.clearInterval(t),t=this.setInterval(i,250)})),this.on("mousemove",(function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,i())})),this.on("mouseup",r),this.on("mouseleave",r);var o,a=this.getChild("controlBar");!a||ue||Yt||(a.on("mouseenter",(function(t){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",i),this.on("keyup",i),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var t=this.options_.inactivityTimeout;t<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t))}}),250)},s.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},s.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},s.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},s.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},s.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},s.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t.track;if(e||(e=t),this.tech_)return this.tech_.removeRemoteTextTrack(e)},s.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},s.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},s.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},s.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},s.languages=function(){return Dt(a.prototype.options_.languages,this.languages_)},s.toJSON=function(){var t=Dt(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var i=e[n];(i=Dt(i)).player=void 0,t.tracks[n]=i}return t},s.createModal=function(t,e){var n=this;(e=e||{}).content=t||"";var i=new Ie(this,e);return this.addChild(i),i.on("dispose",(function(){n.removeChild(i)})),i.open(),i},s.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),n=0;n<Wr.length;n++){var i=Wr[n];if(e<=this.breakpoints_[i]){if(t===i)return;t&&this.removeClass(Zr[t]),this.addClass(Zr[i]),this.breakpoint_=i;break}}},s.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},s.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=h({},zr,t),this.updateCurrentBreakpoint_()),h(this.breakpoints_)},s.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},s.currentBreakpoint=function(){return this.breakpoint_},s.currentBreakpointClass=function(){return Zr[this.breakpoint_]||""},s.loadMedia=function(t,e){var n=this;if(t&&"object"==typeof t){this.reset(),this.cache_.media=Dt(t);var i=this.cache_.media,r=i.artwork,o=i.poster,a=i.src,s=i.textTracks;!r&&o&&(this.cache_.media.artwork=[{src:o,type:ii(o)}]),a&&this.src(a),o&&this.poster(o),Array.isArray(s)&&s.forEach((function(t){return n.addRemoteTextTrack(t,!1)})),this.ready(e)}},s.getMedia=function(){if(!this.cache_.media){var t=this.poster(),e={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}}))};return t&&(e.poster=t,e.artwork=[{src:e.poster,type:ii(e.poster)}]),e}return Dt(this.cache_.media)},a.getTagSettings=function(t){var e={sources:[],tracks:[]},n=x(t),i=n["data-setup"];if(O(t,"vjs-fill")&&(n.fill=!0),O(t,"vjs-fluid")&&(n.fluid=!0),null!==i){var o=Se(i||"{}"),a=o[0],s=o[1];a&&r.error(a),h(n,s)}if(h(e,n),t.hasChildNodes())for(var u=t.childNodes,l=0,c=u.length;l<c;l++){var d=u[l],f=d.nodeName.toLowerCase();"source"===f?e.sources.push(x(d)):"track"===f&&e.tracks.push(x(d))}return e},s.flexNotSupported_=function(){var t=e.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},s.debug=function(t){if(void 0===t)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},a}(Ut);pn.names.forEach((function(t){var e=pn[t];qr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),qr.prototype.crossorigin=qr.prototype.crossOrigin,qr.players={};var $r=t.navigator;qr.prototype.options_={techOrder:Zn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:$r&&($r.languages&&$r.languages[0]||$r.userLanguage||$r.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){qr.prototype[t]=function(){return this.techGet_(t)}})),Hr.forEach((function(t){qr.prototype["handleTech"+Nt(t)+"_"]=function(){return this.trigger(t)}})),Ut.registerComponent("Player",qr);var Yr=s((function(t){function e(n,i){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,i)}t.exports=e}));var Kr=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}},Xr=s((function(t){function e(n,i,r){return Kr()?t.exports=e=Reflect.construct:t.exports=e=function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Yr(r,n.prototype),r},e.apply(null,arguments)}t.exports=e})),Jr="plugin",Qr="activePlugins_",to={},eo=function(t){return to.hasOwnProperty(t)},no=function(t){return eo(t)?to[t]:void 0},io=function(t,e){t[Qr]=t[Qr]||{},t[Qr][e]=!0},ro=function(t,e,n){var i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},oo=function(t,e){return e.prototype.name=t,function(){ro(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=Xr(e,[this].concat(i));return this[t]=function(){return o},ro(this,o.getEventHash()),o}},ao=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),xt(this),delete this.trigger,Mt(this,this.constructor.defaultState),io(e,this.name),this.dispose=_t(this,this.dispose),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),ft(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[Qr][t]=!1,this.player=this.state=null,e[t]=oo(t,to[t])},t.isBasic=function(e){var n="string"==typeof e?no(e):e;return"function"==typeof n&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(e,n){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(eo(e))r.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(qr.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof n+".");return to[e]=n,e!==Jr&&(t.isBasic(n)?qr.prototype[e]=function(t,e){var n=function(){ro(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return io(this,t),ro(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach((function(t){n[t]=e[t]})),n}(e,n):qr.prototype[e]=oo(e,n)),n},t.deregisterPlugin=function(t){if(t===Jr)throw new Error("Cannot de-register base plugin.");eo(t)&&(delete to[t],delete qr.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(to)),t.forEach((function(t){var n=no(t);n&&((e=e||{})[t]=n)})),e},t.getPluginVersion=function(t){var e=no(t);return e&&e.VERSION||""},t}();ao.getPlugin=no,ao.BASE_PLUGIN_NAME=Jr,ao.registerPlugin(Jr,ao),qr.prototype.usingPlugin=function(t){return!!this[Qr]&&!0===this[Qr][t]},qr.prototype.hasPlugin=function(t){return!!eo(t)};var so=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yr(t,e)},uo=function(t){return 0===t.indexOf("#")?t.slice(1):t};function lo(t,e,n){var i=lo.getPlayer(t);if(i)return e&&r.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var o="string"==typeof t?z("#"+uo(t)):t;if(!_(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");o.ownerDocument.defaultView&&o.ownerDocument.body.contains(o)||r.warn("The element supplied is not included in the DOM"),e=e||{},lo.hooks("beforesetup").forEach((function(t){var n=t(o,Dt(e));f(n)&&!Array.isArray(n)?e=Dt(e,n):r.error("please return an object in beforesetup hooks")}));var a=Ut.getComponent("Player");return i=new a(o,e,n),lo.hooks("setup").forEach((function(t){return t(i)})),i}if(lo.hooks_={},lo.hooks=function(t,e){return lo.hooks_[t]=lo.hooks_[t]||[],e&&(lo.hooks_[t]=lo.hooks_[t].concat(e)),lo.hooks_[t]},lo.hook=function(t,e){lo.hooks(t,e)},lo.hookOnce=function(t,e){lo.hooks(t,[].concat(e).map((function(e){return function n(){return lo.removeHook(t,n),e.apply(void 0,arguments)}})))},lo.removeHook=function(t,e){var n=lo.hooks(t).indexOf(e);return!(n<=-1||(lo.hooks_[t]=lo.hooks_[t].slice(),lo.hooks_[t].splice(n,1),0))},!0!==t.VIDEOJS_NO_DYNAMIC_STYLE&&y()){var co=z(".vjs-styles-defaults");if(!co){co=tt("vjs-styles-defaults");var ho=z("head");ho&&ho.insertBefore(co,ho.firstChild),et(co,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}X(1,lo),lo.VERSION=n,lo.options=qr.prototype.options_,lo.getPlayers=function(){return qr.players},lo.getPlayer=function(t){var e,n=qr.players;if("string"==typeof t){var i=uo(t),r=n[i];if(r)return r;e=z("#"+i)}else e=t;if(_(e)){var o=e,a=o.player,s=o.playerId;if(a||n[s])return a||n[s]}},lo.getAllPlayers=function(){return Object.keys(qr.players).map((function(t){return qr.players[t]})).filter(Boolean)},lo.players=qr.players,lo.getComponent=Ut.getComponent,lo.registerComponent=function(t,e){Zn.isTech(e)&&r.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ut.registerComponent.call(Ut,t,e)},lo.getTech=Zn.getTech,lo.registerTech=Zn.registerTech,lo.use=function(t,e){zn[t]=zn[t]||[],zn[t].push(e)},Object.defineProperty(lo,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(lo.middleware,"TERMINATOR",{value:$n,writeable:!1,enumerable:!0}),lo.browser=ce,lo.TOUCH_ENABLED=oe,lo.extend=function(t,e){void 0===e&&(e={});var n=function(){t.apply(this,arguments)},i={};for(var r in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),i=e):"function"==typeof e&&(n=e),so(n,t),t&&(n.super_=t),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n},lo.mergeOptions=Dt,lo.bind=_t,lo.registerPlugin=ao.registerPlugin,lo.deregisterPlugin=ao.deregisterPlugin,lo.plugin=function(t,e){return r.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ao.registerPlugin(t,e)},lo.getPlugins=ao.getPlugins,lo.getPlugin=ao.getPlugin,lo.getPluginVersion=ao.getPluginVersion,lo.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),lo.options.languages=Dt(lo.options.languages,((n={})[t]=e,n)),lo.options.languages[t]},lo.log=r,lo.createLogger=o,lo.createTimeRange=lo.createTimeRanges=fe,lo.formatTime=wi,lo.setFormatTime=function(t){bi=t},lo.resetFormatTime=function(){bi=_i},lo.parseUrl=ze,lo.isCrossOrigin=Ye,lo.EventTarget=wt,lo.on=dt,lo.one=pt,lo.off=ht,lo.trigger=ft,lo.xhr=tn,lo.TextTrack=un,lo.AudioTrack=ln,lo.VideoTrack=cn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){lo[t]=function(){return r.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),$[t].apply(null,arguments)}})),lo.computedStyle=g,lo.dom=$,lo.url=Ke,lo.defineLazyProperty=Ur;var fo=s((function(t,e){var n,i,r,o,a;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var r=a.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=i.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(d)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=a}));function po(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var go=po(fo),mo=po(t),vo=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=go.default.buildAbsoluteURL(mo.default.location&&mo.default.location.href||"",t)),go.default.buildAbsoluteURL(t,e))},yo=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(n,1),n>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=e.length,a=0;a<o;++a)e[a].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}(),_o=yo;function bo(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var wo=bo(t);var To=function(t){for(var e=(r=t,wo.default.atob?wo.default.atob(r):Buffer.from(r,"base64").toString("binary")),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);var r;return n},So=function(t){function e(){var e;return(e=t.call(this)||this).buffer="",e}return Gt(e,t),e.prototype.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(_o),Eo=function(t){for(var e,n=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},r=n.length;r--;)""!==n[r]&&((e=/([^=]*)=(.*)/.exec(n[r]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),i[e[0]]=e[1]);return i},Oo=function(t){function e(){var e;return(e=t.call(this)||this).customParsers=[],e.tagMappers=[],e}Gt(e,t);var n=e.prototype;return n.push=function(t){var e,n,i=this;0!==(t=t.trim()).length&&("#"===t[0]?this.tagMappers.reduce((function(e,n){var i=n(t);return i===t?e:e.concat([i])}),[t]).forEach((function(t){for(var r=0;r<i.customParsers.length;r++)if(i.customParsers[r].call(i,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))i.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void i.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void i.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void i.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"map"},e[1]){var o=Eo(e[1]);if(o.URI&&(n.uri=o.URI),o.BYTERANGE){var a=o.BYTERANGE.split("@"),s=a[0],u=a[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),u&&(n.byterange.offset=parseInt(u,10))}}i.trigger("data",n)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"stream-inf"},e[1]){if(n.attributes=Eo(e[1]),n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION.split("x"),c={};l[0]&&(c.width=parseInt(l[0],10)),l[1]&&(c.height=parseInt(l[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}i.trigger("data",n)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return n={type:"tag",tagType:"media"},e[1]&&(n.attributes=Eo(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-ENDLIST/.exec(t))i.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t))i.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return n={type:"tag",tagType:"key"},e[1]&&(n.attributes=Eo(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void i.trigger("data",n);if(e=/^#EXT-X-START:?(.*)$/.exec(t))return n={type:"tag",tagType:"start"},e[1]&&(n.attributes=Eo(e[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void i.trigger("data",n);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);i.trigger("data",{type:"tag",data:t.slice(4)})}}}else i.trigger("data",{type:"comment",text:t.slice(1)})})):this.trigger("data",{type:"uri",uri:t}))},n.addParser=function(t){var e=this,n=t.expression,i=t.customType,r=t.dataParser,o=t.segment;"function"!=typeof r&&(r=function(t){return t}),this.customParsers.push((function(t){if(n.exec(t))return e.trigger("data",{type:"custom",data:r(t),customType:i,segment:o}),!0}))},n.addTagMapper=function(t){var e=t.expression,n=t.map;this.tagMappers.push((function(t){return e.test(t)?n(t):t}))},e}(_o),Po=function(t){function e(){var e;(e=t.call(this)||this).lineStream=new So,e.parseStream=new Oo,e.lineStream.pipe(e.parseStream);var n,i,r=Bt(e),o=[],a={},s=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var d=0;return e.parseStream.on("data",(function(t){var e,h;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(a.byterange=e,e.length=t.length,"offset"in t||(t.offset=d)),"offset"in t&&(a.byterange=e,e.offset=t.offset),d=e.offset+e.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(a.duration=t.duration),0===t.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:To(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(i.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else i=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,c=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){n={},t.uri&&(n.uri=t.uri),t.byterange&&(n.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes?(a.attributes||(a.attributes={}),u(a.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var n=this.manifest.mediaGroups[t.attributes.TYPE];n[t.attributes["GROUP-ID"]]=n[t.attributes["GROUP-ID"]]||{},e=n[t.attributes["GROUP-ID"]],(h={default:/yes/i.test(t.attributes.DEFAULT)}).default?h.autoselect=!0:h.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(h.language=t.attributes.LANGUAGE),t.attributes.URI&&(h.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(h.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(h.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(h.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=h}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),a.dateTimeString=t.dateTimeString,a.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=t.data},"cue-out-cont":function(){a.cueOutCont=t.data},"cue-in":function(){a.cueIn=t.data}}[t.tagType]||s).call(r)},uri:function(){a.uri=t.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),i&&(a.key=i),a.timeline=c,n&&(a.map=n),a={}},comment:function(){},custom:function(){t.segment?(a.custom=a.custom||{},a.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(r)})),e}Gt(e,t);var n=e.prototype;return n.push=function(t){this.lineStream.push(t)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(t){this.parseStream.addParser(t)},n.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(_o),Co=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,i=/^application\/dash\+xml/i;e.simpleTypeFromSourceType=function(t){return n.test(t)?"hls":i.test(t)?"dash":"application/vnd.videojs.vhs+json"===t?"vhs-json":null}}));a(Co);var Ao=Co.simpleTypeFromSourceType,ko=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,xo=new RegExp("[\\-\\.0-9"+ko.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Io=new RegExp("^"+ko.source+xo.source+"*(?::"+ko.source+xo.source+"*)?$"),Mo=0,Ro=1,No=2,Do=3,Lo=4,jo=5,Fo=6,Vo=7;function Uo(){}function Bo(t,e,n,i,r){function o(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(r.error("entity not found:"+t),t)}function a(e){if(e>p){var n=t.substring(p,e).replace(/&#?\w+;/g,o);d&&s(p),i.characters(n,0,e-p),p=e}}function s(e,n){for(;e>=l&&(n=c.exec(t));)u=n.index,l=u+n[0].length,d.lineNumber++;d.columnNumber=e-u+1}for(var u=0,l=0,c=/.*(?:\r\n?|\n)|.*$/g,d=i.locator,h=[{currentNSMap:e}],f={},p=0;;){try{var g=t.indexOf("<",p);if(g<0){if(!t.substr(p).match(/^\s*$/)){var m=i.doc,v=m.createTextNode(t.substr(p));m.appendChild(v),i.currentElement=v}return}switch(g>p&&a(g),t.charAt(g+1)){case"/":var y=t.indexOf(">",g+3),_=t.substring(g+2,y),b=h.pop();y<0?(_=t.substring(g+2).replace(/[\s<].*/,""),r.error("end tag name: "+_+" is not complete:"+b.tagName),y=g+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),r.error("end tag name: "+_+" maybe not complete"),y=g+1+_.length);var w=b.localNSMap,T=b.tagName==_;if(T||b.tagName&&b.tagName.toLowerCase()==_.toLowerCase()){if(i.endElement(b.uri,b.localName,_),w)for(var S in w)i.endPrefixMapping(S);T||r.fatalError("end tag name: "+_+" is not match the current start tagName:"+b.tagName)}else h.push(b);y++;break;case"?":d&&s(g),y=Yo(t,g,i);break;case"!":d&&s(g),y=$o(t,g,i,r);break;default:d&&s(g);var E=new Ko,O=h[h.length-1].currentNSMap,P=(y=Go(t,g,E,O,o,r),E.length);if(!E.closed&&zo(t,y,E.tagName,f)&&(E.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),d&&P){for(var C=Ho(d,{}),A=0;A<P;A++){var k=E[A];s(k.offset),k.locator=Ho(d,{})}i.locator=C,Wo(E,i,O)&&h.push(E),i.locator=d}else Wo(E,i,O)&&h.push(E);"http://www.w3.org/1999/xhtml"!==E.uri||E.closed?y++:y=Zo(t,y,E.tagName,o,i)}}catch(t){r.error("element parse error: "+t),y=-1}y>p?p=y:a(Math.max(g,p)+1)}}function Ho(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function Go(t,e,n,i,r,o){for(var a,s=++e,u=Mo;;){var l=t.charAt(s);switch(l){case"=":if(u===Ro)a=t.slice(e,s),u=Do;else{if(u!==No)throw new Error("attribute equal must after attrName");u=Do}break;case"'":case'"':if(u===Do||u===Ro){if(u===Ro&&(o.warning('attribute value must after "="'),a=t.slice(e,s)),e=s+1,!((s=t.indexOf(l,e))>0))throw new Error("attribute value no end '"+l+"' match");c=t.slice(e,s).replace(/&#?\w+;/g,r),n.add(a,c,e-1),u=jo}else{if(u!=Lo)throw new Error('attribute value must after "="');c=t.slice(e,s).replace(/&#?\w+;/g,r),n.add(a,c,e),o.warning('attribute "'+a+'" missed start quot('+l+")!!"),e=s+1,u=jo}break;case"/":switch(u){case Mo:n.setTagName(t.slice(e,s));case jo:case Fo:case Vo:u=Vo,n.closed=!0;case Lo:case Ro:case No:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),u==Mo&&n.setTagName(t.slice(e,s)),s;case">":switch(u){case Mo:n.setTagName(t.slice(e,s));case jo:case Fo:case Vo:break;case Lo:case Ro:"/"===(c=t.slice(e,s)).slice(-1)&&(n.closed=!0,c=c.slice(0,-1));case No:u===No&&(c=a),u==Lo?(o.warning('attribute "'+c+'" missed quot(")!!'),n.add(a,c.replace(/&#?\w+;/g,r),e)):("http://www.w3.org/1999/xhtml"===i[""]&&c.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),n.add(c,c,e));break;case Do:throw new Error("attribute value missed!!")}return s;case"":l=" ";default:if(l<=" ")switch(u){case Mo:n.setTagName(t.slice(e,s)),u=Fo;break;case Ro:a=t.slice(e,s),u=No;break;case Lo:var c=t.slice(e,s).replace(/&#?\w+;/g,r);o.warning('attribute "'+c+'" missed quot(")!!'),n.add(a,c,e);case jo:u=Fo}else switch(u){case No:n.tagName,"http://www.w3.org/1999/xhtml"===i[""]&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,e),e=s,u=Ro;break;case jo:o.warning('attribute space is required"'+a+'"!!');case Fo:u=Ro,e=s;break;case Do:u=Lo,e=s;break;case Vo:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function Wo(t,e,n){for(var i=t.tagName,r=null,o=t.length;o--;){var a=t[o],s=a.qName,u=a.value;if((h=s.indexOf(":"))>0)var l=a.prefix=s.slice(0,h),c=s.slice(h+1),d="xmlns"===l&&c;else c=s,l=null,d="xmlns"===s&&"";a.localName=c,!1!==d&&(null==r&&(r={},qo(n,n={})),n[d]=r[d]=u,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(d,u))}for(o=t.length;o--;)(l=(a=t[o]).prefix)&&("xml"===l&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(a.uri=n[l||""]));var h;(h=i.indexOf(":"))>0?(l=t.prefix=i.slice(0,h),c=t.localName=i.slice(h+1)):(l=null,c=t.localName=i);var f=t.uri=n[l||""];if(e.startElement(f,c,i,t),!t.closed)return t.currentNSMap=n,t.localNSMap=r,!0;if(e.endElement(f,c,i),r)for(l in r)e.endPrefixMapping(l)}function Zo(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=t.indexOf("</"+n+">",e),a=t.substring(e+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),o)}return e+1}function zo(t,e,n,i){var r=i[n];return null==r&&((r=t.lastIndexOf("</"+n+">"))<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function qo(t,e){for(var n in t)e[n]=t[n]}function $o(t,e,n,i){if("-"===t.charAt(e+2))return"-"===t.charAt(e+3)?(r=t.indexOf("--\x3e",e+4))>e?(n.comment(t,e+4,r-e-4),r+3):(i.error("Unclosed comment"),-1):-1;if("CDATA["==t.substr(e+3,6)){var r=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,r-e-9),n.endCDATA(),r+3}var o=function(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=a>3&&/^public$/i.test(o[2][0])&&o[3][0],l=a>4&&o[4][0],c=o[a-1];return n.startDTD(s,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),c.index+c[0].length}return-1}function Yo(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function Ko(t){}function Xo(t,e){return t.__proto__=e,t}Uo.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),qo(e,e={}),Bo(t,e,n,i,this.errorHandler),i.endDocument()}},Ko.prototype={setTagName:function(t){if(!Io.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!Io.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},Xo({},Xo.prototype)instanceof Xo||(Xo=function(t,e){function n(){}for(e in n.prototype=e,n=new n,t)n[e]=t[e];return n});var Jo=Uo;function Qo(t,e){for(var n in t)e[n]=t[n]}function ta(t,e){var n=t.prototype;if(Object.create){var i=Object.create(e.prototype);n.__proto__=i}if(!(n instanceof e)){var r=function(){};r.prototype=e.prototype,Qo(n,r=new r),t.prototype=n=r}n.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),n.constructor=t)}var ea="http://www.w3.org/1999/xhtml",na={},ia=na.ELEMENT_NODE=1,ra=na.ATTRIBUTE_NODE=2,oa=na.TEXT_NODE=3,aa=na.CDATA_SECTION_NODE=4,sa=na.ENTITY_REFERENCE_NODE=5,ua=na.ENTITY_NODE=6,la=na.PROCESSING_INSTRUCTION_NODE=7,ca=na.COMMENT_NODE=8,da=na.DOCUMENT_NODE=9,ha=na.DOCUMENT_TYPE_NODE=10,fa=na.DOCUMENT_FRAGMENT_NODE=11,pa=na.NOTATION_NODE=12,ga={},ma={},va=(ga.INDEX_SIZE_ERR=(ma[1]="Index size error",1),ga.DOMSTRING_SIZE_ERR=(ma[2]="DOMString size error",2),ga.HIERARCHY_REQUEST_ERR=(ma[3]="Hierarchy request error",3)),ya=(ga.WRONG_DOCUMENT_ERR=(ma[4]="Wrong document",4),ga.INVALID_CHARACTER_ERR=(ma[5]="Invalid character",5),ga.NO_DATA_ALLOWED_ERR=(ma[6]="No data allowed",6),ga.NO_MODIFICATION_ALLOWED_ERR=(ma[7]="No modification allowed",7),ga.NOT_FOUND_ERR=(ma[8]="Not found",8)),_a=(ga.NOT_SUPPORTED_ERR=(ma[9]="Not supported",9),ga.INUSE_ATTRIBUTE_ERR=(ma[10]="Attribute in use",10));function ba(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,ma[t]),this.message=ma[t],Error.captureStackTrace&&Error.captureStackTrace(this,ba);return n.code=t,e&&(this.message=this.message+": "+e),n}function wa(){}function Ta(t,e){this._node=t,this._refresh=e,Sa(this)}function Sa(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);es(t,"length",n.length),Qo(n,t),t._inc=e}}function Ea(){}function Oa(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function Pa(t,e,n,i){if(i?e[Oa(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&Ra(r,t,i),function(t,e,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(e._nsMap[n.prefix?n.localName:""]=n.value)}(r,t,n))}}function Ca(t,e,n){var i=Oa(e,n);if(!(i>=0))throw ba(ya,new Error(t.tagName+"@"+n));for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var o=t.ownerDocument;o&&(Ra(o,t,n),n.ownerElement=null)}}function Aa(t){if(this._features={},t)for(var e in t)this._features=t[e]}function ka(){}function xa(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function Ia(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(Ia(t,e))return!0}while(t=t.nextSibling)}function Ma(){}function Ra(t,e,n,i){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete e._nsMap[n.prefix?n.localName:""]}function Na(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,o=0;r;)i[o++]=r,r=r.nextSibling;i.length=o}}}function Da(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,Na(t.ownerDocument,t),e}function La(t,e,n){var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===fa){var r=e.firstChild;if(null==r)return e;var o=e.lastChild}else r=o=e;var a=n?n.previousSibling:t.lastChild;r.previousSibling=a,o.nextSibling=n,a?a.nextSibling=r:t.firstChild=r,null==n?t.lastChild=o:n.previousSibling=o;do{r.parentNode=t}while(r!==o&&(r=r.nextSibling));return Na(t.ownerDocument||t,t),e.nodeType==fa&&(e.firstChild=e.lastChild=null),e}function ja(){this._nsMap={}}function Fa(){}function Va(){}function Ua(){}function Ba(){}function Ha(){}function Ga(){}function Wa(){}function Za(){}function za(){}function qa(){}function $a(){}function Ya(){}function Ka(t,e){var n=[],i=9==this.nodeType?this.documentElement:this,r=i.prefix,o=i.namespaceURI;if(o&&null==r&&null==(r=i.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return Ja(this,n,t,e,a),n.join("")}function Xa(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!i&&!r)return!1;if("xml"===i&&"http://www.w3.org/XML/1998/namespace"===r||"http://www.w3.org/2000/xmlns/"==r)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix==i)return a.namespace!=r}return!0}function Ja(t,e,n,i,r){if(i){if(!(t=i(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case ia:r||(r=[]),r.length;var o=t.attributes,a=o.length,s=t.firstChild,u=t.tagName;n=ea===t.namespaceURI||n,e.push("<",u);for(var l=0;l<a;l++)"xmlns"==(c=o.item(l)).prefix?r.push({prefix:c.localName,namespace:c.value}):"xmlns"==c.nodeName&&r.push({prefix:"",namespace:c.value});for(l=0;l<a;l++){var c;if(Xa(c=o.item(l),0,r)){var d=c.prefix||"",h=c.namespaceURI,f=d?" xmlns:"+d:" xmlns";e.push(f,'="',h,'"'),r.push({prefix:d,namespace:h})}Ja(c,e,n,i,r)}if(Xa(t,0,r)&&(d=t.prefix||"",h=t.namespaceURI,f=d?" xmlns:"+d:" xmlns",e.push(f,'="',h,'"'),r.push({prefix:d,namespace:h})),s||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),n&&/^script$/i.test(u))for(;s;)s.data?e.push(s.data):Ja(s,e,n,i,r),s=s.nextSibling;else for(;s;)Ja(s,e,n,i,r),s=s.nextSibling;e.push("</",u,">")}else e.push("/>");return;case da:case fa:for(s=t.firstChild;s;)Ja(s,e,n,i,r),s=s.nextSibling;return;case ra:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,xa),'"');case oa:return e.push(t.data.replace(/[<&]/g,xa));case aa:return e.push("<![CDATA[",t.data,"]]>");case ca:return e.push("\x3c!--",t.data,"--\x3e");case ha:var p=t.publicId,g=t.systemId;if(e.push("<!DOCTYPE ",t.name),p)e.push(' PUBLIC "',p),g&&"."!=g&&e.push('" "',g),e.push('">');else if(g&&"."!=g)e.push(' SYSTEM "',g,'">');else{var m=t.internalSubset;m&&e.push(" [",m,"]"),e.push(">")}return;case la:return e.push("<?",t.target," ",t.data,"?>");case sa:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function Qa(t,e,n){var i;switch(e.nodeType){case ia:(i=e.cloneNode(!1)).ownerDocument=t;case fa:break;case ra:n=!0}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var r=e.firstChild;r;)i.appendChild(Qa(t,r,n)),r=r.nextSibling;return i}function ts(t,e,n){var i=new e.constructor;for(var r in e){var o=e[r];"object"!=typeof o&&o!=i[r]&&(i[r]=o)}switch(e.childNodes&&(i.childNodes=new wa),i.ownerDocument=t,i.nodeType){case ia:var a=e.attributes,s=i.attributes=new Ea,u=a.length;s._ownerElement=i;for(var l=0;l<u;l++)i.setAttributeNode(ts(t,a.item(l),!0));break;case ra:n=!0}if(n)for(var c=e.firstChild;c;)i.appendChild(ts(t,c,n)),c=c.nextSibling;return i}function es(t,e,n){t[e]=n}ga.INVALID_STATE_ERR=(ma[11]="Invalid state",11),ga.SYNTAX_ERR=(ma[12]="Syntax error",12),ga.INVALID_MODIFICATION_ERR=(ma[13]="Invalid modification",13),ga.NAMESPACE_ERR=(ma[14]="Invalid namespace",14),ga.INVALID_ACCESS_ERR=(ma[15]="Invalid access",15),ba.prototype=Error.prototype,Qo(ga,ba),wa.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)Ja(this[i],n,t,e);return n.join("")}},Ta.prototype.item=function(t){return Sa(this),this[t]},ta(Ta,wa),Ea.prototype={length:0,item:wa.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new ba(_a);var n=this.getNamedItem(t.nodeName);return Pa(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new ba(_a);return e=this.getNamedItemNS(t.namespaceURI,t.localName),Pa(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return Ca(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return Ca(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}},Aa.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!(!n||e&&!(e in n))},createDocument:function(t,e,n){var i=new Ma;if(i.implementation=this,i.childNodes=new wa,i.doctype=n,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new Ga;return i.name=t,i.nodeName=t,i.publicId=e,i.systemId=n,i}},ka.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return La(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return Da(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return ts(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==oa&&t.nodeType==oa?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var i in n)if(n[i]==t)return i;e=e.nodeType==ra?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==ra?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},Qo(na,ka),Qo(na,ka.prototype),Ma.prototype={nodeName:"#document",nodeType:da,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==fa){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return null==this.documentElement&&t.nodeType==ia&&(this.documentElement=t),La(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),Da(this,t)},importNode:function(t,e){return Qa(this,t,e)},getElementById:function(t){var e=null;return Ia(this.documentElement,(function(n){if(n.nodeType==ia&&n.getAttribute("id")==t)return e=n,!0})),e},createElement:function(t){var e=new ja;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new wa,(e.attributes=new Ea)._ownerElement=e,e},createDocumentFragment:function(){var t=new qa;return t.ownerDocument=this,t.childNodes=new wa,t},createTextNode:function(t){var e=new Ua;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new Ba;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new Ha;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new $a;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new Fa;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new za;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new ja,i=e.split(":"),r=n.attributes=new Ea;return n.childNodes=new wa,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new Fa,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}},ta(Ma,ka),ja.prototype={nodeType:ia,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===fa?this.insertBefore(t,null):function(t,e){var n=e.parentNode;if(n){var i=t.lastChild;n.removeChild(e),i=t.lastChild}return i=t.lastChild,e.parentNode=t,e.previousSibling=i,e.nextSibling=null,i?i.nextSibling=e:t.firstChild=e,t.lastChild=e,Na(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Ta(this,(function(e){var n=[];return Ia(e,(function(i){i===e||i.nodeType!=ia||"*"!==t&&i.tagName!=t||n.push(i)})),n}))},getElementsByTagNameNS:function(t,e){return new Ta(this,(function(n){var i=[];return Ia(n,(function(r){r===n||r.nodeType!==ia||"*"!==t&&r.namespaceURI!==t||"*"!==e&&r.localName!=e||i.push(r)})),i}))}},Ma.prototype.getElementsByTagName=ja.prototype.getElementsByTagName,Ma.prototype.getElementsByTagNameNS=ja.prototype.getElementsByTagNameNS,ta(ja,ka),Fa.prototype.nodeType=ra,ta(Fa,ka),Va.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(ma[va])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){n=this.data.substring(0,t)+n+this.data.substring(t+e),this.nodeValue=this.data=n,this.length=n.length}},ta(Va,ka),Ua.prototype={nodeName:"#text",nodeType:oa,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},ta(Ua,Va),Ba.prototype={nodeName:"#comment",nodeType:ca},ta(Ba,Va),Ha.prototype={nodeName:"#cdata-section",nodeType:aa},ta(Ha,Va),Ga.prototype.nodeType=ha,ta(Ga,ka),Wa.prototype.nodeType=pa,ta(Wa,ka),Za.prototype.nodeType=ua,ta(Za,ka),za.prototype.nodeType=sa,ta(za,ka),qa.prototype.nodeName="#document-fragment",qa.prototype.nodeType=fa,ta(qa,ka),$a.prototype.nodeType=la,ta($a,ka),Ya.prototype.serializeToString=function(t,e,n){return Ka.call(t,e,n)},ka.prototype.toString=Ka;try{if(Object.defineProperty){var ns=function t(e){switch(e.nodeType){case ia:case fa:var n=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(Ta.prototype,"length",{get:function(){return Sa(this),this.$$length}}),Object.defineProperty(ka.prototype,"textContent",{get:function(){return ns(this)},set:function(t){switch(this.nodeType){case ia:case fa:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),es=function(t,e,n){t["$$"+e]=n}}}catch(t){}var is=Aa,rs=Ya,os=s((function(t,e){function n(t){this.options=t||{locator:{}}}function i(){this.cdata=!1}function r(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function o(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function a(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function s(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}n.prototype.parseFromString=function(t,e){var n=this.options,r=new u,a=n.domBuilder||new i,s=n.errorHandler,l=n.locator,c=n.xmlns||{},d={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&a.setDocumentLocator(l),r.errorHandler=function(t,e,n){if(!t){if(e instanceof i)return e;t=e}var r={},a=t instanceof Function;function s(e){var i=t[e];!i&&a&&(i=2==t.length?function(n){t(e,n)}:t),r[e]=i&&function(t){i("[xmldom "+e+"]\t"+t+o(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,a,l),r.domBuilder=n.domBuilder||a,/\/x?html?$/.test(e)&&(d.nbsp="",d.copy="",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",t?r.parse(t,c,d):r.errorHandler.error("invalid doc source"),a.doc},i.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var o=this.doc,a=o.createElementNS(t,n||e),u=i.length;s(this,a),this.currentElement=a,this.locator&&r(this.locator,a);for(var l=0;l<u;l++){t=i.getURI(l);var c=i.getValue(l),d=(n=i.getQName(l),o.createAttributeNS(t,n));this.locator&&r(i.getLocator(l),d),d.value=d.nodeValue=c,a.setAttributeNode(d)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&r(this.locator,n),s(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=a.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(t);else i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&r(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=a.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&r(this.locator,i),s(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var o=i.createDocumentType(t,e,n);this.locator&&r(this.locator,o),s(this,o)}},warning:function(t){console.warn("[xmldom warning]\t"+t,o(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,o(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,o(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){i.prototype[t]=function(){return null}}));var u=Jo,l=e.DOMImplementation=is;e.XMLSerializer=rs,e.DOMParser=n})),as=(os.DOMImplementation,os.XMLSerializer,os.DOMParser),ss=function(t){return!!t&&"object"==typeof t},us=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce((function(e,n){return Object.keys(n).forEach((function(i){Array.isArray(e[i])&&Array.isArray(n[i])?e[i]=e[i].concat(n[i]):ss(e[i])&&ss(n[i])?e[i]=t(e[i],n[i]):e[i]=n[i]})),e}),{})},ls=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},cs=function(t){if(!t.length)return[];for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},ds="INVALID_NUMBER_OF_PERIOD",hs="DASH_EMPTY_MANIFEST",fs="DASH_INVALID_XML",ps="NO_BASE_URL",gs="SEGMENT_TIME_UNSPECIFIED",ms="UNSUPPORTED_UTC_TIMING_SCHEME",vs=function(t){var e=t.baseUrl,n=void 0===e?"":e,i=t.source,r=void 0===i?"":i,o=t.range,a=void 0===o?"":o,s=t.indexRange,u=void 0===s?"":s,l={uri:r,resolvedUri:vo(n||"",r)};if(a||u){var c=(a||u).split("-"),d=parseInt(c[0],10),h=parseInt(c[1],10);l.byterange={length:h-d+1,offset:d}}return l},ys={static:function(t){var e=t.duration,n=t.timescale,i=void 0===n?1:n,r=t.sourceDuration;return{start:0,end:Math.ceil(r/(e/i))}},dynamic:function(t){var e=t.NOW,n=t.clientOffset,i=t.availabilityStartTime,r=t.timescale,o=void 0===r?1:r,a=t.duration,s=t.start,u=void 0===s?0:s,l=t.minimumUpdatePeriod,c=void 0===l?0:l,d=t.timeShiftBufferDepth,h=void 0===d?1/0:d,f=(e+n)/1e3,p=i+u,g=f+c-p,m=Math.ceil(g*o/a),v=Math.floor((f-p-h)*o/a),y=Math.floor((f-p)*o/a);return{start:Math.max(0,v),end:Math.min(m,y)}}},_s=function(t){var e=t.type,n=void 0===e?"static":e,i=t.duration,r=t.timescale,o=void 0===r?1:r,a=t.sourceDuration,s=ys[n](t),u=function(t,e){for(var n=[],i=t;i<e;i++)n.push(i);return n}(s.start,s.end).map(function(t){return function(e,n){var i=t.duration,r=t.timescale,o=void 0===r?1:r,a=t.periodIndex,s=t.startNumber;return{number:(void 0===s?1:s)+e,duration:i/o,timeline:a,time:n*i}}}(t));if("static"===n){var l=u.length-1;u[l].duration=a-i/o*l}return u},bs=function(t){var e=t.baseUrl,n=t.initialization,i=void 0===n?{}:n,r=t.sourceDuration,o=t.indexRange,a=void 0===o?"":o,s=t.duration;if(!e)throw new Error(ps);var u=vs({baseUrl:e,source:i.sourceURL,range:i.range}),l=vs({baseUrl:e,source:e,indexRange:a});if(l.map=u,s){var c=_s(t);c.length&&(l.duration=c[0].duration,l.timeline=c[0].timeline)}else r&&(l.duration=r,l.timeline=0);return l.number=0,[l]},ws=function(t,e,n){for(var i=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,o=t.timeline||0,a=t.sidx.byterange,s=a.offset+a.length,u=e.timescale,l=e.references.filter((function(t){return 1!==t.referenceType})),c=[],d=s+e.firstOffset,h=0;h<l.length;h++){var f=e.references[h],p=f.referencedSize,g=f.subsegmentDuration,m=bs({baseUrl:n,timescale:u,timeline:o,periodIndex:o,duration:g,sourceDuration:r,indexRange:d+"-"+(d+p-1)})[0];i&&(m.map=i),c.push(m),d+=p}return t.segments=c,t},Ts=function(t){return(e=t.reduce((function(t,e){var n,i=e.attributes.id+(e.attributes.lang||"");return t[i]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(n=t[i].segments).push.apply(n,e.segments),e.attributes.contentProtection&&(t[i].attributes.contentProtection=e.attributes.contentProtection)):t[i]=e,t}),{}),Object.keys(e).map((function(t){return e[t]}))).map((function(t){return t.discontinuityStarts=(e=t.segments,n="discontinuity",e.reduce((function(t,e,i){return e[n]&&t.push(i),t}),[])),t;var e,n}));var e},Ss=function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var n in t){var i=t[n];if(i.sidx){var r=i.sidx.uri+"-"+(a=i.sidx.byterange,s=void 0,s=a.offset+a.length-1,a.offset+"-"+s),o=e[r]&&e[r].sidx;i.sidx&&o&&ws(i,o,i.sidx.resolvedUri)}}var a,s;return t},Es=function(t){var e,n=t.attributes,i=t.segments,r=t.sidx,o={attributes:(e={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),r&&(o.sidx=r),o},Os=function(t){var e,n=t.attributes,i=t.segments;void 0===i&&(i=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var r=((e={NAME:n.id,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,e);return n.codecs&&(r.CODECS=n.codecs),{attributes:r,uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1}},Ps=function(t){var e,n=t.attributes,i=t.segments,r=t.sidx,o={attributes:(e={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),r&&(o.sidx=r),o},Cs=function(t,e,n){var i;if(void 0===n&&(n={}),!t.length)return{};var r=t[0].attributes,o=r.sourceDuration,a=r.type,s=void 0===a?"static":a,u=r.suggestedPresentationDelay,l=r.minimumUpdatePeriod,c=Ts(t.filter((function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType}))).map(Ps),d=Ts(t.filter((function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType}))),h=t.filter((function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType})),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(i={AUDIO:{},VIDEO:{}},i["CLOSED-CAPTIONS"]={},i.SUBTITLES={},i),uri:"",duration:o,playlists:Ss(c,n)};return l>=0&&(f.minimumUpdatePeriod=1e3*l),e&&(f.locations=e),"dynamic"===s&&(f.suggestedPresentationDelay=u),d.length&&(f.mediaGroups.AUDIO.audio=function(t,e){var n;void 0===e&&(e={});var i=t.reduce((function(t,i){var r=i.attributes.role&&i.attributes.role.value||"",o=i.attributes.lang||"",a="main";if(o){var s=r?" ("+r+")":"";a=""+i.attributes.lang+s}return t[a]&&t[a].playlists[0].attributes.BANDWIDTH>i.attributes.bandwidth||(t[a]={language:o,autoselect:!0,default:"main"===r,playlists:Ss([Es(i)],e),uri:""},void 0===n&&"main"===r&&((n=i).default=!0)),t}),{});return n||(i[Object.keys(i)[0]].default=!0),i}(d,n)),h.length&&(f.mediaGroups.SUBTITLES.subs=function(t,e){return void 0===e&&(e={}),t.reduce((function(t,n){var i=n.attributes.lang||"text";return t[i]||(t[i]={language:i,default:!1,autoselect:!1,playlists:Ss([Os(n)],e),uri:""}),t}),{})}(h,n)),f},As=function(t,e,n){var i=t.NOW,r=t.clientOffset,o=t.availabilityStartTime,a=t.timescale,s=void 0===a?1:a,u=t.start,l=void 0===u?0:u,c=t.minimumUpdatePeriod,d=(i+r)/1e3+(void 0===c?0:c)-(o+l);return Math.ceil((d*s-e)/n)},ks=function(t,e){for(var n=t.type,i=void 0===n?"static":n,r=t.minimumUpdatePeriod,o=void 0===r?0:r,a=t.media,s=void 0===a?"":a,u=t.sourceDuration,l=t.timescale,c=void 0===l?1:l,d=t.startNumber,h=void 0===d?1:d,f=t.periodIndex,p=[],g=-1,m=0;m<e.length;m++){var v=e[m],y=v.d,_=v.r||0,b=v.t||0;g<0&&(g=b),b&&b>g&&(g=b);var w=void 0;if(_<0){var T=m+1;w=T===e.length?"dynamic"===i&&o>0&&s.indexOf("$Number$")>0?As(t,g,y):(u*c-g)/y:(e[T].t-g)/y}else w=_+1;for(var S=h+p.length+w,E=h+p.length;E<S;)p.push({number:E,duration:y/c,time:g,timeline:f}),g+=y,E++}return p},xs=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Is=function(t,e){return t.replace(xs,function(t){return function(e,n,i,r){if("$$"===e)return"$";if(void 0===t[n])return e;var o=""+t[n];return"RepresentationID"===n?o:(r=i?parseInt(r,10):1,o.length>=r?o:""+new Array(r-o.length+1).join("0")+o)}}(e))},Ms=function(t,e){var n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},i=t.initialization,r=void 0===i?{sourceURL:"",range:""}:i,o=vs({baseUrl:t.baseUrl,source:Is(r.sourceURL,n),range:r.range});return function(t,e){return t.duration||e?t.duration?_s(t):ks(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]}(t,e).map((function(e){n.Number=e.number,n.Time=e.time;var i=Is(t.media||"",n);return{uri:i,timeline:e.timeline,duration:e.duration,resolvedUri:vo(t.baseUrl||"",i),map:o,number:e.number}}))},Rs=function(t,e){var n=t.duration,i=t.segmentUrls,r=void 0===i?[]:i;if(!n&&!e||n&&e)throw new Error(gs);var o,a=r.map((function(e){return function(t,e){var n=t.baseUrl,i=t.initialization,r=void 0===i?{}:i,o=vs({baseUrl:n,source:r.sourceURL,range:r.range}),a=vs({baseUrl:n,source:e.media,range:e.mediaRange});return a.map=o,a}(t,e)}));return n&&(o=_s(t)),e&&(o=ks(t,e)),o.map((function(t,e){if(a[e]){var n=a[e];return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n}})).filter((function(t){return t}))},Ns=function(t){var e,n,i=t.attributes,r=t.segmentInfo;r.template?(n=Ms,e=us(i,r.template)):r.base?(n=bs,e=us(i,r.base)):r.list&&(n=Rs,e=us(i,r.list));var o={attributes:i};if(!n)return o;var a=n(e,r.timeline);if(e.duration){var s=e,u=s.duration,l=s.timescale,c=void 0===l?1:l;e.duration=u/c}else a.length?e.duration=a.reduce((function(t,e){return Math.max(t,Math.ceil(e.duration))}),0):e.duration=0;return o.attributes=e,o.segments=a,r.base&&e.indexRange&&(o.sidx=a[0],o.segments=[]),o},Ds=function(t,e){return cs(t.childNodes).filter((function(t){return t.tagName===e}))},Ls=function(t){return t.textContent.trim()},js=function(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;var n=e.slice(1),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],u=n[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(r||0)+86400*parseFloat(o||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(u||0)},Fs={mediaPresentationDuration:function(t){return js(t)},availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(t){return js(t)},suggestedPresentationDelay:function(t){return js(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return js(t)},start:function(t){return js(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?js(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},Vs=function(t){return t&&t.attributes?cs(t.attributes).reduce((function(t,e){var n=Fs[e.name]||Fs.DEFAULT;return t[e.name]=n(e.value),t}),{}):{}},Us={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Bs=function(t,e){return e.length?ls(t.map((function(t){return e.map((function(e){return vo(t,Ls(e))}))}))):t},Hs=function(t){var e=Ds(t,"SegmentTemplate")[0],n=Ds(t,"SegmentList")[0],i=n&&Ds(n,"SegmentURL").map((function(t){return us({tag:"SegmentURL"},Vs(t))})),r=Ds(t,"SegmentBase")[0],o=n||e,a=o&&Ds(o,"SegmentTimeline")[0],s=n||r||e,u=s&&Ds(s,"Initialization")[0],l=e&&Vs(e);l&&u?l.initialization=u&&Vs(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});var c={template:l,timeline:a&&Ds(a,"S").map((function(t){return Vs(t)})),list:n&&us(Vs(n),{segmentUrls:i,initialization:Vs(u)}),base:r&&us(Vs(r),{initialization:Vs(u)})};return Object.keys(c).forEach((function(t){c[t]||delete c[t]})),c},Gs=function(t,e,n){return function(i){var r=Vs(i),o=Bs(e,Ds(i,"BaseURL")),a=Ds(i,"Role")[0],s={role:Vs(a)},u=us(t,r,s),l=Ds(i,"ContentProtection").reduce((function(t,e){var n=Vs(e),i=Us[n.schemeIdUri];if(i){t[i]={attributes:n};var r=Ds(e,"cenc:pssh")[0];if(r){var o=Ls(r),a=o&&To(o);t[i].pssh=a}}return t}),{});Object.keys(l).length&&(u=us(u,{contentProtection:l}));var c=Hs(i),d=Ds(i,"Representation"),h=us(n,c);return ls(d.map(function(t,e,n){return function(i){var r=Ds(i,"BaseURL"),o=Bs(e,r),a=us(t,Vs(i)),s=Hs(i);return o.map((function(t){return{segmentInfo:us(n,s),attributes:us(a,{baseUrl:t})}}))}}(u,o,h)))}},Ws=function(e,n){return function(i,r){var o=Bs(n,Ds(i,"BaseURL")),a=Vs(i),s=parseInt(a.id,10),u=t.isNaN(s)?r:s,l=us(e,{periodIndex:u}),c=Ds(i,"AdaptationSet"),d=Hs(i);return ls(c.map(Gs(l,o,d)))}},Zs=function(t){if(""===t)throw new Error(hs);var e=(new as).parseFromString(t,"application/xml"),n=e&&"MPD"===e.documentElement.tagName?e.documentElement:null;if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(fs);return n},zs=function(t,e){void 0===e&&(e={});var n=function(t,e){void 0===e&&(e={});var n=e,i=n.manifestUri,r=void 0===i?"":i,o=n.NOW,a=void 0===o?Date.now():o,s=n.clientOffset,u=void 0===s?0:s,l=Ds(t,"Period");if(!l.length)throw new Error(ds);var c=Ds(t,"Location"),d=Vs(t),h=Bs([r],Ds(t,"BaseURL"));return d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=a,d.clientOffset=u,c.length&&(d.locations=c.map(Ls)),{locations:d.locations,representationInfo:ls(l.map(Ws(d,h)))}}(Zs(t),e),i=n.representationInfo.map(Ns);return Cs(i,n.locations,e.sidxMapping)},qs=function(t){return function(t){var e=Ds(t,"UTCTiming")[0];if(!e)return null;var n=Vs(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;default:throw new Error(ms)}return n}(Zs(t))},$s=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t instanceof Uint8Array?t:new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0)},i=function(t){if(!t)return"";t=Array.prototype.slice.call(t);var e=String.fromCharCode.apply(null,n(t));try{return decodeURIComponent(escape(e))}catch(t){}return e},r=function(t,e){void 0===e&&(e=0);var i=(t=n(t))[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?i+20:i+10},o=function t(e,o){return void 0===o&&(o=0),(e=n(e)).length-o<10||"ID3"!==i(e.subarray(o,o+3))?o:t(e,o+=r(e,o))},a={aac:function(t){var e=o(t);return t.length>=e+2&&255==(255&t[e])&&224==(224&t[e+1])&&16==(22&t[e+1])},mp3:function(t){var e=o(t);return t.length>=e+2&&255==(255&t[e])&&224==(224&t[e+1])&&2==(6&t[e+1])},webm:function(t){return t.length>=4&&26==(255&t[0])&&69==(255&t[1])&&223==(255&t[2])&&163==(255&t[3])},mp4:function(t){return t.length>=8&&/^(f|s)typ$/.test(i(t.subarray(4,8)))&&!/^ftyp3g$/.test(i(t.subarray(4,10)))},"3gp":function(t){return t.length>=10&&/^ftyp3g$/.test(i(t.subarray(4,10)))},ts:function(t){if(t.length<189&&t.length>=1)return 71===t[0];for(var e=0;e+188<t.length&&e<188;){if(71===t[e]&&71===t[e+188])return!0;e+=1}return!1},flac:function(t){return t.length>=4&&/^fLaC$/.test(i(t.subarray(0,4)))},ogg:function(t){return t.length>=4&&/^OggS$/.test(i(t.subarray(0,4)))}},s=Object.keys(a).filter((function(t){return"ts"!==t})).concat("ts");s.forEach((function(t){var e=a[t];a[t]=function(t){return e(n(t))}}));e.detectContainerForBytes=function(t){t=n(t);for(var e=0;e<s.length;e++){var i=s[e];if(a[i](t))return i}return""},e.getId3Offset=o,e.id3Size=r,e.isLikely=a,e.isLikelyFmp4MediaSegment=function(t){t=n(t);for(var e=0;e<t.length;){var r=(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0;if("moof"===i(t.subarray(e+4,e+8)))return!0;0===r||r+e>t.length?e=t.length:e+=r}return!1}}));a($s);var Ys=$s.detectContainerForBytes,Ks=$s.getId3Offset,Xs=($s.id3Size,$s.isLikely,$s.isLikelyFmp4MediaSegment),Js=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t instanceof Uint8Array?t:new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0)};e.bytesToString=function(t){if(!t)return"";t=Array.prototype.slice.call(t);var e=String.fromCharCode.apply(null,n(t));try{return decodeURIComponent(escape(e))}catch(t){}return e},e.concatTypedArrays=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e.reduce((function(t,e){return t+(e&&(e.byteLength||e.length)||0)}),0),o=new Uint8Array(r),a=0;return e.forEach((function(t){t=n(t),o.set(t,a),a+=t.byteLength})),o},e.isTypedArray=function(t){return ArrayBuffer.isView(t)},e.stringToBytes=function(t,e){void 0===e&&(e=!1);return"string"!=typeof t&&t&&"function"==typeof t.toString&&(t=t.toString()),"string"!=typeof t?[]:(e||(t=unescape(encodeURIComponent(t))),t.split("").map((function(t){return 255&t.charCodeAt(0)})))},e.toUint8=n}));a(Js),Js.bytesToString;var Qs=Js.concatTypedArrays,tu=(Js.isTypedArray,Js.stringToBytes),eu=Js.toUint8,nu=27,iu=15,ru=21,ou=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,o;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){t={}}}};ou.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},ou.prototype.push=function(t){this.trigger("data",t)},ou.prototype.flush=function(t){this.trigger("done",t)},ou.prototype.partialFlush=function(t){this.trigger("partialdone",t)},ou.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},ou.prototype.reset=function(t){this.trigger("reset",t)};var au="shared",su=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},uu=function t(e){var n,i;t.prototype.init.call(this),this.type_=e||au,this.push=function(t){this.type_!==au&&t.type!==this.type_||(void 0===i&&(i=t.dts),t.dts=su(t.dts,i),t.pts=su(t.pts,i),n=t.dts,this.trigger("data",t))},this.flush=function(){i=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};uu.prototype=new ou;var lu,cu,du,hu,fu=function(t){var e=31&t[1];return(e<<=8)|t[2]},pu=function(t){return!!(64&t[1])},gu=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},mu=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},vu={parseType:function(t,e){var n=fu(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},parsePat:function(t){var e=pu(t),n=4+gu(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},parsePmt:function(t){var e={},n=pu(t),i=4+gu(t);if(n&&(i+=t[i]+1),1&t[i+5]){var r;r=3+((15&t[i+1])<<8|t[i+2])-4;for(var o=12+((15&t[i+10])<<8|t[i+11]);o<r;){var a=i+o;e[(31&t[a+1])<<8|t[a+2]]=t[a],o+=5+((15&t[a+3])<<8|t[a+4])}return e}},parsePayloadUnitStartIndicator:pu,parsePesType:function(t,e){switch(e[fu(t)]){case nu:return"video";case iu:return"audio";case ru:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!pu(t))return null;var e=4+gu(t);if(e>=t.byteLength)return null;var n,i=null;return 192&(n=t[e+7])&&((i={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,i.pts*=4,i.pts+=(6&t[e+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,i.dts*=4,i.dts+=(6&t[e+18])>>>1)),i},videoPacketContainsKeyFrame:function(t){for(var e=4+gu(t),n=t.subarray(e),i=0,r=0,o=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===mu(31&n[r+3])&&(o=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===mu(31&n[r+3])&&(o=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===mu(31&n[r+3])&&(o=!0),o}},yu=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],_u=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return n=n>=0?n:0,(16&t[e+5])>>4?n+20:n+10},bu=function t(e,n){return e.length-n<10||e[n]!=="I".charCodeAt(0)||e[n+1]!=="D".charCodeAt(0)||e[n+2]!=="3".charCodeAt(0)?n:t(e,n+=_u(e,n))},wu=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},Tu={isLikelyAacData:function(t){var e=bu(t,0);return t.length>=e+2&&255==(255&t[e])&&240==(240&t[e+1])&&16==(22&t[e+1])},parseId3TagSize:_u,parseAdtsSize:function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return yu[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,n,i;e=10,64&t[5]&&(e+=4,e+=wu(t.subarray(10,14)));do{if((n=wu(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){i=t.subarray(e+10,e+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r}(i,0,r))){var o=i.subarray(r+1),a=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return(a*=4)+(3&o[7])}break}}e+=10,e+=n}while(e<t.byteLength);return null}},Su=9e4;var Eu=Su,Ou=(lu=function(t){return t*Su},cu=function(t,e){return t*e},du=function(t){return t/Su},hu=function(t,e){return t/e},Eu),Pu=su,Cu={};Cu.ts=vu,Cu.aac=Tu;var Au,ku,xu,Iu=Eu,Mu=188,Ru=71,Nu=function(t,e,n){for(var i,r,o,a,s=0,u=Mu,l=!1;u<=t.byteLength;)if(t[s]!==Ru||t[u]!==Ru&&u!==t.byteLength)s++,u++;else{if(i=t.subarray(s,u),"pes"===Cu.ts.parseType(i,e.pid)&&(r=Cu.ts.parsePesType(i,e.table),o=Cu.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(a=Cu.ts.parsePesTime(i))&&(a.type="audio",n.audio.push(a),l=!0)),l)break;s+=Mu,u+=Mu}for(s=(u=t.byteLength)-Mu,l=!1;s>=0;)if(t[s]!==Ru||t[u]!==Ru&&u!==t.byteLength)s--,u--;else{if(i=t.subarray(s,u),"pes"===Cu.ts.parseType(i,e.pid)&&(r=Cu.ts.parsePesType(i,e.table),o=Cu.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(a=Cu.ts.parsePesTime(i))&&(a.type="audio",n.audio.push(a),l=!0)),l)break;s-=Mu,u-=Mu}},Du=function(t,e,n){for(var i,r,o,a,s,u,l,c=0,d=Mu,h=!1,f={data:[],size:0};d<t.byteLength;)if(t[c]!==Ru||t[d]!==Ru)c++,d++;else{if(i=t.subarray(c,d),"pes"===Cu.ts.parseType(i,e.pid)&&(r=Cu.ts.parsePesType(i,e.table),o=Cu.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(o&&!h&&(a=Cu.ts.parsePesTime(i))&&(a.type="video",n.video.push(a),h=!0),!n.firstKeyFrame))){if(o&&0!==f.size){for(s=new Uint8Array(f.size),u=0;f.data.length;)l=f.data.shift(),s.set(l,u),u+=l.byteLength;if(Cu.ts.videoPacketContainsKeyFrame(s)){var p=Cu.ts.parsePesTime(s);p?(n.firstKeyFrame=p,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}f.size=0}f.data.push(i),f.size+=i.byteLength}if(h&&n.firstKeyFrame)break;c+=Mu,d+=Mu}for(c=(d=t.byteLength)-Mu,h=!1;c>=0;)if(t[c]!==Ru||t[d]!==Ru)c--,d--;else{if(i=t.subarray(c,d),"pes"===Cu.ts.parseType(i,e.pid)&&(r=Cu.ts.parsePesType(i,e.table),o=Cu.ts.parsePayloadUnitStartIndicator(i),"video"===r&&o&&(a=Cu.ts.parsePesTime(i))&&(a.type="video",n.video.push(a),h=!0)),h)break;c-=Mu,d-=Mu}},Lu=function(t){var e={pid:null,table:null},n={};for(var i in function(t,e){for(var n,i=0,r=Mu;r<t.byteLength;)if(t[i]!==Ru||t[r]!==Ru)i++,r++;else{switch(n=t.subarray(i,r),Cu.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=Cu.ts.parsePat(n));break;case"pmt":e.table||(e.table=Cu.ts.parsePmt(n))}if(e.pid&&e.table)return;i+=Mu,r+=Mu}}(t,e),e.table)if(e.table.hasOwnProperty(i))switch(e.table[i]){case nu:n.video=[],Du(t,e,n),0===n.video.length&&delete n.video;break;case iu:n.audio=[],Nu(t,e,n),0===n.audio.length&&delete n.audio}return n},ju=function(t,e){var n;return(n=Cu.aac.isLikelyAacData(t)?function(t){for(var e,n=!1,i=0,r=null,o=null,a=0,s=0;t.length-s>=3;){switch(Cu.aac.parseType(t,s)){case"timed-metadata":if(t.length-s<10){n=!0;break}if((a=Cu.aac.parseId3TagSize(t,s))>t.length){n=!0;break}null===o&&(e=t.subarray(s,s+a),o=Cu.aac.parseAacTimestamp(e)),s+=a;break;case"audio":if(t.length-s<7){n=!0;break}if((a=Cu.aac.parseAdtsSize(t,s))>t.length){n=!0;break}null===r&&(e=t.subarray(s,s+a),r=Cu.aac.parseSampleRate(e)),i++,s+=a;break;default:s++}if(n)return null}if(null===r||null===o)return null;var u=Iu/r;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*i*u,pts:o+1024*i*u}]}}(t):Lu(t))&&(n.audio||n.video)?(function(t,e){if(t.audio&&t.audio.length){var n=e;void 0===n&&(n=t.audio[0].dts),t.audio.forEach((function(t){t.dts=Pu(t.dts,n),t.pts=Pu(t.pts,n),t.dtsTime=t.dts/Iu,t.ptsTime=t.pts/Iu}))}if(t.video&&t.video.length){var i=e;if(void 0===i&&(i=t.video[0].dts),t.video.forEach((function(t){t.dts=Pu(t.dts,i),t.pts=Pu(t.pts,i),t.dtsTime=t.dts/Iu,t.ptsTime=t.pts/Iu})),t.firstKeyFrame){var r=t.firstKeyFrame;r.dts=Pu(r.dts,i),r.pts=Pu(r.pts,i),r.dtsTime=r.dts/Iu,r.ptsTime=r.dts/Iu}}}(n,e),n):null},Fu=function(t){return t>>>0},Vu=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),(e+=String.fromCharCode(t[2]))+String.fromCharCode(t[3])},Uu=Fu,Bu=function t(e,n){var i,r,o,a,s,u=[];if(!n.length)return null;for(i=0;i<e.byteLength;)r=Uu(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),o=Vu(e.subarray(i+4,i+8)),a=r>1?i+r:e.byteLength,o===n[0]&&(1===n.length?u.push(e.subarray(i+8,a)):(s=t(e.subarray(i+8,a),n.slice(1))).length&&(u=u.concat(s))),i=a;return u},Hu=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},Gu=Fu,Wu=Fu,Zu=function(t){return("00"+t.toString(16)).slice(-2)};Au=function(t,e){var n,i,r;return n=Bu(e,["moof","traf"]),i=[].concat.apply([],n.map((function(e){return Bu(e,["tfhd"]).map((function(n){var i,r,o;return i=Wu(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),r=t[i]||9e4,o=Bu(e,["tfdt"]).map((function(t){var e,n;return e=t[0],n=Wu(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=Wu(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n}))[0],(o=o||1/0)/r}))}))),r=Math.min.apply(null,i),isFinite(r)?r:0},ku=function(t){var e=Bu(t,["moov","trak"]),n=[];return e.forEach((function(t){var e,i,r={},o=Bu(t,["tkhd"])[0];o&&(i=(e=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),r.id=0===i?e.getUint32(12):e.getUint32(20));var a=Bu(t,["mdia","hdlr"])[0];if(a){var s=Vu(a.subarray(8,12));r.type="vide"===s?"video":"soun"===s?"audio":s}var u=Bu(t,["mdia","minf","stbl","stsd"])[0];if(u){var l=u.subarray(8);r.codec=Vu(l.subarray(4,8));var c,d=Bu(l,[r.codec])[0];d&&(/^[a-z]vc[1-9]$/i.test(r.codec)?(c=d.subarray(78),"avcC"===Vu(c.subarray(4,8))&&c.length>11?(r.codec+=".",r.codec+=Zu(c[9]),r.codec+=Zu(c[10]),r.codec+=Zu(c[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)&&(c=d.subarray(28),"esds"===Vu(c.subarray(4,8))&&c.length>20&&0!==c[19]?(r.codec+="."+Zu(c[19]),r.codec+="."+Zu(c[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"))}var h=Bu(t,["mdia","mdhd"])[0];h&&(r.timescale=xu(h)),n.push(r)})),n};var zu=Au,qu=ku,$u=(xu=function(t){var e=0===t[0]?12:20;return Wu(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])},s((function(e,n){function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(t),o={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/},a=function(t){return t?t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t,e,n){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):t},s=function(t){return t.map(a)},u=function(t){void 0===t&&(t="");var e=t.split(","),n={};return e.forEach((function(t){t=t.trim(),["video","audio"].forEach((function(e){var i=o[e].exec(t.toLowerCase());if(i&&!(i.length<=1)){var r=t.substring(0,i[1].length),a=t.replace(r,"");n[e]={type:r,details:a}}}))})),n},l=function(t){return void 0===t&&(t=""),o.audio.test(t.trim().toLowerCase())},c=function(t){if(t&&"string"==typeof t){var e=t.toLowerCase().split(",").map((function(t){return a(t.trim())})),n="video";1===e.length&&l(e[0])&&(n="audio");var i="mp4";return e.every((function(t){return o.mp4.test(t)}))?i="mp4":e.every((function(t){return o.webm.test(t)}))?i="webm":e.every((function(t){return o.ogg.test(t)}))&&(i="ogg"),n+"/"+i+';codecs="'+t+'"'}};n.DEFAULT_AUDIO_CODEC="mp4a.40.2",n.DEFAULT_VIDEO_CODEC="avc1.4d400d",n.browserSupportsCodec=function(t){return void 0===t&&(t=""),r.default.MediaSource&&r.default.MediaSource.isTypeSupported&&r.default.MediaSource.isTypeSupported(c(t))||!1},n.codecsFromDefault=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var n=t.mediaGroups.AUDIO[e];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return u(r.playlists[0].attributes.CODECS)}return null},n.getMimeForCodec=c,n.isAudioCodec=l,n.isVideoCodec=function(t){return void 0===t&&(t=""),o.video.test(t.trim().toLowerCase())},n.mapLegacyAvcCodecs=function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t){return s([t])[0]}))},n.muxerSupportsCodec=function(t){return void 0===t&&(t=""),t.toLowerCase().split(",").every((function(t){return t=t.trim(),o.muxerVideo.test(t)||o.muxerAudio.test(t)}))},n.parseCodecs=u,n.translateLegacyCodec=a,n.translateLegacyCodecs=s})));a($u);var Yu,Ku=$u.DEFAULT_AUDIO_CODEC,Xu=$u.DEFAULT_VIDEO_CODEC,Ju=$u.browserSupportsCodec,Qu=$u.codecsFromDefault,tl=$u.getMimeForCodec,el=$u.isAudioCodec,nl=$u.isVideoCodec,il=($u.mapLegacyAvcCodecs,$u.muxerSupportsCodec),rl=$u.parseCodecs,ol=$u.translateLegacyCodec,al=($u.translateLegacyCodecs,vo),sl=function(t,e,n){return t&&n&&n.responseURL&&e!==n.responseURL?n.responseURL:e},ul=lo.log,ll=function(t,e){return t+"-"+e},cl=function(t){var e=t.manifestString,n=t.customTagParsers,i=void 0===n?[]:n,r=t.customTagMappers,o=void 0===r?[]:r,a=new Po;return i.forEach((function(t){return a.addParser(t)})),o.forEach((function(t){return a.addTagMapper(t)})),a.push(e),a.end(),a.manifest},dl=function(t,e){["AUDIO","SUBTITLES"].forEach((function(n){for(var i in t.mediaGroups[n])for(var r in t.mediaGroups[n][i]){var o=t.mediaGroups[n][i][r];e(o,n,i,r)}}))},hl=function(t){var e=t.playlist,n=t.uri,i=t.id;e.id=i,n&&(e.uri=n),e.attributes=e.attributes||{}},fl=function(t,e){t.uri=e;for(var n=0;n<t.playlists.length;n++)if(!t.playlists[n].uri){var i="placeholder-uri-"+n;t.playlists[n].uri=i}dl(t,(function(e,n,i,r){if(e.playlists&&e.playlists.length&&!e.playlists[0].uri){var o="placeholder-uri-"+n+"-"+i+"-"+r,a=ll(0,o);e.playlists[0].uri=o,e.playlists[0].id=a,t.playlists[a]=e.playlists[0],t.playlists[o]=e.playlists[0]}})),function(t){for(var e=t.playlists.length;e--;){var n=t.playlists[e];hl({playlist:n,id:ll(e,n.uri)}),n.resolvedUri=al(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||ul.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(t),function(t){dl(t,(function(e){e.uri&&(e.resolvedUri=al(t.uri,e.uri))}))}(t)},pl=lo.mergeOptions,gl=lo.EventTarget,ml=function(t,e){t.resolvedUri||(t.resolvedUri=al(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=al(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=al(e,t.map.uri))},vl=function(t,e){var n=pl(t,{}),i=n.playlists[e.id];if(!i)return null;if(i.segments&&e.segments&&i.segments.length===e.segments.length&&i.endList===e.endList&&i.mediaSequence===e.mediaSequence)return null;var r=pl(i,e);i.segments&&(r.segments=function(t,e,n){var i=e.slice();n=n||0;for(var r=Math.min(t.length,e.length+n),o=n;o<r;o++)i[o-n]=pl(t[o],i[o-n]);return i}(i.segments,e.segments,e.mediaSequence-i.mediaSequence)),r.segments.forEach((function(t){ml(t,r.resolvedUri)}));for(var o=0;o<n.playlists.length;o++)n.playlists[o].id===e.id&&(n.playlists[o]=r);return n.playlists[e.id]=r,n.playlists[e.uri]=r,n},yl=function(t,e){var n=t.segments[t.segments.length-1];return e&&n&&n.duration?1e3*n.duration:500*(t.targetDuration||10)},_l=function(e){function n(t,n,i){var r;if(void 0===i&&(i={}),r=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");var o=i,a=o.withCredentials,s=void 0!==a&&a,u=o.handleManifestRedirects,l=void 0!==u&&u;r.src=t,r.vhs_=n,r.withCredentials=s,r.handleManifestRedirects=l;var c=n.options_;return r.customTagParsers=c&&c.customTagParsers||[],r.customTagMappers=c&&c.customTagMappers||[],r.state="HAVE_NOTHING",r.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.vhs_.xhr({uri:al(r.master.uri,r.media().uri),withCredentials:r.withCredentials},(function(t,e){if(r.request)return t?r.playlistRequestError(r.request,r.media(),"HAVE_METADATA"):void r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})})))})),r}Gt(n,e);var i=n.prototype;return i.playlistRequestError=function(t,e,n){var i=e.uri,r=e.id;this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[r],status:t.status,message:"HLS playlist request error at URL: "+i+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")},i.haveMetadata=function(e){var n=this,i=e.playlistString,r=e.playlistObject,o=e.url,a=e.id;this.request=null,this.state="HAVE_METADATA";var s=r||cl({manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers});hl({playlist:s,uri:o,id:a});var u=vl(this.master,s);this.targetDuration=s.targetDuration,u?(this.master=u,this.media_=this.master.playlists[a]):this.trigger("playlistunchanged"),this.media().endList||(t.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=t.setTimeout((function(){n.trigger("mediaupdatetimeout")}),yl(this.media(),!!u))),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},i.media=function(e,n){var i=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(t.clearTimeout(this.finalRenditionTimeout),n){var r=e.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=t.setTimeout(this.media.bind(this,e,!1),r)}else{var o=this.state,a=!this.media_||e.id!==this.media_.id;if(this.master.playlists[e.id].endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),"HAVE_MASTER"===o?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(a){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,n){if(i.request){if(e.resolvedUri=sl(i.handleManifestRedirects,e.resolvedUri,n),t)return i.playlistRequestError(i.request,e,o);i.haveMetadata({playlistString:n.responseText,url:e.uri,id:e.id}),"HAVE_MASTER"===o?i.trigger("loadedmetadata"):i.trigger("mediachange")}}))}}},i.pause=function(){this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},i.load=function(e){var n=this;t.clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(e){var r=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=t.setTimeout((function(){return n.load()}),r)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},i.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=t.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=sl(e.handleManifestRedirects,e.src,n);var i=cl({manifestString:n.responseText,customTagParsers:e.customTagParsers,customTagMappers:e.customTagMappers});e.setupInitialPlaylist(i)}}))},i.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},i.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,fl(this.master,this.srcUri()),e.playlists.forEach((function(t){t.segments&&t.segments.forEach((function(e){ml(e,t.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var n=this.srcUri()||t.location.href;this.master=function(e,n){var i=ll(0,n),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:t.location.href,resolvedUri:t.location.href,playlists:[{uri:n,id:i,resolvedUri:n,attributes:{}}]};return r.playlists[i]=r.playlists[0],r.playlists[n]=r.playlists[0],r}(0,n),this.haveMetadata({playlistObject:e,url:n,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},n}(gl),bl=1/30,wl=.1,Tl=function(t,e){var n,i=[];if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&i.push([t.start(n),t.end(n)]);return lo.createTimeRanges(i)},Sl=function(t,e){return Tl(t,(function(t,n){return t-wl<=e&&n+wl>=e}))},El=function(t,e){return Tl(t,(function(t){return t-bl>=e}))},Ol=function(t){var e=[];if(!t||!t.length)return"";for(var n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},Pl=function(t){for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},Cl=lo.createTimeRange,Al=function(t,e,n){if(void 0===e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;var i=function(t,e){var n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=t.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=r.duration,void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(t,e);if(i.precise)return i.result;var r=function(t,e){for(var n,i=0,r=e-t.mediaSequence;r<t.segments.length;r++){if(void 0!==(n=t.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=n.duration,void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(t,e);return r.precise?r.result:i.result+n},kl=function(e,n,i){if(!e)return 0;if("number"!=typeof i&&(i=0),void 0===n){if(e.totalDuration)return e.totalDuration;if(!e.endList)return t.Infinity}return Al(e,n,i)},xl=function(t,e,n){var i=0;if(e>n){var r=[n,e];e=r[0],n=r[1]}if(e<0){for(var o=e;o<Math.min(0,n);o++)i+=t.targetDuration;e=0}for(var a=e;a<n;a++)i+=t.segments[a].duration;return i},Il=function(t,e){if(!t.segments.length)return 0;var n=t.segments.length,i=t.segments[n-1].duration||t.targetDuration,r="number"==typeof e?e:i+2*t.targetDuration;if(0===r)return n;for(var o=0;n--&&!((o+=t.segments[n].duration)>=r););return Math.max(0,n)},Ml=function(t,e,n,i){if(!t||!t.segments)return null;if(t.endList)return kl(t);if(null===e)return null;e=e||0;var r=n?Il(t,i):t.segments.length;return Al(t,t.mediaSequence+r,e)},Rl=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Nl=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Dl=function(t){var e=Rl(t);return!t.disabled&&!e},Ll=function(t,e){return e.attributes&&e.attributes[t]},jl=function(t,e){if(1===t.playlists.length)return!0;var n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter((function(t){return!!Dl(t)&&(t.attributes.BANDWIDTH||0)<n})).length},Fl={duration:kl,seekable:function(t,e,n){var i=e||0,r=Ml(t,e,!0,n);return null===r?Cl():Cl(i,r)},safeLiveIndex:Il,getMediaInfoForTime:function(t,e,n,i){var r,o=t.segments.length,a=e-i;if(a<0){if(n>0)for(r=n-1;r>=0;r--)if((a+=t.segments[r].duration+bl)>0)return{mediaIndex:r,startTime:i-xl(t,n,r)};return{mediaIndex:0,startTime:e}}if(n<0){for(r=n;r<0;r++)if((a-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};n=0}for(r=n;r<o;r++)if((a-=t.segments[r].duration+bl)<0)return{mediaIndex:r,startTime:i+xl(t,n,r)};return{mediaIndex:o-1,startTime:e}},isEnabled:Dl,isDisabled:function(t){return t.disabled},isBlacklisted:Rl,isIncompatible:Nl,playlistEnd:Ml,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},hasAttribute:Ll,estimateSegmentRequestTime:function(t,e,n,i){return void 0===i&&(i=0),Ll("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-8*i)/e:NaN},isLowestEnabledRendition:jl},Vl=lo.xhr,Ul=lo.mergeOptions,Bl=function(t,e,n,i){var r="arraybuffer"===t.responseType?t.response:t.responseText;!e&&r&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=r.byteLength||r.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&"ETIMEDOUT"===e.code&&(t.timedout=!0),e||t.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(e=new Error("XHR Failed with a response of: "+(t&&(r||t.responseText)))),i(e,t)},Hl=function(){return function t(e,n){e=Ul({timeout:45e3},e);var i=t.beforeRequest||lo.Vhs.xhr.beforeRequest;if(i&&"function"==typeof i){var r=i(e);r&&(e=r)}var o=Vl(e,(function(t,e){return Bl(o,t,e,n)})),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=e.uri,o.requestTime=Date.now(),o}},Gl=function(t){var e,n,i={};return t.byterange&&(i.Range=(e=t.byterange,n=e.offset+e.length-1,"bytes="+e.offset+"-"+n)),i},Wl=function(t,e){return t.start(e)+"-"+t.end(e)},Zl=function(t,e){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},zl=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},ql=function(t){var e={};return Object.keys(t).forEach((function(n){var i=t[n];ArrayBuffer.isView(i)?e[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[n]=i})),e},$l=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},Yl=function(t){return t.resolvedUri},Kl=function(t){for(var e=Array.prototype.slice.call(t),n=16,i="",r=0;r<e.length/n;r++)i+=e.slice(r*n,r*n+n).map(Zl).join("")+" "+e.slice(r*n,r*n+n).map(zl).join("")+"\n";return i},Xl=Object.freeze({__proto__:null,createTransferableMessage:ql,initSegmentId:$l,segmentKeyId:Yl,hexDump:Kl,tagDump:function(t){var e=t.bytes;return Kl(e)},textRanges:function(t){var e,n="";for(e=0;e<t.length;e++)n+=Wl(t,e)+" ";return n}}),Jl=function(t){var e=t.playlist,n=t.time,i=void 0===n?void 0:n,r=t.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===i)return r({message:"getProgramTime: playlist and time must be provided"});var o=function(t,e){if(!e||!e.segments||0===e.segments.length)return null;for(var n,i=0,r=0;r<e.segments.length&&!(t<=(i=(n=e.segments[r]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration));r++);var o=e.segments[e.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+.25*o.duration)return null;n=o}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(i,e);if(!o)return r({message:"valid programTime was not found"});if("estimate"===o.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:i},s=function(t,e){if(!e.dateTimeObject)return null;var n=e.videoTimingInfo.transmuxerPrependedSeconds,i=t-(e.videoTimingInfo.transmuxedPresentationStart+n);return new Date(e.dateTimeObject.getTime()+1e3*i)}(i,o.segment);return s&&(a.programDateTime=s.toISOString()),r(null,a)},Ql=function t(e){var n=e.programTime,i=e.playlist,r=e.retryCount,o=void 0===r?2:r,a=e.seekTo,s=e.pauseAfterSeek,u=void 0===s||s,l=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(void 0===n||!i||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(t){if(!t.segments||0===t.segments.length)return!1;for(var e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0}(i))return c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var d=function(t,e){var n;try{n=new Date(t)}catch(t){return null}if(!e||!e.segments||0===e.segments.length)return null;var i=e.segments[0];if(n<i.dateTimeObject)return null;for(var r=0;r<e.segments.length-1&&(i=e.segments[r],!(n<e.segments[r+1].dateTimeObject));r++);var o,a=e.segments[e.segments.length-1],s=a.dateTimeObject,u=a.videoTimingInfo?(o=a.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:a.duration+.25*a.duration;return n>new Date(s.getTime()+1e3*u)?null:(n>s&&(i=a),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:Fl.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})}(n,i);if(!d)return c({message:n+" was not found in the stream"});var h=d.segment,f=function(t,e){var n,i;try{n=new Date(t),i=new Date(e)}catch(t){}var r=n.getTime();return(i.getTime()-r)/1e3}(h.dateTimeObject,n);if("estimate"===d.type)return 0===o?c({message:n+" is not buffered yet. Try again"}):(a(d.estimatedStart+f),void l.one("seeked",(function(){t({programTime:n,playlist:i,retryCount:o-1,seekTo:a,pauseAfterSeek:u,tech:l,callback:c})})));var p=h.start+f;l.one("seeked",(function(){return c(null,l.currentTime())})),u&&l.pause(),a(p)},tc=function(t,e){if(4===t.readyState)return e()},ec=lo.EventTarget,nc=lo.mergeOptions,ic=function(t){var e=t.masterXml,n=t.srcUrl,i=t.clientOffset,r=t.sidxMapping,o=zs(e,{manifestUri:n,clientOffset:i,sidxMapping:r});return fl(o,n),o},rc=function(t,e){for(var n=!0,i=nc(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),r=0;r<e.playlists.length;r++){var o=vl(i,e.playlists[r]);o&&(i=o,n=!1)}return dl(e,(function(t,e,r,o){if(t.playlists&&t.playlists.length){var a=t.playlists[0].id,s=vl(i,t.playlists[0]);s&&((i=s).mediaGroups[e][r][o].playlists[0]=i.playlists[a],n=!1)}})),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:i},oc=function(t){var e=t.byterange.offset+t.byterange.length-1;return t.uri+"-"+t.byterange.offset+"-"+e},ac=function(t,e){var n,i,r={};for(var o in t){var a=t[o].sidx;if(a){var s=oc(a);if(!e[s])break;var u=e[s].sidxInfo;n=u,i=a,(Boolean(!n.map&&!i.map)||Boolean(n.map&&i.map&&n.map.byterange.offset===i.map.byterange.offset&&n.map.byterange.length===i.map.byterange.length))&&n.uri===i.uri&&n.byterange.offset===i.byterange.offset&&n.byterange.length===i.byterange.length&&(r[s]=e[s])}}return r},sc=function(t,e,n,i,r,o){var a={uri:sl(r.handleManifestRedirects,e.resolvedUri),byterange:e.byterange,playlist:n},s=lo.mergeOptions(a,{responseType:"arraybuffer",headers:Gl(a)});return function(t,e,n){var i,r=[],o=!1,a=function(t,e,i,r){return e.abort(),o=!0,n(t,e,i,r)},s=function(t,e){if(!o){if(t)return a(t,e,"",r);var n=e.responseText.substring(r&&r.byteLength||0,e.responseText.length);if(r=Qs(r,tu(n,!0)),i=i||Ks(r),r.length<10||i&&r.length<i+2)return tc(e,(function(){return a(t,e,"",r)}));var s=Ys(r);return"ts"===s&&r.length<188||!s&&r.length<376?tc(e,(function(){return a(t,e,"",r)})):a(null,e,s,r)}},u={uri:t,beforeSend:function(t){t.overrideMimeType("text/plain; charset=x-user-defined"),t.addEventListener("progress",(function(e){return e.total,e.loaded,Bl(t,null,{statusCode:t.status},s)}))}},l=e(u,(function(t,e){return Bl(l,t,e,s)}));return l}(a.uri,i,(function(e,r,u,l){if(e)return o(e,r);if(!u||"mp4"!==u)return o({status:r.status,message:"Unsupported "+(u||"unknown")+" container type for sidx segment at URL: "+a.uri,response:"",playlist:n,internal:!0,blacklistDuration:1/0,code:2},r);var c=a.byterange,d=c.offset,h=c.length;if(l.length>=h+d)return o(e,{response:l.subarray(d,d+h),status:r.status,uri:r.uri});t.request=i(s,o)}))},uc=function(e){function n(t,n,i,r){var o;void 0===i&&(i={}),o=e.call(this)||this;var a=i,s=a.withCredentials,u=void 0!==s&&s,l=a.handleManifestRedirects,c=void 0!==l&&l;if(o.vhs_=n,o.withCredentials=u,o.handleManifestRedirects=c,!t)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",(function(){o.refreshXml_()})),o.on("mediaupdatetimeout",(function(){o.refreshMedia_(o.media().id)})),o.state="HAVE_NOTHING",o.loadedPlaylists_={},"string"==typeof t?(o.srcUrl=t,o.sidxMapping_={},Bt(o)):(o.setupChildLoader(r,t),o)}Gt(n,e);var i=n.prototype;return i.setupChildLoader=function(t,e){this.masterPlaylistLoader_=t,this.childPlaylist_=e},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},t.clearTimeout(this.minimumUpdatePeriodTimeout_),t.clearTimeout(this.mediaRequest_),t.clearTimeout(this.mediaUpdateTimeout),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},i.sidxRequestFinished_=function(t,e,n,i){var r=this;return function(o,a){if(r.request){if(r.request=null,o)return r.error="object"==typeof o?o:{status:a.status,message:"DASH playlist request error at URL: "+t.uri,response:a.response,code:2},n&&(r.state=n),void r.trigger("error");var s=function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(e=24;r;e+=12,r--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return i}(eu(a.response).subarray(8));return i(e,s)}}},i.media=function(e){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r)if(this.media_&&this.trigger("mediachanging"),e.sidx){var o,a;this.masterPlaylistLoader_?(o=this.masterPlaylistLoader_.master,a=this.masterPlaylistLoader_.sidxMapping_):(o=this.master,a=this.sidxMapping_);var s=oc(e.sidx);a[s]={sidxInfo:e.sidx},this.request=sc(this,e.sidx,e,this.vhs_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(e,o,i,(function(t,r){if(!t||!r)throw new Error("failed to request sidx");a[s].sidx=r,n.haveMetadata({startingState:i,playlist:t.playlists[e.id]})})))}else this.mediaRequest_=t.setTimeout(this.haveMetadata.bind(this,{startingState:i,playlist:e}),0)},i.haveMetadata=function(t){var e=t.startingState,n=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),"HAVE_MASTER"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")},i.pause=function(){this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)},i.load=function(e){var n=this;t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.minimumUpdatePeriodTimeout_);var i=this.media();if(e){var r=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=t.setTimeout((function(){return n.load()}),r)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},i.start=function(){var e=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=t.setTimeout(this.haveMaster_.bind(this),0):this.request=this.vhs_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?e.masterLoaded_=Date.parse(n.responseHeaders.date):e.masterLoaded_=Date.now(),e.srcUrl=sl(e.handleManifestRedirects,e.srcUrl,n),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}}))},i.syncClientServerClock_=function(t){var e=this,n=qs(this.masterXml_);return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),t()):void(this.request=this.vhs_.xhr({uri:al(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(i,r){if(e.request){if(i)return e.clientOffset_=e.masterLoaded_-Date.now(),t();var o;o="HEAD"===n.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):e.masterLoaded_:Date.parse(r.responseText),e.clientOffset_=o-Date.now(),t()}})))},i.haveMaster_=function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.updateMainManifest_(ic({masterXml:this.masterXml_,srcUrl:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_})),this.trigger("loadedplaylist"))},i.updateMinimumUpdatePeriodTimeout_=function(){var e=this;t.clearTimeout(this.minimumUpdatePeriodTimeout_);var n=function(n){e.minimumUpdatePeriodTimeout_=t.setTimeout((function(){e.trigger("minimumUpdatePeriod")}),n)},i=this.master&&this.master.minimumUpdatePeriod;i>0?n(i):0===i&&(this.media()?n(1e3*this.media().targetDuration):this.one("loadedplaylist",(function(){n(1e3*e.media().targetDuration)})))},i.onClientServerClockSync_=function(){this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.updateMinimumUpdatePeriodTimeout_()},i.updateMainManifest_=function(t){if(this.master=t,this.master.locations&&this.master.locations.length){var e=this.master.locations[0];e!==this.srcUrl&&(this.srcUrl=e)}},i.refreshXml_=function(){var t=this;this.request=this.vhs_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=n.responseText,t.sidxMapping_=function(t,e,n,i){var r=zs(t,{manifestUri:e,clientOffset:n}),o=ac(r.playlists,i);return dl(r,(function(t,e,n,r){if(t.playlists&&t.playlists.length){var a=t.playlists;o=nc(o,ac(a,i))}})),o}(t.masterXml_,t.srcUrl,t.clientOffset_,t.sidxMapping_);var i=ic({masterXml:t.masterXml_,srcUrl:t.srcUrl,clientOffset:t.clientOffset_,sidxMapping:t.sidxMapping_}),r=rc(t.master,i),o=t.media().sidx;if(r)if(o){var a=oc(o);if(!t.sidxMapping_[a]){var s=t.media();t.request=sc(t,s.sidx,s,t.vhs_.xhr,{handleManifestRedirects:t.handleManifestRedirects},t.sidxRequestFinished_(s,i,t.state,(function(e,n){if(!e||!n)throw new Error("failed to request sidx on minimumUpdatePeriod");t.sidxMapping_[a].sidx=n,t.updateMinimumUpdatePeriodTimeout_(),t.refreshMedia_(t.media().id)})))}}else t.updateMainManifest_(r),t.media_&&(t.media_=t.master.playlists[t.media_.id]);t.updateMinimumUpdatePeriodTimeout_()}}))},i.refreshMedia_=function(e){var n,i,r=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.masterPlaylistLoader_?(n=this.masterPlaylistLoader_.master,i=ic({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_})):(n=this.master,i=ic({masterXml:this.masterXml_,srcUrl:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_}));var o=rc(n,i);o?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=o:this.master=o,this.media_=o.playlists[e]):(this.media_=n.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=t.setTimeout((function(){r.trigger("mediaupdatetimeout")}),yl(this.media(),!!o))),this.trigger("loadedplaylist")},n}(ec),lc={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},cc=function(t){for(var e=new Uint8Array(new ArrayBuffer(t.length)),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},dc=[],hc=function(t){var e=t.transmuxer,n=t.bytes,i=t.audioAppendStart,r=t.gopsToAlignWith,o=t.isPartial,a=t.remux,s=t.onData,u=t.onTrackInfo,l=t.onAudioTimingInfo,c=t.onVideoTimingInfo,d=t.onVideoSegmentTimingInfo,h=t.onId3,f=t.onCaptions,p=t.onDone,g={isPartial:o,buffer:[]};if(e.onmessage=function(t){Yu&&("data"===t.data.action&&function(t,e,n){var i=t.data.segment,r=i.type,o=i.initSegment,a=i.captions,s=i.captionStreams,u=i.metadata,l=i.videoFrameDtsTime,c=i.videoFramePtsTime;e.buffer.push({captions:a,captionStreams:s,metadata:u});var d=t.data.segment.boxes||{data:t.data.segment.data},h={type:r,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(o.data,o.byteOffset,o.byteLength)};void 0!==l&&(h.videoFrameDtsTime=l),void 0!==c&&(h.videoFramePtsTime=c),n(h)}(t,g,s),"trackinfo"===t.data.action&&u(t.data.trackInfo),"gopInfo"===t.data.action&&function(t,e){e.gopInfo=t.data.gopInfo}(t,g),"audioTimingInfo"===t.data.action&&l(t.data.audioTimingInfo),"videoTimingInfo"===t.data.action&&c(t.data.videoTimingInfo),"videoSegmentTimingInfo"===t.data.action&&d(t.data.videoSegmentTimingInfo),"id3Frame"===t.data.action&&h([t.data.id3Frame],t.data.id3Frame.dispatchType),"caption"===t.data.action&&f(t.data.caption),"transmuxed"===t.data.type&&(e.onmessage=null,function(t){var e=t.transmuxedData,n=t.callback;e.buffer=[],n(e)}({transmuxedData:g,callback:p}),fc()))},i&&e.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==a&&e.postMessage({action:"setRemux",remux:a}),n.byteLength){var m=n instanceof ArrayBuffer?n:n.buffer,v=n instanceof ArrayBuffer?0:n.byteOffset;e.postMessage({action:"push",data:m,byteOffset:v,byteLength:n.byteLength},[m])}e.postMessage({action:o?"partialFlush":"flush"})},fc=function(){Yu=null,dc.length&&("function"==typeof(Yu=dc.shift())?Yu():hc(Yu))},pc=function(t,e){t.postMessage({action:e}),fc()},gc=function(t,e){if(!Yu)return Yu=t,void pc(e,t);dc.push(pc.bind(null,e,t))},mc=function(t){if(!Yu)return Yu=t,void hc(t);dc.push(t)},vc=function(t){gc("reset",t)},yc=function(){Yu=null,dc.length=0},_c=function(t){gc("endTimeline",t)},bc=2,wc=-101,Tc=-102,Sc=function(t){t.forEach((function(t){t.abort()}))},Ec=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:wc,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Tc,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:bc,xhr:e}:null},Oc=function(t){var e=t.segment,n=t.bytes,i=t.isPartial,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn,d=e.map&&e.map.tracks||{},h=Boolean(d.audio&&d.video),f=o.bind(null,e,"audio","start"),p=o.bind(null,e,"audio","end"),g=o.bind(null,e,"video","start"),m=o.bind(null,e,"video","end");if(!i&&!e.lastReachedChar){var v=function(t,e){var n=ju(t,e*Ou);if(!n)return null;var i={hasVideo:n.video&&2===n.video.length||!1,hasAudio:n.audio&&2===n.audio.length||!1};return i.hasVideo&&(i.videoStart=n.video[0].ptsTime),i.hasAudio&&(i.audioStart=n.audio[0].ptsTime),i}(n,e.baseStartTime);v&&(r(e,{hasAudio:v.hasAudio,hasVideo:v.hasVideo,isMuxed:h}),r=null,v.hasAudio&&!h&&f(v.audioStart),v.hasVideo&&g(v.videoStart),f=null,g=null)}mc({bytes:n,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,isPartial:i,remux:h,onData:function(t){t.type="combined"===t.type?"video":t.type,l(e,t)},onTrackInfo:function(t){r&&(h&&(t.isMuxed=!0),r(e,t))},onAudioTimingInfo:function(t){f&&void 0!==t.start&&(f(t.start),f=null),p&&void 0!==t.end&&p(t.end)},onVideoTimingInfo:function(t){g&&void 0!==t.start&&(g(t.start),g=null),m&&void 0!==t.end&&m(t.end)},onVideoSegmentTimingInfo:function(t){a(t)},onId3:function(t,n){s(e,t,n)},onCaptions:function(t){u(e,[t])},onDone:function(t){c&&!i&&(t.type="combined"===t.type?"video":t.type,c(null,e,t))}})},Pc=function(t){var e=t.segment,n=t.bytes,i=t.isPartial,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn,d=new Uint8Array(n);if(Xs(d)){e.isFmp4=!0;var h=e.map.tracks,f={isFmp4:!0,hasVideo:!!h.video,hasAudio:!!h.audio};h.audio&&h.audio.codec&&"enca"!==h.audio.codec&&(f.audioCodec=h.audio.codec),h.video&&h.video.codec&&"encv"!==h.video.codec&&(f.videoCodec=h.video.codec),h.video&&h.audio&&(f.isMuxed=!0),r(e,f);var p=zu(e.map.timescales,d);f.hasAudio&&!f.isMuxed&&o(e,"audio","start",p),f.hasVideo&&o(e,"video","start",p);var g=function(t){l(e,{data:n,type:f.hasAudio&&!f.isMuxed?"audio":"video"}),t&&t.length&&u(e,t),c(null,e,{})};if(!h.video||!n.byteLength||!e.transmuxer)return void g();var m=n instanceof ArrayBuffer?n:n.buffer,v=n instanceof ArrayBuffer?0:n.byteOffset;return e.transmuxer.addEventListener("message",(function t(i){if("mp4Captions"===i.data.action){e.transmuxer.removeEventListener("message",t);var r=i.data.data;e.bytes=n=new Uint8Array(r,r.byteOffset||0,r.byteLength),g(i.data.captions)}})),void e.transmuxer.postMessage({action:"pushMp4Captions",timescales:e.map.timescales,trackIds:[h.video.id],data:m,byteOffset:v,byteLength:n.byteLength},[m])}if(e.transmuxer){if(void 0===e.container&&(e.container=Ys(d)),"ts"!==e.container&&"aac"!==e.container)return r(e,{hasAudio:!1,hasVideo:!1}),void c(null,e,{});Oc({segment:e,bytes:n,isPartial:i,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,dataFn:l,doneFn:c})}else c(null,e,{})},Cc=function(t){var e=t.activeXhrs,n=t.decryptionWorker,i=t.trackInfoFn,r=t.timingInfoFn,o=t.videoSegmentTimingInfoFn,a=t.id3Fn,s=t.captionsFn,u=t.dataFn,l=t.doneFn,c=0,d=!1;return function(t,h){if(!d){if(t)return d=!0,Sc(e),l(t,h);if((c+=1)===e.length){if(h.endOfAllRequests=Date.now(),h.encryptedBytes)return function(t){var e,n=t.decryptionWorker,i=t.segment,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn;n.addEventListener("message",(function t(e){if(e.data.source===i.requestId){n.removeEventListener("message",t);var d=e.data.decrypted;i.bytes=new Uint8Array(d.bytes,d.byteOffset,d.byteLength),Pc({segment:i,bytes:i.bytes,isPartial:!1,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,dataFn:l,doneFn:c})}})),e=i.key.bytes.slice?i.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(i.key.bytes)),n.postMessage(ql({source:i.requestId,encrypted:i.encryptedBytes,key:e,iv:i.key.iv}),[i.encryptedBytes.buffer,e.buffer])}({decryptionWorker:n,segment:h,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u,doneFn:l});Pc({segment:h,bytes:h.bytes,isPartial:!1,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u,doneFn:l})}}}},Ac=function(t){var e=t.segment,n=t.progressFn,i=t.trackInfoFn,r=t.timingInfoFn,o=t.videoSegmentTimingInfoFn,a=t.id3Fn,s=t.captionsFn,u=t.dataFn,l=t.handlePartialData;return function(t){var c=t.target;if(!c.aborted){if(l&&!e.key&&c.responseText&&c.responseText.length>=8){var d=cc(c.responseText.substring(e.lastReachedChar||0));!e.lastReachedChar&&Xs(new Uint8Array(d))||(e.lastReachedChar=c.responseText.length,Pc({segment:e,bytes:d,isPartial:!0,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u}))}return e.stats=lo.mergeOptions(e.stats,function(t){var e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(t)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),n(t,e)}}},kc=function(t){var e=t.xhr,n=t.xhrOptions,i=t.decryptionWorker,r=t.segment,o=t.abortFn,a=t.progressFn,s=t.trackInfoFn,u=t.timingInfoFn,l=t.videoSegmentTimingInfoFn,c=t.id3Fn,d=t.captionsFn,h=t.dataFn,f=t.doneFn,p=t.handlePartialData,g=[],m=Cc({activeXhrs:g,decryptionWorker:i,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,dataFn:h,doneFn:f});if(r.key&&!r.key.bytes){var v=e(lo.mergeOptions(n,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(t,e){return function(n,i){var r=i.response,o=Ec(n,i);if(o)return e(o,t);if(16!==r.byteLength)return e({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:bc,xhr:i},t);var a=new DataView(r);return t.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),e(null,t)}}(r,m));g.push(v)}if(r.map&&!r.map.bytes){var y=e(lo.mergeOptions(n,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Gl(r.map)}),function(t){var e=t.segment,n=t.finishProcessingFn;return function(t,i){var r=i.response,o=Ec(t,i);if(o)return n(o,e);if(0===r.byteLength)return n({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:bc,xhr:i},e);e.map.bytes=new Uint8Array(i.response);var a=Ys(e.map.bytes);return"mp4"!==a?n({status:i.status,message:"Found unsupported "+(a||"unknown")+" container for initialization segment at URL: "+i.uri,code:bc,internal:!0,xhr:i},e):(qu(e.map.bytes).forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),n(null,e))}}({segment:r,finishProcessingFn:m}));g.push(y)}var _=lo.mergeOptions(n,{uri:r.resolvedUri,responseType:"arraybuffer",headers:Gl(r)});p&&(_.responseType="text",_.beforeSend=function(t){t.overrideMimeType("text/plain; charset=x-user-defined")});var b=e(_,function(t){var e=t.segment,n=t.finishProcessingFn,i=t.responseType;return function(t,r){var o=r.response,a=Ec(t,r);if(a)return n(a,e);var s="arraybuffer"!==i&&r.responseText?cc(r.responseText.substring(e.lastReachedChar||0)):r.response;return 0===o.byteLength?n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:bc,xhr:r},e):(e.stats=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}}(r),e.key?e.encryptedBytes=new Uint8Array(s):e.bytes=new Uint8Array(s),n(null,e))}}({segment:r,finishProcessingFn:m,responseType:_.responseType}));b.addEventListener("progress",Ac({segment:r,progressFn:a,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,dataFn:h,handlePartialData:p})),g.push(b);var w={};return g.forEach((function(t){t.addEventListener("loadend",function(t){var e=t.loadendState,n=t.abortFn;return function(t){t.target.aborted&&n&&!e.calledAbortFn&&(n(),e.calledAbortFn=!0)}}({loadendState:w,abortFn:o}))})),function(){return Sc(g)}},xc="undefined"!=typeof window?window:{},Ic="undefined"==typeof Symbol?"__target":Symbol(),Mc="application/javascript",Rc=xc.BlobBuilder||xc.WebKitBlobBuilder||xc.MozBlobBuilder||xc.MSBlobBuilder,Nc=xc.URL||xc.webkitURL||Nc&&Nc.msURL,Dc=xc.Worker;function Lc(t,e){return function(n){var i=this;if(!e)return new Dc(t);if(Dc&&!n){var r=Uc(e.toString().replace(/^function.+?{/,"").slice(0,-1));return this[Ic]=new Dc(r),function(t,e){if(t&&e){var n=t.terminate;t.objURL=e,t.terminate=function(){t.objURL&&Nc.revokeObjectURL(t.objURL),n.call(t)}}}(this[Ic],r),this[Ic]}var o={postMessage:function(t){i.onmessage&&setTimeout((function(){i.onmessage({data:t,target:o})}))}};e.call(o),this.postMessage=function(t){setTimeout((function(){o.onmessage({data:t,target:i})}))},this.isThisThread=!0}}if(Dc){var jc,Fc=Uc("self.onmessage = function () {}"),Vc=new Uint8Array(1);try{(jc=new Dc(Fc)).postMessage(Vc,[Vc.buffer])}catch(t){Dc=null}finally{Nc.revokeObjectURL(Fc),jc&&jc.terminate()}}function Uc(t){try{return Nc.createObjectURL(new Blob([t],{type:Mc}))}catch(n){var e=new Rc;return e.append(t),Nc.createObjectURL(e.getBlob(type))}}var Bc=new Lc("./transmuxer-worker.worker.js",(function(t,e){var n=this;!function(){var t=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,o;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){t={}}}};t.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},t.prototype.push=function(t){this.trigger("data",t)},t.prototype.flush=function(t){this.trigger("done",t)},t.prototype.partialFlush=function(t){this.trigger("partialdone",t)},t.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},t.prototype.reset=function(t){this.trigger("reset",t)};var e,i,r,o,a,s,u,l,c,d,h,f,p,g,m,v,y,_,b,w,T,S,E,O,P,C,A,k,x,I,M,R,N,D,L,j,F,V,U,B,H=t,G=Math.pow(2,32)-1;!function(){var t;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in S)S.hasOwnProperty(t)&&(S[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);E=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),P=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),O=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),A=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),k={video:C,audio:A},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),R=new Uint8Array([0,0,0,0,0,0,0,0]),N=R,D=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),L=R,x=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),e=function(t){var e,n,i=[],r=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)r+=i[e].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,r=8;e<i.length;e++)n.set(i[e],r),r+=i[e].byteLength;return n},i=function(){return e(S.dinf,e(S.dref,M))},r=function(t){return e(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},m=function(t){return e(S.hdlr,k[t])},g=function(t){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(n[12]=t.samplerate>>>24&255,n[13]=t.samplerate>>>16&255,n[14]=t.samplerate>>>8&255,n[15]=255&t.samplerate),e(S.mdhd,n)},p=function(t){return e(S.mdia,g(t),m(t.type),s(t))},a=function(t){return e(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},s=function(t){return e(S.minf,"video"===t.type?e(S.vmhd,x):e(S.smhd,I),i(),y(t))},u=function(t,n){for(var i=[],r=n.length;r--;)i[r]=b(n[r]);return e.apply(null,[S.moof,a(t)].concat(i))},l=function(t){for(var n=t.length,i=[];n--;)i[n]=h(t[n]);return e.apply(null,[S.moov,d(4294967295)].concat(i).concat(c(t)))},c=function(t){for(var n=t.length,i=[];n--;)i[n]=w(t[n]);return e.apply(null,[S.mvex].concat(i))},d=function(t){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e(S.mvhd,n)},v=function(t){var n,i,r=t.samples||[],o=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,o[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e(S.sdtp,o)},y=function(t){return e(S.stbl,_(t),e(S.stts,L),e(S.stsc,N),e(S.stsz,D),e(S.stco,R))},_=function(t){return e(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===t.type?j(t):F(t))},j=function(t){var n,i,r=t.sps||[],o=t.pps||[],a=[],s=[];for(n=0;n<r.length;n++)a.push((65280&r[n].byteLength)>>>8),a.push(255&r[n].byteLength),a=a.concat(Array.prototype.slice.call(r[n]));for(n=0;n<o.length;n++)s.push((65280&o[n].byteLength)>>>8),s.push(255&o[n].byteLength),s=s.concat(Array.prototype.slice.call(o[n]));if(i=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),e(S.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([r.length],a,[o.length],s))),e(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],t.sarRatio){var u=t.sarRatio[0],l=t.sarRatio[1];i.push(e(S.pasp,new Uint8Array([(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u,(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l])))}return e.apply(null,i)},F=function(t){return e(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),r(t))},f=function(t){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return e(S.tkhd,n)},b=function(t){var n,i,r,o,a,s;return n=e(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(G+1)),s=Math.floor(t.baseMediaDecodeTime%(G+1)),i=e(S.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===t.type?(r=T(t,92),e(S.traf,n,i,r)):(o=v(t),r=T(t,o.length+92),e(S.traf,n,i,r,o))},h=function(t){return t.duration=t.duration||4294967295,e(S.trak,f(t),p(t))},w=function(t){var n=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(n[n.length-1]=0),e(S.trex,n)},B=function(t,e){var n=0,i=0,r=0,o=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(o=8)),[0,0,n|i|r|o,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},U=function(t,n){var i,r,o,a,s,u;for(n+=20+16*(a=t.samples||[]).length,o=B(a,n),(r=new Uint8Array(o.length+16*a.length)).set(o),i=o.length,u=0;u<a.length;u++)s=a[u],r[i++]=(4278190080&s.duration)>>>24,r[i++]=(16711680&s.duration)>>>16,r[i++]=(65280&s.duration)>>>8,r[i++]=255&s.duration,r[i++]=(4278190080&s.size)>>>24,r[i++]=(16711680&s.size)>>>16,r[i++]=(65280&s.size)>>>8,r[i++]=255&s.size,r[i++]=s.flags.isLeading<<2|s.flags.dependsOn,r[i++]=s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,r[i++]=61440&s.flags.degradationPriority,r[i++]=15&s.flags.degradationPriority,r[i++]=(4278190080&s.compositionTimeOffset)>>>24,r[i++]=(16711680&s.compositionTimeOffset)>>>16,r[i++]=(65280&s.compositionTimeOffset)>>>8,r[i++]=255&s.compositionTimeOffset;return e(S.trun,r)},V=function(t,n){var i,r,o,a,s,u;for(n+=20+8*(a=t.samples||[]).length,o=B(a,n),(i=new Uint8Array(o.length+8*a.length)).set(o),r=o.length,u=0;u<a.length;u++)s=a[u],i[r++]=(4278190080&s.duration)>>>24,i[r++]=(16711680&s.duration)>>>16,i[r++]=(65280&s.duration)>>>8,i[r++]=255&s.duration,i[r++]=(4278190080&s.size)>>>24,i[r++]=(16711680&s.size)>>>16,i[r++]=(65280&s.size)>>>8,i[r++]=255&s.size;return e(S.trun,i)},T=function(t,e){return"audio"===t.type?V(t,e):U(t,e)};o=function(){return e(S.ftyp,E,O,E,P)};var W,Z,z,q,$,Y,K,X,J=function(t){return e(S.mdat,t)},Q=u,tt=function(t){var e,n=o(),i=l(t);return(e=new Uint8Array(n.byteLength+i.byteLength)).set(n),e.set(i,n.byteLength),e},et=function(t,e){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=e,n.compositionTimeOffset=t.pts-t.dts,n.duration=t.duration,n.size=4*t.length,n.size+=t.byteLength,t.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},nt=function(t){var e,n,i=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,i.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i),r},it=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},rt=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},ot=function(t,e){var n,i,r,o,a,s=e||0,u=[];for(n=0;n<t.length;n++)for(o=t[n],i=0;i<o.length;i++)a=o[i],s+=(r=et(a,s)).size,u.push(r);return u},at=function(t){var e,n,i,r,o,a,s=0,u=t.byteLength,l=t.nalCount,c=new Uint8Array(u+4*l),d=new DataView(c.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(o=r[n],i=0;i<o.length;i++)a=o[i],d.setUint32(s,a.data.byteLength),s+=4,c.set(a.data,s),s+=a.data.byteLength;return c},st=function(t,e){var n,i=[];return n=et(t,e||0),i.push(n),i},ut=function(t){var e,n,i=0,r=t.byteLength,o=t.length,a=new Uint8Array(r+4*o),s=new DataView(a.buffer);for(e=0;e<t.length;e++)n=t[e],s.setUint32(i,n.data.byteLength),i+=4,a.set(n.data,i),i+=n.data.byteLength;return a},lt=[33,16,5,32,164,27],ct=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],dt=function(t){for(var e=[];t--;)e.push(0);return e},ht=function(){if(!W){var t={96e3:[lt,[227,64],dt(154),[56]],88200:[lt,[231],dt(170),[56]],64e3:[lt,[248,192],dt(240),[56]],48e3:[lt,[255,192],dt(268),[55,148,128],dt(54),[112]],44100:[lt,[255,192],dt(268),[55,163,128],dt(84),[112]],32e3:[lt,[255,192],dt(268),[55,234],dt(226),[112]],24e3:[lt,[255,192],dt(268),[55,255,128],dt(268),[111,112],dt(126),[224]],16e3:[lt,[255,192],dt(268),[55,255,128],dt(268),[111,255],dt(269),[223,108],dt(195),[1,192]],12e3:[ct,dt(268),[3,127,248],dt(268),[6,255,240],dt(268),[13,255,224],dt(268),[27,253,128],dt(259),[56]],11025:[ct,dt(268),[3,127,248],dt(268),[6,255,240],dt(268),[13,255,224],dt(268),[27,255,192],dt(268),[55,175,128],dt(108),[112]],8e3:[ct,dt(268),[3,121,16],dt(47),[7]]};e=t,W=Object.keys(e).reduce((function(t,n){return t[n]=new Uint8Array(e[n].reduce((function(t,e){return t.concat(e)}),[])),t}),{})}var e;return W},ft=9e4;Y=function(t,e){return Z($(t,e))},K=function(t,e){return z(q(t),e)},X=function(t,e,n){return q(n?t:t-e)};var pt={ONE_SECOND_IN_TS:ft,secondsToVideoTs:Z=function(t){return t*ft},secondsToAudioTs:z=function(t,e){return t*e},videoTsToSeconds:q=function(t){return t/ft},audioTsToSeconds:$=function(t,e){return t/e},audioTsToVideoTs:Y,videoTsToAudioTs:K,metadataTsToSeconds:X},gt=pt.secondsToVideoTs,mt=pt.videoTsToSeconds,vt=function(t,e,n,i){var r,o,a,s,u=0,l=0,c=0,d=0;if(e.length&&(r=pt.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),u=Math.ceil(pt.ONE_SECOND_IN_TS/(t.samplerate/1024)),n&&i&&(l=r-Math.max(n,i),d=(c=Math.floor(l/u))*u),!(c<1||d>pt.ONE_SECOND_IN_TS/2))){for((o=ht()[t.samplerate])||(o=e[0].data),a=0;a<c;a++)s=e[0],e.splice(0,0,{data:o,dts:s.dts-u,pts:s.pts-u});t.baseMediaDecodeTime-=Math.floor(pt.videoTsToAudioTs(d,t.samplerate))}},yt=function(t,e,n){return e.minSegmentDts>=n?t:(e.minSegmentDts=1/0,t.filter((function(t){return t.dts>=n&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)})))},_t=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},bt=function(t){var e,n,i=0,r=new Uint8Array(function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n}(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r},wt=pt.ONE_SECOND_IN_TS,Tt=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},St=function(t,e){var n,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(n*=t.samplerate/wt,n=Math.floor(n)),n},Et=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},Ot=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){if("GA94"===String.fromCharCode(t[e+3],t[e+4],t[e+5],t[e+6])){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}n.payload=void 0}e+=r,i=0,r=0}return n},Pt=function(t){return 181!==t.payload[0]||49!=(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},Ct=function(t,e){var n,i,r,o,a=[];if(!(64&e[0]))return a;for(i=31&e[0],n=0;n<i;n++)o={type:3&e[2+(r=3*n)],pts:t},4&e[r+2]&&(o.ccData=e[r+3]<<8|e[r+4],a.push(o));return a},At=function(t){for(var e,n,i=t.byteLength,r=[],o=1;o<i-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=t[a];return n},kt=4,xt=function t(){t.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Dt(0,0),new Dt(0,1),new Dt(1,0),new Dt(1,1)],this.reset(),this.ccStreams_.forEach((function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))}),this)};(xt.prototype=new H).push=function(t){var e,n,i;if("sei_rbsp"===t.nalUnitType&&(e=Ot(t.escapedRBSP)).payloadType===kt&&(n=Pt(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=Ct(t.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},xt.prototype.flushCCStreams=function(t){this.ccStreams_.forEach((function(e){return"flush"===t?e.flush():e.partialFlush()}),this)},xt.prototype.flushStream=function(t){this.captionPackets_.length?(this.captionPackets_.forEach((function(t,e){t.presortIndex=e})),this.captionPackets_.sort((function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts})),this.captionPackets_.forEach((function(t){t.type<2&&this.dispatchCea608Packet(t)}),this),this.captionPackets_.length=0,this.flushCCStreams(t)):this.flushCCStreams(t)},xt.prototype.flush=function(){return this.flushStream("flush")},xt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},xt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(t){t.reset()}))},xt.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},xt.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},xt.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},xt.prototype.setsTextOrXDSActive=function(t){return 256==(28928&t.ccData)||4138==(30974&t.ccData)||6186==(30974&t.ccData)};var It={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Mt=function(t){return null===t?"":(t=It[t]||t,String.fromCharCode(t))},Rt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Nt=function(){for(var t=[],e=15;e--;)t.push("");return t},Dt=function t(e,n){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,o;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Nt();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Nt();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=Nt()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,r))o=Mt((i=(3&i)<<8)|r),this[this.mode_](t.pts,o),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=Mt((i=(3&i)<<8)|r),this[this.mode_](t.pts,o),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var a=Rt.indexOf(7968&e);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(t.pts,a)),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),o=Mt(i),o+=Mt(r),this[this.mode_](t.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Dt.prototype=new H,Dt.prototype.flushDisplayed=function(t){var e=this.displayed_.map((function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},Dt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Nt(),this.nonDisplayed_=Nt(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Dt.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Dt.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},Dt.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},Dt.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},Dt.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},Dt.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},Dt.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},Dt.prototype.isNormalChar=function(t){return t>=32&&t<=127},Dt.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=Nt(),this.displayed_=Nt()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},Dt.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce((function(t,e){return t+"<"+e+">"}),"");this[this.mode_](t,n)},Dt.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce((function(t,e){return t+"</"+e+">"}),"");this.formatting_=[],this[this.mode_](t,e)}},Dt.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},Dt.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},Dt.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},Dt.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n};var Lt={CaptionStream:xt,Cea608Stream:Dt},jt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ft="shared",Vt=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},Ut=function t(e){var n,i;t.prototype.init.call(this),this.type_=e||Ft,this.push=function(t){this.type_!==Ft&&t.type!==this.type_||(void 0===i&&(i=t.dts),t.dts=Vt(t.dts,i),t.pts=Vt(t.pts,i),n=t.dts,this.trigger("data",t))},this.flush=function(){i=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ut.prototype=new H;var Bt,Ht=Ut,Gt=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},Wt=function(t,e,n){return decodeURIComponent(Gt(t,e,n))},Zt=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},zt={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Wt(t.data,1,e),t.value=Wt(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Wt(t.data,1,e),t.url=Wt(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,n;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(n=t.data,unescape(Gt(n,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};Bt=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},i=0,r=[],o=0;if(Bt.prototype.init.call(this),this.dispatchType=jt.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,a,s,u,l;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(o=0,r.length=0),0===r.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(r.push(t),o+=t.data.byteLength,1===r.length&&(i=Zt(t.data.subarray(6,10)),i+=10),!(o<i)){for(e={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<i;)e.data.set(r[0].data.subarray(0,i-l),l),l+=r[0].data.byteLength,o-=r[0].data.byteLength,r.shift();a=10,64&e.data[5]&&(a+=4,a+=Zt(e.data.subarray(10,14)),i-=Zt(e.data.subarray(16,20)));do{if((s=Zt(e.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((u={id:String.fromCharCode(e.data[a],e.data[a+1],e.data[a+2],e.data[a+3]),data:e.data.subarray(a+10,a+s+10)}).key=u.id,zt[u.id]&&(zt[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var c=u.data,d=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;d*=4,d+=3&c[7],u.timeStamp=d,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),a+=10,a+=s}while(a<i);this.trigger("data",e)}}},Bt.prototype=new H;var qt,$t,Yt,Kt=Bt,Xt=Ht,Jt=188;(qt=function(){var t=new Uint8Array(Jt),e=0;qt.prototype.init.call(this),this.push=function(n){var i,r=0,o=Jt;for(e?((i=new Uint8Array(n.byteLength+e)).set(t.subarray(0,e)),i.set(n,e),e=0):i=n;o<i.byteLength;)71!==i[r]||71!==i[o]?(r++,o++):(this.trigger("data",i.subarray(r,o)),r+=Jt,o+=Jt);r<i.byteLength&&(t.set(i.subarray(r),0),e=i.byteLength-r)},this.flush=function(){e===Jt&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){e=0,this.trigger("reset")}}).prototype=new H,$t=function(){var t,e,n,i;$t.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,i){var r=0;i.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===i.type?e(t.subarray(r),i):n(t.subarray(r),i)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],i.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=i.pmtPid},n=function(t,e){var n,r;if(1&t[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,r=12+((15&t[10])<<8|t[11]);r<n;){var o=t[r],a=(31&t[r+1])<<8|t[r+2];o===jt.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=a:o===jt.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=a:o===jt.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][a]=o),r+=5+((15&t[r+3])<<8|t[r+4])}e.programMapTable=i.programMapTable}},this.push=function(e){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(i+=e[i]+1),0===n.pid)n.type="pat",t(e.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,n]):this.processPes_(e,i,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=jt.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=jt.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}},$t.prototype=new H,$t.STREAM_TYPES={h264:27,adts:15},Yt=function(){var t,e=this,n={data:[],size:0},i={data:[],size:0},r={data:[],size:0},o=function(t,n,i){var r,o,a,s,u=new Uint8Array(t.size),l={type:n},c=0,d=0,h=!1;if(t.data.length&&!(t.size<9)){for(l.trackId=t.data[0].pid,c=0;c<t.data.length;c++)r=t.data[c],u.set(r.data,d),d+=r.data.byteLength;o=u,(a=l).packetLength=6+(o[4]<<8|o[5]),a.dataAlignmentIndicator=0!=(4&o[6]),192&(s=o[7])&&(a.pts=(14&o[9])<<27|(255&o[10])<<20|(254&o[11])<<12|(255&o[12])<<5|(254&o[13])>>>3,a.pts*=4,a.pts+=(6&o[13])>>>1,a.dts=a.pts,64&s&&(a.dts=(14&o[14])<<27|(255&o[15])<<20|(254&o[16])<<12|(255&o[17])<<5|(254&o[18])>>>3,a.dts*=4,a.dts+=(6&o[18])>>>1)),a.data=o.subarray(9+o[8]),h="video"===n||l.packetLength<=t.size,(i||h)&&(t.size=0,t.data.length=0),h&&e.trigger("data",l)}};Yt.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var t,e;switch(a.streamType){case jt.H264_STREAM_TYPE:t=n,e="video";break;case jt.ADTS_STREAM_TYPE:t=i,e="audio";break;case jt.METADATA_STREAM_TYPE:t=r,e="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&o(t,e,!0),t.data.push(a),t.size+=a.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};null!==(t=a.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),e.trigger("data",n)}})[a.type]()},this.reset=function(){n.size=0,n.data.length=0,i.size=0,i.data.length=0,this.trigger("reset")},this.flushStreams_=function(){o(n,"video"),o(i,"audio"),o(r,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}},Yt.prototype=new H;var Qt={PAT_PID:0,MP2T_PACKET_LENGTH:Jt,TransportPacketStream:qt,TransportParseStream:$t,ElementaryStream:Yt,TimestampRolloverStream:Xt,CaptionStream:Lt.CaptionStream,Cea608Stream:Lt.Cea608Stream,MetadataStream:Kt};for(var te in jt)jt.hasOwnProperty(te)&&(Qt[te]=jt[te]);var ee,ne=Qt,ie=pt.ONE_SECOND_IN_TS,re=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ee=function(t){var e,n=0;ee.prototype.init.call(this),this.push=function(i){var r,o,a,s,u,l,c=0;if(t||(n=0),"audio"===i.type)for(e?(s=e,(e=new Uint8Array(s.byteLength+i.data.byteLength)).set(s),e.set(i.data,s.byteLength)):e=i.data;c+5<e.length;)if(255===e[c]&&240==(246&e[c+1])){if(o=2*(1&~e[c+1]),r=(3&e[c+3])<<11|e[c+4]<<3|(224&e[c+5])>>5,l=(u=1024*(1+(3&e[c+6])))*ie/re[(60&e[c+2])>>>2],a=c+r,e.byteLength<a)return;if(this.trigger("data",{pts:i.pts+n*l,dts:i.dts+n*l,sampleCount:u,audioobjecttype:1+(e[c+2]>>>6&3),channelcount:(1&e[c+2])<<2|(192&e[c+3])>>>6,samplerate:re[(60&e[c+2])>>>2],samplingfrequencyindex:(60&e[c+2])>>>2,samplesize:16,data:e.subarray(c+7+o,a)}),n++,e.byteLength===a)return void(e=void 0);e=e.subarray(a)}else c++},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){e=void 0,this.trigger("reset")},this.endTimeline=function(){e=void 0,this.trigger("endedtimeline")}},ee.prototype=new H;var oe,ae,se,ue=ee,le=function(t){var e=t.byteLength,n=0,i=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+i},this.loadWord=function(){var r=t.byteLength-e,o=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");o.set(t.subarray(r,r+a)),n=new DataView(o.buffer).getUint32(0),i=8*a,e-=a},this.skipBits=function(t){var r;i>t?(n<<=t,i-=t):(t-=i,t-=8*(r=Math.floor(t/8)),e-=r,this.loadWord(),n<<=t,i-=t)},this.readBits=function(t){var r=Math.min(i,t),o=n>>>32-r;return(i-=r)>0?n<<=r:e>0&&this.loadWord(),(r=t-r)>0?o<<r|this.readBits(r):o},this.skipLeadingZeros=function(){var t;for(t=0;t<i;++t)if(0!=(n&2147483648>>>t))return n<<=t,i-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};ae=function(){var t,e,n=0;ae.prototype.init.call(this),this.push=function(i){var r;e?((r=new Uint8Array(e.byteLength+i.data.byteLength)).set(e),r.set(i.data,e.byteLength),e=r):e=i.data;for(var o=e.byteLength;n<o-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<o;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<o);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.reset=function(){e=null,n=0,this.trigger("reset")},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},ae.prototype=new H,se={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},oe=function(){var t,e,n,i,r,o,a,s=new ae;oe.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,i=t.dts,s.push(t))},s.on("data",(function(a){var s={trackId:e,pts:n,dts:i,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=r(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=r(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",s)})),s.on("done",(function(){t.trigger("done")})),s.on("partialdone",(function(){t.trigger("partialdone")})),s.on("reset",(function(){t.trigger("reset")})),s.on("endedtimeline",(function(){t.trigger("endedtimeline")})),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},a=function(t,e){var n,i=8,r=8;for(n=0;n<t;n++)0!==r&&(r=(i+e.readExpGolomb()+256)%256),i=0===r?i:r},r=function(t){for(var e,n,i=t.byteLength,r=[],o=1;o<i-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=t[a];return n},o=function(t){var e,n,i,r,o,s,u,l,c,d,h,f,p,g=0,m=0,v=0,y=0,_=1;if(n=(e=new le(t)).readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),se[n]&&(3===(o=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(h=3!==o?8:12,p=0;p<h;p++)e.readBoolean()&&a(p<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(s=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===s)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),u=e.readUnsignedExpGolomb(),p=0;p<u;p++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),l=e.readUnsignedExpGolomb(),c=e.readUnsignedExpGolomb(),0===(d=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(g=e.readUnsignedExpGolomb(),m=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}f&&(_=f[0]/f[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(l+1)-2*g-2*m)*_),height:(2-d)*(c+1)*16-2*v-2*y,sarRatio:f}}},oe.prototype=new H;var ce,de={H264Stream:oe,NalByteStream:ae},he=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return n=n>=0?n:0,(16&t[e+5])>>4?n+20:n+10},fe=function t(e,n){return e.length-n<10||e[n]!=="I".charCodeAt(0)||e[n+1]!=="D".charCodeAt(0)||e[n+2]!=="3".charCodeAt(0)?n:t(e,n+=he(e,n))},pe=function(t){var e=fe(t,0);return t.length>=e+2&&255==(255&t[e])&&240==(240&t[e+1])&&16==(22&t[e+1])},ge=he,me=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n};(ce=function(){var t=new Uint8Array,e=0;ce.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(n){var i,r,o,a,s=0,u=0;for(t.length?(a=t.length,(t=new Uint8Array(n.byteLength+a)).set(t.subarray(0,a)),t.set(n,a)):t=n;t.length-u>=3;)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(255!=(255&t[u])||240!=(240&t[u+1]))u++;else{if(t.length-u<7)break;if(u+(s=me(t,u))>t.length)break;o={type:"audio",data:t.subarray(u,u+s),pts:e,dts:e},this.trigger("data",o),u+=s}else{if(t.length-u<10)break;if(u+(s=ge(t,u))>t.length)break;r={type:"timed-metadata",data:t.subarray(u,u+s)},this.trigger("data",r),u+=s}i=t.length-u,t=i>0?t.subarray(u):new Uint8Array},this.reset=function(){t=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){t=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new H;var ve,ye,_e,be,we=ce,Te=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Se=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ee=de.H264Stream,Oe=pe,Pe=pt.ONE_SECOND_IN_TS,Ce=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Ae=function(t,e,n,i,r,o){return{start:{dts:t,pts:t+(n-e)},end:{dts:t+(i-e),pts:t+(r-n)},prependedContentDuration:o,baseMediaDecodeTime:t}};ye=function(t,e){var n=[],i=0,r=0,o=0,a=1/0;e=e||{},ye.prototype.init.call(this),this.push=function(e){Et(t,e),t&&Te.forEach((function(n){t[n]=e[n]})),n.push(e)},this.setEarliestDts=function(t){r=t},this.setVideoBaseMediaDecodeTime=function(t){a=t},this.setAudioAppendStart=function(t){o=t},this.flush=function(){var s,u,l,c,d;0!==n.length?(s=yt(n,t,r),t.baseMediaDecodeTime=St(t,e.keepOriginalTimestamps),vt(t,s,o,a),t.samples=_t(s),l=J(bt(s)),n=[],u=Q(i,[t]),c=new Uint8Array(u.byteLength+l.byteLength),i++,c.set(u),c.set(l,u.byteLength),Tt(t),d=Math.ceil(1024*Pe/t.samplerate),s.length&&this.trigger("timingInfo",{start:s[0].pts,end:s[0].pts+s.length*d}),this.trigger("data",{track:t,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Tt(t),n=[],this.trigger("reset")}},ye.prototype=new H,ve=function(t,e){var n,i,r=0,o=[],a=[];e=e||{},ve.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){Et(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],Se.forEach((function(e){t[e]=n[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,t.pps=[e.data]),o.push(e)},this.flush=function(){for(var n,i,s,u,l,c,d,h,f=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=nt(o),(s=it(n))[0][0].keyFrame||((i=this.getGopForFusion_(o[0],t))?(f=i.duration,s.unshift(i),s.byteLength+=i.byteLength,s.nalCount+=i.nalCount,s.pts=i.pts,s.dts=i.dts,s.duration+=i.duration):s=rt(s)),a.length){var p;if(!(p=e.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Tt(t),s=p}Et(t,s),t.samples=ot(s),l=J(at(s)),t.baseMediaDecodeTime=St(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map((function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}}))),d=s[0],h=s[s.length-1],this.trigger("segmentTimingInfo",Ae(t.baseMediaDecodeTime,d.dts,d.pts,h.dts+h.duration,h.pts+h.duration,f)),this.trigger("timingInfo",{start:s[0].pts,end:s[s.length-1].pts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),u=Q(r,[t]),c=new Uint8Array(u.byteLength+l.byteLength),r++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:t,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){Tt(t),n=void 0,i=void 0},this.getGopForFusion_=function(e){var n,i,r,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)r=(o=this.gopCache_[a]).gop,t.pps&&Ce(t.pps[0],o.pps[0])&&t.sps&&Ce(t.sps[0],o.sps[0])&&(r.dts<t.timelineStartInfo.dts||(n=e.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||s>n)&&(i=o,s=n));return i?i.gop:null},this.alignGopsAtStart_=function(t){var e,n,i,r,o,s,u,l;for(o=t.byteLength,s=t.nalCount,u=t.duration,e=n=0;e<a.length&&n<t.length&&(i=a[e],r=t[n],i.pts!==r.pts);)r.pts>i.pts?e++:(n++,o-=r.byteLength,s-=r.nalCount,u-=r.duration);return 0===n?t:n===t.length?null:((l=t.slice(n)).byteLength=o,l.duration=u,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(t){var e,n,i,r,o,s,u;for(e=a.length-1,n=t.length-1,o=null,s=!1;e>=0&&n>=0;){if(i=a[e],r=t[n],i.pts===r.pts){s=!0;break}i.pts>r.pts?e--:(e===a.length-1&&(o=n),n--)}if(!s&&null===o)return null;if(0===(u=s?n:o))return t;var l=t.slice(u),c=l.reduce((function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t}),{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(t){a=t}},ve.prototype=new H,be=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps?this.keepOriginalTimestamps=t.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,be.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track,this.pendingBoxes.push(t.boxes)),void("audio"===t.track.type&&(this.audioTrack=t.track,this.pendingBoxes.unshift(t.boxes))))}},be.prototype=new H,be.prototype.flush=function(t){var e,n,i,r,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,Se.forEach((function(t){a.info[t]=this.videoTrack[t]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,Te.forEach((function(t){a.info[t]=this.audioTrack[t]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,i=tt(this.pendingTracks),a.initSegment=new Uint8Array(i.byteLength),a.initSegment.set(i),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],o),o+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=pt.metadataTsToSeconds(e.startPts,s,this.keepOriginalTimestamps),e.endTime=pt.metadataTsToSeconds(e.endPts,s,this.keepOriginalTimestamps),a.captionStreams[e.stream]=!0,a.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=pt.metadataTsToSeconds(n.pts,s,this.keepOriginalTimestamps),a.metadata.push(n);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),r=0;r<a.captions.length;r++)e=a.captions[r],this.trigger("caption",e);for(r=0;r<a.metadata.length;r++)n=a.metadata[r],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},be.prototype.setRemux=function(t){this.remuxTracks=t},_e=function(t){var e,n,i=this,r=!0;_e.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new ne.MetadataStream,r.aacStream=new we,r.audioTimestampRolloverStream=new ne.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new ne.TimestampRolloverStream("timed-metadata"),r.adtsStream=new ue,r.coalesceStream=new be(t,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(t){r.aacStream.setTimestamp(t.timeStamp)})),r.aacStream.on("data",(function(o){"timed-metadata"!==o.type&&"audio"!==o.type||r.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ye(n,t),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!e}))})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new ne.MetadataStream,r.packetStream=new ne.TransportPacketStream,r.parseStream=new ne.TransportParseStream,r.elementaryStream=new ne.ElementaryStream,r.timestampRolloverStream=new ne.TimestampRolloverStream,r.adtsStream=new ue,r.h264Stream=new Ee,r.captionStream=new ne.CaptionStream,r.coalesceStream=new be(t,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)e||"video"!==o.tracks[a].type?n||"audio"!==o.tracks[a].type||((n=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(e=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;e&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new ve(e,t),r.videoSegmentStream.on("timelineStartInfo",(function(e){n&&!t.keepOriginalTimestamps&&(n.timelineStartInfo=e,r.audioSegmentStream.setEarliestDts(e.dts-i.baseMediaDecodeTime))})),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(t){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(t)})),r.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ye(n,t),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!e})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(t){t.dispatchType=r.metadataStream.dispatchType,i.trigger("id3Frame",t)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Tt(n),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,Tt(e),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.setRemux=function(e){var n=this.transmuxPipeline_;t.remux=e,n&&n.coalesceStream&&n.coalesceStream.setRemux(e)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(r){var e=Oe(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},_e.prototype=new H;var ke={Transmuxer:_e,VideoSegmentStream:ve,AudioSegmentStream:ye,AUDIO_PROPERTIES:Te,VIDEO_PROPERTIES:Se,generateVideoSegmentTimingInfo:Ae}.Transmuxer,xe={Adts:ue,h264:de},Ie=pt.ONE_SECOND_IN_TS,Me=function t(e,n){var i=[],r=0,o=0,a=0,s=1/0,u=null,l=null;n=n||{},t.prototype.init.call(this),this.push=function(t){Et(e,t),e&&Te.forEach((function(n){e[n]=t[n]})),i.push(t)},this.setEarliestDts=function(t){o=t},this.setVideoBaseMediaDecodeTime=function(t){s=t},this.setAudioAppendStart=function(t){a=t},this.processFrames_=function(){var t,c,d,h,f;0!==i.length&&0!==(t=yt(i,e,o)).length&&(e.baseMediaDecodeTime=St(e,n.keepOriginalTimestamps),vt(e,t,a,s),e.samples=_t(t),d=J(bt(t)),i=[],c=Q(r,[e]),r++,e.initSegment=tt([e]),(h=new Uint8Array(c.byteLength+d.byteLength)).set(c),h.set(d,c.byteLength),Tt(e),null===u&&(l=u=t[0].pts),l+=t.length*(1024*Ie/e.samplerate),f={start:u},this.trigger("timingInfo",f),this.trigger("data",{track:e,boxes:h}))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:u,end:l}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){Tt(e),u=null,l=null},this.reset=function(){this.resetTiming_(),i=[],this.trigger("reset")}};Me.prototype=new H;var Re=Me,Ne=function t(e,n){var i,r,o,a=0,s=[],u=[],l=null,c=null,d=!0;n=n||{},t.prototype.init.call(this),this.push=function(t){Et(e,t),void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],Se.forEach((function(t){e[t]=i[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),s.push(t)},this.processNals_=function(t){var i;for(s=u.concat(s);s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0!==s.length){var r=nt(s);if(r.length)if(u=r[r.length-1],t&&(r.pop(),r.duration-=u.duration,r.nalCount-=u.length,r.byteLength-=u.byteLength),r.length){if(this.trigger("timelineStartInfo",e.timelineStartInfo),d){if(!(o=it(r))[0][0].keyFrame){if(!(o=rt(o))[0][0].keyFrame)return s=[].concat.apply([],r).concat(u),void(u=[]);(r=[].concat.apply([],o)).duration=o.duration}d=!1}for(null===l&&(l=r[0].pts,c=l),c+=r.duration,this.trigger("timingInfo",{start:l,end:c}),i=0;i<r.length;i++){var h=r[i];e.samples=st(h);var f=J(ut(h));Tt(e),Et(e,h),e.baseMediaDecodeTime=St(e,n.keepOriginalTimestamps);var p=Q(a,[e]);a++,e.initSegment=tt([e]);var g=new Uint8Array(p.byteLength+f.byteLength);g.set(p),g.set(f,p.byteLength),this.trigger("data",{track:e,boxes:g,sequence:a,videoFrameDts:h.dts,videoFramePts:h.pts})}s=[]}else s=[]}},this.resetTimingAndConfig_=function(){i=void 0,r=void 0,l=null,c=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),u=[],s=[],d=!0,this.trigger("reset")}};Ne.prototype=new H;var De=Ne,Le=pe,je=function(t){return t.prototype=new H,t.prototype.init.call(t),t},Fe=function(t,e){t.on("data",e.trigger.bind(e,"data")),t.on("done",e.trigger.bind(e,"done")),t.on("partialdone",e.trigger.bind(e,"partialdone")),t.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),t.on("audioTimingInfo",e.trigger.bind(e,"audioTimingInfo")),t.on("videoTimingInfo",e.trigger.bind(e,"videoTimingInfo")),t.on("trackinfo",e.trigger.bind(e,"trackinfo")),t.on("id3Frame",(function(n){n.dispatchType=t.metadataStream.dispatchType,n.cueTime=pt.videoTsToSeconds(n.pts),e.trigger("id3Frame",n)})),t.on("caption",(function(t){e.trigger("caption",t)}))},Ve=function t(e){var n=null,i=!0;e=e||{},t.prototype.init.call(this),e.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.push=function(t){if(i){var r=Le(t);!r||n&&"aac"===n.type?r||n&&"ts"===n.type||(n=function(t){var e={type:"ts",tracks:{audio:null,video:null},packet:new ne.TransportPacketStream,parse:new ne.TransportParseStream,elementary:new ne.ElementaryStream,timestampRollover:new ne.TimestampRolloverStream,adts:new xe.Adts,h264:new xe.h264.H264Stream,captionStream:new ne.CaptionStream,metadataStream:new ne.MetadataStream};return e.headOfPipeline=e.packet,e.packet.pipe(e.parse).pipe(e.elementary).pipe(e.timestampRollover),e.timestampRollover.pipe(e.h264),e.h264.pipe(e.captionStream),e.timestampRollover.pipe(e.metadataStream),e.timestampRollover.pipe(e.adts),e.elementary.on("data",(function(n){if("metadata"===n.type){for(var i=0;i<n.tracks.length;i++)e.tracks[n.tracks[i].type]||(e.tracks[n.tracks[i].type]=n.tracks[i],e.tracks[n.tracks[i].type].timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime);e.tracks.video&&!e.videoSegmentStream&&(e.videoSegmentStream=new De(e.tracks.video,t),e.videoSegmentStream.on("timelineStartInfo",(function(n){e.tracks.audio&&!t.keepOriginalTimestamps&&e.audioSegmentStream.setEarliestDts(n.dts-t.baseMediaDecodeTime)})),e.videoSegmentStream.on("timingInfo",e.trigger.bind(e,"videoTimingInfo")),e.videoSegmentStream.on("data",(function(t){e.trigger("data",{type:"video",data:t})})),e.videoSegmentStream.on("done",e.trigger.bind(e,"done")),e.videoSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.videoSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.h264.pipe(e.videoSegmentStream)),e.tracks.audio&&!e.audioSegmentStream&&(e.audioSegmentStream=new Re(e.tracks.audio,t),e.audioSegmentStream.on("data",(function(t){e.trigger("data",{type:"audio",data:t})})),e.audioSegmentStream.on("done",e.trigger.bind(e,"done")),e.audioSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.audioSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo")),e.adts.pipe(e.audioSegmentStream)),e.trigger("trackinfo",{hasAudio:!!e.tracks.audio,hasVideo:!!e.tracks.video})}})),e.captionStream.on("data",(function(n){var i;i=e.tracks.video&&e.tracks.video.timelineStartInfo.pts||0,n.startTime=pt.metadataTsToSeconds(n.startPts,i,t.keepOriginalTimestamps),n.endTime=pt.metadataTsToSeconds(n.endPts,i,t.keepOriginalTimestamps),e.trigger("caption",n)})),(e=je(e)).metadataStream.on("data",e.trigger.bind(e,"id3Frame")),e}(e),Fe(n,this)):(n=function(t){var e={type:"aac",tracks:{audio:null},metadataStream:new ne.MetadataStream,aacStream:new we,audioRollover:new ne.TimestampRolloverStream("audio"),timedMetadataRollover:new ne.TimestampRolloverStream("timed-metadata"),adtsStream:new ue(!0)};return e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioRollover).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataRollover).pipe(e.metadataStream),e.metadataStream.on("timestamp",(function(t){e.aacStream.setTimestamp(t.timeStamp)})),e.aacStream.on("data",(function(n){"timed-metadata"!==n.type&&"audio"!==n.type||e.audioSegmentStream||(e.tracks.audio=e.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:t.baseMediaDecodeTime},codec:"adts",type:"audio"},e.audioSegmentStream=new Re(e.tracks.audio,t),e.audioSegmentStream.on("data",(function(t){e.trigger("data",{type:"audio",data:t})})),e.audioSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.audioSegmentStream.on("done",e.trigger.bind(e,"done")),e.audioSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo")),e.adtsStream.pipe(e.audioSegmentStream),e.trigger("trackinfo",{hasAudio:!!e.tracks.audio,hasVideo:!!e.tracks.video}))})),(e=je(e)).metadataStream.on("data",e.trigger.bind(e,"id3Frame")),e}(e),Fe(n,this)),i=!1}n.headOfPipeline.push(t)},this.flush=function(){n&&(i=!0,n.headOfPipeline.flush())},this.partialFlush=function(){n&&n.headOfPipeline.partialFlush()},this.endTimeline=function(){n&&n.headOfPipeline.endTimeline()},this.reset=function(){n&&n.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(t){e.keepOriginalTimestamps||(e.baseMediaDecodeTime=t),n&&(n.tracks.audio&&(n.tracks.audio.timelineStartInfo.dts=void 0,n.tracks.audio.timelineStartInfo.pts=void 0,Tt(n.tracks.audio),n.audioRollover&&n.audioRollover.discontinuity()),n.tracks.video&&(n.videoSegmentStream&&(n.videoSegmentStream.gopCache_=[]),n.tracks.video.timelineStartInfo.dts=void 0,n.tracks.video.timelineStartInfo.pts=void 0,Tt(n.tracks.video)),n.timestampRollover&&n.timestampRollover.discontinuity())},this.setRemux=function(t){e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.setAudioAppendStart=function(t){n&&n.tracks.audio&&n.audioSegmentStream&&n.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){}};Ve.prototype=new H;var Ue=Ve,Be=function(t){return t>>>0},He=Be,Ge=function t(e,n){var i,r,o,a,s,u,l,c=[];if(!n.length)return null;for(i=0;i<e.byteLength;)r=He(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),u=e.subarray(i+4,i+8),l=void 0,l="",l+=String.fromCharCode(u[0]),l+=String.fromCharCode(u[1]),o=(l+=String.fromCharCode(u[2]))+String.fromCharCode(u[3]),a=r>1?i+r:e.byteLength,o===n[0]&&(1===n.length?c.push(e.subarray(i+8,a)):(s=t(e.subarray(i+8,a),n.slice(1))).length&&(c=c.concat(s))),i=a;return c},We=Be,Ze=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},ze=function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],o=2&i.flags[2],a=8&i.flags[2],s=16&i.flags[2],u=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];return e=8,r&&(e+=4,i.baseDataOffset=n.getUint32(12),e+=4),o&&(i.sampleDescriptionIndex=n.getUint32(e),e+=4),a&&(i.defaultSampleDuration=n.getUint32(e),e+=4),s&&(i.defaultSampleSize=n.getUint32(e),e+=4),u&&(i.defaultSampleFlags=n.getUint32(e)),l&&(i.durationIsEmpty=!0),!r&&c&&(i.baseDataOffsetIsMoof=!0),i},qe=At,$e=Lt.CaptionStream,Ye=function(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null},Ke=function(t,e,n){var i=e,r=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,a=n.trackId,s=[];return t.forEach((function(t){var e=function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],s=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],c=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),o&&c&&(e={flags:Ze(t.subarray(d,d+4))},d+=4,a&&(e.duration=i.getUint32(d),d+=4),s&&(e.size=i.getUint32(d),d+=4),l&&(1===n.version?e.compositionTimeOffset=i.getInt32(d):e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e),c--);c--;)e={},a&&(e.duration=i.getUint32(d),d+=4),s&&(e.size=i.getUint32(d),d+=4),u&&(e.flags=Ze(t.subarray(d,d+4)),d+=4),l&&(1===n.version?e.compositionTimeOffset=i.getInt32(d):e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e);return n}(t).samples;e.forEach((function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=o),t.trackId=a,t.dts=i,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=i+t.compositionTimeOffset,i+=t.duration})),s=s.concat(e)})),s},Xe=function(t,e){var n=Ge(t,["moof","traf"]),i=Ge(t,["mdat"]),r={},o=[];return i.forEach((function(t,e){var i=n[e];o.push({mdat:t,traf:i})})),o.forEach((function(t){var n,i,o,a=t.mdat,s=t.traf,u=Ge(s,["tfhd"]),l=ze(u[0]),c=l.trackId,d=Ge(s,["tfdt"]),h=d.length>0?(i=d[0],o={version:i[0],flags:new Uint8Array(i.subarray(1,4)),baseMediaDecodeTime:We(i[4]<<24|i[5]<<16|i[6]<<8|i[7])},1===o.version&&(o.baseMediaDecodeTime*=Math.pow(2,32),o.baseMediaDecodeTime+=We(i[8]<<24|i[9]<<16|i[10]<<8|i[11])),o).baseMediaDecodeTime:0,f=Ge(s,["trun"]);e===c&&f.length>0&&(n=function(t,e,n){var i,r,o,a,s=new DataView(t.buffer,t.byteOffset,t.byteLength),u=[];for(r=0;r+4<t.length;r+=o)if(o=s.getUint32(r),r+=4,!(o<=0))switch(31&t[r]){case 6:var l=t.subarray(r+1,r+1+o),c=Ye(r,e);if(i={nalUnitType:"sei_rbsp",size:o,data:l,escapedRBSP:qe(l),trackId:n},c)i.pts=c.pts,i.dts=c.dts,a=c;else{if(!a){console.log("We've encountered a nal unit without data. See mux.js#233.");break}i.pts=a.pts,i.dts=a.dts}u.push(i)}return u}(a,Ke(f,h,l),c),r[c]||(r[c]=[]),r[c]=r[c].concat(n))})),r},Je=function(){var t,e,n,i,r,o,a=!1;this.isInitialized=function(){return a},this.init=function(e){t=new $e,a=!0,o=!!e&&e.isPartial,t.on("data",(function(t){t.startTime=t.startPts/i,t.endTime=t.endPts/i,r.captions.push(t),r.captionStreams[t.stream]=!0}))},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||n===t[0]&&i===e[n])},this.parse=function(t,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))n=o[0],i=a[n];else if(null===n||!i)return e.push(t),null;for(;e.length>0;){var u=e.shift();this.parse(u,o,a)}return null!==(s=function(t,e,n){return null===e?null:{seiNals:Xe(t,e)[e],timescale:n}}(t,n,i))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),r):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach((function(e){t.push(e)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},Qe=function(t){return"AudioSegmentStream"===t?"audio":"VideoSegmentStream"===t?"video":""},tn=function(){function t(t,e){this.options=e||{},this.self=t,this.init()}var e=t.prototype;return e.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=this.options.handlePartialData?new Ue(this.options):new ke(this.options),this.options.handlePartialData?function(t,e){e.on("data",(function(e){var n={data:e.data.track.initSegment.buffer,byteOffset:e.data.track.initSegment.byteOffset,byteLength:e.data.track.initSegment.byteLength},i={boxes:{data:e.data.boxes.buffer,byteOffset:e.data.boxes.byteOffset,byteLength:e.data.boxes.byteLength},initSegment:n,type:e.type,sequence:e.data.sequence};void 0!==e.data.videoFrameDts&&(i.videoFrameDtsTime=mt(e.data.videoFrameDts)),void 0!==e.data.videoFramePts&&(i.videoFramePtsTime=mt(e.data.videoFramePts)),t.postMessage({action:"data",segment:i},[i.boxes.data,i.initSegment.data])})),e.on("id3Frame",(function(e){t.postMessage({action:"id3Frame",id3Frame:e})})),e.on("caption",(function(e){t.postMessage({action:"caption",caption:e})})),e.on("done",(function(e){t.postMessage({action:"done",type:Qe(e)})})),e.on("partialdone",(function(e){t.postMessage({action:"partialdone",type:Qe(e)})})),e.on("endedsegment",(function(e){t.postMessage({action:"endedSegment",type:Qe(e)})})),e.on("trackinfo",(function(e){t.postMessage({action:"trackinfo",trackInfo:e})})),e.on("audioTimingInfo",(function(e){if(null!==e.start){var n={start:mt(e.start)};e.end&&(n.end=mt(e.end)),t.postMessage({action:"audioTimingInfo",audioTimingInfo:n})}else t.postMessage({action:"audioTimingInfo",audioTimingInfo:e})})),e.on("videoTimingInfo",(function(e){var n={start:mt(e.start)};e.end&&(n.end=mt(e.end)),t.postMessage({action:"videoTimingInfo",videoTimingInfo:n})}))}(this.self,this.transmuxer):function(t,e){e.on("data",(function(e){var n=e.initSegment;e.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var i=e.data;e.data=i.buffer,t.postMessage({action:"data",segment:e,byteOffset:i.byteOffset,byteLength:i.byteLength},[e.data])})),e.on("done",(function(e){t.postMessage({action:"done"})})),e.on("gopInfo",(function(e){t.postMessage({action:"gopInfo",gopInfo:e})})),e.on("videoSegmentTimingInfo",(function(e){var n={start:{decode:mt(e.start.dts),presentation:mt(e.start.pts)},end:{decode:mt(e.end.dts),presentation:mt(e.end.pts)},baseMediaDecodeTime:mt(e.baseMediaDecodeTime)};e.prependedContentDuration&&(n.prependedContentDuration=mt(e.prependedContentDuration)),t.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),e.on("id3Frame",(function(e){t.postMessage({action:"id3Frame",id3Frame:e})})),e.on("caption",(function(e){t.postMessage({action:"caption",caption:e})})),e.on("trackinfo",(function(e){t.postMessage({action:"trackinfo",trackInfo:e})})),e.on("audioTimingInfo",(function(e){t.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:mt(e.start),end:mt(e.end)}})})),e.on("videoTimingInfo",(function(e){t.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:mt(e.start),end:mt(e.end)}})}))}(this.self,this.transmuxer)},e.pushMp4Captions=function(t){this.captionParser||(this.captionParser=new Je,this.captionParser.init());var e=new Uint8Array(t.data,t.byteOffset,t.byteLength),n=this.captionParser.parse(e,t.trackIds,t.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],data:e.buffer},[e.buffer])},e.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},e.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},e.push=function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)},e.reset=function(){this.transmuxer.reset()},e.setTimestampOffset=function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(gt(e)))},e.setAudioAppendStart=function(t){this.transmuxer.setAudioAppendStart(Math.ceil(gt(t.appendStart)))},e.setRemux=function(t){this.transmuxer.setRemux(t.remux)},e.flush=function(t){this.transmuxer.flush(),n.postMessage({action:"done",type:"transmuxed"})},e.partialFlush=function(t){this.transmuxer.partialFlush(),n.postMessage({action:"partialdone",type:"transmuxed"})},e.endTimeline=function(){this.transmuxer.endTimeline(),n.postMessage({action:"endedtimeline",type:"transmuxed"})},e.alignGopsWith=function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())},t}();new function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new tn(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new tn(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(n)}()})),Hc=function(t,e){var n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},Gc=function(t,e){var n=e.attributes||{},i=function(t){var e=t.attributes||{};if(e.CODECS)return rl(e.CODECS)}(e)||{};if(Hc(t,e)&&!i.audio&&!function(t,e){if(!Hc(t,e))return!0;var n=e.attributes||{},i=t.mediaGroups.AUDIO[n.AUDIO];for(var r in i)if(!i[r].uri&&!i[r].playlists)return!0;return!1}(t,e)){var r=Qu(t,n.AUDIO);r&&(i.audio=r.audio)}var o={};return i.video&&(o.video=ol(""+i.video.type+i.video.details)),i.audio&&(o.audio=ol(""+i.audio.type+i.audio.details)),o},Wc=function(t){return lo.log.debug?lo.log.debug.bind(lo,"VHS:",t+" >"):function(){}},Zc=Wc("PlaylistSelector"),zc=function(t){if(t&&t.playlist){var e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})}},qc=function(e,n){if(!e)return"";var i=t.getComputedStyle(e);return i?i[n]:""},$c=function(t,e){var n=t.slice();t.sort((function(t,i){var r=e(t,i);return 0===r?n.indexOf(t)-n.indexOf(i):r}))},Yc=function(e,n){var i,r;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||t.Number.MAX_VALUE,n.attributes.BANDWIDTH&&(r=n.attributes.BANDWIDTH),i-(r||t.Number.MAX_VALUE)},Kc=function(e){var n=e.inbandTextTracks,i=e.metadataArray,r=e.timestampOffset,o=e.videoDuration;if(i){var a=t.WebKitDataCue||t.VTTCue,s=n.metadataTrack_;if(s&&(i.forEach((function(e){var n=e.cueTime+r;!("number"!=typeof n||t.isNaN(n)||n<0)&&n<1/0&&e.frames.forEach((function(t){var e=new a(n,n,t.value||t.url||t.data||"");e.frame=t,e.value=t,function(t){Object.defineProperties(t.frame,{id:{get:function(){return lo.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return lo.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return lo.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})}(e),s.addCue(e)}))})),s.cues&&s.cues.length)){for(var u=s.cues,l=[],c=0;c<u.length;c++)u[c]&&l.push(u[c]);var d=l.reduce((function(t,e){var n=t[e.startTime]||[];return n.push(e),t[e.startTime]=n,t}),{}),h=Object.keys(d).sort((function(t,e){return Number(t)-Number(e)}));h.forEach((function(t,e){var n=d[t],i=Number(h[e+1])||o;n.forEach((function(t){t.endTime=i}))}))}}},Xc=function(t,e,n){var i,r;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime>=t&&r.endTime<=e&&n.removeCue(r)},Jc=function(t){return"number"==typeof t&&isFinite(t)},Qc=function(t){return t+"TimingInfo"},td=function(t){var e=t.segmentTimeline,n=t.currentTimeline,i=t.startOfSegment,r=t.buffered;return t.overrideCheck||e!==n?r.length?r.end(r.length-1):i:null},ed=function(t){var e=t.timelineChangeController,n=t.currentTimeline,i=t.segmentTimeline,r=t.loaderType,o=t.audioDisabled;if(n===i)return!1;if("audio"===r){var a=e.lastTimelineChange({type:"main"});return!a||a.to!==i}if("main"===r&&o){var s=e.pendingTimelineChange({type:"audio"});return!s||s.to!==i}return!1},nd=function(e){function n(t,n){var i;if(i=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=t.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.hasPlayed_=t.hasPlayed,i.currentTime_=t.currentTime,i.seekable_=t.seekable,i.seeking_=t.seeking,i.duration_=t.duration,i.mediaSource_=t.mediaSource,i.vhs_=t.vhs,i.loaderType_=t.loaderType,i.currentMediaInfo_=void 0,i.startingMediaInfo_=void 0,i.segmentMetadataTrack_=t.segmentMetadataTrack,i.goalBufferLength_=t.goalBufferLength,i.sourceType_=t.sourceType,i.sourceUpdater_=t.sourceUpdater,i.inbandTextTracks_=t.inbandTextTracks,i.state_="INIT",i.handlePartialData_=t.handlePartialData,i.timelineChangeController_=t.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!0,i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.xhrOptions_=null,i.pendingSegments_=[],i.audioDisabled_=!1,i.isPendingTimestampOffset_=!1,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=lo.browser.IE_VERSION>=11,i.appendInitSegment_={audio:!0,video:!0},i.playlistOfLastInitSegment_={audio:null,video:null},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={id3:[],caption:[]},i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=t.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=t.decrypter,i.syncController_=t.syncController,i.syncPoint_={segmentIndex:0,time:0},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=function(){return i.trigger("syncinfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",(function(){i.isEndOfStream_()||(i.ended_=!1)})),i.fetchAtBuffer_=!1,i.logger_=Wc("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(Bt(i),"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t,this.trigger("statechange"))}}),i.sourceUpdater_.on("ready",(function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),"main"===i.loaderType_&&i.timelineChangeController_.on("pendingtimelinechange",(function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),"audio"===i.loaderType_&&i.timelineChangeController_.on("timelinechange",(function(){i.hasEnoughInfoToLoad_()&&i.processLoadQueue_(),i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),i}Gt(n,e);var i=n.prototype;return i.createTransmuxer_=function(){var t=new Bc;return t.postMessage({action:"init",options:{remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,handlePartialData:this.handlePartialData_}}),t},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&(this.transmuxer_.terminate(),yc()),this.resetStats_(),this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_)},i.checkForAbort_=function(t){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==t:(this.state="READY",!0)},i.error=function(t){return void 0!==t&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&vc(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){if(!this.sourceUpdater_||!this.startingMediaInfo_)return lo.createTimeRanges();if("main"===this.loaderType_){var t=this.startingMediaInfo_,e=t.hasAudio,n=t.hasVideo,i=t.isMuxed;if(n&&e&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(t,e){if(void 0===e&&(e=!1),!t)return null;var n=$l(t),i=this.initSegments_[n];return e&&!i&&t.bytes&&(this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),i||t},i.segmentKey=function(t,e){if(void 0===e&&(e=!1),!t)return null;var n=Yl(t),i=this.keyCache_[n];this.cacheEncryptionKeys_&&e&&!i&&t.bytes&&(this.keyCache_[n]=i={resolvedUri:t.resolvedUri,bytes:t.bytes});var r={resolvedUri:(i||t).resolvedUri};return i&&(r.bytes=i.bytes),r},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(t,e){if(void 0===e&&(e={}),t){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,"INIT"===this.state&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_("playlist update ["+r+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==t.uri)return(null!==this.mediaIndex||this.handlePartialData_)&&this.resyncLoader(),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var o=t.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex&&(this.mediaIndex-=o),i&&(i.mediaIndex-=o,i.mediaIndex>=0&&(i.segment=t.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,t)}},i.pause=function(){this.checkBufferTimeout_&&(t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return null===this.checkBufferTimeout_},i.resetEverything=function(t){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"})},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&vc(this.transmuxer_),this.mediaIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(t,e,n){if(void 0===n&&(n=function(){}),e===1/0&&(e=this.duration_()),this.sourceUpdater_&&this.currentMediaInfo_){var i=1,r=function(){0==--i&&n()};for(var o in this.audioDisabled_||(i++,this.sourceUpdater_.removeAudio(t,e,r)),"main"===this.loaderType_&&this.currentMediaInfo_&&this.currentMediaInfo_.hasVideo&&(this.gopBuffer_=function(t,e,n,i){for(var r=Math.ceil((e-i)*Ou),o=Math.ceil((n-i)*Ou),a=t.slice(),s=t.length;s--&&!(t[s].pts<=o););if(-1===s)return a;for(var u=s+1;u--&&!(t[u].pts<=r););return u=Math.max(u,0),a.splice(u,s-u+1),a}(this.gopBuffer_,t,e,this.timeMapping_),i++,this.sourceUpdater_.removeVideo(t,e,r)),this.inbandTextTracks_)Xc(t,e,this.inbandTextTracks_[o]);Xc(t,e,this.segmentMetadataTrack_),r()}},i.monitorBuffer_=function(){this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=t.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=t.setTimeout(this.monitorBufferTick_.bind(this),500)},i.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.buffered_(),e=this.checkBuffer_(t,this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(e.timestampOffset=td({segmentTimeline:e.timeline,currentTimeline:this.currentTimeline_,startOfSegment:e.startOfSegment,buffered:t,overrideCheck:this.isPendingTimestampOffset_}),this.isPendingTimestampOffset_=!1,"number"==typeof e.timestampOffset&&this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loadSegment_(e))}},i.isEndOfStream_=function(t,e){if(void 0===t&&(t=this.mediaIndex),void 0===e&&(e=this.playlist_),!e||!this.mediaSource_)return!1;var n=t+1===e.segments.length;return e.endList&&"open"===this.mediaSource_.readyState&&n},i.checkBuffer_=function(t,e,n,i,r,o){var a=0;t.length&&(a=t.end(t.length-1));var s=Math.max(0,a-r);if(!e.segments.length)return null;if(s>=this.goalBufferLength_())return null;if(!i&&s>=1)return null;var u,l=null,c=!1;if(null===o)l=this.getSyncSegmentCandidate_(e),c=!0;else if(null!==n){var d=e.segments[n];u=d&&d.end?d.end:a,l=n+1}else if(this.fetchAtBuffer_){var h=Fl.getMediaInfoForTime(e,a,o.segmentIndex,o.time);l=h.mediaIndex,u=h.startTime}else{var f=Fl.getMediaInfoForTime(e,r,o.segmentIndex,o.time);l=f.mediaIndex,u=f.startTime}var p=this.generateSegmentInfo_(e,l,u,c);return!p||this.mediaSource_&&this.playlist_&&p.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?void 0:(this.logger_("checkBuffer_ returning "+p.uri,{segmentInfo:p,playlist:e,currentMediaIndex:n,nextMediaIndex:l,startOfSegment:u,isSyncRequest:c}),p)},i.getSyncSegmentCandidate_=function(t){var e=this;if(-1===this.currentTimeline_)return 0;var n=t.segments.map((function(t,e){return{timeline:t.timeline,segmentIndex:e}})).filter((function(t){return t.timeline===e.currentTimeline_}));return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)},i.generateSegmentInfo_=function(t,e,n,i){if(e<0||e>=t.segments.length)return null;var r,o,a=t.segments[e],s=this.sourceUpdater_.audioBuffered(),u=this.sourceUpdater_.videoBuffered();return s.length&&(r=s.end(s.length-1)-this.sourceUpdater_.audioTimestampOffset()),u.length&&(o=function(t,e,n){if(null==e||!t.length)return[];var i,r=Math.ceil((e-n+3)*Ou);for(i=0;i<t.length&&!(t[i].pts>r);i++);return t.slice(i)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),{requestId:"segment-loader-"+Math.random(),uri:a.resolvedUri,mediaIndex:e,isSyncRequest:i,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:a.timeline,duration:a.duration,segment:a,byteLength:0,transmuxer:this.transmuxer_,audioAppendStart:r,gopsToAlignWith:o}},i.abortRequestEarly_=function(t){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),n=t.bandwidth,i=this.pendingSegment_.duration,r=Fl.estimateSegmentRequestTime(i,n,this.playlist_,t.bytesReceived),o=function(t,e,n){return void 0===n&&(n=1),((t.length?t.end(t.length-1):0)-e)/n}(this.buffered_(),e,this.vhs_.tech_.playbackRate())-1;if(r<=o)return!1;var a=function(t){var e=t.master,n=t.currentTime,i=t.bandwidth,r=t.duration,o=t.segmentDuration,a=t.timeUntilRebuffer,s=t.currentTimeline,u=t.syncController,l=e.playlists.filter((function(t){return!Fl.isIncompatible(t)})),c=l.filter(Fl.isEnabled);c.length||(c=l.filter((function(t){return!Fl.isDisabled(t)})));var d=c.filter(Fl.hasAttribute.bind(null,"BANDWIDTH")).map((function(t){var e=u.getSyncPoint(t,r,s,n)?1:2;return{playlist:t,rebufferingImpact:Fl.estimateSegmentRequestTime(o,i,t)*e-a}})),h=d.filter((function(t){return t.rebufferingImpact<=0}));return $c(h,(function(t,e){return Yc(e.playlist,t.playlist)})),h.length?h[0]:($c(d,(function(t,e){return t.rebufferingImpact-e.rebufferingImpact})),d[0]||null)}({master:this.vhs_.playlists.master,currentTime:e,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=r-o-a.rebufferingImpact,u=.5;return o<=bl&&(u=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||s<u||(this.bandwidth=a.playlist.attributes.BANDWIDTH*lc.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),0))}},i.handleAbort_=function(){this.mediaRequestsAborted+=1},i.handleProgress_=function(t,e){this.checkForAbort_(e.requestId)||this.abortRequestEarly_(e.stats)||this.trigger("progress")},i.handleTrackInfo_=function(t,e){this.checkForAbort_(t.requestId)||this.abortRequestEarly_(t.stats)||this.checkForIllegalMediaSwitch(e)||(e=e||{},function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;var n=Object.keys(t).sort(),i=Object.keys(e).sort();if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(o!==i[r])return!1;if(t[o]!==e[o])return!1}return!0}(this.currentMediaInfo_,e)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=e,this.currentMediaInfo_=e,this.logger_("trackinfo update",e),this.trigger("trackinfo")),this.checkForAbort_(t.requestId)||this.abortRequestEarly_(t.stats)||(this.pendingSegment_.trackInfo=e,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},i.handleTimingInfo_=function(t,e,n,i){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats)){var r=this.pendingSegment_,o=Qc(e);r[o]=r[o]||{},r[o][n]=i,this.logger_("timinginfo: "+e+" - "+n+" - "+i),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},i.handleCaptions_=function(e,n){var i=this;if(!this.checkForAbort_(e.requestId)&&!this.abortRequestEarly_(e.stats))if(0!==n.length)if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),o={};n.forEach((function(t){o[t.stream]=o[t.stream]||{startTime:1/0,captions:[],endTime:0};var e=o[t.stream];e.startTime=Math.min(e.startTime,t.startTime+r),e.endTime=Math.max(e.endTime,t.endTime+r),e.captions.push(t)})),Object.keys(o).forEach((function(e){var n=o[e],a=n.startTime,s=n.endTime,u=n.captions,l=i.inbandTextTracks_;i.logger_("adding cues from "+a+" -> "+s+" for "+e),function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"}),e.trigger({type:"usage",name:"hls-608"});var i=e.textTracks().getTrackById(n);t[n]=i||e.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}}(l,i.vhs_.tech_,e),Xc(a,s,l[e]),function(e){var n=e.inbandTextTracks,i=e.captionArray,r=e.timestampOffset;if(i){var o=t.WebKitDataCue||t.VTTCue;i.forEach((function(t){var e=t.stream;n[e].addCue(new o(t.startTime+r,t.endTime+r,t.text))}))}}({captionArray:u,inbandTextTracks:l,timestampOffset:r})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));else this.logger_("SegmentLoader received no captions from a caption event")},i.handleId3_=function(t,e,n){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats))if(this.pendingSegment_.hasAppendedData_){var i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();(function(t,e,n){t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=e)})(this.inbandTextTracks_,n,this.vhs_.tech_),Kc({inbandTextTracks:this.inbandTextTracks_,metadataArray:e,timestampOffset:i,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,e,n))},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(t){return t()})),this.metadataQueue_.caption.forEach((function(t){return t()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach((function(t){return t()}))},i.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach((function(t){return t()}))},i.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var t=this.pendingSegment_;return!(!t||this.currentMediaInfo_&&ed({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;var t=this.pendingSegment_;if(!t||!t.trackInfo)return!1;if(!this.handlePartialData_){var e=this.currentMediaInfo_,n=e.hasAudio,i=e.hasVideo,r=e.isMuxed;if(i&&!t.videoTimingInfo)return!1;if(n&&!this.audioDisabled_&&!r&&!t.audioTimingInfo)return!1}return!ed({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})},i.handleData_=function(t,e){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.segment),"closed"!==this.mediaSource_.readyState){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),n.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),n.isFmp4=t.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[Qc(e.type)].start;else{var i,r="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo;r&&(i=this.handlePartialData_?e.videoFramePtsTime:n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:r,firstVideoFrameTimeForData:i,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}this.updateAppendInitSegmentStatus(n,e.type),this.updateSourceBufferTimestampOffset_(n),n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,e)}}else this.callQueue_.push(this.handleData_.bind(this,t,e))},i.updateAppendInitSegmentStatus=function(t,e){"main"!==this.loaderType_||"number"!=typeof t.timestampOffset||t.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[e]!==t.playlist&&(this.appendInitSegment_[e]=!0)},i.getInitSegmentAndUpdateState_=function(t){var e=t.type,n=t.initSegment,i=t.map,r=t.playlist;if(i){var o=$l(i);if(this.activeInitSegmentId_===o)return null;n=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=o}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=r,this.appendInitSegment_[e]=!!i,this.activeInitSegmentId_=null,n):null},i.appendToSourceBuffer_=function(t){var e=this,n=t.segmentInfo,i=t.type,r=t.initSegment,o=t.data,a=[o],s=o.byteLength;r&&(a.unshift(r),s+=r.byteLength);var u,l,c,d=(c=0,(u={bytes:s,segments:a}).bytes&&(l=new Uint8Array(u.bytes),u.segments.forEach((function(t){l.set(t,c),c+=t.byteLength}))),l);this.sourceUpdater_.appendBuffer({segmentInfo:n,type:i,bytes:d},(function(t){t&&(e.error(i+" append of "+d.length+"b failed for segment #"+n.mediaIndex+" in playlist "+n.playlist.id),e.trigger("appenderror"))}))},i.handleVideoSegmentTimingInfo_=function(t,e){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment;n.videoTimingInfo||(n.videoTimingInfo={}),n.videoTimingInfo.transmuxerPrependedSeconds=e.prependedContentDuration||0,n.videoTimingInfo.transmuxedPresentationStart=e.start.presentation,n.videoTimingInfo.transmuxedPresentationEnd=e.end.presentation,n.videoTimingInfo.baseMediaDecodeTime=e.baseMediaDecodeTime}},i.appendData_=function(t,e){var n=e.type,i=e.data;if(i&&i.byteLength&&("audio"!==n||!this.audioDisabled_)){var r=this.getInitSegmentAndUpdateState_({type:n,initSegment:e.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:n,initSegment:r,data:i})}},i.loadSegment_=function(t){var e=this;this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),"number"==typeof t.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(t):this.loadQueue_.push((function(){var n=e.buffered_();"number"==typeof t.timestampOffset&&(t.timestampOffset=td({segmentTimeline:t.timeline,currentTimeline:e.currentTimeline_,startOfSegment:t.startOfSegment,buffered:n,overrideCheck:!0})),delete t.audioAppendStart;var i=e.sourceUpdater_.audioBuffered();i.length&&(t.audioAppendStart=i.end(i.length-1)-e.sourceUpdater_.audioTimestampOffset()),e.updateTransmuxerAndRequestSegment_(t)}))},i.updateTransmuxerAndRequestSegment_=function(t){this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));var e=this.createSimplifiedSegmentObj_(t);t.abortRequests=kc({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:e,handlePartialData:this.handlePartialData_,abortFn:this.handleAbort_.bind(this),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId),captionsFn:this.handleCaptions_.bind(this),id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this)})},i.trimBackBuffer_=function(t){var e=function(t,e,n){var i=e-lc.BACK_BUFFER_LENGTH;t.length&&(i=Math.max(i,t.start(0)));var r=e-n;return Math.min(r,i)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)},i.createSimplifiedSegmentObj_=function(t){var e=t.segment,n={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith},i=t.playlist.segments[t.mediaIndex];if(i&&i.end&&i.timeline===e.timeline&&(n.baseStartTime=i.end+t.timestampOffset),e.key){var r=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key=this.segmentKey(e.key),n.key.iv=r}return e.map&&(n.map=this.initSegmentForMap(e.map)),n},i.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},i.saveBandwidthRelatedStats_=function(t){this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime,this.pendingSegment_.byteLength=t.bytesReceived},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},i.segmentRequestFinished_=function(t,e,n){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,e,n));else if(this.saveTransferStats_(e.stats),this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId){if(t){if(this.pendingSegment_=null,this.state="READY",t.code===Tc)return;return this.pause(),t.code===wc?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error"))}this.saveBandwidthRelatedStats_(e.stats);var i=this.pendingSegment_;i.endOfAllRequests=e.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=function(t,e,n){if(!e.length)return t;if(n)return e.slice();for(var i=e[0].pts,r=0;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)}(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING";var r=this.isEndOfStream_(i.mediaIndex,i.playlist),o=null!==this.mediaIndex,a=i.timeline!==this.currentTimeline_&&i.timeline>0;!i.isFmp4&&(r||o&&a)&&_c(this.transmuxer_),this.trigger("appending"),this.waitForAppendsToComplete_(i)}},i.setTimeMapping_=function(t){var e=this.syncController_.mappingForTimeline(t);null!==e&&(this.timeMapping_=e)},i.updateMediaSecondsLoaded_=function(t){"number"==typeof t.start&&"number"==typeof t.end?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(t){return null!==t&&("main"===this.loaderType_&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset())},i.trueSegmentStart_=function(t){var e=t.currentStart,n=t.playlist,i=t.mediaIndex,r=t.firstVideoFrameTimeForData,o=t.currentVideoTimestampOffset,a=t.useVideoTimingInfo,s=t.videoTimingInfo,u=t.audioTimingInfo;if(void 0!==e)return e;if(!a)return u.start;var l=n.segments[i-1];return 0!==i&&l&&void 0!==l.start&&l.end===r+o?s.start:r},i.waitForAppendsToComplete_=function(t){if(!this.currentMediaInfo_)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var e=this.currentMediaInfo_,n=e.hasAudio,i=e.hasVideo,r=e.isMuxed,o="main"===this.loaderType_&&i,a=!this.audioDisabled_&&n&&!r;if(t.waitingOnAppends=0,!t.hasAppendedData_)return t.timingInfo||"number"!=typeof t.timestampOffset||(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),void this.checkAppendsDone_(t);o&&t.waitingOnAppends++,a&&t.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},i.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,0===t.waitingOnAppends&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(t){var e=function(t,e,n){return"main"===t&&e&&n?n.hasAudio||n.hasVideo?e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.currentMediaInfo_,t);return!!e&&(this.error({message:e,blacklistDuration:1/0}),this.trigger("error"),!0)},i.updateSourceBufferTimestampOffset_=function(t){if(null!==t.timestampOffset&&"number"==typeof t.timingInfo.start&&!t.changedTimestampOffset&&"main"===this.loaderType_){var e=!1;t.timestampOffset-=t.timingInfo.start,t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),e=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),e=!0),e&&this.trigger("timestampoffset")}},i.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var e="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;e&&(t.timingInfo.end="number"==typeof e.end?e.end:e.start+t.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_;if(this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:"main"===this.loaderType_}),this.logger_(function(t){var e=t.segment,n=e.start,i=e.end,r=t.playlist,o=r.mediaSequence,a=r.id,s=r.segments,u=void 0===s?[]:s,l=t.mediaIndex,c=t.timeline;return["appending ["+l+"] of ["+o+", "+(o+u.length)+"] from playlist ["+a+"]","["+n+" => "+i+"] in timeline ["+c+"]"].join(" ")}(t)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest)this.trigger("syncinfoupdate");else{this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var e=t.segment;e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration?this.resetEverything():(null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.isEndOfStream_(t.mediaIndex,t.playlist)&&this.endOfStream(),this.trigger("appended"),this.paused()||this.monitorBuffer_())}},i.recordThroughput_=function(t){var e=this.throughput.rate,n=Date.now()-t.endOfAllRequests+1,i=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(i-e)/++this.throughput.count},i.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var n=e.segment,i=n.start,r=n.end;if(Jc(i)&&Jc(r)){Xc(i,r,this.segmentMetadataTrack_);var o=t.WebKitDataCue||t.VTTCue,a={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:r},s=new o(i,r,JSON.stringify(a));s.value=a,this.segmentMetadataTrack_.addCue(s)}}},n}(lo.EventTarget);function id(){}var rd,od=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))},ad=["video","audio"],sd=function(t,e){var n=e[t+"Buffer"];return n&&n.updating||e.queuePending[t]},ud=function t(e,n){if(0!==n.queue.length){var i=0,r=n.queue[i];if("mediaSource"!==r.type){if("mediaSource"!==e&&n.started_&&"closed"!==n.mediaSource.readyState&&!sd(e,n)){if(r.type!==e){if(null===(i=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if("mediaSource"===i.type)return null;if(i.type===t)return n}return null}(e,n.queue)))return;r=n.queue[i]}n.queue.splice(i,1),r.action(e,n),r.doneFn?n.queuePending[e]=r:t(e,n)}}else n.updating()||"closed"===n.mediaSource.readyState||(n.queue.shift(),r.action(n),r.doneFn&&r.doneFn(),t("audio",n),t("video",n))}},ld=function(t,e){var n=e[t+"Buffer"],i=od(t);n&&(n.removeEventListener("updateend",e["on"+i+"UpdateEnd_"]),n.removeEventListener("error",e["on"+i+"Error_"]),e.codecs[t]=null,e[t+"Buffer"]=null)},cd=function(t,e){return t&&e&&-1!==Array.prototype.indexOf.call(t.sourceBuffers,e)},dd=function(t,e){return function(n,i){var r=i[n+"Buffer"];cd(i.mediaSource,r)&&(i.logger_("Appending segment "+e.mediaIndex+"'s "+t.length+" bytes to "+n+"Buffer"),r.appendBuffer(t))}},hd=function(t,e){return function(n,i){var r=i[n+"Buffer"];cd(i.mediaSource,r)&&(i.logger_("Removing "+t+" to "+e+" from "+n+"Buffer"),r.remove(t,e))}},fd=function(t){return function(e,n){var i=n[e+"Buffer"];cd(n.mediaSource,i)&&(n.logger_("Setting "+e+"timestampOffset to "+t),i.timestampOffset=t)}},pd=function(t){return function(e,n){t()}},gd=function(t){return function(e){if("open"===e.mediaSource.readyState){e.logger_("Calling mediaSource endOfStream("+(t||"")+")");try{e.mediaSource.endOfStream(t)}catch(t){lo.log.warn("Failed to call media source endOfStream",t)}}}},md=function(t){return function(e){e.logger_("Setting mediaSource duration to "+t);try{e.mediaSource.duration=t}catch(t){lo.log.warn("Failed to set media source duration",t)}}},vd=function(){return function(t,e){if("open"===e.mediaSource.readyState){var n=e[t+"Buffer"];if(cd(e.mediaSource,n)){e.logger_("calling abort on "+t+"Buffer");try{n.abort()}catch(e){lo.log.warn("Failed to abort on "+t+"Buffer",e)}}}}},yd=function(t,e){return function(n){var i=od(t),r=tl(e);n.logger_("Adding "+t+"Buffer with codec "+e+" to mediaSource");var o=n.mediaSource.addSourceBuffer(r);o.addEventListener("updateend",n["on"+i+"UpdateEnd_"]),o.addEventListener("error",n["on"+i+"Error_"]),n.codecs[t]=e,n[t+"Buffer"]=o}},_d=function(t){return function(e){var n=e[t+"Buffer"];if(ld(t,e),cd(e.mediaSource,n)){e.logger_("Removing "+t+"Buffer with codec "+e.codecs[t]+" from mediaSource");try{e.mediaSource.removeSourceBuffer(n)}catch(e){lo.log.warn("Failed to removeSourceBuffer "+t+"Buffer",e)}}}},bd=function(t){return function(e,n){var i=n[e+"Buffer"],r=tl(t);cd(n.mediaSource,i)&&n.codecs[e]!==t&&(n.logger_("changing "+e+"Buffer codec from "+n.codecs[e]+" to "+t),i.changeType(r),n.codecs[e]=t)}},wd=function(t){var e=t.type,n=t.sourceUpdater,i=t.action,r=t.doneFn,o=t.name;n.queue.push({type:e,action:i,doneFn:r,name:o}),ud(e,n)},Td=function(t,e){return function(n){if(e.queuePending[t]){var i=e.queuePending[t].doneFn;e.queuePending[t]=null,i&&i(e[t+"Error_"])}ud(t,e)}},Sd=function(e){function n(t){var n;return(n=e.call(this)||this).mediaSource=t,n.sourceopenListener_=function(){return ud("mediaSource",Bt(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=Wc("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=Td("video",Bt(n)),n.onAudioUpdateEnd_=Td("audio",Bt(n)),n.onVideoError_=function(t){n.videoError_=t},n.onAudioError_=function(t){n.audioError_=t},n.started_=!1,n}Gt(n,e);var i=n.prototype;return i.ready=function(){return this.started_},i.createSourceBuffers=function(t){this.ready()||(this.addOrChangeSourceBuffers(t),this.started_=!0,this.trigger("ready"))},i.addSourceBuffer=function(t,e){wd({type:"mediaSource",sourceUpdater:this,action:yd(t,e),name:"addSourceBuffer"})},i.abort=function(t){wd({type:t,sourceUpdater:this,action:vd(t),name:"abort"})},i.removeSourceBuffer=function(t){this.canRemoveSourceBuffer()?wd({type:"mediaSource",sourceUpdater:this,action:_d(t),name:"removeSourceBuffer"}):lo.log.error("removeSourceBuffer is not supported!")},i.canRemoveSourceBuffer=function(){return!lo.browser.IE_VERSION&&t.MediaSource&&t.MediaSource.prototype&&"function"==typeof t.MediaSource.prototype.removeSourceBuffer},n.canChangeType=function(){return t.SourceBuffer&&t.SourceBuffer.prototype&&"function"==typeof t.SourceBuffer.prototype.changeType},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(t,e){this.canChangeType()?wd({type:t,sourceUpdater:this,action:bd(e),name:"changeType"}):lo.log.error("changeType is not supported!")},i.addOrChangeSourceBuffers=function(t){var e=this;if(!t||"object"!=typeof t||0===Object.keys(t).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach((function(n){var i=t[n];if(!e.ready())return e.addSourceBuffer(n,i);e.canChangeType()&&e.changeType(n,i)}))},i.appendBuffer=function(t,e){var n=this,i=t.segmentInfo,r=t.type,o=t.bytes;if(this.processedAppend_=!0,"audio"===r&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([t,e]),void this.logger_("delayed audio append of "+o.length+" until video append");if(wd({type:r,sourceUpdater:this,action:dd(o,i||{mediaIndex:-1}),doneFn:e,name:"appendBuffer"}),"video"===r){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var a=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+a.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,a.forEach((function(t){n.appendBuffer.apply(n,t)}))}},i.audioBuffered=function(){return cd(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:lo.createTimeRange()},i.videoBuffered=function(){return cd(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:lo.createTimeRange()},i.buffered=function(){var t=cd(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,e=cd(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return e&&!t?this.audioBuffered():t&&!e?this.videoBuffered():function(t,e){var n=null,i=null,r=0,o=[],a=[];if(!(t&&t.length&&e&&e.length))return lo.createTimeRange();for(var s=t.length;s--;)o.push({time:t.start(s),type:"start"}),o.push({time:t.end(s),type:"end"});for(s=e.length;s--;)o.push({time:e.start(s),type:"start"}),o.push({time:e.end(s),type:"end"});for(o.sort((function(t,e){return t.time-e.time})),s=0;s<o.length;s++)"start"===o[s].type?2==++r&&(n=o[s].time):"end"===o[s].type&&1==--r&&(i=o[s].time),null!==n&&null!==i&&(a.push([n,i]),n=null,i=null);return lo.createTimeRanges(a)}(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(t,e){void 0===e&&(e=id),wd({type:"mediaSource",sourceUpdater:this,action:md(t),name:"duration",doneFn:e})},i.endOfStream=function(t,e){void 0===t&&(t=null),void 0===e&&(e=id),"string"!=typeof t&&(t=void 0),wd({type:"mediaSource",sourceUpdater:this,action:gd(t),name:"endOfStream",doneFn:e})},i.removeAudio=function(t,e,n){void 0===n&&(n=id),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?wd({type:"audio",sourceUpdater:this,action:hd(t,e),doneFn:n,name:"remove"}):n()},i.removeVideo=function(t,e,n){void 0===n&&(n=id),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?wd({type:"video",sourceUpdater:this,action:hd(t,e),doneFn:n,name:"remove"}):n()},i.updating=function(){return!(!sd("audio",this)&&!sd("video",this))},i.audioTimestampOffset=function(t){return void 0!==t&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(wd({type:"audio",sourceUpdater:this,action:fd(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},i.videoTimestampOffset=function(t){return void 0!==t&&this.videoBuffer&&this.videoTimestampOffset!==t&&(wd({type:"video",sourceUpdater:this,action:fd(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},i.audioQueueCallback=function(t){this.audioBuffer&&wd({type:"audio",sourceUpdater:this,action:pd(t),name:"callback"})},i.videoQueueCallback=function(t){this.videoBuffer&&wd({type:"video",sourceUpdater:this,action:pd(t),name:"callback"})},i.dispose=function(){var t=this;this.trigger("dispose"),ad.forEach((function(e){t.abort(e),t.canRemoveSourceBuffer()?t.removeSourceBuffer(e):t[e+"QueueCallback"]((function(){return ld(e,t)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},n}(lo.EventTarget),Ed=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},Od=new Uint8Array("\n\n".split("").map((function(t){return t.charCodeAt(0)}))),Pd=function(e){function n(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).handlePartialData_=!1,i.mediaSource_=null,i.subtitlesTrack_=null,i.loaderType_="subtitle",i.featuresNativeTextTracks_=t.featuresNativeTextTracks,i.shouldSaveSegmentTimingInfo_=!1,i}Gt(n,e);var i=n.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return lo.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,n=t[t.length-1].startTime;return lo.createTimeRanges([[e,n]])},i.initSegmentForMap=function(t,e){if(void 0===e&&(e=!1),!t)return null;var n=$l(t),i=this.initSegments_[n];if(e&&!i&&t.bytes){var r=Od.byteLength+t.bytes.byteLength,o=new Uint8Array(r);o.set(t.bytes),o.set(Od,t.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:o}}return i||t},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(t){return void 0===t||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},i.remove=function(t,e){Xc(t,e,this.subtitlesTrack_)},i.fillBuffer_=function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){return this.syncController_.one("timestampoffset",(function(){t.state="READY",t.paused()||t.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}},i.skipEmptySegments_=function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t},i.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(e,n,i){var r=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(n.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===wc&&this.handleTimeout_(),e.code===Tc?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);this.saveBandwidthRelatedStats_(n.stats),this.state="APPENDING",this.trigger("appending");var o=this.pendingSegment_,a=o.segment;if(a.map&&(a.map.bytes=n.map.bytes),o.bytes=n.bytes,"function"!=typeof t.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var s,u=function(){r.subtitlesTrack_.tech_.off("vttjsloaded",s),r.stopForError({message:"Error loading vtt.js"})};return s=function(){r.subtitlesTrack_.tech_.off("vttjserror",u),r.segmentRequestFinished_(e,n,i)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",s),void this.subtitlesTrack_.tech_.one("vttjserror",u)}a.requested=!0;try{this.parseVTTCues_(o)}catch(t){return void this.stopForError({message:t.message})}if(this.updateTimeMapping_(o,this.syncController_.timelines[o.timeline],this.playlist_),o.cues.length?o.timingInfo={start:o.cues[0].startTime,end:o.cues[o.cues.length-1].endTime}:o.timingInfo={start:o.startOfSegment,end:o.startOfSegment+o.duration},o.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");o.byteLength=o.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,o.cues.forEach((function(e){r.remove(e.startTime,e.endTime),r.subtitlesTrack_.addCue(r.featuresNativeTextTracks_?new t.VTTCue(e.startTime,e.endTime,e.text):e)})),this.handleAppendsDone_()}else this.state="READY"},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(e){var n,i=!1;"function"==typeof t.TextDecoder?n=new t.TextDecoder("utf8"):(n=t.WebVTT.StringDecoder(),i=!0);var r=new t.WebVTT.Parser(t,t.vttjs,n);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){e.timestampmap=t},r.onparsingerror=function(t){lo.log.warn("Error encountered when parsing cues: "+t.message)},e.segment.map){var o=e.segment.map.bytes;i&&(o=Ed(o)),r.parse(o)}var a=e.bytes;i&&(a=Ed(a)),r.parse(a),r.flush()},i.updateTimeMapping_=function(t,e,n){var i=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,o=r.MPEGTS/Ou-r.LOCAL+e.mapping;if(t.cues.forEach((function(t){t.startTime+=o,t.endTime+=o})),!n.syncInfo){var a=t.cues[0].startTime,s=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(a,s-i.duration)}}}else i.empty=!0},n}(nd),Cd=function(t,e){for(var n=t.cues,i=0;i<n.length;i++){var r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},Ad=[{name:"VOD",run:function(t,e,n,i,r){return n!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(t,e,n,i,r){if(!t.datetimeToDisplayTime)return null;var o=e.segments||[],a=null,s=null;r=r||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.dateTimeObject){var c=l.dateTimeObject.getTime()/1e3+t.datetimeToDisplayTime,d=Math.abs(r-c);if(null!==s&&(0===d||s<d))break;s=d,a={time:c,segmentIndex:u}}}return a}},{name:"Segment",run:function(t,e,n,i,r){var o=e.segments||[],a=null,s=null;r=r||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.timeline===i&&void 0!==l.start){var c=Math.abs(r-l.start);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(t,e,n,i,r){var o=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var a=null,s=0;s<e.discontinuityStarts.length;s++){var u=e.discontinuityStarts[s],l=e.discontinuitySequence+s+1,c=t.discontinuities[l];if(c){var d=Math.abs(r-c.time);if(null!==a&&a<d)break;(!o||null===a||a>=d)&&(a=d,o={time:c.time,segmentIndex:u})}}return o}},{name:"Playlist",run:function(t,e,n,i,r){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}:null}}],kd=function(t){function e(e){var n;return(n=t.call(this)||this).timelines=[],n.discontinuities=[],n.datetimeToDisplayTime=null,n.logger_=Wc("SyncController"),n}Gt(e,t);var n=e.prototype;return n.getSyncPoint=function(t,e,n,i){var r=this.runStrategies_(t,e,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null},n.getExpiredTime=function(t,e){if(!t||!t.segments)return null;var n=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+xl(t,i.segmentIndex,0))},n.runStrategies_=function(t,e,n,i){for(var r=[],o=0;o<Ad.length;o++){var a=Ad[o],s=a.run(this,t,e,n,i);s&&(s.strategy=a.name,r.push({strategy:a.name,syncPoint:s}))}return r},n.selectSyncPoint_=function(t,e){for(var n=t[0].syncPoint,i=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,o=1;o<t.length;o++){var a=Math.abs(t[o].syncPoint[e.key]-e.value);a<i&&(i=a,n=t[o].syncPoint,r=t[o].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n},n.saveExpiredSegmentInfo=function(t,e){for(var n=e.mediaSequence-t.mediaSequence-1;n>=0;n--){var i=t.segments[n];if(i&&void 0!==i.start){e.syncInfo={mediaSequence:t.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},n.setDateTimeMapping=function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}},n.saveSegmentTimingInfo=function(t){var e=t.segmentInfo,n=t.shouldSaveTimelineMapping;this.calculateSegmentTimeMapping_(e,e.timingInfo,n)&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:e.segment.start}))},n.timestampOffsetForTimeline=function(t){return void 0===this.timelines[t]?null:this.timelines[t].time},n.mappingForTimeline=function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping},n.calculateSegmentTimeMapping_=function(t,e,n){var i=t.segment,r=this.timelines[t.timeline];if(null!==t.timestampOffset)r={time:t.startOfSegment,mapping:t.startOfSegment-e.start},n&&(this.timelines[t.timeline]=r,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+r.time+"] [mapping: "+r.mapping+"]")),i.start=t.startOfSegment,i.end=e.end+r.mapping;else{if(!r)return!1;i.start=e.start+r.mapping,i.end=e.end+r.mapping}return!0},n.saveDiscontinuitySyncInfo_=function(t){var e=t.playlist,n=t.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var i=0;i<e.discontinuityStarts.length;i++){var r=e.discontinuityStarts[i],o=e.discontinuitySequence+i+1,a=r-t.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var u;u=a<0?n.start-xl(e,t.mediaIndex,r):n.end+xl(e,t.mediaIndex+1,r),this.discontinuities[o]={time:u,accuracy:s}}}},n.dispose=function(){this.trigger("dispose"),this.off()},e}(lo.EventTarget),xd=function(t){function e(){var e;return(e=t.call(this)||this).pendingTimelineChanges_={},e.lastTimelineChanges_={},e}Gt(e,t);var n=e.prototype;return n.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(t){var e=t.type,n=t.from,i=t.to;return"number"==typeof n&&"number"==typeof i&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]},n.lastTimelineChange=function(t){var e=t.type,n=t.from,i=t.to;return"number"==typeof n&&"number"==typeof i&&(this.lastTimelineChanges_[e]={type:e,from:n,to:i},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(lo.EventTarget),Id=new Lc("./decrypter-worker.worker.js",(function(t,e){var n=this;!function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var e=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e};var i=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},r=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(n,1),n>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=e.length,a=0;a<o;++a)e[a].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}(),o=r;var a=null,s=function(){function t(t){var e,n,i;a||(a=function(){var t,e,n,i,r,o,a,s,u=[[[],[],[],[],[]],[[],[],[],[],[]]],l=u[0],c=u[1],d=l[4],h=c[4],f=[],p=[];for(t=0;t<256;t++)p[(f[t]=t<<1^283*(t>>7))^t]=t;for(e=n=0;!d[e];e^=i||1,n=p[n]||1)for(o=(o=n^n<<1^n<<2^n<<3^n<<4)>>8^255&o^99,d[e]=o,h[o]=e,s=16843009*f[r=f[i=f[e]]]^65537*r^257*i^16843008*e,a=257*f[o]^16843008*o,t=0;t<4;t++)l[t][e]=a=a<<24^a>>>8,c[t][o]=s=s<<24^s>>>8;for(t=0;t<5;t++)l[t]=l[t].slice(0),c[t]=c[t].slice(0);return u}()),this._tables=[[a[0][0].slice(),a[0][1].slice(),a[0][2].slice(),a[0][3].slice(),a[0][4].slice()],[a[1][0].slice(),a[1][1].slice(),a[1][2].slice(),a[1][3].slice(),a[1][4].slice()]];var r=this._tables[0][4],o=this._tables[1],s=t.length,u=1;if(4!==s&&6!==s&&8!==s)throw new Error("Invalid aes key size");var l=t.slice(0),c=[];for(this._key=[l,c],e=s;e<4*s+28;e++)i=l[e-1],(e%s==0||8===s&&e%s==4)&&(i=r[i>>>24]<<24^r[i>>16&255]<<16^r[i>>8&255]<<8^r[255&i],e%s==0&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),l[e]=l[e-s]^i;for(n=0;e;n++,e--)i=l[3&n?e:e-4],c[n]=e<=4||n<4?i:o[0][r[i>>>24]]^o[1][r[i>>16&255]]^o[2][r[i>>8&255]]^o[3][r[255&i]]}return t.prototype.decrypt=function(t,e,n,i,r,o){var a,s,u,l,c=this._key[1],d=t^c[0],h=i^c[1],f=n^c[2],p=e^c[3],g=c.length/4-2,m=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],w=v[3],T=v[4];for(l=0;l<g;l++)a=y[d>>>24]^_[h>>16&255]^b[f>>8&255]^w[255&p]^c[m],s=y[h>>>24]^_[f>>16&255]^b[p>>8&255]^w[255&d]^c[m+1],u=y[f>>>24]^_[p>>16&255]^b[d>>8&255]^w[255&h]^c[m+2],p=y[p>>>24]^_[d>>16&255]^b[h>>8&255]^w[255&f]^c[m+3],m+=4,d=a,h=s,f=u;for(l=0;l<4;l++)r[(3&-l)+o]=T[d>>>24]<<24^T[h>>16&255]<<16^T[f>>8&255]<<8^T[255&p]^c[m++],a=d,d=h,h=f,f=p,p=a},t}(),u=function(t){function e(){var e;return(e=t.call(this,o)||this).jobs=[],e.delay=1,e.timeout_=null,e}i(e,t);var n=e.prototype;return n.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(o),l=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},c=function(){function t(e,n,i,r){var o=t.STEP,a=new Int32Array(e.buffer),s=new Uint8Array(e.byteLength),c=0;for(this.asyncStream_=new u,this.asyncStream_.push(this.decryptChunk_(a.subarray(c,c+o),n,i,s)),c=o;c<a.length;c+=o)i=new Uint32Array([l(a[c-4]),l(a[c-3]),l(a[c-2]),l(a[c-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(c,c+o),n,i,s));this.asyncStream_.push((function(){var t;r(null,(t=s).subarray(0,t.byteLength-t[t.byteLength-1]))}))}return t.prototype.decryptChunk_=function(t,e,n,i){return function(){var r=function(t,e,n){var i,r,o,a,u,c,d,h,f,p=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),g=new s(Array.prototype.slice.call(e)),m=new Uint8Array(t.byteLength),v=new Int32Array(m.buffer);for(i=n[0],r=n[1],o=n[2],a=n[3],f=0;f<p.length;f+=4)u=l(p[f]),c=l(p[f+1]),d=l(p[f+2]),h=l(p[f+3]),g.decrypt(u,c,d,h,v,f),v[f]=l(v[f]^i),v[f+1]=l(v[f+1]^r),v[f+2]=l(v[f+2]^o),v[f+3]=l(v[f+3]^a),i=u,r=c,o=d,a=h;return m}(t,e,n);i.set(r,t.byteOffset)}},e(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}();new function(t){t.onmessage=function(e){var n=e.data,i=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),r=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),o=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new c(i,r,o,(function(e,i){var r,o;t.postMessage((r={source:n.source,decrypted:i},o={},Object.keys(r).forEach((function(t){var e=r[t];ArrayBuffer.isView(e)?o[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:o[t]=e})),o),[i.buffer])}))}}(n)}()})),Md=function(t){var e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},Rd=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Nd=function(t,e){e.activePlaylistLoader=t,t.load()},Dd={AUDIO:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t],r=e.blacklistCurrentPlaylist;Rd(n,i);var o=i.activeTrack(),a=i.activeGroup(),s=(a.filter((function(t){return t.default}))[0]||a[0]).id,u=i.tracks[s];if(o!==u){for(var l in lo.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[l].enabled=i.tracks[l]===u;i.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t];lo.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Rd(n,i);var r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}}},Ld={AUDIO:function(t,e,n){if(e){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[t];e.on("loadedmetadata",(function(){var t=e.media();o.playlist(t,r),(!i.paused()||t.endList&&"none"!==i.preload())&&o.load()})),e.on("loadedplaylist",(function(){o.playlist(e.media(),r),i.paused()||o.load()})),e.on("error",Dd[t](t,n))}},SUBTITLES:function(t,e,n){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[t],a=n.mediaTypes[t];e.on("loadedmetadata",(function(){var t=e.media();o.playlist(t,r),o.track(a.activeTrack()),(!i.paused()||t.endList&&"none"!==i.preload())&&o.load()})),e.on("loadedplaylist",(function(){o.playlist(e.media(),r),i.paused()||o.load()})),e.on("error",Dd[t](t,n))}},jd={AUDIO:function(t,e){var n=e.vhs,i=e.sourceType,r=e.segmentLoaders[t],o=e.requestOptions,a=e.master,s=a.mediaGroups,u=a.playlists,l=e.mediaTypes[t],c=l.groups,d=l.tracks,h=e.masterPlaylistLoader;s[t]&&0!==Object.keys(s[t]).length||(s[t]={main:{default:{default:!0}}});var f=function(r){c[r]||(c[r]=[]);var a=u.filter((function(e){return e.attributes[t]===r})),l=function(u){var l=s[t][r][u];a.filter((function(t){return t.resolvedUri===l.resolvedUri})).length&&delete l.resolvedUri;var f;if(f="vhs-json"===i&&l.playlists?new _l(l.playlists[0],n,o):l.resolvedUri?new _l(l.resolvedUri,n,o):l.playlists&&"dash"===i?new uc(l.playlists[0],n,o,h):null,l=lo.mergeOptions({id:u,playlistLoader:f},l),Ld[t](t,l.playlistLoader,e),c[r].push(l),void 0===d[u]){var p=new lo.AudioTrack({id:u,kind:Md(l),enabled:!1,language:l.language,default:l.default,label:u});d[u]=p}};for(var f in s[t][r])l(f)};for(var p in s[t])f(p);r.on("error",Dd[t](t,e))},SUBTITLES:function(t,e){var n=e.tech,i=e.vhs,r=e.sourceType,o=e.segmentLoaders[t],a=e.requestOptions,s=e.master.mediaGroups,u=e.mediaTypes[t],l=u.groups,c=u.tracks,d=e.masterPlaylistLoader;for(var h in s[t])for(var f in l[h]||(l[h]=[]),s[t][h])if(!s[t][h][f].forced){var p=s[t][h][f],g=void 0;if("hls"===r?g=new _l(p.resolvedUri,i,a):"dash"===r?g=new uc(p.playlists[0],i,a,d):"vhs-json"===r&&(g=new _l(p.playlists?p.playlists[0]:p.resolvedUri,i,a)),p=lo.mergeOptions({id:f,playlistLoader:g},p),Ld[t](t,p.playlistLoader,e),l[h].push(p),void 0===c[f]){var m=n.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;c[f]=m}}o.on("error",Dd[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var n=e.tech,i=e.master.mediaGroups,r=e.mediaTypes[t],o=r.groups,a=r.tracks;for(var s in i[t])for(var u in o[s]||(o[s]=[]),i[t][s]){var l=i[t][s][u];if(l.instreamId.match(/CC\d/)&&(o[s].push(lo.mergeOptions({id:u},l)),void 0===a[u])){var c=n.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l.default&&l.autoselect,language:l.language,label:u},!1).track;a[u]=c}}}},Fd={AUDIO:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if("showing"===n[i].mode||"hidden"===n[i].mode)return n[i];return null}}},Vd=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){jd[e](e,t)}));var e=t.mediaTypes,n=t.masterPlaylistLoader,i=t.tech,r=t.vhs;["AUDIO","SUBTITLES"].forEach((function(n){e[n].activeGroup=function(t,e){return function(n){var i=e.masterPlaylistLoader,r=e.mediaTypes[t].groups,o=i.media();if(!o)return null;var a=null;return o.attributes[t]&&(a=r[o.attributes[t]]),a=a||r.main,void 0===n?a:null===n?null:a.filter((function(t){return t.id===n.id}))[0]||null}}(n,t),e[n].activeTrack=Fd[n](n,t),e[n].onGroupChanged=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,o=e.mediaTypes[t],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;Rd(i,o),s&&(s.playlistLoader?(i.resyncLoader(),Nd(s.playlistLoader,o)):u&&r.resetEverything())}}(n,t),e[n].onGroupChanging=function(t,e){return function(){var n=e.segmentLoaders[t];n.abort(),n.pause()}}(n,t),e[n].onTrackChanged=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,o=e.mediaTypes[t],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;if(Rd(i,o),s){if("AUDIO"===t){if(!s.playlistLoader)return r.setAudio(!0),void r.resetEverything();i.setAudio(!0),r.setAudio(!1)}u!==s.playlistLoader?(i.track&&i.track(a),i.resetEverything(),Nd(s.playlistLoader,o)):Nd(s.playlistLoader,o)}}}(n,t)}));var o=e.AUDIO.activeGroup();if(o){var a=(o.filter((function(t){return t.default}))[0]||o[0]).id;e.AUDIO.tracks[a].enabled=!0,e.AUDIO.onTrackChanged()}n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanged()}))})),n.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanging()}))}));var s=function(){e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"}),i.trigger({type:"usage",name:"hls-audio-change"})};for(var u in i.audioTracks().addEventListener("change",s),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",(function(){i.audioTracks().removeEventListener("change",s),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)})),i.clearTracks("audio"),e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[u])},Ud=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Bd=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},Hd=function(e){function n(n){var i;i=e.call(this)||this;var r=n.src,o=n.handleManifestRedirects,a=n.withCredentials,s=n.tech,u=n.bandwidth,l=n.externVhs,c=n.useCueTags,d=n.blacklistDuration,h=n.enableLowInitialPlaylist,f=n.sourceType,p=n.cacheEncryptionKeys,g=n.handlePartialData;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");rd=l,i.withCredentials=a,i.tech_=s,i.vhs_=s.vhs,i.sourceType_=f,i.useCueTags_=c,i.blacklistDuration=d,i.enableLowInitialPlaylist=h,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack("metadata","ad-cues"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=""),i.requestOptions_={withCredentials:a,handleManifestRedirects:o,timeout:null},i.on("error",i.pauseLoading),i.mediaTypes_=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:id,activeTrack:id,onGroupChanged:id,onTrackChanged:id}})),t}(),i.mediaSource=new t.MediaSource,i.handleDurationChange_=i.handleDurationChange_.bind(Bt(i)),i.handleSourceOpen_=i.handleSourceOpen_.bind(Bt(i)),i.handleSourceEnded_=i.handleSourceEnded_.bind(Bt(i)),i.mediaSource.addEventListener("durationchange",i.handleDurationChange_),i.mediaSource.addEventListener("sourceopen",i.handleSourceOpen_),i.mediaSource.addEventListener("sourceended",i.handleSourceEnded_),i.seekable_=lo.createTimeRanges(),i.hasPlayed_=!1,i.syncController_=new kd(n),i.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,i.decrypter_=new Id,i.sourceUpdater_=new Sd(i.mediaSource),i.inbandTextTracks_={},i.timelineChangeController_=new xd;var m={vhs:i.vhs_,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.duration()},hasPlayed:function(){return i.hasPlayed_},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:u,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_,cacheEncryptionKeys:p,handlePartialData:g,sourceUpdater:i.sourceUpdater_,timelineChangeController:i.timelineChangeController_};return i.masterPlaylistLoader_="dash"===i.sourceType_?new uc(r,i.vhs_,i.requestOptions_):new _l(r,i.vhs_,i.requestOptions_),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new nd(lo.mergeOptions(m,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:"main"}),n),i.audioSegmentLoader_=new nd(lo.mergeOptions(m,{loaderType:"audio"}),n),i.subtitleSegmentLoader_=new Pd(lo.mergeOptions(m,{loaderType:"vtt",featuresNativeTextTracks:i.tech_.featuresNativeTextTracks}),n),i.setupSegmentLoaderListeners_(),Ud.forEach((function(t){i[t+"_"]=Bd.bind(Bt(i),t)})),i.logger_=Wc("MPC"),i.triggeredFmp4Usage=!1,i.masterPlaylistLoader_.load(),i}Gt(n,e);var i=n.prototype;return i.setupMasterPlaylistLoaderListeners_=function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var e=t.masterPlaylistLoader_.media(),n=1.5*e.targetDuration*1e3;jl(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),Vd({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,vhs:t.vhs_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e),t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){t.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){var e=t.masterPlaylistLoader_.media();if(!e){var n;if(t.excludeUnsupportedVariants_(),t.enableLowInitialPlaylist&&(n=t.selectInitialPlaylist()),n||(n=t.selectPlaylist()),t.initialMedia_=n,t.masterPlaylistLoader_.media(t.initialMedia_),"vhs-json"!==t.sourceType_||!t.initialMedia_.segments)return;e=t.initialMedia_}t.handleUpdatedMediaPlaylist(e)})),this.masterPlaylistLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var e=t.masterPlaylistLoader_.media(),n=1.5*e.targetDuration*1e3;jl(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var e=t.masterPlaylistLoader_.media();t.stuckAtPlaylistEnd_(e)&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},i.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(t,e){var n=t.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var a in n.AUDIO[o])n.AUDIO[o][a].uri||(i=!1);i&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(n.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),rd.Playlist.isAes(e)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.setupSegmentLoaderListeners_=function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){var e=t.selectPlaylist(),n=t.masterPlaylistLoader_.media(),i=t.tech_.buffered();(function(t){var e=t.currentPlaylist,n=t.nextPlaylist,i=t.forwardBuffer,r=t.bufferLowWaterLine,o=t.duration;return t.log,n?!e.endList||o<lc.MAX_BUFFER_LOW_WATER_LINE||n.attributes.BANDWIDTH<e.attributes.BANDWIDTH||i>=r:(lo.log.warn("We received no playlist to switch to. Please check your stream."),!1)})({currentPlaylist:n,nextPlaylist:e,forwardBuffer:i.length?i.end(i.length-1)-t.tech_.currentTime():0,bufferLowWaterLine:t.bufferLowWaterLine(),duration:t.duration(),log:t.logger_})&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){t.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){t.logger_("main segment loader ended"),t.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}));var e=function(){if(!t.sourceUpdater_.ready())return t.tryToCreateSourceBuffers_();var e=t.getCodecsOrExclude_();e&&t.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",(function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()}))},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(t){void 0===t&&(t=this.selectPlaylist()),t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())},i.fastQualityChange_=function(t){var e=this;void 0===t&&(t=this.selectPlaylist()),t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything((function(){lo.browser.IE_VERSION||lo.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())})))},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.tech_.setCurrentTime(t.end(t.length-1)):void 0}},i.setupFirstPlay=function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList){var n=this.seekable();if(!n.length)return!1;if(lo.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){t.trigger("firstplay"),t.tech_.setCurrentTime(n.end(0)),t.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,(function(t){}))}this.trigger("sourceopen")},i.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var t=this.inbandTextTracks_.metadataTrack_.cues;if(t&&t.length){var e=this.duration();t[t.length-1].endTime=isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e}}},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=!this.mainSegmentLoader_.currentMediaInfo_||this.mainSegmentLoader_.currentMediaInfo_.hasVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),t&&this.sourceUpdater_.endOfStream()},i.stuckAtPlaylistEnd_=function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.duration());if(null===e)return!1;var n=rd.Playlist.playlistEnd(t,e),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=wl;var o=r.end(r.length-1);return o-i<=wl&&n-o<=wl},i.blacklistCurrentPlaylist=function(t,e){void 0===t&&(t={});var n=t.playlist||this.masterPlaylistLoader_.media();if(e=e||t.blacklistDuration||this.blacklistDuration,!n)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));var i=this.masterPlaylistLoader_.master.playlists,r=i.filter(Dl),o=1===r.length&&r[0]===n;if(1===i.length&&e!==1/0)return lo.log.warn("Problem encountered with playlist "+n.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(o);if(o){var a=!1;i.forEach((function(t){if(t!==n){var e=t.excludeUntil;void 0!==e&&e!==1/0&&(a=!0,delete t.excludeUntil)}})),a&&(lo.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}n.excludeUntil=Date.now()+1e3*e,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var s=this.selectPlaylist();if(!s)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var u=t.internal?this.logger_:lo.log.warn,l=t.message?" "+t.message:"";return u((t.internal?"Internal problem":"Problem")+" encountered with playlist "+n.id+"."+l+" Switching to playlist "+s.id+"."),s.attributes.AUDIO!==n.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),s.attributes.SUBTITLES!==n.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]),this.masterPlaylistLoader_.media(s,o)},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"])},i.delegateLoaders_=function(t,e){var n=this,i=[],r="all"===t;(r||"main"===t)&&i.push(this.masterPlaylistLoader_);var o=[];(r||"audio"===t)&&o.push("AUDIO"),(r||"subtitle"===t)&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach((function(t){var e=n.mediaTypes_[t]&&n.mediaTypes_[t].activePlaylistLoader;e&&i.push(e)})),["main","audio","subtitle"].forEach((function(e){var r=n[e+"SegmentLoader_"];!r||t!==e&&"all"!==t||i.push(r)})),i.forEach((function(t){return e.forEach((function(e){"function"==typeof t[e]&&t[e]()}))}))},i.setCurrentTime=function(t){var e=Sl(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:rd.Playlist.duration(t):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var t;if(this.masterPlaylistLoader_){var e=this.masterPlaylistLoader_.media();if(e){var n=this.syncController_.getExpiredTime(e,this.duration());if(null!==n){var i=this.masterPlaylistLoader_.master.suggestedPresentationDelay,r=rd.Playlist.seekable(e,n,i);if(0!==r.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(e=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(e,this.duration())))return;if(0===(t=rd.Playlist.seekable(e,n,i)).length)return}var o,a;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),t?t.start(0)>r.end(0)||r.start(0)>t.end(0)?this.seekable_=r:this.seekable_=lo.createTimeRanges([[t.start(0)>r.start(0)?t.start(0):r.start(0),t.end(0)<r.end(0)?t.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+Ol(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,t),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(t){var e=this.seekable();if(!e.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1))&&this.sourceUpdater_.setDuration(e.end(e.length-1))}else{var n=this.tech_.buffered(),i=rd.Playlist.duration(this.masterPlaylistLoader_.media());n.length>0&&(i=Math.max(i,n.end(n.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}},i.dispose=function(){var t=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach((function(e){var n=t.mediaTypes_[e].groups;for(var i in n)n[i].forEach((function(t){t.playlistLoader&&t.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader;return!(!this.mainSegmentLoader_.currentMediaInfo_||t&&!this.audioSegmentLoader_.currentMediaInfo_)},i.getCodecsOrExclude_=function(){var t=this,e={main:this.mainSegmentLoader_.currentMediaInfo_||{},audio:this.audioSegmentLoader_.currentMediaInfo_||{}};e.video=e.main;var n=Gc(this.master(),this.media()),i={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||Xu),e.main.isMuxed&&(i.video+=","+(n.audio||e.main.audioCodec||Ku)),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||Ku,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),i.audio||i.video){var o,a={};if(["video","audio"].forEach((function(t){if(i.hasOwnProperty(t)&&(r=e[t].isFmp4,s=i[t],!(r?Ju(s):il(s)))){var n=e[t].isFmp4?"browser":"muxer";a[n]=a[n]||[],a[n].push(i[t]),"audio"===t&&(o=n)}var r,s})),r&&o&&this.media().attributes.AUDIO){var s=this.media().attributes.AUDIO;this.master().playlists.forEach((function(e){(e.attributes&&e.attributes.AUDIO)===s&&e!==t.media()&&(e.excludeUntil=1/0)})),this.logger_("excluding audio group "+s+" as "+o+' does not support codec(s): "'+i.audio+'"')}if(!Object.keys(a).length){if(this.sourceUpdater_.ready()&&!this.sourceUpdater_.canChangeType()){var u=[];if(["video","audio"].forEach((function(e){var n=(rl(t.sourceUpdater_.codecs[e]||"")[e]||{}).type,r=(rl(i[e]||"")[e]||{}).type;n&&r&&n.toLowerCase()!==r.toLowerCase()&&u.push('"'+t.sourceUpdater_.codecs[e]+'" -> "'+i[e]+'"')})),u.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+u.join(", ")+".",blacklistDuration:1/0,internal:!0})}return i}var l=Object.keys(a).reduce((function(t,e){return t&&(t+=", "),t+(e+' does not support codec(s): "')+a[e].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:l,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},i.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.ready()&&this.areMediaTypesKnown_()){var t=this.getCodecsOrExclude_();if(t){this.sourceUpdater_.createSourceBuffers(t);var e=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(e)}}},i.excludeUnsupportedVariants_=function(){var t=this;this.master().playlists.forEach((function(e){var n=Gc(t.master,e);!n.audio||il(n.audio)||Ju(n.audio)||(e.excludeUntil=1/0),!n.video||il(n.video)||Ju(n.video)||(e.excludeUntil=1/0)}))},i.excludeIncompatibleVariants_=function(t){var e=this,n=rl(t),i=Object.keys(n).length;this.master().playlists.forEach((function(t){if(t.excludeUntil!==1/0){var r={},o=2,a=[],s=Gc(e.masterPlaylistLoader_.master,t);if(s.audio||s.video){var u=[s.video,s.audio].filter(Boolean).join(",");r=rl(u),o=Object.keys(r).length}o!==i&&(a.push('codec count "'+o+'" !== "'+i+'"'),t.excludeUntil=1/0),e.sourceUpdater_.canChangeType()||(r.video&&n.video&&r.video.type.toLowerCase()!==n.video.type.toLowerCase()&&(a.push('video codec "'+r.video.type+'" !== "'+n.video.type+'"'),t.excludeUntil=1/0),r.audio&&n.audio&&r.audio.type.toLowerCase()!==n.audio.type.toLowerCase()&&(t.excludeUntil=1/0,a.push('audio codec "'+r.audio.type+'" !== "'+n.audio.type+'"'))),a.length&&e.logger_("blacklisting "+t.id+": "+a.join(" && "))}}))},i.updateAdCues_=function(e){var n=0,i=this.seekable();i.length&&(n=i.start(0)),function(e,n,i){if(void 0===i&&(i=0),e.segments)for(var r,o=i,a=0;a<e.segments.length;a++){var s=e.segments[a];if(r||(r=Cd(n,o+s.duration/2)),r){if("cueIn"in s){r.endTime=o,r.adEndTime=o,o+=s.duration,r=null;continue}if(o<r.endTime){o+=s.duration;continue}r.endTime+=s.duration}else if("cueOut"in s&&((r=new t.VTTCue(o,o+s.duration,s.cueOut)).adStartTime=o,r.adEndTime=o+parseFloat(s.cueOut),n.addCue(r)),"cueOutCont"in s){var u=s.cueOutCont.split("/").map(parseFloat),l=u[0],c=u[1];(r=new t.VTTCue(o,o+s.duration,"")).adStartTime=o-l,r.adEndTime=r.adStartTime+c,n.addCue(r)}o+=s.duration}}(e,this.cueTagsTrack_,n)},i.goalBufferLength=function(){var t=this.tech_.currentTime(),e=lc.GOAL_BUFFER_LENGTH,n=lc.GOAL_BUFFER_LENGTH_RATE,i=Math.max(e,lc.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*n,i)},i.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),e=lc.BUFFER_LOW_WATER_LINE,n=lc.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(e,lc.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*n,i)},n}(lo.EventTarget),Gd=function(t,e,n){var i,r,o,a=t.masterPlaylistController_,s=a[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(a);if(e.attributes.RESOLUTION){var u=e.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=e.attributes.BANDWIDTH,this.codecs=Gc(a.master(),e),this.playlist=e,this.id=n,this.enabled=(i=t.playlists,r=e.id,o=s,function(t){var e=i.master.playlists[r],n=Nl(e),a=Dl(e);return void 0===t?a:(t?delete e.disabled:e.disabled=!0,t===a||n||(o(),t?i.trigger("renditionenabled"):i.trigger("renditiondisabled")),t)})},Wd=["seeking","seeked","pause","playing","error"],Zd=function(){function e(e){var n=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Wc("PlaybackWatcher"),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},r=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},a=function(){return n.fixesBadSeeks_()},s=this.masterPlaylistController_,u=["main","subtitle","audio"],l={};u.forEach((function(t){l[t]={reset:function(){return n.resetSegmentDownloads_(t)},updateend:function(){return n.checkSegmentDownloads_(t)}},s[t+"SegmentLoader_"].on("appendsdone",l[t].updateend),s[t+"SegmentLoader_"].on("playlistupdate",l[t].reset),n.tech_.on(["seeked","seeking"],l[t].reset)})),this.tech_.on("seekablechanged",a),this.tech_.on("waiting",r),this.tech_.on(Wd,o),this.tech_.on("canplay",i),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",a),n.tech_.off("waiting",r),n.tech_.off(Wd,o),n.tech_.off("canplay",i),u.forEach((function(t){s[t+"SegmentLoader_"].off("appendsdone",l[t].updateend),s[t+"SegmentLoader_"].off("playlistupdate",l[t].reset),n.tech_.off(["seeked","seeking"],l[t].reset)})),n.checkCurrentTimeTimeout_&&t.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}var n=e.prototype;return n.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&t.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=t.setTimeout(this.monitorCurrentTime_.bind(this),250)},n.resetSegmentDownloads_=function(t){var e=this.masterPlaylistController_[t+"SegmentLoader_"];this[t+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+t+" loader"),this[t+"StalledDownloads_"]=0,this[t+"Buffered_"]=e.buffered_()},n.checkSegmentDownloads_=function(t){var e=this.masterPlaylistController_,n=e[t+"SegmentLoader_"],i=n.buffered_(),r=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t)return!0;if(t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1}(this[t+"Buffered_"],i);this[t+"Buffered_"]=i,r?this.resetSegmentDownloads_(t):(this[t+"StalledDownloads_"]++,this.logger_("found #"+this[t+"StalledDownloads_"]+" "+t+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:Pl(i)}),this[t+"StalledDownloads_"]<10||(this.logger_(t+" loader stalled download exclusion"),this.resetSegmentDownloads_(t),this.tech_.trigger({type:"usage",name:"vhs-"+t+"-download-exclusion"}),"subtitle"!==t&&e.blacklistCurrentPlaylist({message:"Excessive "+t+" segment downloading detected."},1/0)))},n.checkCurrentTime_=function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+wl>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}},n.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},n.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var t,e=this.seekable(),n=this.tech_.currentTime();if(this.afterSeekableWindow_(e,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(t=e.end(e.length-1)),this.beforeSeekableWindow_(e,n)){var i=e.start(0);t=i+(i===e.end(0)?0:wl)}if(void 0!==t)return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Ol(e)+". Seeking to "+t+"."),this.tech_.setCurrentTime(t),!0;var r=this.tech_.buffered();return!!function(t){var e=t.buffered,n=t.targetDuration,i=t.currentTime;return!(!e.length||e.end(0)-e.start(0)<2*n||i>e.start(0)||!(e.start(0)-i<n))}({buffered:r,targetDuration:this.media().targetDuration,currentTime:n})&&(t=r.start(0)+wl,this.logger_("Buffered region starts ("+r.start(0)+")  just beyond seek point ("+n+"). Seeking to "+t+"."),this.tech_.setCurrentTime(t),!0)},n.waiting_=function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),n=Sl(e,t);return n.length&&t+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},n.techWaiting_=function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var n=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:e}))return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var o=El(r,e);if(o.length>0){var a=o.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+a+", seeking to "+o.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,e),!0}return!1},n.afterSeekableWindow_=function(t,e,n,i){if(void 0===i&&(i=!1),!t.length)return!1;var r=t.end(t.length-1)+wl;return!n.endList&&i&&(r=t.end(t.length-1)+3*n.targetDuration),e>r},n.beforeSeekableWindow_=function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-wl)},n.videoUnderflow_=function(t){var e=t.videoBuffered,n=t.audioBuffered,i=t.currentTime;if(e){var r;if(e.length&&n.length){var o=Sl(e,i-3),a=Sl(e,i),s=Sl(n,i);s.length&&!a.length&&o.length&&(r={start:o.end(0),end:s.end(0)})}else El(e,i).length||(r=this.gapFromVideoUnderflow_(e,i));return!!r&&(this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+i),!0)}},n.skipTheGap_=function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),i=El(e,n);this.cancelTimer_(),0!==i.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+bl),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},n.gapFromVideoUnderflow_=function(t,e){for(var n=function(t){if(t.length<2)return lo.createTimeRanges();for(var e=[],n=1;n<t.length;n++){var i=t.end(n-1),r=t.start(n);e.push([i,r])}return lo.createTimeRanges(e)}(t),i=0;i<n.length;i++){var r=n.start(i),o=n.end(i);if(e-r<4&&e-r>2)return{start:r,end:o}}return null},e}(),zd={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},qd=function t(e,n){var i=0,r=0,o=lo.mergeOptions(zd,n);e.ready((function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){r&&e.currentTime(r)},s=function(t){null!=t&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(t),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){return Date.now()-i<1e3*o.errorInterval?(e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void e.trigger({type:"usage",name:"hls-error-reload-canceled"})):o.getSource&&"function"==typeof o.getSource?(i=Date.now(),o.getSource.call(e,s)):void lo.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},l=function t(){e.off("loadedmetadata",a),e.off("error",u),e.off("dispose",t)};e.on("error",u),e.on("dispose",l),e.reloadSourceOnError=function(n){l(),t(e,n)}},$d=function(t){qd(this,t)},Yd="2.2.4",Kd={PlaylistLoader:_l,Playlist:Fl,utils:Xl,STANDARD_PLAYLIST_SELECTOR:function(){var e=this.useDevicePixelRatio&&t.devicePixelRatio||1;return function(e,n,i,r,o){var a={bandwidth:n,width:i,height:r,limitRenditionByPlayerDimensions:o},s=e.playlists.map((function(e){var n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes.BANDWIDTH||t.Number.MAX_VALUE,width:n,height:i,playlist:e}}));$c(s,(function(t,e){return t.bandwidth-e.bandwidth}));var u=(s=s.filter((function(t){return!Fl.isIncompatible(t.playlist)}))).filter((function(t){return Fl.isEnabled(t.playlist)}));u.length||(u=s.filter((function(t){return!Fl.isDisabled(t.playlist)})));var l=u.filter((function(t){return t.bandwidth*lc.BANDWIDTH_VARIANCE<n})),c=l[l.length-1],d=l.filter((function(t){return t.bandwidth===c.bandwidth}))[0];if(!1===o){var h=d||u[0]||s[0];if(h&&h.playlist){var f="sortedPlaylistReps";return d&&(f="bandwidthBestRep"),u[0]&&(f="enabledPlaylistReps"),Zc("choosing "+zc(h)+" using "+f+" with options",a),h.playlist}return Zc("could not choose a playlist with options",a),null}var p=l.filter((function(t){return t.width&&t.height}));$c(p,(function(t,e){return t.width-e.width}));var g=p.filter((function(t){return t.width===i&&t.height===r}));c=g[g.length-1];var m,v,y,_=g.filter((function(t){return t.bandwidth===c.bandwidth}))[0];_||(v=(m=p.filter((function(t){return t.width>i||t.height>r}))).filter((function(t){return t.width===m[0].width&&t.height===m[0].height})),c=v[v.length-1],y=v.filter((function(t){return t.bandwidth===c.bandwidth}))[0]);var b=y||_||d||u[0]||s[0];if(b&&b.playlist){var w="sortedPlaylistReps";return y?w="resolutionPlusOneRep":_?w="resolutionBestRep":d?w="bandwidthBestRep":u[0]&&(w="enabledPlaylistReps"),Zc("choosing "+zc(b)+" using "+w+" with options",a),b.playlist}return Zc("could not choose a playlist with options",a),null}(this.playlists.master,this.systemBandwidth,parseInt(qc(this.tech_.el(),"width"),10)*e,parseInt(qc(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var t=this,e=this.playlists.master.playlists.filter(Fl.isEnabled);return $c(e,(function(t,e){return Yc(t,e)})),e.filter((function(e){return!!Gc(t.playlists.master,e).video}))[0]||null},comparePlaylistBandwidth:Yc,comparePlaylistResolution:function(e,n){var i,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||t.Number.MAX_VALUE,n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(r=n.attributes.RESOLUTION.width),i===(r=r||t.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&n.attributes.BANDWIDTH?e.attributes.BANDWIDTH-n.attributes.BANDWIDTH:i-r},xhr:Hl()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","BACK_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach((function(t){Object.defineProperty(Kd,t,{get:function(){return lo.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),lc[t]},set:function(e){lo.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?lo.log.warn("value of Vhs."+t+" must be greater than or equal to 0"):lc[t]=e}})}));var Xd="videojs-vhs",Jd=function(t,e){for(var n=e.media(),i=-1,r=0;r<t.length;r++)if(t[r].id===n.id){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})};Kd.canPlaySource=function(){return lo.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Qd=function(t){var e=t.player,n=t.sourceKeySystems,i=t.media,r=t.audioMedia,o=t.mainPlaylists,a=function(t,e,n){if(!t)return t;var i={video:e&&e.attributes&&e.attributes.CODECS,audio:n&&n.attributes&&n.attributes.CODECS};!i.audio&&i.video&&i.video.split(",").length>1&&i.video.split(",").forEach((function(t){t=t.trim(),el(t)?i.audio=t:nl(t)&&(i.video=t)}));var r=i.video?'video/mp4;codecs="'+i.video+'"':null,o=i.audio?'audio/mp4;codecs="'+i.audio+'"':null,a={};for(var s in t)a[s]={audioContentType:o,videoContentType:r},e.contentProtection&&e.contentProtection[s]&&e.contentProtection[s].pssh&&(a[s].pssh=e.contentProtection[s].pssh),"string"==typeof t[s]&&(a[s].url=t[s]);return lo.mergeOptions(t,a)}(n,i,r);if(a)if(e.currentSource().keySystems=a,!a||e.eme){if(11!==lo.browser.IE_VERSION&&e.eme.initializeMediaKeys){(function(t,e){return t.reduce((function(t,n){if(!n.contentProtection)return t;var i=e.reduce((function(t,e){var i=n.contentProtection[e];return i&&i.pssh&&(t[e]={pssh:i.pssh}),t}),{});return Object.keys(i).length&&t.push(i),t}),[])})(r?o.concat([r]):o,Object.keys(n)).forEach((function(t){e.eme.initializeMediaKeys({keySystems:t})}))}}else lo.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin")},th=function(){if(!t.localStorage)return null;var e=t.localStorage.getItem(Xd);if(!e)return null;try{return JSON.parse(e)}catch(t){return null}};Kd.supportsNativeHls=function(){if(!e||!e.createElement)return!1;var t=e.createElement("video");return!!lo.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(e){return/maybe|probably/i.test(t.canPlayType(e))}))}(),Kd.supportsNativeDash=!!(e&&e.createElement&&lo.getTech("Html5").isSupported())&&/maybe|probably/i.test(e.createElement("video").canPlayType("application/dash+xml")),Kd.supportsTypeNatively=function(t){return"hls"===t?Kd.supportsNativeHls:"dash"===t&&Kd.supportsNativeDash},Kd.isSupported=function(){return lo.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var eh=function(n){function i(t,i,r){var o;if(o=n.call(this,i,lo.mergeOptions(r.hls,r.vhs))||this,r.hls&&Object.keys(r.hls).length&&lo.log.warn("Using hls options is deprecated. Use vhs instead."),i.options_&&i.options_.playerId){var a=lo(i.options_.playerId);a.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return lo.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"hls-player-access"}),Bt(o)},configurable:!0}),a.hasOwnProperty("vhs")||Object.defineProperty(a,"vhs",{get:function(){return lo.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"vhs-player-access"}),Bt(o)},configurable:!0}),a.hasOwnProperty("dash")||Object.defineProperty(a,"dash",{get:function(){return lo.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Bt(o)},configurable:!0}),o.player_=a}if(o.tech_=i,o.source_=t,o.stats={},o.ignoreNextSeekingEvent_=!1,o.setOptions_(),o.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(o.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return o.on(e,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(t){var n=e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement;n&&n.contains(o.tech_.el())&&o.masterPlaylistController_.smoothQualityChange_()})),o.on(o.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),o.on(o.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),o.on(o.tech_,"play",o.play),o}Gt(i,n);var r=i.prototype;return r.setOptions_=function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.handlePartialData=this.options_.handlePartialData||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=th();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=lc.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===lc.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","handlePartialData"].forEach((function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(e,n){var i,r=this;e&&(this.setOptions_(),this.options_.src=0===(i=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(i.substring(i.indexOf(",")+1)):i,this.options_.tech=this.tech_,this.options_.externVhs=Kd,this.options_.sourceType=Ao(n),this.options_.seekTo=function(t){r.tech_.setCurrentTime(t)},this.masterPlaylistController_=new Hd(this.options_),this.playbackWatcher_=new Zd(lo.mergeOptions(this.options_,{seekable:function(){return r.seekable()},media:function(){return r.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_})),this.masterPlaylistController_.on("error",(function(){var t=lo.players[r.tech_.options_.playerId],e=r.masterPlaylistController_.error;"object"!=typeof e||e.code?"string"==typeof e&&(e={message:e,code:3}):e.code=3,t.error(e)})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Kd.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Kd.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t,e=1/(this.bandwidth||1);return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){lo.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Pl(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Pl(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){r.options_.useBandwidthFromLocalStorage&&function(e){if(!t.localStorage)return!1;var n=th();n=n?lo.mergeOptions(n,e):e;try{t.localStorage.setItem(Xd,JSON.stringify(n))}catch(t){return!1}}({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,e;e=(t=r).playlists,t.representations=function(){return e&&e.master&&e.master.playlists?e.master.playlists.filter((function(t){return!Nl(t)})).map((function(e,n){return new Gd(t,e,e.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("ready",(function(){var t=r.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;Qd({player:r.player_,sourceKeySystems:r.source_.keySystems,media:r.playlists.media(),audioMedia:t&&t.media(),mainPlaylists:r.playlists.master.playlists})})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=t.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_)))},r.setupQualityLevels_=function(){var t=this,e=lo.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e,n;e=t.qualityLevels_,(n=t).representations().forEach((function(t){e.addQualityLevel(t)})),Jd(e,n.playlists)})),this.playlists.on("mediachange",(function(){Jd(t.qualityLevels_,t.playlists)})))},i.version=function(){return{"@videojs/http-streaming":Yd,"mux.js":"5.6.7","mpd-parser":"0.14.0","m3u8-parser":"4.5.0","aes-decrypter":"3.1.0"}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return Sd.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&t.URL.revokeObjectURL&&(t.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),n.prototype.dispose.call(this)},r.convertToProgramTime=function(t,e){return Jl({playlist:this.masterPlaylistController_.media(),time:t,callback:e})},r.seekToProgramTime=function(t,e,n,i){return void 0===n&&(n=!0),void 0===i&&(i=2),Ql({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})},i}(lo.getComponent("Component")),nh={name:"videojs-http-streaming",VERSION:Yd,canHandleSource:function(t,e){void 0===e&&(e={});var n=lo.mergeOptions(lo.options,e);return nh.canPlayType(t.type,n)},handleSource:function(t,e,n){void 0===n&&(n={});var i=lo.mergeOptions(lo.options,n);return e.vhs=new eh(t,e,i),lo.hasOwnProperty("hls")||Object.defineProperty(e,"hls",{get:function(){return lo.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),e.vhs},configurable:!0}),e.vhs.xhr=Hl(),e.vhs.src(t.src,t.type),e.vhs},canPlayType:function(t,e){void 0===e&&(e={});var n=lo.mergeOptions(lo.options,e).vhs.overrideNative,i=void 0===n?!lo.browser.IS_ANY_SAFARI:n,r=Ao(t);return!r||Kd.supportsTypeNatively(r)&&!i?"":"maybe"}};return Ju("avc1.4d400d,mp4a.40.2")&&lo.getTech("Html5").registerSourceHandler(nh,0),lo.VhsHandler=eh,Object.defineProperty(lo,"HlsHandler",{get:function(){return lo.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),eh},configurable:!0}),lo.VhsSourceHandler=nh,Object.defineProperty(lo,"HlsSourceHandler",{get:function(){return lo.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),nh},configurable:!0}),lo.Vhs=Kd,Object.defineProperty(lo,"Hls",{get:function(){return lo.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Kd},configurable:!0}),lo.use||(lo.registerComponent("Hls",Kd),lo.registerComponent("Vhs",Kd)),lo.options.vhs=lo.options.vhs||{},lo.options.hls=lo.options.hls||{},lo.registerPlugin?lo.registerPlugin("reloadSourceOnError",$d):lo.plugin("reloadSourceOnError",$d),lo}(window,document)},64643:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232));e.default=o.default.Model.extend({getCenter:function(){return{x:this.get("x")+this.get("width")/2,y:this.get("y")+this.get("height")/2}},getScale:function(){return{x:r.default.isUndefined(this.get("scaleWidth"))?1:this.get("scaleWidth"),y:r.default.isUndefined(this.get("scaleHeight"))?1:this.get("scaleHeight")}},getOffsetX:function(){if(!this.get("parentSmartgroup"))return 0;var t=this.get("parentSmartgroup").options.scaleWidth;if(1===t)return this.get("parentSmartgroup").options.x;var e=this.get("parentSmartgroup").options.width/2-this.get("parentSmartgroup").options.width*t/2;return this.get("parentSmartgroup").options.x+e},getOffsetY:function(){if(!this.get("parentSmartgroup"))return 0;var t=this.get("parentSmartgroup").options.scaleHeight;if(1===t)return this.get("parentSmartgroup").options.y;var e=this.get("parentSmartgroup").options.height/2-this.get("parentSmartgroup").options.height*t/2;return this.get("parentSmartgroup").options.y+e},getOffsetRotation:function(){return this.get("parentSmartgroup")?Math.toRad(this.get("parentSmartgroup").options.rotation):0},getRelativeRotatedPoint:function(t,e){var n=this.getOffsetRotation();if(n){var i=this.get("allWidth")/2,r=this.get("allHeight")/2;t+=i,e+=r;var o=Math.rotateCoord(t,e,i,r,n);t=o.x-i,e=o.y-r}return{x:t,y:e}},getRotatedPoint:function(t,e){var n=this.getOffsetRotation();if(n){var i=this.get("allWidth")/2,r=this.get("allHeight")/2,o=this.getCenter();t+=i,e+=r;var a=Math.rotateCoord(t,e,o.x,o.y,n);t=a.x-i,e=a.y-r}return{x:t,y:e}},getRotatedCenter:function(){var t=this.getOffsetRotation(),e=this.get("parentSmartgroup"),n=this.getCenter();if(e&&t>0){var i=e.options.width/2,r=e.options.height/2;return Math.rotateCoord(n.x,n.y,i,r,-1*t)}return{x:n.x,y:n.y}},getOffPageY:function(t){var e=this.get("x"),n=this.get("parentSmartgroup"),i=this.getOffsetRotation();if(n&&i>0){var r=this.getCenter();return t-=this.getRotatedCenter().y-r.y,this.getRotatedPoint(e,t)}return{x:e,y:t}},getOffPageTop:function(){var t=-1*(1+this.getOffsetY());return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleHeight&&(t/=this.get("parentSmartgroup").options.scaleHeight),t-=this.get("allHeight"),this.getOffPageY(t)},getOffPageBottom:function(){var t=this.get("pageHeight")+1-this.getOffsetY();return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleHeight&&(t/=this.get("parentSmartgroup").options.scaleHeight),t+=this.get("allHeight")-this.get("height"),this.getOffPageY(t)},getOffPageX:function(t){var e=this.get("y"),n=this.get("parentSmartgroup"),i=this.getOffsetRotation();if(n&&i>0){var r=this.getCenter();return t-=this.getRotatedCenter().x-r.x,this.getRotatedPoint(t,e)}return{x:t,y:e}},getOffPageLeft:function(){var t=-1*(1+this.getOffsetX());return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleWidth&&(t/=this.get("parentSmartgroup").options.scaleWidth),t-=this.get("allWidth"),this.getOffPageX(t)},getOffPageRight:function(){var t=this.get("pageWidth")+1-this.getOffsetX();return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleWidth&&(t/=this.get("parentSmartgroup").options.scaleWidth),t+=this.get("allWidth")-this.get("width"),this.getOffPageX(t)},getTransformOriginString:function(t,e,n){var i=this.get("width")*t,r=this.get("height")*e;if(!n){var o=this.getScale();i*=o.x,r*=o.y}return i+"px "+r+"px"}})},33410:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(8030)),o=i(n(96486)),a=i(n(41232)),s=null,u=a.default.Model.extend({defaults:{top:null,bottom:null,windowWidth:null,windowHeight:null},validPositionProperties:["top","bottom","windowWidth","windowHeight"],setPositionData:function(t){var e=o.default.pick(t,this.validPositionProperties);this.set(e)},getTop:function(){return this.get("top")},getBottom:function(){return this.get("bottom")},getWindowWidth:function(){return this.get("windowWidth")},getWindowHeight:function(){return this.get("windowHeight")},getVerticalCenterOfVisibleArea:function(t){var e=Math.max(this.getTop(),0);return(Math.min(this.getBottom(),t)-e)/2+e},getEmbedContextDimensions:function(){var t=this.getWindowWidth(),e=this.getWindowHeight();return r.default.allowAdaptiveLayouts&&!1===o.default.isNull(t)&&!1===o.default.isNull(e)?{width:t,height:e}:{width:window.innerWidth,height:window.innerHeight}},isActive:function(){return null!==this.get("top")&&null!==this.get("bottom")}},{getInstance:function(){return s||(s=new u),s}});e.default=u},67215:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(51339));e.default={getOverrideablePropertyForCurrentVariant:function(t){var e=o.default.getVariant();if("desktop"===e)return this.get(t);var n=this.get("overrides");return r.default.get(n,[e,t])}}},99848:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232)),a=i(n(51339));e.default={setParentModel:function(t){if(!(t.prototype instanceof o.default.Model))throw new Error("ParentModel should extend Backbone.Model");this.ParentModel=t},get:function(t,e){var n=e&&e.variant?e.variant:a.default.getVariant();return"overrides"===t||"desktop"===n?this.nonVariantGet(t):this.getVariantAttribute(n,t,e)},getVariantAttribute:function(t,e,n){var i=!n||!n.doNotFallbackToDesktop,o=this.nonVariantGet("overrides"),a=r.default.get(o,[t,e],void 0);return r.default.isUndefined(a)&&i?this.nonVariantGet(e):a},nonVariantGet:function(t){return(this.ParentModel?this.ParentModel:o.default.Model).prototype.get.call(this,t)}}},8608:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o={Tween:function(t,e,n,i,r,o){if(this.property=t,this.frames=e,this.duration=n,this.delay=i||0,this.iterations=r,this.easing=o,!this.frames.hasOwnProperty("0%"))throw Error("Tween must define 0% keyframe!");if(!this.frames.hasOwnProperty("100%"))throw Error("Tween must define 100% keyframe!");this._normalize()}};o.Tween.prototype={_normalize:function(){r.default.isUndefined(this.iterations)?this.iterations=1:r.default.isNumber(this.iterations)?(this.iterations=parseInt(this.iterations,10),this.iterations<0&&(this.iterations=0)):this.iterations="infinite"},getKey:function(){for(var t=r.default.values(this),e=0;e<t.length;e++)"object"==typeof t[e]&&(t[e]=JSON.stringify(t[e]));return t.join("|")}},e.default=o},35451:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(8030)),s=i(n(68686)),u=i(n(84232)),l=i(n(96033)),c=i(n(56455)),d=i(n(9458)),h=i(n(60115)),f=new Set;e.default={get:function(t){return l.default.get(t)},addRasterImage:function(t,e,n){var i=function(t,e,n){o.default.isNull(e)&&(e="full");var i=t+"|"+e;return h.default.isValidCropObject(n)&&(i+="|"+h.default.createCropDimensionsString(n)),i}(t,e,n);return l.default.add(i,(function(){return s.default.getOrCreateRasterImageResource(t,e,n)}))},addVectorImage:function(t,e){return l.default.add(t,(function(){return f.has(t)?e=!0:f.add(t),new c.default(t,void 0,e,void 0,!0).getPromise()}))},addCss:function(t){return l.default.has(t)?l.default.get(t):l.default.add(t,(function(){return new u.default(t).deferred.promise()}))},addGoogleWebFont:function(t){return l.default.hasLoaded(t)?l.default.get(t):l.default.add(t,(function(){var e=new r.default.Deferred,n={google:{families:[t]},async:!0,fontactive:function(){e.resolve()},fontinactive:function(){e.reject()}};return a.default.googleFontUrl&&(n.google.api=a.default.googleFontUrl),d.default.load(n),e.promise()}))},addCustomWebFont:function(t,e,n){if(l.default.hasLoaded(e))return l.default.get(e);o.default.isArray(t)||(t=[t]),o.default.isArray(e)||(e=[e]);var i={families:t,urls:e};return o.default.isUndefined(n)||(i.testStrings={},o.default.isObject(n)?o.default.each(t,(function(t){o.default.isUndefined(n[t])||(i.testStrings[t]=n[t])})):o.default.each(t,(function(t){i.testStrings[t]=n}))),l.default.add(e,(function(){var e=[],n={};return o.default.each(t,(function(t){var i=new r.default.Deferred;e.push(i),n[t]=i})),d.default.load({custom:i,async:!0,fontactive:function(t){n[t].resolve()},fontinactive:function(t){n[t].reject()}}),r.default.when.apply(r.default,e).promise()}))},has:function(t){return l.default.has(t)},cancelPending:function(){return l.default.cancelPending()},pause:l.default.pause,resume:l.default.resume,onPriorityQueueCompletion:l.default.onPriorityQueueCompletion,onAllResourcesLoaded:l.default.onAllResourcesLoaded}},19331:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o={mergeDelegates:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(r.default.isObject(n))for(var i in n)r.default.isFunction(n[i])?t[i]=r.default.bind(n[i],t):t[i]=n[i]}}};e.default=o},73982:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PAGES:"&#xe001;",FACEBOOK:"&#xe002;",EMAIL:"&#xe003;",CART:"&#xe004;",LINK:"&#xe005;",TWITTER:"&#xe006;",LEFT_ARROW:"&#xe007;",PINTEREST:"&#xe008;",RIGHT_ARROW:"&#xe009;",SHARE:"&#xe000;"}},54777:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(41232));e.default=r.default.extend({events:{},unregisteredHandlers:{},registerEvents:function(t,e){r.default.each(t,r.default.bind((function(t){this.events[t]=e,this.unregisteredHandlers[t]&&(r.default.each(this.unregisteredHandlers[t],r.default.bind((function(e){this.on(t,e)}),this)),this.unregisteredHandlers[t]=null)}),this))}},o.default.Events)},15014:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(97575)),o=i(n(8030)),a=i(n(54400)),s={page_number:"/p/",page_slug:"/page/"},u={buildUri:function(t,e,n,i){return void 0===n&&(n=null),void 0===i&&(i=""),a.default.locationIsHtmlFile()?this.buildHtmlStyleUri(e,i):this.buildPathStyleUri(t,e,n,i)},buildHtmlStyleUri:function(t,e){e=e||"";var n,i=this.getWindowContext(),r=i.location.search;return 1===t?(r=r.replace(/page=(\d+)&?/,""),n=i.location.pathname+r):n=a.default.appendQueryParams(i.location.pathname+r,{page:t}),(n=n.replace(/[&|\?]$/,""))+e},buildPathStyleUri:function(t,e,n,i){if(!s[t])return r.default.warn("Mode is not supported"),null;i=i||"";var a=this.getWindowContext(),u=s[t]+e,l=o.default.previewMode&&n&&"desktop"!==n?"/layout/"+n:"",c=a.location.pathname+"";return c=(c=(c=c.replace(/\/$/,"")).replace(/\/layout\/[a-z0-9-]+/,"")+l).replace(/\/(p|page)\/[a-z0-9-]*/,"")+u,(c+=a.location.search)+i},buildUriForPageNumber:function(t){var e=this.parseLayoutFromLocation();return this.buildUri("page_number",t,e)},parsePageFromLocation:function(){var t=this.getWindowContext(),e=null;if(a.default.locationIsHtmlFile()){var n=t.location.search.match(/page=(\d+)/);return e=1,n&&(e=parseInt(n[1],10)),e}var i=t.location.pathname.match(/\/p\/(\d+)\/?$/);if(i&&(e=parseInt(i[1],10)),!e&&o.default.usePageSlugsInNavigation){var r=t.location.pathname.match(/\/page\/([a-z0-9-]+)\/?$/);r&&(e=r[1])}return e||(e=1),e},parseLayoutFromLocation:function(){var t=this.getWindowContext().location.pathname.match(/\/layout\/([a-z0-9-]+)\/?/);return t?t[1]:"desktop"},getLayoutFromQueryParam:function(){var t,e=window.location.search;return null===(t=new URLSearchParams(e).get("layout"))||void 0===t?void 0:t.toLowerCase()},getLocationWithoutParamsAndLayoutOrPageNumber:function(){return this.getWindowContext().location.href.replace(/\?.*$/,"").replace(/\/(layout\/[0-9a-z-]+)\\?/,"").replace(/\/(page\/[0-9a-z-]+|p\/\d+)\\?$/,"")},getWindowContext:function(){return window},getEditModeFromQueryParam:function(){return"true"===new URLSearchParams(window.location.search).get("editmode")},getStackDistance:function(){var t=new URLSearchParams(window.location.search);return parseInt(t.get("distance"))},getEditorURL:function(){return o.default.adminUrl+"/account/"+o.default.accountSlug+"/editor/experience/"+o.default.issueAliasSlug}};e.default=u},96033:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(97575)),o=i(n(65311)),a=i(n(96486)),s=i(n(80771)),u={},l=0,c=s.default.desktop()?2:1,d=!1,h={PENDING:1,LOADING:2,LOADED:3,ERROR:4,CANCELED:5},f=function(){this.queue=[],this.finished=o.default.Deferred()};f.prototype=a.default.extend(f.prototype,{push:function(t){this.queue.push(t)},getNextItem:function(){if(0===this.length())return null;var t=this.queue.shift();return 0===this.length()&&(this.finished.resolve(),this.finished=o.default.Deferred()),t},length:function(){return this.queue.length},flush:function(){this.queue=[],this.finished.resolve(),this.finished=o.default.Deferred()},onFinish:function(t){this.finished.done(t)}});var p=new f,g=new f,m=function(t,e,n){var i=h.PENDING,s=new o.default.Deferred;this.getStatus=function(){return i},this.setStatus=function(t){a.default.includes(a.default.values(h),t)&&(i=t)},this.getPromise=function(){return s.promise()},this.load=function(){i=h.LOADING;var u=a.default.isFunction(e)?e():o.default.noop();return u.promise?(u.then((function(){i=h.LOADED,s.resolve.apply(this,arguments)}),(function(){i=h.ERROR,s.reject(),r.default.devWarn("Resource failed to load",{key:t})})),u.always((function(){a.default.isFunction(n)&&n()})),this.getPromise()):(s.reject(),r.default.warn("onLoadBegin must be a function that returns a deferred promise and resolves with necessary resource data",{key:t}),this.getPromise())},this.getKey=function(){return t}};m.prototype.loadNow=function(){return this.getStatus()===h.PENDING&&(g.push(this),y()),this.getPromise()},m.prototype.isLoading=function(){return this.getStatus()===h.LOADING},m.prototype.isLoaded=function(){return this.getStatus()===h.LOADED},m.prototype.isError=function(){return this.getStatus()===h.ERROR},m.prototype.isPending=function(){return this.getStatus()==h.PENDING},m.prototype.isCanceled=function(){return this.getStatus()==h.CANCELED},m.prototype.cancel=function(){this.setStatus(h.CANCELED)};var v=o.default.Deferred(),y=function(){if(!(l>=c&&0===g.length())){var t=_();a.default.isNull(t)?v.resolve():(l++,t.load().always((function(){l--,y()})))}},_=function(){var t=null;return g.length()>0&&(t=b(g)),d||a.default.isNull(t)&&(t=b(p)),t},b=function(t){for(var e=null;t.length()>0&&!(e=t.getNextItem()).isPending();)e=null;return e};e.default={add:function(t,e,n){if(a.default.isNull(t)||a.default.isUndefined(t))return null;if(u.hasOwnProperty(t))u[t].isCanceled()&&(u[t].setStatus(h.PENDING),p.push(u[t]));else{var i=new m(t,e,n);u[t]=i,p.push(i)}return y(),u[t]},get:function(t){return a.default.isNull(t)||a.default.isUndefined(t)?null:u.hasOwnProperty(t)?u[t].isError()?(r.default.warn("An error was encountered while trying to load the resource",{key:t}),null):u[t]:(r.default.warn("No resource exists for the provided key",{key:t}),null)},has:function(t){return u.hasOwnProperty(t)},hasLoaded:function(t){var e;return(null===(e=u[t])||void 0===e?void 0:e.isLoaded())||!1},cancelPending:function(){for(g.flush();p.length()>0;)p.getNextItem().status=h.CANCELED},pause:function(){d=!0},resume:function(){d&&(d=!1,y())},onPriorityQueueCompletion:function(t){g.onFinish(t)},onAllResourcesLoaded:function(t){v.done(t)},purgeResourceCache:function(){u={}}}},43845:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(65311)),o=i(n(96486)),a=i(n(8030)),s=i(n(53335)),u=i(n(34581)),l=i(n(80771)),c=i(n(35425)),d=i(n(51339)),h=i(n(3797)),f=function(t){this.initialize(t)};f.prototype={documentVersion:null,marginTopCallback:null,module:null,cachedScale:{},initialize:function(t){this.documentVersion=t.documentVersion,this.marginTopCallback=t.marginTopCallback,this.module=t.module},getCurrentWindowScaleContext:function(){var t=r.default(window),e=c.default.getExperienceContainerDimensions(t);return this._calculateScaleInternal(e.width,e.height)},isPreviewFullScreenMode:function(){return a.default.previewMode&&c.default.fullScreenMode},_calculateScaleInternal:function(t,e){var n=this.documentVersion.getExperienceWidth(),i=a.default.heightOverride||this.documentVersion.getExperienceHeight(),s=this.documentVersion.getScaleExperience(),f=r.default(window),p=c.default.getExperienceContainerDimensions(f),g=t+"x"+e+"-"+p.width+"x"+p.height+"-"+d.default.getVariant()+"-"+h.default.getInstance().getCurrentZoom();if(!o.default.has(this.cachedScale,g)){var m={width:t,height:e,marginTop:this.marginTopCallback(),windowWidth:t,windowHeight:e,ratio:1,constrainedByHeight:!1,constrainedByWidth:!1,originalWindowWidth:p.width,originalWindowHeight:p.height},v=m.windowHeight+l.default.getSlackHeight(m.windowHeight)-m.marginTop;m.height=v;var y=this.documentVersion.getScaleExperienceType()===u.default.SCALE_EXPERIENCE_TYPE.FULL_WIDTH;this.calculateDoScaling(m,n,i,v,s,y),m.adjustedRatio=m.ratio*l.default.pixelRatio(),this.cachedScale[g]=m}return this.cachedScale[g]},calculateDoScaling:function(t,e,n,i,r,o){if(r){var a=n/e>i/t.windowWidth,s=h.default.getInstance().getCurrentZoom();o||!a?(t.constrainedByWidth=!0,t.width=t.windowWidth,t.ratio=t.width/e):(t.constrainedByHeight=!0,t.ratio=t.height/n,t.width=e*t.ratio*s),t.ratio*=s}},getPageScaleContext:function(t){var e=this.getCurrentWindowScaleContext();if(this.documentVersion.getScaleExperience()){var n=t.getPageHeight(this.documentVersion),i=this.documentVersion.getExperienceWidth(),r=n<=Math.round(e.height/e.ratio);e.constrainedByWidth&&!r&&(e=this.calculateNewScaleContextWhenConstrainedByWidthAndPageDoesNotFit(e,i,n))}return e},calculateNewScaleContextWhenConstrainedByWidthAndPageDoesNotFit:function(t,e,n){for(var i=s.default.getScrollbarWidth()*t.ratio,r=i;r>=0;r--){var o=(t.width-i+r)/e;if(!0==n<=Math.round(t.height/o)){i-=r;break}}var a=t.originalWindowWidth-i;return this._calculateScaleInternal(a,t.originalWindowHeight)},useZoom:function(t){var e=l.default.isIpad();return(!e||!l.default.isIosGreaterThanOrEqualTo(13))&&(e||this.doBlurryFontFix(t))},doBlurryFontFix:function(t){return(l.default.isBrowserChrome()&&l.default.desktop()||l.default.isDesktopSafari())&&t>=.8}},e.default=f},95475:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=i(n(41232)),s=i(n(33410)),u=i(n(55099)),l="ceros-embedded-viewport:",c={PING:"ping",READY:"ready",POSITION:"position",SCROLL_TO:"scroll-to",UPDATE_POSITION:"update-position",GOTO_URL:"goto-url",VARIANT_DETECTION:"variant-detection",GLOBAL_FUNCTION_INVOKE:"global-function"},d=r.default.extend({EVENTS:c},a.default.Events),h=function(t){var e=null;try{e=JSON.parse(t.originalEvent.data)}catch(t){}if(e&&e.event&&e.event.substr(0,24)===l)switch(e.event.substr(24)){case c.PING:g();break;case c.POSITION:!function(t){t.screenWidth&&t.screenHeight&&u.default.setDimensions(t.screenWidth,t.screenHeight),s.default.getInstance().setPositionData(t),d.trigger(c.UPDATE_POSITION,t)}(e)}},f=function(t,e){var n=JSON.stringify(r.default.extend({event:l+t},e));window.parent.postMessage(n,"*")},p=null,g=function(){f(c.READY,{issueSlug:p})};d=r.default.extend(d,{init:function(t){p=t,g(),o.default(window).on("message",h)},announceScrollTo:function(t){f(c.SCROLL_TO,t)},announceGotoUrl:function(t,e){f(c.GOTO_URL,{url:t,urlOpenInNewWindow:e})},invokeGlobalFunctions:function(t){f(c.GLOBAL_FUNCTION_INVOKE,{globalFunctions:t})},announceVariantDetection:function(t){!function(t){f(c.VARIANT_DETECTION,{variant:t})}(t)}}),e.default=d},53335:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=null;e.default={getScrollbarWidth:function(){if(!r.default.isNull(o))return o;var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var i=n.offsetWidth;return t.parentNode.removeChild(t),o=e-i}}},92602:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(51339)),a=i(n(77891)),s=i(n(8030)),u="smartgroup_definition",l=["image","background","backgroundHasBeenSet","crop"],c=["video","poster"],d=["guides","autosnap","name","thumbnailUrl"];e.default={isMediaReloadRequiredForComponent:function(t,e){if(e)if(this.isComponentCreation(t)){var n=this.getLayerTypeFromLayer(e);if(r.default.includes([u,"folder","group"],n)||this.isMediaComponentWithMediaPropertiesSet(e))return!0}else if(this.isComponentUpdate(t))return this.someOpPropertySuchThat(t,r.default.bind((function(t){return this.isMediaProperty(e,t)||"visible"===t}),this));return!1},isMediaReloadRequiredForOp:function(t,e){var n=this.getComponentFromOp(t,e);return this.isMediaReloadRequiredForComponent(e,n)},someOpPropertySuchThat:function(t,e){var n=o.default.getVariant();if("desktop"===n)return e(this.getPropertyNameFromPath(t.p));var i=this.getPropertyNamesFromOverridesOp(t,n);return r.default.some(i,e)},isPageReloadRequiredForComponent:function(t,e){if(e){if(this.isInvalidGlyphMetricsOp(t,e))return!1;var n=this.isComponentCreation(t),i=this.isInitPropertyOp(t);if(n||i)return!0;if(this.isComponentUpdate(t)){var o=!1;return r.default.includes(t.p,"interactions")&&r.default.each(t.oi,(function(t){!t||"view"!==t.trigger||"cycle-previous"!==t.action&&"cycle-next"!==t.action||(o=!0)})),this.someOpPropertySuchThat(t,(function(t){"video-widget"===e.type&&r.default.includes(["height","width"],t)||"smartgroup"===e.type&&r.default.includes(["x","y","height","width"],t)||"opacity"===t||"mask-group"===e.type||"blendingMode"===t||"fixedPosition"===t?o=!0:"image-component"!==e.type||!r.default.get(e,"maskInfo.maskedObjectId")||"flipHorizontal"!==t&&"flipVertical"!==t?("editable"===t||s.default.editMode&&"text-component"===e.type&&"textSpans"===t||"canvas-background-component"===e.type)&&(o=!0):o=!0})),o}throw new Error("Wrong Op Type passed")}return!0},isInvalidGlyphMetricsOp:function(t,e){return"text-component"===e.type&&r.default.has(t,"oi")&&!r.default.has(t,"od")&&r.default.includes(t.p,"glyphMetrics")},isComponentCreation:function(t){return!!r.default.isArray(t.p)&&2===t.p.length&&"layerDictionary"===t.p[0]&&!r.default.isUndefined(t.oi)&&r.default.isUndefined(t.od)},isInitPropertyOp:function(t){return!!r.default.isArray(t.p)&&3===t.p.length&&"layerDictionary"===t.p[0]&&!r.default.isUndefined(t.oi)&&r.default.isUndefined(t.od)},isLayerHierarchiesChange:function(t){return"layerHierarchies"===t.p[0]},isLayerHierarchiesMoveOrDelete:function(t){return"layerHierarchies"===t.p[0]&&!r.default.isUndefined(t.ld)},isLayerDictionaryDelete:function(t){return!a.default.isUpdateForLazyAddedField(t)&&"layerDictionary"===t.p[0]&&!r.default.isUndefined(t.od)&&r.default.isUndefined(t.oi)},isComponentUpdate:function(t){return!(!r.default.isArray(t.p)||!a.default.isUpdateForLazyAddedField(t)&&(2!==t.p.length&&3!==t.p.length||"layerDictionary"!==t.p[0]||r.default.isUndefined(t.oi)||r.default.isUndefined(t.od)))},getPropertyNameFromPath:function(t){var e;return t.length>2&&r.default.isString(r.default.last(t))&&(e=r.default.last(t)),e},getPropertyNamesFromOverridesOp:function(t,e){if(r.default.isUndefined(t.oi)||r.default.isUndefined(t.od))throw"Cannot get properties changed without old and new objects";var n=t.oi[e],i=t.od[e],o=r.default.union(r.default.keys(n),r.default.keys(i));return r.default.filter(o,(function(t){return!r.default.isEqual(n[t],i[t])}))},getComponentFromOp:function(t,e){if(!("layerDictionary"!==e.p[0]||r.default.isUndefined(e.oi)&&r.default.isUndefined(e.od))){var n=r.default.slice(e.p,0,2).join(".");return r.default.at(t.snapshot,n)[0]}return null},getLayerTypeFromLayer:function(t){return t.type?t.type:void 0!==t.layers?u:void 0},isMediaProperty:function(t,e){return!!t&&("image-component"===t.type?r.default.includes(l,e):"video-widget"===t.type&&r.default.includes(c,e))},isMediaComponentWithMediaPropertiesSet:function(t){return t&&("image-component"===t.type&&t.image||"video-widget"===t.type&&t.video&&t.poster)},isBlacklistedPagePropertyForPreviewOps:function(t){return!("layerDictionary"===t.p[0]||!r.default.includes(d,t.p[0]))}}},11516:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(96486)),o=i(n(65311)),a=i(n(41232)),s=i(n(80771)),u=i(n(77705));e.default=a.default.View.extend({broadcast:r.default.clone(a.default.Events),constructor:function(t){this.options=t||{},a.default.View.apply(this,arguments)},_broadcast:function(t){if(!r.default.isUndefined(t)){t.preventDefault(),t.stopPropagation();var e=o.default(t.currentTarget).attr("data-event-name"),n=o.default(t.currentTarget).attr("data-event-param");r.default.isString(e)&&this.broadcast.trigger(e,n)}},_triggerEvent:function(t){if(!r.default.isUndefined(t)){t.preventDefault();var e=o.default(t.currentTarget).attr("data-event-name"),n=o.default(t.currentTarget).attr("data-event-param");this.trigger(e,n)}},bindInteraction:function(t,e){var n;n="function"!=typeof e?o.default.noop:function(t){s.default.touch()&&(t=t.srcEvent),t.preventDefault(),e(t)},s.default.touch()&&r.default.each(t,(function(t){t.swipeAction=new u.default(t),t.swipeAction.on("tap",n)})),s.default.desktop()&&t.off("click").on("click",n)},unbindInteraction:function(t){s.default.touch()&&r.default.each(t,(function(t){t.swipeAction.destroy()})),s.default.desktop()&&t.off("click")},onClose:function(){},beforeClose:function(){},close:function(){this.beforeClose(),this.remove(),this.onClose(),this.trigger("close"),this.unbind()},setModel:function(t){this.model=t,this._bindModel()},setCollection:function(t){this.collection=t,this._bindCollection()},_bindModel:function(){this.model&&(this.model.bind("change",this._change,this),this.model.bind("sync",this._sync,this),this.model.bind("destroy",this._destroy,this),this.model.bind("invalid",this._invalid,this),this.render())},_bindCollection:function(){this.collection&&(this.collection.bind("add",this._add,this),this.collection.bind("remove",this._remove,this),this.collection.bind("reset",this._reset,this),this.render())},initialize:function(){this.options.module&&this._setModule(this.options.module),this._bindModel(),this._bindCollection()},insertAfter:function(t){this.$el.insertAfter(t)},insertBefore:function(t){this.$el.insertBefore(t)},appendTo:function(t){this.$el.appendTo(t)},after:function(t){this.$el.after(t)},before:function(t){this.$el.before(t)},setAsAccessibilityHoverTarget:function(){this.keepVisibleForScreenReaders=!0,this.options.visible&&"none"!=this.$el.css("display")||(this.$el.css("display","block"),this.$el.addClass("sr-only")),this.exitAnimations.forEach((function(t){return t.keepVisibleForScreenReaders()}))},unsetAsAccessibilityHoverTarget:function(){this.keepVisibleForScreenReaders=!1,this.$el.hasClass("sr-only")&&(this.$el.removeClass("sr-only"),this.$el.css("display","none")),this.exitAnimations.forEach((function(t){return t.restoreHideBehavior()}))},show:function(){this.keepVisibleForScreenReaders?this.$el.removeClass("sr-only"):this.$el.show()},hide:function(){this.keepVisibleForScreenReaders?this.$el.addClass("sr-only"):this.$el.hide()},_setModule:function(t){if(r.default.isUndefined(t)||null===t)throw Error("attempting to set an invalid module!");this.module=t},getModule:function(){return this.module},_change:function(){this.render()},_sync:function(){this.render()},_destroy:function(){this.render()},_invalid:function(){this.render()},_add:function(){this.render()},_remove:function(){this.render()},_reset:function(){this.render()},getEscapedId:function(){return this.id.replace("|","\\|")}})},8427:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(93795),h=i(n(97965)),f=i(n(59051)),p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,i=[{key:"requires",get:function(){return[h.default,f.default]}},{key:"pluginName",get:function(){return"Alignment"}}],null&&o(n.prototype,null),i&&o(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(d.Plugin);e.default=p},26961:(t,e,n)=>{"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}function u(t,e,n){return e=c(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],c(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=n(93795),f=n(66338),p=n(6875),g="alignment",m=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),n=e,i=[{key:"refresh",value:function(){var t=this.editor.locale,e=f.first(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!e&&this._canBeAligned(e),this.isEnabled&&e.hasAttribute("alignment")?this.value=e.getAttribute("alignment"):this.value="rtl"===t.contentLanguageDirection?"right":"left"}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor,i=n.locale,o=n.model,a=o.document,s=e.value;o.change((function(e){var n=Array.from(a.selection.getSelectedBlocks()).filter((function(e){return t._canBeAligned(e)})),o=n[0].getAttribute("alignment");p.isDefault(s,i)||o===s||!s?function(t,e){var n,i=r(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;e.removeAttribute(g,o)}}catch(t){i.e(t)}finally{i.f()}}(n,e):function(t,e,n){var i,o=r(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;e.setAttribute(g,n,a)}}catch(t){o.e(t)}finally{o.f()}}(n,e,s)}))}},{key:"_canBeAligned",value:function(t){return this.editor.model.schema.checkAttribute(t,g)}}],i&&a(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(h.Command);e.default=m},97965:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,c(i.key),i)}}function c(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function d(t,e,n){return e=f(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var g=n(93795),m=i(n(26961)),v=n(6875),y=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=d(this,e,[t]),t.config.define("alignment",{options:a(v.supportedOptions.map((function(t){return{name:t}})))}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),n=e,r=[{key:"pluginName",get:function(){return"AlignmentEditing"}}],(i=[{key:"init",value:function(){var t=this.editor,e=t.locale,n=t.model.schema,i=v.normalizeAlignmentOptions(t.config.get("alignment.options")).filter((function(t){return v.isSupported(t.name)&&!v.isDefault(t.name,e)})),r=i.some((function(t){return!!t.className}));n.extend("$block",{allowAttributes:"alignment"}),t.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),r?t.conversion.attributeToAttribute(function(t){var e,n={model:{key:"alignment",values:t.map((function(t){return t.name}))},view:{}},i=o(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;n.view[r.name]={key:"class",value:r.className}}}catch(t){i.e(t)}finally{i.f()}return n}(i)):t.conversion.for("downcast").attributeToAttribute(function(t){var e,n={model:{key:"alignment",values:t.map((function(t){return t.name}))},view:{}},i=o(t);try{for(i.s();!(e=i.n()).done;){var r=e.value.name;n.view[r]={key:"style",value:{"text-align":r}}}}catch(t){i.e(t)}finally{i.f()}return n}(i));var a,s=function(t){var e,n=[],i=o(t);try{for(i.s();!(e=i.n()).done;){var r=e.value.name;n.push({view:{key:"style",value:{"text-align":r}},model:{key:"alignment",value:r}})}}catch(t){i.e(t)}finally{i.f()}return n}(i),u=o(s);try{for(u.s();!(a=u.n()).done;){var l=a.value;t.conversion.for("upcast").attributeToAttribute(l)}}catch(t){u.e(t)}finally{u.f()}var c,d=function(t){var e,n=[],i=o(t);try{for(i.s();!(e=i.n()).done;){var r=e.value.name;n.push({view:{key:"align",value:r},model:{key:"alignment",value:r}})}}catch(t){i.e(t)}finally{i.f()}return n}(i),h=o(d);try{for(h.s();!(c=h.n()).done;){var f=c.value;t.conversion.for("upcast").attributeToAttribute(f)}}catch(t){h.e(t)}finally{h.f()}t.commands.add("alignment",new m.default(t))}}])&&l(n.prototype,i),r&&l(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(g.Plugin);e.default=y},59051:(t,e,n)=>{"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,o(i.key),i)}}function o(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}function a(t,e,n){return e=u(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,n||[],u(t).constructor):e.apply(t,n))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(s=function(){return!!t})()}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=n(93795),d=n(57231),h=n(6875),f=new Map([["left",c.icons.alignLeft],["right",c.icons.alignRight],["center",c.icons.alignCenter],["justify",c.icons.alignJustify]]),p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(e,t),n=e,i=[{key:"localizedOptionTitles",get:function(){var t=this.editor.t;return{left:t("Align left"),right:t("Align right"),center:t("Align center"),justify:t("Justify")}}},{key:"init",value:function(){var t=this,e=this.editor,n=e.ui.componentFactory,i=e.t,r=h.normalizeAlignmentOptions(e.config.get("alignment.options"));r.map((function(t){return t.name})).filter(h.isSupported).forEach((function(e){return t._addButton(e)})),n.add("alignment",(function(t){var e=d.createDropdown(t),o=r.map((function(t){return n.create("alignment:".concat(t.name))}));d.addToolbarToDropdown(e,o),e.buttonView.set({label:i("Text alignment"),tooltip:!0}),e.toolbarView.isVertical=!0,e.toolbarView.ariaLabel=i("Text alignment toolbar"),e.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});var a="rtl"===t.contentLanguageDirection?f.get("right"):f.get("left");return e.buttonView.bind("icon").toMany(o,"isOn",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.findIndex((function(t){return t}));return i<0?a:o[i].icon})),e.bind("isEnabled").toMany(o,"isEnabled",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.some((function(t){return t}))})),e}))}},{key:"_addButton",value:function(t){var e=this,n=this.editor;n.ui.componentFactory.add("alignment:".concat(t),(function(i){var r=n.commands.get("alignment"),o=new d.ButtonView(i);return o.set({label:e.localizedOptionTitles[t],icon:f.get(t),tooltip:!0,isToggleable:!0}),o.bind("isEnabled").to(r),o.bind("isOn").to(r,"value",(function(e){return e===t})),e.listenTo(o,"execute",(function(){n.execute("alignment",{value:t}),n.editing.view.focus()})),o}))}}],o=[{key:"pluginName",get:function(){return"AlignmentUI"}}],i&&r(n.prototype,i),o&&r(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(c.Plugin);e.default=p},95618:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(93795),h=i(n(48040)),f=i(n(40047)),p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,i=[{key:"requires",get:function(){return[h.default,f.default]}},{key:"pluginName",get:function(){return"Subscript"}}],null&&o(n.prototype,null),i&&o(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(d.Plugin);e.default=p},48040:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(93795),h=i(n(90109)),f="subscript",p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,r=[{key:"pluginName",get:function(){return"SubscriptEditing"}}],(i=[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:f}),t.model.schema.setAttributeProperties(f,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:f,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),t.commands.add(f,new h.default(t,f))}}])&&o(n.prototype,i),r&&o(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(d.Plugin);e.default=p},40047:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(93795),h=n(57231),f=i(n(52675)),p="subscript",g=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,i=[{key:"init",value:function(){var t=this,e=this.editor,n=e.t;e.ui.componentFactory.add(p,(function(i){var r=e.commands.get(p),o=new h.ButtonView(i);return o.set({label:n("Subscript"),icon:f.default,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),t.listenTo(o,"execute",(function(){e.execute(p),e.editing.view.focus()})),o}))}}],r=[{key:"pluginName",get:function(){return"SubscriptUI"}}],i&&o(n.prototype,i),r&&o(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(d.Plugin);e.default=g},40623:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(93795),h=i(n(97723)),f=i(n(18730)),p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,i=[{key:"requires",get:function(){return[h.default,f.default]}},{key:"pluginName",get:function(){return"Superscript"}}],null&&o(n.prototype,null),i&&o(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(d.Plugin);e.default=p},97723:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(93795),h=i(n(90109)),f="superscript",p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,r=[{key:"pluginName",get:function(){return"SuperscriptEditing"}}],(i=[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:f}),t.model.schema.setAttributeProperties(f,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:f,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),t.commands.add(f,new h.default(t,f))}}])&&o(n.prototype,i),r&&o(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(d.Plugin);e.default=p},18730:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(93795),h=n(57231),f=i(n(52675)),p="superscript",g=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,i=[{key:"init",value:function(){var t=this,e=this.editor,n=e.t;e.ui.componentFactory.add(p,(function(i){var r=e.commands.get(p),o=new h.ButtonView(i);return o.set({label:n("Superscript"),icon:f.default,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),t.listenTo(o,"execute",(function(){e.execute(p),e.editing.view.focus()})),o}))}}],r=[{key:"pluginName",get:function(){return"SuperscriptUI"}}],i&&o(n.prototype,i),r&&o(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(d.Plugin);e.default=g},18524:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(n(29110)),u=i(n(50131)),l=function(){return t=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(function(){n.refresh()})),this.on("execute",(function(t){n.isEnabled||t.stop()}),{priority:"high"}),this.listenTo(e,"change:isReadOnly",(function(t,e,i){i?n.forceDisabled("readOnlyMode"):n.clearForceDisabled("readOnlyMode")}))},(e=[{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",c,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",c),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}])&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function c(t){t.return=!1,t.stop()}e.default=l,u.default(l,s.default)},48853:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function a(){a=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function h(t,e,n,i){var r=e&&e.prototype instanceof _?e:_,a=Object.create(r.prototype),s=new M(i||[]);return o(a,"_invoke",{value:A(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p="suspendedStart",g="suspendedYield",m="executing",v="completed",y={};function _(){}function b(){}function w(){}var T={};d(T,u,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(R([])));E&&E!==n&&i.call(E,u)&&(T=E);var O=w.prototype=_.prototype=Object.create(T);function P(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,a,s,u){var l=f(t[o],t,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==r(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,u)}))}u(l.arg)}var a;o(this,"_invoke",{value:function(t,i){function r(){return new e((function(e,r){n(t,i,e,r)}))}return a=a?a.then(r,r):r()}})}function A(e,n,i){var r=p;return function(o,a){if(r===m)throw Error("Generator is already running");if(r===v){if("throw"===o)throw a;return{value:t,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var u=k(s,i);if(u){if(u===y)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===p)throw r=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=m;var l=f(e,n,i);if("normal"===l.type){if(r=i.done?v:g,l.arg===y)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=v,i.method="throw",i.arg=l.arg)}}}function k(e,n){var i=n.method,r=e.iterator[i];if(r===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),y;var o=f(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(i.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return b.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=d(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,d(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},P(C.prototype),d(C.prototype,l,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new C(h(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},P(O),d(O,c,"Generator"),d(O,u,(function(){return this})),d(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=R,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;I(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:R(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),y}},e}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,u(i.key),i)}}function u(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=i(n(78378)),c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._commands=new Map},e=[{key:"add",value:function(t,e){this._commands.set(t,e)}},{key:"get",value:function(t){return this._commands.get(t)}},{key:"execute",value:function(t){var e=this.get(t);if(!e)throw new l.default("commandcollection-command-not-found",this,{commandName:t});for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return e.execute.apply(e,i)}},{key:"names",value:a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"commands",value:a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var t,e=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(this.commands());try{for(e.s();!(t=e.n()).done;)t.value.destroy()}catch(t){e.e(t)}finally{e.f()}}}],e&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();e.default=c},15564:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,u(i.key),i)}}function u(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=i(n(81631)),c=i(n(4033)),d=i(n(54421)),h=i(n(3386)),f=i(n(78378)),p=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=new l.default(e,this.constructor.defaultConfig);var n=this.constructor.builtinPlugins;this.config.define("plugins",n),this.plugins=new d.default(this,n);var i=this.config.get("language")||{};this.locale=new h.default({uiLanguage:"string"==typeof i?i:i.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new c.default,this._contextOwner=null},n=[{key:"create",value:function(t){var e=this;return new Promise((function(n){var i=new e(t);n(i.initPlugins().then((function(){return i})))}))}}],(e=[{key:"initPlugins",value:function(){var t,e=this.config.get("plugins")||[],n=this.config.get("substitutePlugins")||[],i=o(e.concat(n));try{for(i.s();!(t=i.n()).done;){var r=t.value;if("function"!=typeof r)throw new f.default("context-initplugins-constructor-only",null,{Plugin:r});if(!0!==r.isContextPlugin)throw new f.default("context-initplugins-invalid-plugin",null,{Plugin:r})}}catch(t){i.e(t)}finally{i.f()}return this.plugins.init(e,[],n)}},{key:"destroy",value:function(){var t=this;return Promise.all(Array.from(this.editors,(function(t){return t.destroy()}))).then((function(){return t.plugins.destroy()}))}},{key:"_addEditor",value:function(t,e){if(this._contextOwner)throw new f.default("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}},{key:"_removeEditor",value:function(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var t,e={},n=o(this.config.names());try{for(n.s();!(t=n.n()).done;){var i=t.value;["plugins","removePlugins","extraPlugins"].includes(i)||(e[i]=this.config.get(i))}}catch(t){n.e(t)}finally{n.f()}return e}}])&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=p},28458:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(n(29110)),u=i(n(50131)),l=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e},n=[{key:"isContextPlugin",get:function(){return!0}}],(e=[{key:"destroy",value:function(){this.stopListening()}}])&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();e.default=l,u.default(l,s.default)},80986:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=c(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],c(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},l.apply(null,arguments)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=s(this,e)).editor=t,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),n=e,i=[{key:"set",value:function(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n){var o=n;n=function(t,e){i.editor.execute(o),e()}}l(c(e.prototype),"set",this).call(this,t,n,r)}}],i&&o(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(i(n(46550)).default);e.default=h},74784:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(n(15564)),u=i(n(81631)),l=i(n(94859)),c=i(n(54421)),d=i(n(48853)),h=i(n(64861)),f=i(n(2964)),p=i(n(19333)),g=i(n(80986)),m=i(n(29110)),v=i(n(50131)),y=i(n(78378)),_=n(97337),b=function(){return t=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._context=n.context||new s.default({language:n.language}),this._context._addEditor(this,!n.context);var i=Array.from(this.constructor.builtinPlugins||[]);this.config=new u.default(n,this.constructor.defaultConfig),this.config.define("plugins",i),this.config.define(this._context._getEditorConfig()),this.plugins=new c.default(this,i,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new d.default,this.set("state","initializing"),this.once("ready",(function(){return e.state="ready"}),{priority:"high"}),this.once("destroy",(function(){return e.state="destroyed"}),{priority:"high"}),this.set("isReadOnly",!1),this.model=new p.default;var r=new _.StylesProcessor;this.data=new h.default(this.model,r),this.editing=new l.default(this.model,r),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new f.default([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new g.default(this),this.keystrokes.listenTo(this.editing.view.document)},e=[{key:"initPlugins",value:function(){var t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],i=t.get("extraPlugins")||[],r=t.get("substitutePlugins")||[];return this.plugins.init(e.concat(i),n,r)}},{key:"destroy",value:function(){var t=this,e=Promise.resolve();return"initializing"==this.state&&(e=new Promise((function(e){return t.once("ready",e)}))),e.then((function(){t.fire("destroy"),t.stopListening(),t.commands.destroy()})).then((function(){return t.plugins.destroy()})).then((function(){t.model.destroy(),t.data.destroy(),t.editing.destroy(),t.keystrokes.destroy()})).then((function(){return t._context._removeEditor(t)}))}},{key:"execute",value:function(){try{var t;return(t=this.commands).execute.apply(t,arguments)}catch(t){y.default.rethrowUnexpectedError(t,this)}}},{key:"focus",value:function(){this.editing.view.focus()}}],e&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();e.default=b,v.default(b,m.default)},81726:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function s(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=i(n(64939)),l=i(n(22073)),c=i(n(40669)),d=i(n(50131)),h=function(){return t=function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.componentFactory=new u.default(e),this.focusTracker=new l.default,this._editableElementsMap=new Map,this.listenTo(e.editing.view.document,"layoutChanged",(function(){return n.update()}))},e=[{key:"element",get:function(){return null}},{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy();var t,e=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(this._editableElementsMap.values());try{for(e.s();!(t=e.n()).done;)t.value.ckeditorInstance=null}catch(t){e.e(t)}finally{e.f()}this._editableElementsMap=new Map}},{key:"setEditableElement",value:function(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor)}},{key:"getEditableElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this._editableElementsMap.get(t)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}],e&&a(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();e.default=h,d.default(h,c.default)},18243:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(48171),o=i(n(78378));e.default=function(t){if(!r.isFunction(t.updateSourceElement))throw new o.default("attachtoform-missing-elementapi-interface",t);var e=t.sourceElement;if(e&&"textarea"===e.tagName.toLowerCase()&&e.form){var n,i=e.form,a=function(){return t.updateSourceElement()};r.isFunction(i.submit)&&(n=i.submit,i.submit=function(){a(),n.apply(i)}),i.addEventListener("submit",a),t.on("destroy",(function(){i.removeEventListener("submit",a),n&&(i.submit=n)}))}}},66718:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={setData:function(t){this.data.set(t)},getData:function(t){return this.data.get(t)}}},4944:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(78378)),o=i(n(58236)),a={updateSourceElement:function(){if(!this.sourceElement)throw new r.default("editor-missing-sourceelement",this);o.default(this.sourceElement,this.data.get())}};e.default=a},73585:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(78378));e.default=function(t){var e=t.sourceElement;if(e){if(e.ckeditorInstance)throw new r.default("editor-source-element-already-used",t);e.ckeditorInstance=t,t.once("destroy",(function(){delete e.ckeditorInstance}))}}},24939:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.icons=e.PendingActions=e.secureSourceElement=e.ElementApiMixin=e.DataApiMixin=e.attachToForm=e.EditorUI=e.Editor=e.ContextPlugin=e.Context=e.MultiCommand=e.Command=e.Plugin=void 0;var r=n(68154);Object.defineProperty(e,"Plugin",{enumerable:!0,get:function(){return i(r).default}});var o=n(18524);Object.defineProperty(e,"Command",{enumerable:!0,get:function(){return i(o).default}});var a=n(81975);Object.defineProperty(e,"MultiCommand",{enumerable:!0,get:function(){return i(a).default}});var s=n(15564);Object.defineProperty(e,"Context",{enumerable:!0,get:function(){return i(s).default}});var u=n(28458);Object.defineProperty(e,"ContextPlugin",{enumerable:!0,get:function(){return i(u).default}});var l=n(74784);Object.defineProperty(e,"Editor",{enumerable:!0,get:function(){return i(l).default}});var c=n(81726);Object.defineProperty(e,"EditorUI",{enumerable:!0,get:function(){return i(c).default}});var d=n(18243);Object.defineProperty(e,"attachToForm",{enumerable:!0,get:function(){return i(d).default}});var h=n(66718);Object.defineProperty(e,"DataApiMixin",{enumerable:!0,get:function(){return i(h).default}});var f=n(4944);Object.defineProperty(e,"ElementApiMixin",{enumerable:!0,get:function(){return i(f).default}});var p=n(73585);Object.defineProperty(e,"secureSourceElement",{enumerable:!0,get:function(){return i(p).default}});var g=n(17634);Object.defineProperty(e,"PendingActions",{enumerable:!0,get:function(){return i(g).default}});var m=i(n(52675)),v=i(n(52675)),y=i(n(52675)),_=i(n(52675)),b=i(n(52675)),w=i(n(52675)),T=i(n(52675)),S=i(n(52675)),E=i(n(52675)),O=i(n(52675)),P=i(n(52675)),C=i(n(52675)),A=i(n(52675)),k=i(n(52675)),x=i(n(52675)),I=i(n(52675)),M=i(n(52675)),R=i(n(52675)),N=i(n(52675)),D=i(n(52675)),L=i(n(52675)),j=i(n(52675)),F=i(n(52675)),V=i(n(52675)),U=i(n(52675)),B=i(n(52675)),H=i(n(52675)),G=i(n(52675)),W=i(n(52675));e.icons={cancel:m.default,caption:v.default,check:y.default,cog:_.default,eraser:b.default,lowVision:w.default,image:T.default,alignBottom:S.default,alignMiddle:E.default,alignTop:O.default,alignLeft:P.default,alignCenter:C.default,alignRight:A.default,alignJustify:k.default,objectLeft:D.default,objectCenter:I.default,objectRight:L.default,objectFullWidth:R.default,objectInline:N.default,objectBlockLeft:x.default,objectBlockRight:M.default,objectSizeFull:j.default,objectSizeLarge:F.default,objectSizeSmall:V.default,objectSizeMedium:U.default,pencil:B.default,pilcrow:H.default,quote:G.default,threeVerticalDots:W.default}},81975:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=s(this,e,[t]))._childCommands=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,i=[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var t=this._getFirstEnabledCommand(),e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return null!=t&&t.execute(n)}},{key:"registerChildCommand",value:function(t){var e=this;this._childCommands.push(t),t.on("change:isEnabled",(function(){return e._checkEnabled()})),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){return this._childCommands.find((function(t){return t.isEnabled}))}}],i&&o(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(i(n(18524)).default);e.default=d},17634:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=i(n(28458)),h=i(n(29110)),f=i(n(4033)),p=i(n(78378)),g=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,r=[{key:"pluginName",get:function(){return"PendingActions"}}],(i=[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new f.default({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(t){if("string"!=typeof t)throw new p.default("pendingactions-add-invalid-message",this);var e=Object.create(h.default);return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}},{key:"remove",value:function(t){this._actions.remove(t),this.hasAny=!!this._actions.length}},{key:"first",get:function(){return this._actions.get(0)}},{key:Symbol.iterator,value:function(){return this._actions[Symbol.iterator]()}}])&&o(n.prototype,i),r&&o(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(d.default);e.default=g},68154:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(n(29110)),u=i(n(50131)),l=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.set("isEnabled",!0),this._disableStack=new Set},n=[{key:"isContextPlugin",get:function(){return!1}}],(e=[{key:"forceDisabled",value:function(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",c,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",c),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}])&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function c(t){t.return=!1,t.stop()}e.default=l,u.default(l,s.default)},54421:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){o=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function h(t,e,n,i){var r=e&&e.prototype instanceof _?e:_,o=Object.create(r.prototype),s=new M(i||[]);return a(o,"_invoke",{value:A(t,n,s)}),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p="suspendedStart",g="suspendedYield",m="executing",v="completed",y={};function _(){}function b(){}function w(){}var T={};d(T,u,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(R([])));E&&E!==n&&i.call(E,u)&&(T=E);var O=w.prototype=_.prototype=Object.create(T);function P(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,a,s,u){var l=f(t[o],t,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==r(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,u)}))}u(l.arg)}var o;a(this,"_invoke",{value:function(t,i){function r(){return new e((function(e,r){n(t,i,e,r)}))}return o=o?o.then(r,r):r()}})}function A(e,n,i){var r=p;return function(o,a){if(r===m)throw Error("Generator is already running");if(r===v){if("throw"===o)throw a;return{value:t,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var u=k(s,i);if(u){if(u===y)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===p)throw r=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=m;var l=f(e,n,i);if("normal"===l.type){if(r=i.done?v:g,l.arg===y)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=v,i.method="throw",i.arg=l.arg)}}}function k(e,n){var i=n.method,r=e.iterator[i];if(r===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),y;var o=f(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(i.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return b.prototype=w,a(O,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:b,configurable:!0}),b.displayName=d(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,d(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},P(C.prototype),d(C.prototype,l,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new C(h(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},P(O),d(O,c,"Generator"),d(O,u,(function(){return this})),d(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=R,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;I(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:R(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),y}},e}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=o.call(n)).done)&&(s.push(i.value),s.length!==e);u=!0);}catch(t){l=!0,r=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,d(i.key),i)}}function d(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=i(n(78378)),f=i(n(40669)),p=i(n(50131)),g=function(){return t=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._context=e,this._plugins=new Map,this._availablePlugins=new Map;var r,o=s(n);try{for(o.s();!(r=o.n()).done;){var u=r.value;u.pluginName&&this._availablePlugins.set(u.pluginName,u)}}catch(t){o.e(t)}finally{o.f()}this._contextPlugins=new Map;var l,c=s(i);try{for(c.s();!(l=c.n()).done;){var d=a(l.value,2),h=d[0],f=d[1];this._contextPlugins.set(h,f),this._contextPlugins.set(f,h),h.pluginName&&this._availablePlugins.set(h.pluginName,h)}}catch(t){c.e(t)}finally{c.f()}},e=[{key:Symbol.iterator,value:o().mark((function t(){var e,n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=s(this._plugins),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=10;break}if("function"!=typeof(i=n.value)[0]){t.next=8;break}return t.next=8,i;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e.e(t.t0);case 15:return t.prev=15,e.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[1,12,15,18]])}))},{key:"get",value:function(t){var e=this._plugins.get(t);if(!e){var n=t;throw"function"==typeof t&&(n=t.pluginName||t.name),new h.default("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return e}},{key:"has",value:function(t){return this._plugins.has(t)}},{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=this,r=this._context;!function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;e.forEach((function(e){c(e)&&(n.has(e)||(n.add(e),e.pluginName&&!i._availablePlugins.has(e.pluginName)&&i._availablePlugins.set(e.pluginName,e),e.requires&&t(e.requires,n)))}))}(t),g(t);var o=function(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return e.map((function(t){return c(t)?t:i._availablePlugins.get(t)})).reduce((function(e,i){return n.has(i)?e:(n.add(i),i.requires&&(g(i.requires,i),t(i.requires,n).forEach((function(t){return e.add(t)}))),e.add(i))}),new Set)}(t.filter((function(t){return!f(t,e)}))));!function(t,e){var n,r=s(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if("function"!=typeof o)throw new h.default("plugincollection-replace-plugin-invalid-type",null,{pluginItem:o});var a=o.pluginName;if(!a)throw new h.default("plugincollection-replace-plugin-missing-name",null,{pluginItem:o});if(o.requires&&o.requires.length)throw new h.default("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:a});var u=i._availablePlugins.get(a);if(!u)throw new h.default("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:a});var l=t.indexOf(u);if(-1===l){if(i._contextPlugins.has(u))return;throw new h.default("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:a})}if(u.requires&&u.requires.length)throw new h.default("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:a});t.splice(l,1,o),i._availablePlugins.set(a,o)}}catch(t){r.e(t)}finally{r.f()}}(o,n);var a=function(t){return t.map((function(t){var e=i._contextPlugins.get(t)||new t(r);return i._add(t,e),e}))}(o);return m(a,"init").then((function(){return m(a,"afterInit")})).then((function(){return a}));function c(t){return"function"==typeof t}function d(t){return c(t)&&t.isContextPlugin}function f(t,e){return e.some((function(e){return e===t||p(t)===e||p(e)===t}))}function p(t){return c(t)?t.pluginName||t.name:t}function g(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.map((function(t){return c(t)?t:i._availablePlugins.get(t)||t})).forEach((function(t){!function(t,e){if(!c(t)){if(e)throw new h.default("plugincollection-soft-required",r,{missingPlugin:t,requiredBy:p(e)});throw new h.default("plugincollection-plugin-not-found",r,{plugin:t})}}(t,n),function(t,e){if(d(e)&&!d(t))throw new h.default("plugincollection-context-required",r,{plugin:p(t),requiredBy:p(e)})}(t,n),function(t,n){if(n&&f(t,e))throw new h.default("plugincollection-required",r,{plugin:p(t),requiredBy:p(n)})}(t,n)}))}function m(t,e){return t.reduce((function(t,n){return n[e]?i._contextPlugins.has(n)?t:t.then(n[e].bind(n)):t}),Promise.resolve())}}},{key:"destroy",value:function(){var t,e=[],n=s(this);try{for(n.s();!(t=n.n()).done;){var i=a(t.value,2)[1];"function"!=typeof i.destroy||this._contextPlugins.has(i)||e.push(i.destroy())}}catch(t){n.e(t)}finally{n.f()}return Promise.all(e)}},{key:"_add",value:function(t,e){this._plugins.set(t,e);var n=t.pluginName;if(n){if(this._plugins.has(n))throw new h.default("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}],e&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();e.default=g,p.default(g,f.default)},64861:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=o.call(n)).done)&&(s.push(i.value),s.length!==e);u=!0);}catch(t){l=!0,r=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,c(i.key),i)}}function c(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=i(n(50131)),h=i(n(29110)),f=i(n(78378)),p=i(n(77942)),g=i(n(46225)),m=n(60827),v=i(n(53442)),y=n(92661),_=i(n(87482)),b=i(n(26151)),w=i(n(52613)),T=i(n(35594)),S=n(88470),E=i(n(72376)),O=function(){return t=function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=e,this.mapper=new p.default,this.downcastDispatcher=new g.default({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",m.insertText(),{priority:"lowest"}),this.upcastDispatcher=new v.default({schema:e.schema}),this.viewDocument=new b.default(n),this.stylesProcessor=n,this.htmlProcessor=new E.default(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new w.default(this.viewDocument),this.upcastDispatcher.on("text",y.convertText(),{priority:"lowest"}),this.upcastDispatcher.on("element",y.convertToModelFragment(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",y.convertToModelFragment(),{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.on("init",(function(){i.fire("ready")}),{priority:"lowest"}),this.on("ready",(function(){i.model.enqueueChange("transparent",S.autoParagraphEmptyRoots)}),{priority:"lowest"})},e=[{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.rootName,n=void 0===e?"main":e,i=t.trim,r=void 0===i?"empty":i;if(!this._checkIfRootsExists([n]))throw new f.default("datacontroller-get-non-existent-root",this);var o=this.model.document.getRoot(n);return"empty"!==r||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o,t):""}},{key:"stringify",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toView(t,e);return this.processor.toData(n)}},{key:"toView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.viewDocument,i=this._viewWriter;this.mapper.clearBindings();var r=T.default._createIn(t),s=new _.default(n);this.mapper.bindElements(t,s),this.downcastDispatcher.conversionApi.options=e,this.downcastDispatcher.convertInsert(r,i);var u,l=t.is("documentFragment")?Array.from(t.markers):function(t){var e=[],n=t.root.document;if(!n)return[];var i,r=T.default._createIn(t),o=a(n.model.markers);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.getRange(),l=u.isCollapsed,c=u.start.isEqual(r.start)||u.end.isEqual(r.end);if(l&&c)e.push([s.name,u]);else{var d=r.getIntersection(u);d&&e.push([s.name,d])}}}catch(t){o.e(t)}finally{o.f()}return e}(t),c=a(l);try{for(c.s();!(u=c.n()).done;){var d=o(u.value,2),h=d[0],f=d[1];this.downcastDispatcher.convertMarkerAdd(h,f,i)}}catch(t){c.e(t)}finally{c.f()}return delete this.downcastDispatcher.conversionApi.options,s}},{key:"init",value:function(t){var e=this;if(this.model.document.version)throw new f.default("datacontroller-init-document-not-empty",this);var n={};if("string"==typeof t?n.main=t:n=t,!this._checkIfRootsExists(Object.keys(n)))throw new f.default("datacontroller-init-non-existent-root",this);return this.model.enqueueChange("transparent",(function(t){for(var i=0,r=Object.keys(n);i<r.length;i++){var o=r[i],a=e.model.document.getRoot(o);t.insert(e.parse(n[o],a),a,0)}})),Promise.resolve()}},{key:"set",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};if("string"==typeof t?i.main=t:i=t,!this._checkIfRootsExists(Object.keys(i)))throw new f.default("datacontroller-set-non-existent-root",this);var r=n.batchType||"default";this.model.enqueueChange(r,(function(t){t.setSelection(null),t.removeSelectionAttribute(e.model.document.selection.getAttributeKeys());for(var n=0,r=Object.keys(i);n<r.length;n++){var o=r[n],a=e.model.document.getRoot(o);t.remove(t.createRangeIn(a)),t.insert(e.parse(i[o],a),a,0)}}))}},{key:"parse",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root",n=this.processor.toView(t);return this.toModel(n,e)}},{key:"toModel",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change((function(i){return e.upcastDispatcher.convert(t,i,n)}))}},{key:"addStyleProcessorRules",value:function(t){t(this.stylesProcessor)}},{key:"registerRawContentMatcher",value:function(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(t){var e,n=a(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(!this.model.document.getRootNames().includes(i))return!1}}catch(t){n.e(t)}finally{n.f()}return!0}}],e&&l(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();e.default=O,d.default(O,h.default)},2964:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(){r=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function h(t,e,n,i){var r=e&&e.prototype instanceof _?e:_,a=Object.create(r.prototype),s=new M(i||[]);return o(a,"_invoke",{value:A(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p="suspendedStart",g="suspendedYield",m="executing",v="completed",y={};function _(){}function b(){}function w(){}var T={};d(T,u,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(R([])));E&&E!==n&&i.call(E,u)&&(T=E);var O=w.prototype=_.prototype=Object.create(T);function P(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(r,o,a,u){var l=f(t[r],t,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==s(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,u)}))}u(l.arg)}var r;o(this,"_invoke",{value:function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}})}function A(e,n,i){var r=p;return function(o,a){if(r===m)throw Error("Generator is already running");if(r===v){if("throw"===o)throw a;return{value:t,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var u=k(s,i);if(u){if(u===y)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===p)throw r=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=m;var l=f(e,n,i);if("normal"===l.type){if(r=i.done?v:g,l.arg===y)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=v,i.method="throw",i.arg=l.arg)}}}function k(e,n){var i=n.method,r=e.iterator[i];if(r===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),y;var o=f(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(s(e)+" is not iterable")}return b.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=d(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,d(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},P(C.prototype),d(C.prototype,l,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new C(h(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},P(O),d(O,c,"Generator"),d(O,u,(function(){return this})),d(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=R,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;I(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:R(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),y}},e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r().mark(v),a=r().mark(y);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,d(i.key),i)}}function d(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:e+""}var h=i(n(78378)),f=i(n(92661)),p=i(n(60827)),g=i(n(73701)),m=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._helpers=new Map,this._downcast=g.default(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=g.default(n),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})},(e=[{key:"addAlias",value:function(t,e){var n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new h.default("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}},{key:"for",value:function(t){if(!this._helpers.has(t))throw new h.default("conversion-for-unknown-group",this);return this._helpers.get(t)}},{key:"elementToElement",value:function(t){this.for("downcast").elementToElement(t);var e,n=u(v(t));try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.model,o=i.view;this.for("upcast").elementToElement({model:r,view:o,converterPriority:t.converterPriority})}}catch(t){n.e(t)}finally{n.f()}}},{key:"attributeToElement",value:function(t){this.for("downcast").attributeToElement(t);var e,n=u(v(t));try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.model,o=i.view;this.for("upcast").elementToAttribute({view:o,model:r,converterPriority:t.converterPriority})}}catch(t){n.e(t)}finally{n.f()}}},{key:"attributeToAttribute",value:function(t){this.for("downcast").attributeToAttribute(t);var e,n=u(v(t));try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.model,o=i.view;this.for("upcast").attributeToAttribute({view:o,model:r})}}catch(t){n.e(t)}finally{n.f()}}},{key:"_createConversionHelpers",value:function(t){var e=t.name,n=t.dispatchers,i=t.isDowncast;if(this._helpers.has(e))throw new h.default("conversion-group-exists",this);var r=i?new p.default(n):new f.default(n);this._helpers.set(e,r)}}])&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function v(t){var e,n,i,a,s,l;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.model.values){r.next=22;break}e=u(t.model.values),r.prev=2,e.s();case 4:if((n=e.n()).done){r.next=12;break}return i=n.value,a={key:t.model.key,value:i},s=t.view[i],l=t.upcastAlso?t.upcastAlso[i]:void 0,r.delegateYield(y(a,s,l),"t0",10);case 10:r.next=4;break;case 12:r.next=17;break;case 14:r.prev=14,r.t1=r.catch(2),e.e(r.t1);case 17:return r.prev=17,e.f(),r.finish(17);case 20:r.next=23;break;case 22:return r.delegateYield(y(t.model,t.view,t.upcastAlso),"t2",23);case 23:case"end":return r.stop()}}),o,null,[[2,14,17,20]])}function y(t,e,n){var i,o,s;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,{model:t,view:e};case 2:if(!n){r.next=20;break}i=u(g.default(n)),r.prev=4,i.s();case 6:if((o=i.n()).done){r.next=12;break}return s=o.value,r.next=10,{model:t,view:s};case 10:r.next=6;break;case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(4),i.e(r.t0);case 17:return r.prev=17,i.f(),r.finish(17);case 20:case"end":return r.stop()}}),a,null,[[4,14,17,20]])}e.default=m},34716:(t,e)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,o(i.key),i)}}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}e.Z=void 0;var a=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._dispatchers=e},(e=[{key:"add",value:function(t){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(this._dispatchers);try{for(n.s();!(e=n.n()).done;)t(e.value)}catch(t){n.e(t)}finally{n.f()}return this}}])&&r(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();e.Z=a},19333:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,u(i.key),i)}}function u(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=i(n(54917)),c=i(n(67473)),d=i(n(84236)),h=i(n(13090)),f=i(n(46914)),p=i(n(29110)),g=i(n(50131)),m=i(n(55050)),v=i(n(35594)),y=i(n(16776)),_=i(n(81790)),b=i(n(70057)),w=i(n(28279)),T=i(n(49413)),S=i(n(71020)),E=i(n(57342)),O=n(54680),P=n(88470),C=i(n(78378)),A=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.markers=new f.default,this.document=new h.default(this),this.schema=new d.default,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((function(t){return e.decorate(t)})),this.on("applyOperation",(function(t,e){e[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((function(t,e){if("$marker"===e.name)return!0})),O.injectSelectionPostFixer(this),this.document.registerPostFixer(P.autoParagraphEmptyRoots)},e=[{key:"change",value:function(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new l.default,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(t){C.default.rethrowUnexpectedError(t,this)}}},{key:"enqueueChange",value:function(t,e){try{"string"==typeof t?t=new l.default(t):"function"==typeof t&&(e=t,t=new l.default),this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(t){C.default.rethrowUnexpectedError(t,this)}}},{key:"applyOperation",value:function(t){t._execute()}},{key:"insertContent",value:function(t,e,n){return w.default(this,t,e,n)}},{key:"deleteContent",value:function(t,e){T.default(this,t,e)}},{key:"modifySelection",value:function(t,e){S.default(this,t,e)}},{key:"getSelectedContent",value:function(t){return E.default(this,t)}},{key:"hasContent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t instanceof m.default?v.default._createIn(t):t;if(n.isCollapsed)return!1;var i=e.ignoreWhitespaces,r=void 0!==i&&i,a=e.ignoreMarkers;if(void 0===a||!a){var s,u=o(this.markers.getMarkersIntersectingRange(n));try{for(u.s();!(s=u.n()).done;)if(s.value.affectsData)return!0}catch(t){u.e(t)}finally{u.f()}}var l,c=o(n.getItems());try{for(c.s();!(l=c.n()).done;){var d=l.value;if(this.schema.isContent(d)){if(!d.is("$textProxy"))return!0;if(!r)return!0;if(-1!==d.data.search(/\S/))return!0}}}catch(t){c.e(t)}finally{c.f()}return!1}},{key:"createPositionFromPath",value:function(t,e,n){return new y.default(t,e,n)}},{key:"createPositionAt",value:function(t,e){return y.default._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return y.default._createAfter(t)}},{key:"createPositionBefore",value:function(t){return y.default._createBefore(t)}},{key:"createRange",value:function(t,e){return new v.default(t,e)}},{key:"createRangeIn",value:function(t){return v.default._createIn(t)}},{key:"createRangeOn",value:function(t){return v.default._createOn(t)}},{key:"createSelection",value:function(t,e,n){return new _.default(t,e,n)}},{key:"createBatch",value:function(t){return new l.default(t)}},{key:"createOperationFromJSON",value:function(t){return b.default.fromJSON(t,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var t=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){var e=this._pendingChanges[0].batch;this._currentWriter=new c.default(this,e);var n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}],e&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();e.default=A,g.default(A,p.default)},35594:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function l(){l=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function h(t,e,n,i){var r=e&&e.prototype instanceof _?e:_,a=Object.create(r.prototype),s=new M(i||[]);return o(a,"_invoke",{value:A(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p="suspendedStart",g="suspendedYield",m="executing",v="completed",y={};function _(){}function b(){}function w(){}var T={};d(T,s,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(R([])));E&&E!==n&&i.call(E,s)&&(T=E);var O=w.prototype=_.prototype=Object.create(T);function P(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,a,s,u){var l=f(t[o],t,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==r(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,u)}))}u(l.arg)}var a;o(this,"_invoke",{value:function(t,i){function r(){return new e((function(e,r){n(t,i,e,r)}))}return a=a?a.then(r,r):r()}})}function A(e,n,i){var r=p;return function(o,a){if(r===m)throw Error("Generator is already running");if(r===v){if("throw"===o)throw a;return{value:t,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var u=k(s,i);if(u){if(u===y)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===p)throw r=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=m;var l=f(e,n,i);if("normal"===l.type){if(r=i.done?v:g,l.arg===y)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=v,i.method="throw",i.arg=l.arg)}}}function k(e,n){var i=n.method,r=e.iterator[i];if(r===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),y;var o=f(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(i.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return b.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=d(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,d(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},P(C.prototype),d(C.prototype,u,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new C(h(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},P(O),d(O,c,"Generator"),d(O,s,(function(){return this})),d(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=R,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;I(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:R(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),y}},e}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,d(i.key),i)}}function d(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=i(n(16776)),f=i(n(28067)),p=i(n(78378)),g=i(n(28017)),m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.start=h.default._createAt(e),this.end=n?h.default._createAt(n):h.default._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}return e=t,n=[{key:Symbol.iterator,value:l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(new f.default({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){var t=this.start.getParentPath(),e=this.end.getParentPath();return"same"==g.default(t,e)}},{key:"root",get:function(){return this.start.root}},{key:"containsPosition",value:function(t){return t.isAfter(this.start)&&t.isBefore(this.end)}},{key:"containsRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isCollapsed&&(e=!1);var n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}},{key:"containsItem",value:function(t){var e=h.default._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}},{key:"is",value:function(t){return"range"===t||"model:range"===t}},{key:"isEqual",value:function(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}},{key:"isIntersecting",value:function(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}},{key:"getDifference",value:function(e){var n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new t(this.start,e.start)),this.containsPosition(e.end)&&n.push(new t(e.end,this.end))):n.push(new t(this.start,this.end)),n}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var n=this.start,i=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(i=e.end),new t(n,i)}return null}},{key:"getJoined",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.isIntersecting(e);if(i||(i=this.start.isBefore(e.start)?n?this.end.isTouching(e.start):this.end.isEqual(e.start):n?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;var r=this.start,o=this.end;return e.start.isBefore(r)&&(r=e.start),e.end.isAfter(o)&&(o=e.end),new t(r,o)}},{key:"getMinimalFlatRanges",value:function(){for(var e=[],n=this.start.getCommonPath(this.end).length,i=h.default._createAt(this.start),r=i.parent;i.path.length>n+1;){var o=r.maxOffset-i.offset;0!==o&&e.push(new t(i,i.getShiftedBy(o))),i.path=i.path.slice(0,-1),i.offset++,r=r.parent}for(;i.path.length<=this.end.path.length;){var a=this.end.path[i.path.length-1],s=a-i.offset;0!==s&&e.push(new t(i,i.getShiftedBy(s))),i.offset=a,i.path.push(0)}return e}},{key:"getWalker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.boundaries=this,new f.default(t)}},{key:"getItems",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l().mark((function n(){var i,r,o,s;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.boundaries=t,e.ignoreElementEnd=!0,i=new f.default(e),r=a(i),n.prev=4,r.s();case 6:if((o=r.n()).done){n.next=12;break}return s=o.value,n.next=10,s.item;case 10:n.next=6;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),r.e(n.t0);case 17:return n.prev=17,r.f(),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[4,14,17,20]])}))()}},{key:"getPositions",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l().mark((function n(){var i,r,o,s;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.boundaries=t,i=new f.default(e),n.next=4,i.position;case 4:r=a(i),n.prev=5,r.s();case 7:if((o=r.n()).done){n.next=13;break}return s=o.value,n.next=11,s.nextPosition;case 11:n.next=7;break;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),r.e(n.t0);case 18:return n.prev=18,r.f(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[5,15,18,21]])}))()}},{key:"getTransformedByOperation",value:function(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new t(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(e){var n,i=[new t(this.start,this.end)],r=a(e);try{for(r.s();!(n=r.n()).done;)for(var s=n.value,u=0;u<i.length;u++){var l=i[u].getTransformedByOperation(s);i.splice.apply(i,[u,1].concat(o(l))),u+=l.length-1}}catch(t){r.e(t)}finally{r.f()}for(var c=0;c<i.length;c++)for(var d=i[c],h=c+1;h<i.length;h++){var f=i[h];(d.containsRange(f)||f.containsRange(d)||d.isEqual(f))&&i.splice(h,1)}return i}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(t.position,t.howMany,e)}},{key:"_getTransformedByMoveOperation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.sourcePosition,i=t.howMany,r=t.targetPosition;return this._getTransformedByMove(n,r,i,e)}},{key:"_getTransformedBySplitOperation",value:function(e){var n=this.start._getTransformedBySplitOperation(e),i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),n.root!=i.root&&(i=this.end.getShiftedBy(-1)),new t(n,i)}},{key:"_getTransformedByMergeOperation",value:function(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new t(this.start);var n=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return n.root!=i.root&&(i=this.end.getShiftedBy(-1)),n.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(n=h.default._createAt(i)).offset=0:(e.deletionPosition.isEqual(n)||(i=e.deletionPosition),n=e.targetPosition),new t(n,i)):new t(n,i)}},{key:"_getTransformedByInsertion",value:function(e,n){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.containsPosition(e))return[new t(this.start,e),new t(e.getShiftedBy(n),this.end._getTransformedByInsertion(e,n))];var i=new t(this.start,this.end);return i.start=i.start._getTransformedByInsertion(e,n),i.end=i.end._getTransformedByInsertion(e,n),[i]}},{key:"_getTransformedByMove",value:function(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed)return[new t(this.start._getTransformedByMove(e,n,i))];var o,a=t._createFromPositionAndShift(e,i),s=n._getTransformedByDeletion(e,i);if(this.containsPosition(n)&&!r&&(a.containsPosition(this.start)||a.containsPosition(this.end)))return[new t(this.start._getTransformedByMove(e,n,i),this.end._getTransformedByMove(e,n,i))];var u=this.getDifference(a),l=null,c=this.getIntersection(a);if(1==u.length?l=new t(u[0].start._getTransformedByDeletion(e,i),u[0].end._getTransformedByDeletion(e,i)):2==u.length&&(l=new t(this.start,this.end._getTransformedByDeletion(e,i))),o=l?l._getTransformedByInsertion(s,i,null!==c||r):[],c){var d=new t(c.start._getCombined(a.start,s),c.end._getCombined(a.start,s));2==o.length?o.splice(1,0,d):o.push(d)}return o}},{key:"_getTransformedByDeletion",value:function(e,n){var i=this.start._getTransformedByDeletion(e,n),r=this.end._getTransformedByDeletion(e,n);return null==i&&null==r?null:(null==i&&(i=e),null==r&&(r=e),new t(i,r))}}],i=[{key:"_createFromPositionAndShift",value:function(t,e){var n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}},{key:"_createIn",value:function(t){return new this(h.default._createAt(t,0),h.default._createAt(t,t.maxOffset))}},{key:"_createOn",value:function(t){return this._createFromPositionAndShift(h.default._createBefore(t),t.offsetSize)}},{key:"_createFromRanges",value:function(t){if(0===t.length)throw new p.default("range-create-from-ranges-empty-array",null);if(1==t.length)return t[0].clone();var e=t[0];t.sort((function(t,e){return t.start.isAfter(e.start)?1:-1}));var n=t.indexOf(e),i=new this(e.start,e.end);if(n>0)for(var r=n-1;t[r].end.isEqual(i.start);r++)i.start=h.default._createAt(t[r].start);for(var o=n+1;o<t.length&&t[o].start.isEqual(i.end);o++)i.end=h.default._createAt(t[o].end);return i}},{key:"fromJSON",value:function(t,e){return new this(h.default.fromJSON(t.start,e),h.default.fromJSON(t.end,e))}}],n&&c(e.prototype,n),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,i}();e.default=m},97337:(t,e,n)=>{"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=o.call(n)).done)&&(s.push(i.value),s.length!==e);u=!0);}catch(t){l=!0,r=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return s(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,d(i.key),i)}}function c(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}Object.defineProperty(e,"__esModule",{value:!0}),e.StylesProcessor=e.default=void 0;var h=n(48171),f=function(){return c((function t(e){u(this,t),this._styles={},this._styleProcessor=e}),[{key:"isEmpty",get:function(){var t=Object.entries(this._styles);return!Array.from(t).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}},{key:"setTo",value:function(t){this.clear();for(var e=0,n=Array.from(function(t){var e=null,n=0,i=0,r=null,o=new Map;if(""===t)return o;";"!=t.charAt(t.length-1)&&(t+=";");for(var a=0;a<t.length;a++){var s=t.charAt(a);if(null===e)switch(s){case":":r||(r=t.substr(n,a-n),i=a+1);break;case'"':case"'":e=s;break;case";":var u=t.substr(i,a-i);r&&o.set(r.trim(),u.trim()),r=null,n=a+1}else s===e&&(e=null)}return o}(t).entries());e<n.length;e++){var i=o(n[e],2),r=i[0],a=i[1];this._styleProcessor.toNormalizedForm(r,a,this._styles)}}},{key:"has",value:function(t){if(this.isEmpty)return!1;var e=this._styleProcessor.getReducedForm(t,this._styles).find((function(e){return o(e,1)[0]===t}));return Array.isArray(e)}},{key:"set",value:function(t,e){if(h.isObject(t))for(var n=0,i=Object.entries(t);n<i.length;n++){var r=o(i[n],2),a=r[0],s=r[1];this._styleProcessor.toNormalizedForm(a,s,this._styles)}else this._styleProcessor.toNormalizedForm(t,e,this._styles)}},{key:"remove",value:function(t){var e=p(t);h.unset(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}},{key:"getNormalized",value:function(t){return this._styleProcessor.getNormalized(t,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map((function(t){return t.join(":")})).sort().join(";")+";"}},{key:"getAsString",value:function(t){if(!this.isEmpty){if(this._styles[t]&&!h.isObject(this._styles[t]))return this._styles[t];var e=this._styleProcessor.getReducedForm(t,this._styles).find((function(e){return o(e,1)[0]===t}));return Array.isArray(e)?e[1]:void 0}}},{key:"getStyleNames",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.isEmpty?[]:t?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map((function(t){return o(t,1)[0]}))}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var t=[],e=0,n=Object.keys(this._styles);e<n.length;e++){var i=n[e];t.push.apply(t,r(this._styleProcessor.getReducedForm(i,this._styles)))}return t}},{key:"_cleanEmptyObjectsOnPath",value:function(t){var e=t.split(".");if(e.length>1){var n=e.splice(0,e.length-1).join("."),i=h.get(this._styles,n);i&&!Array.from(Object.keys(i)).length&&this.remove(n)}}}])}();function p(t){return t.replace("-",".")}function g(t,e,n){var i=n;h.isObject(n)&&(i=h.merge({},h.get(t,e),n)),h.set(t,e,i)}e.default=f,e.StylesProcessor=c((function t(){u(this,t),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}),[{key:"toNormalizedForm",value:function(t,e,n){if(h.isObject(e))g(n,p(t),e);else if(this._normalizers.has(t)){var i=this._normalizers.get(t)(e);g(n,i.path,i.value)}else g(n,t,e)}},{key:"getNormalized",value:function(t,e){if(!t)return h.merge({},e);if(void 0!==e[t])return e[t];if(this._extractors.has(t)){var n=this._extractors.get(t);if("string"==typeof n)return h.get(e,n);var i=n(t,e);if(i)return i}return h.get(e,p(t))}},{key:"getReducedForm",value:function(t,e){var n=this.getNormalized(t,e);return void 0===n?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}},{key:"getStyleNames",value:function(t){var e=this,n=Array.from(this._consumables.keys()).filter((function(n){var r=e.getNormalized(n,t);return r&&"object"==i(r)?Object.keys(r).length:r})),o=new Set([].concat(r(n),r(Object.keys(t))));return Array.from(o.values())}},{key:"getRelatedStyles",value:function(t){return this._consumables.get(t)||[]}},{key:"setNormalizer",value:function(t,e){this._normalizers.set(t,e)}},{key:"setExtractor",value:function(t,e){this._extractors.set(t,e)}},{key:"setReducer",value:function(t,e){this._reducers.set(t,e)}},{key:"setStyleRelation",value:function(t,e){this._mapStyleNames(t,e);var n,i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;this._mapStyleNames(r,[t])}}catch(t){i.e(t)}finally{i.f()}}},{key:"_mapStyleNames",value:function(t,e){var n;this._consumables.has(t)||this._consumables.set(t,[]),(n=this._consumables.get(t)).push.apply(n,r(e))}}])},15270:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(93795),h=i(n(63865)),f=i(n(90840)),p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,i=[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[h.default,f.default]}}],null&&o(n.prototype,null),i&&o(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(d.Plugin);e.default=p},63865:(t,e,n)=>{"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,o(i.key),i)}}function o(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}function a(t,e,n){return e=u(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,n||[],u(t).constructor):e.apply(t,n))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(s=function(){return!!t})()}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=n(93795),d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(e,t),n=e,o=[{key:"pluginName",get:function(){return"IndentEditing"}}],(i=[{key:"init",value:function(){var t=this.editor;t.commands.add("indent",new c.MultiCommand(t)),t.commands.add("outdent",new c.MultiCommand(t))}}])&&r(n.prototype,i),o&&r(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(c.Plugin);e.default=d},90840:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(57231),h=n(93795),f=i(n(52675)),p=i(n(52675)),g=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,i=[{key:"init",value:function(){var t=this.editor,e=t.locale,n=t.t,i="ltr"==e.uiLanguageDirection?f.default:p.default,r="ltr"==e.uiLanguageDirection?p.default:f.default;this._defineButton("indent",n("Increase indent"),i),this._defineButton("outdent",n("Decrease indent"),r)}},{key:"_defineButton",value:function(t,e,n){var i=this,r=this.editor;r.ui.componentFactory.add(t,(function(o){var a=r.commands.get(t),s=new d.ButtonView(o);return s.set({label:e,icon:n,tooltip:!0}),s.bind("isOn","isEnabled").to(a,"value","isEnabled"),i.listenTo(s,"execute",(function(){r.execute(t),r.editing.view.focus()})),s}))}}],r=[{key:"pluginName",get:function(){return"IndentUI"}}],i&&o(n.prototype,i),r&&o(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(h.Plugin);e.default=g},70654:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=i(n(48374)),h=i(n(17553)),f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,i=[{key:"requires",get:function(){return[d.default,h.default]}},{key:"pluginName",get:function(){return"List"}}],null&&o(n.prototype,null),i&&o(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(n(93795).Plugin);e.default=f},33998:(t,e,n)=>{"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function s(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}function u(t,e,n){return e=c(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],c(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=n(93795),f=n(66338),p=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=u(this,e,[t])).type=n,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),n=e,i=[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.document,o=Array.from(i.selection.getSelectedBlocks()).filter((function(t){return m(t,n.schema)})),a=void 0!==e.forceValue?!e.forceValue:this.value;n.change((function(e){if(a){for(var n=o[o.length-1].nextSibling,i=Number.POSITIVE_INFINITY,s=[];n&&"listItem"==n.name&&0!==n.getAttribute("listIndent");){var u=n.getAttribute("listIndent");u<i&&(i=u);var l=u-i;s.push({element:n,listIndent:l}),n=n.nextSibling}var c,d=r(s=s.reverse());try{for(d.s();!(c=d.n()).done;){var h=c.value;e.setAttribute("listIndent",h.listIndent,h.element)}}catch(t){d.e(t)}finally{d.f()}}if(!a){var f,p=Number.POSITIVE_INFINITY,m=r(o);try{for(m.s();!(f=m.n()).done;){var v=f.value;v.is("element","listItem")&&v.getAttribute("listIndent")<p&&(p=v.getAttribute("listIndent"))}}catch(t){m.e(t)}finally{m.f()}g(o,!0,p=0===p?1:p),g(o,!1,p)}var y,_=r(o.reverse());try{for(_.s();!(y=_.n()).done;){var b=y.value;a&&"listItem"==b.name?e.rename(b,"paragraph"):a||"listItem"==b.name?a||"listItem"!=b.name||b.getAttribute("listType")==t.type||e.setAttribute("listType",t.type,b):(e.setAttributes({listType:t.type,listIndent:0},b),e.rename(b,"listItem"))}}catch(t){_.e(t)}finally{_.f()}t.fire("_executeCleanup",o)}))}},{key:"_getValue",value:function(){var t=f.first(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var t=this.editor.model.document.selection,e=this.editor.model.schema,n=f.first(t.getSelectedBlocks());return!!n&&m(n,e)}}],i&&a(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(h.Command);function g(t,e,n){var i=e?t[0]:t[t.length-1];if(i.is("element","listItem"))for(var r=i[e?"previousSibling":"nextSibling"],o=i.getAttribute("listIndent");r&&r.is("element","listItem")&&r.getAttribute("listIndent")>=n;)o>r.getAttribute("listIndent")&&(o=r.getAttribute("listIndent")),r.getAttribute("listIndent")==o&&t[e?"unshift":"push"](r),r=r[e?"previousSibling":"nextSibling"]}function m(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}e.default=p},48374:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,u(i.key),i)}}function u(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function l(t,e,n){return e=d(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,n||[],d(t).constructor):e.apply(t,n))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!t})()}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=i(n(33998)),p=i(n(21928)),g=n(93795),m=n(31406),v=n(43071),y=n(55038),_=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),n=e,r=[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[m.Enter,v.Delete]}}],(i=[{key:"init",value:function(){var t=this,e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var n=e.data,i=e.editing;e.model.document.registerPostFixer((function(t){return y.modelChangePostFixer(e.model,t)})),i.mapper.registerViewToModelLength("li",b),n.mapper.registerViewToModelLength("li",b),i.mapper.on("modelToViewPosition",y.modelToViewPosition(i.view)),i.mapper.on("viewToModelPosition",y.viewToModelPosition(e.model)),n.mapper.on("modelToViewPosition",y.modelToViewPosition(i.view)),e.conversion.for("editingDowncast").add((function(t){t.on("insert",y.modelViewSplitOnInsert,{priority:"high"}),t.on("insert:listItem",y.modelViewInsertion(e.model)),t.on("attribute:listType:listItem",y.modelViewChangeType,{priority:"high"}),t.on("attribute:listType:listItem",y.modelViewMergeAfterChangeType,{priority:"low"}),t.on("attribute:listIndent:listItem",y.modelViewChangeIndent(e.model)),t.on("remove:listItem",y.modelViewRemove(e.model)),t.on("remove",y.modelViewMergeAfter,{priority:"low"})})),e.conversion.for("dataDowncast").add((function(t){t.on("insert",y.modelViewSplitOnInsert,{priority:"high"}),t.on("insert:listItem",y.modelViewInsertion(e.model))})),e.conversion.for("upcast").add((function(t){t.on("element:ul",y.cleanList,{priority:"high"}),t.on("element:ol",y.cleanList,{priority:"high"}),t.on("element:li",y.cleanListItem,{priority:"high"}),t.on("element:li",y.viewModelConverter)})),e.model.on("insertContent",y.modelIndentPasteFixer,{priority:"high"}),e.commands.add("numberedList",new f.default(e,"numbered")),e.commands.add("bulletedList",new f.default(e,"bulleted")),e.commands.add("indentList",new p.default(e,"forward")),e.commands.add("outdentList",new p.default(e,"backward"));var r=i.view.document;this.listenTo(r,"enter",(function(e,n){var i=t.editor.model.document,r=i.selection.getLastPosition().parent;i.selection.isCollapsed&&"listItem"==r.name&&r.isEmpty&&(t.editor.execute("outdentList"),n.preventDefault(),e.stop())}),{context:"li"}),this.listenTo(r,"delete",(function(e,n){if("backward"===n.direction){var i=t.editor.model.document.selection;if(i.isCollapsed){var r=i.getFirstPosition();if(r.isAtStart){var o=r.parent;"listItem"===o.name&&(o.previousSibling&&"listItem"===o.previousSibling.name||(t.editor.execute("outdentList"),n.preventDefault(),e.stop()))}}}}),{context:"li"});var o=function(e){return function(n,i){t.editor.commands.get(e).isEnabled&&(t.editor.execute(e),i())}};e.keystrokes.set("Tab",o("indentList")),e.keystrokes.set("Shift+Tab",o("outdentList"))}},{key:"afterInit",value:function(){var t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList")),n&&n.registerChildCommand(t.get("outdentList"))}}])&&s(n.prototype,i),r&&s(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(g.Plugin);function b(t){var e,n=1,i=o(t.getChildren());try{for(i.s();!(e=i.n()).done;){var r=e.value;if("ul"==r.name||"ol"==r.name){var a,s=o(r.getChildren());try{for(s.s();!(a=s.n()).done;)n+=b(a.value)}catch(t){s.e(t)}finally{s.f()}}}}catch(t){i.e(t)}finally{i.f()}return n}e.default=_},17553:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(89419),h=i(n(52675)),f=i(n(52675)),p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,i=[{key:"init",value:function(){var t=this.editor.t;d.createUIComponent(this.editor,"numberedList",t("Numbered List"),h.default),d.createUIComponent(this.editor,"bulletedList",t("Bulleted List"),f.default)}}],r=[{key:"pluginName",get:function(){return"ListUI"}}],i&&o(n.prototype,i),r&&o(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(n(93795).Plugin);e.default=p},22685:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function s(t,e,n){return e=l(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],l(t).constructor):e.apply(t,n))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=i(n(21771)),h=i(n(51368)),f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),n=e,r=[{key:"pluginName",get:function(){return"Paragraph"}}],(i=[{key:"init",value:function(){var t=this.editor,n=t.model;t.commands.add("paragraph",new d.default(t)),t.commands.add("insertParagraph",new h.default(t)),n.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:function(t,n){var i=n.writer;return e.paragraphLikeElements.has(t.name)?t.isEmpty?null:i.createElement("paragraph"):null},view:/.+/,converterPriority:"low"})}}])&&o(n.prototype,i),r&&o(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}(i(n(68154)).default);e.default=f,f.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"])},21771:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function s(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function u(t,e,n){return e=c(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],c(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=i(n(18524)),f=i(n(77246)),p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),n=e,i=[{key:"refresh",value:function(){var t=this.editor.model,e=t.document,n=f.default(e.selection.getSelectedBlocks());this.value=!!n&&n.is("element","paragraph"),this.isEnabled=!!n&&g(n,t.schema)}},{key:"execute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.editor.model,n=e.document;e.change((function(i){var r,a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}((t.selection||n.selection).getSelectedBlocks());try{for(a.s();!(r=a.n()).done;){var s=r.value;!s.is("element","paragraph")&&g(s,e.schema)&&i.rename(s,"paragraph")}}catch(t){a.e(t)}finally{a.f()}}))}}],i&&a(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(h.default);function g(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}e.default=p},93795:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(24939),e)},17051:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(14021),e)},31406:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(66836),e)},43071:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(14795),e)},57231:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(98615),e)},66338:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(53759),e)},86836:t=>{"use strict";(function(){window.Modernizr=function(t,e,n){var i,r,o,a={},s=e.documentElement,u="modernizr",l=e.createElement(u),c=l.style,d=" -webkit- -moz- -o- -ms- ".split(" "),h={},f=[],p=f.slice,g=function(t,n,i,r){var o,a,l,c,d=e.createElement("div"),h=e.body,f=h||e.createElement("body");if(parseInt(i,10))for(;i--;)(l=e.createElement("div")).id=r?r[i]:u+(i+1),d.appendChild(l);return o=["&#173;",'<style id="s',u,'">',t,"</style>"].join(""),d.id=u,(h?d:f).innerHTML+=o,f.appendChild(d),h||(f.style.background="",f.style.overflow="hidden",c=s.style.overflow,s.style.overflow="hidden",s.appendChild(f)),a=n(d,t),h?d.parentNode.removeChild(d):(f.parentNode.removeChild(f),s.style.overflow=c),!!a},m={}.hasOwnProperty;function v(t,e){return typeof t===e}for(var y in r=v(m,"undefined")||v(m.call,"undefined")?function(t,e){return e in t&&v(t.constructor.prototype[e],"undefined")}:function(t,e){return m.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=p.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var o=new r,a=e.apply(o,n.concat(p.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(p.call(arguments)))};return i}),h.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},h.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:g(["@media (",d.join("touch-enabled),("),u,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(t){n=9===t.offsetTop})),n},h.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&((n=new Boolean(n)).ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return n},h)r(h,y)&&(i=y.toLowerCase(),a[i]=h[y](),f.push((a[i]?"":"no-")+i));return a.addTest=function(t,e){if("object"==typeof t)for(var i in t)r(t,i)&&a.addTest(i,t[i]);else{if(t=t.toLowerCase(),a[t]!==n)return a;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(s.className+=" "+(e?"":"no-")+t),a[t]=e}return a},o="",c.cssText=o,l=null,function(t,e){var n,i,r=t.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,a=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,s="_html5shiv",u=0,l={};function c(){var t=p.elements;return"string"==typeof t?t.split(" "):t}function d(t){var e=l[t[s]];return e||(e={},u++,t[s]=u,l[u]=e),e}function h(t,n,r){return n||(n=e),i?n.createElement(t):(r||(r=d(n)),(s=r.cache[t]?r.cache[t].cloneNode():a.test(t)?(r.cache[t]=r.createElem(t)).cloneNode():r.createElem(t)).canHaveChildren&&!o.test(t)?r.frag.appendChild(s):s);var s}function f(t){t||(t=e);var r=d(t);return!p.shivCSS||n||r.hasCSS||(r.hasCSS=!!function(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>",i.insertBefore(n.lastChild,i.firstChild)}(t)),i||function(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return p.shivMethods?h(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,(function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'}))+");return n}")(p,e.frag)}(t,r),t}!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",n="hidden"in t,i=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){n=!0,i=!0}}();var p={elements:r.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==r.shivCSS,supportsUnknownElements:i,shivMethods:!1!==r.shivMethods,type:"default",shivDocument:f,createElement:h,createDocumentFragment:function(t,n){if(t||(t=e),i)return t.createDocumentFragment();for(var r=(n=n||d(t)).frag.cloneNode(),o=0,a=c(),s=a.length;o<s;o++)r.createElement(a[o]);return r}};t.html5=p,f(e)}(this,e),a._version="2.6.2",a._prefixes=d,a.testStyles=g,a}.call(window,this,this.document),t.exports=window.Modernizr}).call(window)},9458:t=>{"use strict";t.exports=WebFont},65311:t=>{"use strict";t.exports=jQuery},42536:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(79651);const r=function(t,e){for(var n=t.length;n--;)if((0,i.Z)(t[n][0],e))return n;return-1};var o=Array.prototype.splice;function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}a.prototype.clear=function(){this.__data__=[],this.size=0},a.prototype.delete=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))},a.prototype.get=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]},a.prototype.has=function(t){return r(this.__data__,t)>-1},a.prototype.set=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};const s=a},86183:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(35084),r=n(66092);const o=(0,i.Z)(r.Z,"Map")},80520:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});const i=(0,n(35084).Z)(Object,"create");var r=Object.prototype.hasOwnProperty;var o=Object.prototype.hasOwnProperty;function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}a.prototype.clear=function(){this.__data__=i?i(null):{},this.size=0},a.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},a.prototype.get=function(t){var e=this.__data__;if(i){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(e,t)?e[t]:void 0},a.prototype.has=function(t){var e=this.__data__;return i?void 0!==e[t]:o.call(e,t)},a.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this};const s=a;var u=n(42536),l=n(86183);const c=function(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map};function d(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}d.prototype.clear=function(){this.size=0,this.__data__={hash:new s,map:new(l.Z||u.Z),string:new s}},d.prototype.delete=function(t){var e=c(this,t).delete(t);return this.size-=e?1:0,e},d.prototype.get=function(t){return c(this,t).get(t)},d.prototype.has=function(t){return c(this,t).has(t)},d.prototype.set=function(t,e){var n=c(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};const h=d},93203:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(35084),r=n(66092);const o=(0,i.Z)(r.Z,"Set")},45084:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(80520);function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i.Z;++e<n;)this.add(t[e])}r.prototype.add=r.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},r.prototype.has=function(t){return this.__data__.has(t)};const o=r},45365:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(42536);var r=n(86183),o=n(80520);function a(t){var e=this.__data__=new i.Z(t);this.size=e.size}a.prototype.clear=function(){this.__data__=new i.Z,this.size=0},a.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},a.prototype.get=function(t){return this.__data__.get(t)},a.prototype.has=function(t){return this.__data__.has(t)},a.prototype.set=function(t,e){var n=this.__data__;if(n instanceof i.Z){var a=n.__data__;if(!r.Z||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o.Z(a)}return n.set(t,e),this.size=n.size,this};const s=a},17685:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=n(66092).Z.Symbol},84073:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=n(66092).Z.Uint8Array},13840:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(35084),r=n(66092);const o=(0,i.Z)(r.Z,"WeakMap")},18069:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},76579:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}},68774:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}},63771:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(52889),r=n(84732),o=n(27771),a=n(65763),s=n(56009),u=n(77212),l=Object.prototype.hasOwnProperty;const c=function(t,e){var n=(0,o.Z)(t),c=!n&&(0,r.Z)(t),d=!n&&!c&&(0,a.Z)(t),h=!n&&!c&&!d&&(0,u.Z)(t),f=n||c||d||h,p=f?(0,i.Z)(t.length,String):[],g=p.length;for(var m in t)!e&&!l.call(t,m)||f&&("length"==m||d&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||(0,s.Z)(m,g))||p.push(m);return p}},74073:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}},58694:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}},2338:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}},72954:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(74752),r=n(79651),o=Object.prototype.hasOwnProperty;const a=function(t,e,n){var a=t[e];o.call(t,e)&&(0,r.Z)(a,n)&&(void 0!==n||e in t)||(0,i.Z)(t,e,n)}},22364:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(31899),r=n(17179);const o=function(t,e){return t&&(0,i.Z)(e,(0,r.Z)(e),t)}},74752:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(77904);const r=function(t,e,n){"__proto__"==e&&i.Z?(0,i.Z)(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},76718:(t,e,n)=>{"use strict";n.d(e,{Z:()=>D});var i=n(45365),r=n(76579),o=n(72954),a=n(22364),s=n(31899),u=n(57590);var l=n(91050),c=n(87215),d=n(95695);var h=n(17502);var f=n(1808),p=n(4403),g=n(30762),m=Object.prototype.hasOwnProperty;var v=n(41884);var y=/\w*$/;var _=n(17685),b=_.Z?_.Z.prototype:void 0,w=b?b.valueOf:void 0;var T=n(12701);const S=function(t,e,n){var i,r,o,a=t.constructor;switch(e){case"[object ArrayBuffer]":return(0,v.Z)(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return function(t,e){var n=e?(0,v.Z)(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,T.Z)(t,n);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return(o=new(r=t).constructor(r.source,y.exec(r))).lastIndex=r.lastIndex,o;case"[object Symbol]":return i=t,w?Object(w.call(i)):{}}};var E=n(96539),O=n(27771),P=n(65763),C=n(37139),A=n(77226),k=n(35406),x=n(17179),I="[object Arguments]",M="[object Function]",R="[object Object]",N={};N[I]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object DataView]"]=N["[object Boolean]"]=N["[object Date]"]=N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Map]"]=N["[object Number]"]=N[R]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object Symbol]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Error]"]=N[M]=N["[object WeakMap]"]=!1;const D=function t(e,n,v,y,_,b){var w,T=1&n,D=2&n,L=4&n;if(v&&(w=_?v(e,y,_,b):v(e)),void 0!==w)return w;if(!(0,A.Z)(e))return e;var j=(0,O.Z)(e);if(j){if(w=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&m.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!T)return(0,c.Z)(e,w)}else{var F=(0,g.Z)(e),V=F==M||"[object GeneratorFunction]"==F;if((0,P.Z)(e))return(0,l.Z)(e,T);if(F==R||F==I||V&&!_){if(w=D||V?{}:(0,E.Z)(e),!T)return D?function(t,e){return(0,s.Z)(t,(0,h.Z)(t),e)}(e,function(t,e){return t&&(0,s.Z)(e,(0,u.Z)(e),t)}(w,e)):function(t,e){return(0,s.Z)(t,(0,d.Z)(t),e)}(e,(0,a.Z)(w,e))}else{if(!N[F])return _?e:{};w=S(e,F,T)}}b||(b=new i.Z);var U=b.get(e);if(U)return U;b.set(e,w),(0,k.Z)(e)?e.forEach((function(i){w.add(t(i,n,v,i,e,b))})):(0,C.Z)(e)&&e.forEach((function(i,r){w.set(r,t(i,n,v,r,e,b))}));var B=L?D?p.Z:f.Z:D?u.Z:x.Z,H=j?void 0:B(e);return(0,r.Z)(H||e,(function(i,r){H&&(i=e[r=i]),(0,o.Z)(w,r,t(i,n,v,r,e,b))})),w}},74705:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(77226),r=Object.create;const o=function(){function t(){}return function(e){if(!(0,i.Z)(e))return{};if(r)return r(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}()},63327:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(58694),r=n(27771);const o=function(t,e,n){var o=e(t);return(0,r.Z)(t)?o:(0,i.Z)(o,n(t))}},13243:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(17685),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i.Z?i.Z.toStringTag:void 0;var u=Object.prototype.toString;var l=i.Z?i.Z.toStringTag:void 0;const c=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":l&&l in Object(t)?function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var r=a.call(t);return i&&(e?t[s]=n:delete t[s]),r}(t):function(t){return u.call(t)}(t)}},1443:(t,e,n)=>{"use strict";n.d(e,{Z:()=>C});var i=n(45365),r=n(45084),o=n(2338),a=n(59548);const s=function(t,e,n,i,s,u){var l=1&n,c=t.length,d=e.length;if(c!=d&&!(l&&d>c))return!1;var h=u.get(t),f=u.get(e);if(h&&f)return h==e&&f==t;var p=-1,g=!0,m=2&n?new r.Z:void 0;for(u.set(t,e),u.set(e,t);++p<c;){var v=t[p],y=e[p];if(i)var _=l?i(y,v,p,e,t,u):i(v,y,p,t,e,u);if(void 0!==_){if(_)continue;g=!1;break}if(m){if(!(0,o.Z)(e,(function(t,e){if(!(0,a.Z)(m,e)&&(v===t||s(v,t,n,i,u)))return m.push(e)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,i,u)){g=!1;break}}return u.delete(t),u.delete(e),g};var u=n(17685),l=n(84073),c=n(79651),d=n(84910),h=n(6545),f=u.Z?u.Z.prototype:void 0,p=f?f.valueOf:void 0;var g=n(1808),m=Object.prototype.hasOwnProperty;var v=n(30762),y=n(27771),_=n(65763),b=n(77212),w="[object Arguments]",T="[object Array]",S="[object Object]",E=Object.prototype.hasOwnProperty;const O=function(t,e,n,r,o,a){var u=(0,y.Z)(t),f=(0,y.Z)(e),O=u?T:(0,v.Z)(t),P=f?T:(0,v.Z)(e),C=(O=O==w?S:O)==S,A=(P=P==w?S:P)==S,k=O==P;if(k&&(0,_.Z)(t)){if(!(0,_.Z)(e))return!1;u=!0,C=!1}if(k&&!C)return a||(a=new i.Z),u||(0,b.Z)(t)?s(t,e,n,r,o,a):function(t,e,n,i,r,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new l.Z(t),new l.Z(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,c.Z)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=d.Z;case"[object Set]":var f=1&i;if(u||(u=h.Z),t.size!=e.size&&!f)return!1;var g=a.get(t);if(g)return g==e;i|=2,a.set(t,e);var m=s(u(t),u(e),i,r,o,a);return a.delete(t),m;case"[object Symbol]":if(p)return p.call(t)==p.call(e)}return!1}(t,e,O,n,r,o,a);if(!(1&n)){var x=C&&E.call(t,"__wrapped__"),I=A&&E.call(e,"__wrapped__");if(x||I){var M=x?t.value():t,R=I?e.value():e;return a||(a=new i.Z),o(M,R,n,r,a)}}return!!k&&(a||(a=new i.Z),function(t,e,n,i,r,o){var a=1&n,s=(0,g.Z)(t),u=s.length;if(u!=(0,g.Z)(e).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in e:m.call(e,c)))return!1}var d=o.get(t),h=o.get(e);if(d&&h)return d==e&&h==t;var f=!0;o.set(t,e),o.set(e,t);for(var p=a;++l<u;){var v=t[c=s[l]],y=e[c];if(i)var _=a?i(y,v,c,e,t,o):i(v,y,c,t,e,o);if(!(void 0===_?v===y||r(v,y,n,i,o):_)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,o,a))};var P=n(18533);const C=function t(e,n,i,r,o){return e===n||(null==e||null==n||!(0,P.Z)(e)&&!(0,P.Z)(n)?e!=e&&n!=n:O(e,n,i,r,t,o))}},84808:(t,e,n)=>{"use strict";n.d(e,{Z:()=>g});var i,r=n(73234),o=n(41819),a=(i=/[^.]+$/.exec(o.Z&&o.Z.keys&&o.Z.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";var s=n(77226),u=n(90019),l=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,h=c.toString,f=d.hasOwnProperty,p=RegExp("^"+h.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const g=function(t){return!(!(0,s.Z)(t)||(e=t,a&&a in e))&&((0,r.Z)(t)?p:l).test((0,u.Z)(t));var e}},8448:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(72764);const r=(0,n(1851).Z)(Object.keys,Object);var o=Object.prototype.hasOwnProperty;const a=function(t){if(!(0,i.Z)(t))return r(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},69581:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(69203),r=n(45644),o=n(9103);const a=function(t,e){return(0,o.Z)((0,r.Z)(t,e,i.Z),t+"")}},52889:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}},42845:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(17685),r=n(74073),o=n(27771),a=n(38114),s=i.Z?i.Z.prototype:void 0,u=s?s.toString:void 0;const l=function t(e){if("string"==typeof e)return e;if((0,o.Z)(e))return(0,r.Z)(e,t)+"";if((0,a.Z)(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},33404:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(37170),r=/^\s+/;const o=function(t){return t?t.slice(0,(0,i.Z)(t)+1).replace(r,""):t}},21162:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){return function(e){return t(e)}}},59548:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){return t.has(e)}},41884:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(84073);const r=function(t){var e=new t.constructor(t.byteLength);return new i.Z(e).set(new i.Z(t)),e}},91050:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(66092),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof module&&module&&!module.nodeType&&module,a=o&&o.exports===r?i.Z.Buffer:void 0,s=a?a.allocUnsafe:void 0;const u=function(t,e){if(e)return t.slice();var n=t.length,i=s?s(n):new t.constructor(n);return t.copy(i),i}},12701:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(41884);const r=function(t,e){var n=e?(0,i.Z)(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},87215:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}},31899:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(72954),r=n(74752);const o=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var l=e[s],c=o?o(n[l],t[l],l,n,t):void 0;void 0===c&&(c=t[l]),a?(0,r.Z)(n,l,c):(0,i.Z)(n,l,c)}return n}},41819:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=n(66092).Z["__core-js_shared__"]},49268:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(69581),r=n(50439);const o=function(t){return(0,i.Z)((function(e,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&(0,r.Z)(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++i<o;){var u=n[i];u&&t(e,u,i,a)}return e}))}},77904:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(35084);const r=function(){try{var t=(0,i.Z)(Object,"defineProperty");return t({},"",{}),t}catch(t){}}()},13413:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i="object"==typeof global&&global&&global.Object===Object&&global},1808:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(63327),r=n(95695),o=n(17179);const a=function(t){return(0,i.Z)(t,o.Z,r.Z)}},4403:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(63327),r=n(17502),o=n(57590);const a=function(t){return(0,i.Z)(t,o.Z,r.Z)}},35084:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(84808);const r=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return(0,i.Z)(n)?n:void 0}},12513:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=(0,n(1851).Z)(Object.getPrototypeOf,Object)},95695:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(68774),r=n(60532),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;const s=a?function(t){return null==t?[]:(t=Object(t),(0,i.Z)(a(t),(function(e){return o.call(t,e)})))}:r.Z},17502:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(58694),r=n(12513),o=n(95695),a=n(60532);const s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)(0,i.Z)(e,(0,o.Z)(t)),t=(0,r.Z)(t);return e}:a.Z},30762:(t,e,n)=>{"use strict";n.d(e,{Z:()=>S});var i=n(35084),r=n(66092);const o=(0,i.Z)(r.Z,"DataView");var a=n(86183);const s=(0,i.Z)(r.Z,"Promise");var u=n(93203),l=n(13840),c=n(13243),d=n(90019),h="[object Map]",f="[object Promise]",p="[object Set]",g="[object WeakMap]",m="[object DataView]",v=(0,d.Z)(o),y=(0,d.Z)(a.Z),_=(0,d.Z)(s),b=(0,d.Z)(u.Z),w=(0,d.Z)(l.Z),T=c.Z;(o&&T(new o(new ArrayBuffer(1)))!=m||a.Z&&T(new a.Z)!=h||s&&T(s.resolve())!=f||u.Z&&T(new u.Z)!=p||l.Z&&T(new l.Z)!=g)&&(T=function(t){var e=(0,c.Z)(t),n="[object Object]"==e?t.constructor:void 0,i=n?(0,d.Z)(n):"";if(i)switch(i){case v:return m;case y:return h;case _:return f;case b:return p;case w:return g}return e});const S=T},96539:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(74705),r=n(12513),o=n(72764);const a=function(t){return"function"!=typeof t.constructor||(0,o.Z)(t)?{}:(0,i.Z)((0,r.Z)(t))}},56009:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=/^(?:0|[1-9]\d*)$/;const r=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&i.test(t))&&t>-1&&t%1==0&&t<e}},50439:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(79651),r=n(50585),o=n(56009),a=n(77226);const s=function(t,e,n){if(!(0,a.Z)(n))return!1;var s=typeof e;return!!("number"==s?(0,r.Z)(n)&&(0,o.Z)(e,n.length):"string"==s&&e in n)&&(0,i.Z)(n[e],t)}},72764:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=Object.prototype;const r=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}},84910:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}},98351:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(13413),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof module&&module&&!module.nodeType&&module,a=o&&o.exports===r&&i.Z.process;const s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}()},1851:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){return function(n){return t(e(n))}}},45644:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(18069),r=Math.max;const o=function(t,e,n){return e=r(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=r(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=o[a];return l[e]=n(u),(0,i.Z)(t,this,l)}}},66092:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(13413),r="object"==typeof self&&self&&self.Object===Object&&self;const o=i.Z||r||Function("return this")()},6545:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},9103:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(62002),r=n(77904),o=n(69203);const a=r.Z?function(t,e){return(0,r.Z)(t,"toString",{configurable:!0,enumerable:!1,value:(0,i.Z)(e),writable:!0})}:o.Z,s=(0,n(87581).Z)(a)},87581:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=Date.now;const r=function(t){var e=0,n=0;return function(){var r=i(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},90019:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=Function.prototype.toString;const r=function(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},37170:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=/\s/;const r=function(t){for(var e=t.length;e--&&i.test(t.charAt(e)););return e}},80207:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(31899),r=n(49268),o=n(57590);const a=(0,r.Z)((function(t,e){(0,i.Z)(e,(0,o.Z)(e),t)}))},92346:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(76718);const r=function(t){return(0,i.Z)(t,4)}},68652:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(76718);const r=function(t){return(0,i.Z)(t,5)}},24612:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(76718);const r=function(t,e){return e="function"==typeof e?e:void 0,(0,i.Z)(t,5,e)}},62002:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){return function(){return t}}},53434:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(77226),r=n(25222),o=n(25742),a=Math.max,s=Math.min;const u=function(t,e,n){var u,l,c,d,h,f,p=0,g=!1,m=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=u,i=l;return u=l=void 0,p=e,d=t.apply(i,n)}function _(t){var n=t-f;return void 0===f||n>=e||n<0||m&&t-p>=c}function b(){var t=(0,r.Z)();if(_(t))return w(t);h=setTimeout(b,function(t){var n=e-(t-f);return m?s(n,c-(t-p)):n}(t))}function w(t){return h=void 0,v&&u?y(t):(u=l=void 0,d)}function T(){var t=(0,r.Z)(),n=_(t);if(u=arguments,l=this,f=t,n){if(void 0===h)return function(t){return p=t,h=setTimeout(b,e),g?y(t):d}(f);if(m)return clearTimeout(h),h=setTimeout(b,e),y(f)}return void 0===h&&(h=setTimeout(b,e)),d}return e=(0,o.Z)(e)||0,(0,i.Z)(n)&&(g=!!n.leading,c=(m="maxWait"in n)?a((0,o.Z)(n.maxWait)||0,e):c,v="trailing"in n?!!n.trailing:v),T.cancel=function(){void 0!==h&&clearTimeout(h),p=0,u=f=l=h=void 0},T.flush=function(){return void 0===h?d:w((0,r.Z)())},T}},79651:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t,e){return t===e||t!=t&&e!=e}},37736:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(77338),r=/[\\^$.*+?()[\]{}|]/g,o=RegExp(r.source);const a=function(t){return(t=(0,i.Z)(t))&&o.test(t)?t.replace(r,"\\$&"):t}},69203:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){return t}},84732:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(13243),r=n(18533);const o=function(t){return(0,r.Z)(t)&&"[object Arguments]"==(0,i.Z)(t)};var a=Object.prototype,s=a.hasOwnProperty,u=a.propertyIsEnumerable;const l=o(function(){return arguments}())?o:function(t){return(0,r.Z)(t)&&s.call(t,"callee")&&!u.call(t,"callee")}},27771:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=Array.isArray},50585:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(73234),r=n(1656);const o=function(t){return null!=t&&(0,r.Z)(t.length)&&!(0,i.Z)(t)}},65763:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(66092),r=n(7979),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof module&&module&&!module.nodeType&&module,s=a&&a.exports===o?i.Z.Buffer:void 0;const u=(s?s.isBuffer:void 0)||r.Z},23251:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(18533),r=n(37514);const o=function(t){return(0,i.Z)(t)&&1===t.nodeType&&!(0,r.Z)(t)}},50576:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(1443);const r=function(t,e){return(0,i.Z)(t,e)}},29149:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(1443);const r=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?(0,i.Z)(t,e,void 0,n):!!r}},73234:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(13243),r=n(77226);const o=function(t){if(!(0,r.Z)(t))return!1;var e=(0,i.Z)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1656:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},37139:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(30762),r=n(18533);var o=n(21162),a=n(98351),s=a.Z&&a.Z.isMap;const u=s?(0,o.Z)(s):function(t){return(0,r.Z)(t)&&"[object Map]"==(0,i.Z)(t)}},77226:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},18533:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){return null!=t&&"object"==typeof t}},37514:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var i=n(13243),r=n(12513),o=n(18533),a=Function.prototype,s=Object.prototype,u=a.toString,l=s.hasOwnProperty,c=u.call(Object);const d=function(t){if(!(0,o.Z)(t)||"[object Object]"!=(0,i.Z)(t))return!1;var e=(0,r.Z)(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==c}},35406:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(30762),r=n(18533);var o=n(21162),a=n(98351),s=a.Z&&a.Z.isSet;const u=s?(0,o.Z)(s):function(t){return(0,r.Z)(t)&&"[object Set]"==(0,i.Z)(t)}},36378:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(13243),r=n(27771),o=n(18533);const a=function(t){return"string"==typeof t||!(0,r.Z)(t)&&(0,o.Z)(t)&&"[object String]"==(0,i.Z)(t)}},38114:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(13243),r=n(18533);const o=function(t){return"symbol"==typeof t||(0,r.Z)(t)&&"[object Symbol]"==(0,i.Z)(t)}},77212:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(13243),r=n(1656),o=n(18533),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var s=n(21162),u=n(98351),l=u.Z&&u.Z.isTypedArray;const c=l?(0,s.Z)(l):function(t){return(0,o.Z)(t)&&(0,r.Z)(t.length)&&!!a[(0,i.Z)(t)]}},17179:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(63771),r=n(8448),o=n(50585);const a=function(t){return(0,o.Z)(t)?(0,i.Z)(t):(0,r.Z)(t)}},57590:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(63771),r=n(77226),o=n(72764);var a=Object.prototype.hasOwnProperty;const s=function(t){if(!(0,r.Z)(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=(0,o.Z)(t),n=[];for(var i in t)("constructor"!=i||!e&&a.call(t,i))&&n.push(i);return n};var u=n(50585);const l=function(t){return(0,u.Z)(t)?(0,i.Z)(t,!0):s(t)}},48171:(t,e,n)=>{"use strict";n.r(e),n.d(e,{add:()=>s,after:()=>d,ary:()=>pt,assign:()=>St,assignIn:()=>Et.Z,assignInWith:()=>Ct,assignWith:()=>kt,at:()=>ee,attempt:()=>se,before:()=>ue,bind:()=>ce,bindAll:()=>he,bindKey:()=>pe,camelCase:()=>gn,capitalize:()=>Ne,castArray:()=>mn,ceil:()=>bn,chain:()=>wn,chunk:()=>On,clamp:()=>Cn,clone:()=>An.Z,cloneDeep:()=>kn.Z,cloneDeepWith:()=>xn.Z,cloneWith:()=>Mn,commit:()=>Rn,compact:()=>Nn,concat:()=>Dn,cond:()=>Jn,conforms:()=>ti,conformsTo:()=>ei,constant:()=>ni.Z,countBy:()=>hi,create:()=>pi,curry:()=>mi,curryRight:()=>yi,debounce:()=>_i.Z,deburr:()=>Ue,default:()=>Wd,defaultTo:()=>bi,defaults:()=>Oi,defaultsDeep:()=>Ui,defer:()=>Gi,delay:()=>Zi,difference:()=>Xi,differenceBy:()=>Qi,differenceWith:()=>tr,divide:()=>er,drop:()=>nr,dropRight:()=>ir,dropRightWhile:()=>or,dropWhile:()=>ar,each:()=>ur,eachRight:()=>fr,endsWith:()=>pr,entries:()=>yr,entriesIn:()=>_r,eq:()=>wi.Z,escape:()=>Sr,escapeRegExp:()=>Er.Z,every:()=>Cr,extend:()=>Et.Z,extendWith:()=>Ct,fill:()=>kr,filter:()=>Mr,find:()=>Lr,findIndex:()=>Dr,findKey:()=>Fr,findLast:()=>Hr,findLastIndex:()=>Br,findLastKey:()=>Gr,first:()=>Wr,flatMap:()=>qr,flatMapDeep:()=>$r,flatMapDepth:()=>Yr,flatten:()=>Jt,flattenDeep:()=>Kr,flattenDepth:()=>Xr,flip:()=>Jr,floor:()=>Qr,flow:()=>eo,flowRight:()=>no,forEach:()=>ur,forEachRight:()=>fr,forIn:()=>io,forInRight:()=>ro,forOwn:()=>oo,forOwnRight:()=>ao,fromPairs:()=>so,functions:()=>lo,functionsIn:()=>co,get:()=>Wt,groupBy:()=>fo,gt:()=>mo,gte:()=>vo,has:()=>bo,hasIn:()=>qn,head:()=>Wr,identity:()=>h.Z,inRange:()=>So,includes:()=>Ao,indexOf:()=>xo,initial:()=>Io,intersection:()=>Do,intersectionBy:()=>Lo,intersectionWith:()=>jo,invert:()=>Uo,invertBy:()=>Wo,invoke:()=>qo,invokeMap:()=>$o,isArguments:()=>$t.Z,isArray:()=>j.Z,isArrayBuffer:()=>Xo,isArrayLike:()=>yt.Z,isArrayLikeObject:()=>xi,isBoolean:()=>Jo,isBuffer:()=>Ii.Z,isDate:()=>ta,isElement:()=>ea.Z,isEmpty:()=>ra,isEqual:()=>oa.Z,isEqualWith:()=>aa.Z,isError:()=>oe,isFinite:()=>ua,isFunction:()=>Mi.Z,isInteger:()=>la,isLength:()=>Zn.Z,isMap:()=>ca.Z,isMatch:()=>da,isMatchWith:()=>ha,isNaN:()=>pa,isNative:()=>_a,isNil:()=>ba,isNull:()=>wa,isNumber:()=>fa,isObject:()=>y.Z,isObjectLike:()=>F.Z,isPlainObject:()=>re.Z,isRegExp:()=>Sa,isSafeInteger:()=>Ea,isSet:()=>Oa.Z,isString:()=>Eo.Z,isSymbol:()=>i.Z,isTypedArray:()=>Ri.Z,isUndefined:()=>Pa,isWeakMap:()=>Ca,isWeakSet:()=>Aa,iteratee:()=>ka,join:()=>Ia,kebabCase:()=>Ma,keyBy:()=>Ra,keys:()=>bt.Z,keysIn:()=>Ot.Z,last:()=>Ji,lastIndexOf:()=>La,lodash:()=>G,lowerCase:()=>ja,lowerFirst:()=>Fa,lt:()=>Ua,lte:()=>Ba,map:()=>zr,mapKeys:()=>Ha,mapValues:()=>Ga,matches:()=>Wa,matchesProperty:()=>Za,max:()=>qa,maxBy:()=>$a,mean:()=>Xa,meanBy:()=>Ja,memoize:()=>Dt,merge:()=>ts,mergeWith:()=>Vi,method:()=>es,methodOf:()=>ns,min:()=>is,minBy:()=>rs,mixin:()=>os,multiply:()=>as,negate:()=>ss,next:()=>ds,noop:()=>k,now:()=>hs.Z,nth:()=>ps,nthArg:()=>gs,omit:()=>_s,omitBy:()=>Ss,once:()=>Es,orderBy:()=>Cs,over:()=>ks,overArgs:()=>Rs,overEvery:()=>Ns,overSome:()=>Ls,pad:()=>iu,padEnd:()=>ru,padStart:()=>ou,parseInt:()=>uu,partial:()=>cu,partialRight:()=>hu,partition:()=>fu,pick:()=>pu,pickBy:()=>Ts,plant:()=>gu,property:()=>Kn,propertyOf:()=>mu,pull:()=>wu,pullAll:()=>bu,pullAllBy:()=>Tu,pullAllWith:()=>Su,pullAt:()=>Pu,random:()=>Ru,range:()=>ju,rangeRight:()=>Fu,rearg:()=>Uu,reduce:()=>Hu,reduceRight:()=>Wu,reject:()=>Zu,remove:()=>zu,repeat:()=>qu,replace:()=>$u,rest:()=>Yu,result:()=>Ku,reverse:()=>Ju,round:()=>Qu,sample:()=>nl,sampleSize:()=>al,set:()=>sl,setWith:()=>ul,shuffle:()=>dl,size:()=>hl,slice:()=>fl,snakeCase:()=>pl,some:()=>ml,sortBy:()=>vl,sortedIndex:()=>Tl,sortedIndexBy:()=>Sl,sortedIndexOf:()=>El,sortedLastIndex:()=>Ol,sortedLastIndexBy:()=>Pl,sortedLastIndexOf:()=>Cl,sortedUniq:()=>kl,sortedUniqBy:()=>xl,split:()=>Il,spread:()=>Rl,startCase:()=>Nl,startsWith:()=>Dl,stubArray:()=>Ll.Z,stubFalse:()=>va.Z,stubObject:()=>jl,stubString:()=>Fl,stubTrue:()=>Vl,subtract:()=>Ul,sum:()=>Bl,sumBy:()=>Hl,tail:()=>Gl,take:()=>Wl,takeRight:()=>Zl,takeRightWhile:()=>zl,takeWhile:()=>ql,tap:()=>$l,template:()=>cc,templateSettings:()=>ec,throttle:()=>dc,thru:()=>hc,times:()=>mc,toArray:()=>cs,toFinite:()=>l,toInteger:()=>c,toIterator:()=>vc,toJSON:()=>_c,toLength:()=>Ar,toLower:()=>bc,toNumber:()=>u.Z,toPairs:()=>yr,toPairsIn:()=>_r,toPath:()=>wc,toPlainObject:()=>Di,toSafeInteger:()=>Tc,toString:()=>Ut.Z,toUpper:()=>Sc,transform:()=>Oc,trim:()=>kc,trimEnd:()=>Ic,trimStart:()=>Rc,truncate:()=>Dc,unary:()=>Lc,unescape:()=>Uc,union:()=>Wc,unionBy:()=>Zc,unionWith:()=>zc,uniq:()=>qc,uniqBy:()=>$c,uniqWith:()=>Yc,uniqueId:()=>Xc,unset:()=>Jc,unzip:()=>td,unzipWith:()=>ed,update:()=>id,updateWith:()=>rd,upperCase:()=>od,upperFirst:()=>Re,value:()=>_c,valueOf:()=>_c,values:()=>Po,valuesIn:()=>ad,without:()=>sd,words:()=>hn,wrap:()=>ud,wrapperAt:()=>ld,wrapperChain:()=>cd,wrapperCommit:()=>Rn,wrapperLodash:()=>G,wrapperNext:()=>ds,wrapperPlant:()=>gu,wrapperReverse:()=>dd,wrapperToIterator:()=>vc,wrapperValue:()=>_c,xor:()=>fd,xorBy:()=>pd,xorWith:()=>gd,zip:()=>md,zipObject:()=>yd,zipObjectDeep:()=>_d,zipWith:()=>bd});var i=n(38114);const r=function(t){return"number"==typeof t?t:(0,i.Z)(t)?NaN:+t};var o=n(42845);const a=function(t,e){return function(n,i){var a;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(a=n),void 0!==i){if(void 0===a)return i;"string"==typeof n||"string"==typeof i?(n=(0,o.Z)(n),i=(0,o.Z)(i)):(n=r(n),i=r(i)),a=t(n,i)}return a}},s=a((function(t,e){return t+e}),0);var u=n(25742);const l=function(t){return t?Infinity===(t=(0,u.Z)(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},c=function(t){var e=l(t),n=e%1;return e==e?n?e-n:e:0},d=function(t,e){if("function"!=typeof e)throw new TypeError("Expected a function");return t=c(t),function(){if(--t<1)return e.apply(this,arguments)}};var h=n(69203),f=n(13840);const p=f.Z&&new f.Z;var g=p?function(t,e){return p.set(t,e),t}:h.Z;const m=g;var v=n(74705),y=n(77226);const _=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=(0,v.Z)(t.prototype),i=t.apply(n,e);return(0,y.Z)(i)?i:n}};var b=n(66092);var w=n(18069),T=Math.max;const S=function(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,u=e.length,l=T(o-a,0),c=Array(u+l),d=!i;++s<u;)c[s]=e[s];for(;++r<a;)(d||r<o)&&(c[n[r]]=t[r]);for(;l--;)c[s++]=t[r++];return c};var E=Math.max;const O=function(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,u=-1,l=e.length,c=E(o-s,0),d=Array(c+l),h=!i;++r<c;)d[r]=t[r];for(var f=r;++u<l;)d[f+u]=e[u];for(;++a<s;)(h||r<o)&&(d[f+n[a]]=t[r++]);return d},P=function(){};function C(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}C.prototype=(0,v.Z)(P.prototype),C.prototype.constructor=C;const A=C,k=function(){};var x=p?function(t){return p.get(t)}:k;const I=x,M={};var R=Object.prototype.hasOwnProperty;const N=function(t){for(var e=t.name+"",n=M[e],i=R.call(M,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e};function D(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}D.prototype=(0,v.Z)(P.prototype),D.prototype.constructor=D;const L=D;var j=n(27771),F=n(18533),V=n(87215);const U=function(t){if(t instanceof A)return t.clone();var e=new L(t.__wrapped__,t.__chain__);return e.__actions__=(0,V.Z)(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e};var B=Object.prototype.hasOwnProperty;function H(t){if((0,F.Z)(t)&&!(0,j.Z)(t)&&!(t instanceof A)){if(t instanceof L)return t;if(B.call(t,"__wrapped__"))return U(t)}return new L(t)}H.prototype=P.prototype,H.prototype.constructor=H;const G=H,W=function(t){var e=N(t),n=G[e];if("function"!=typeof n||!(e in A.prototype))return!1;if(t===n)return!0;var i=I(n);return!!i&&t===i[0]},Z=(0,n(87581).Z)(m);var z=/\{\n\/\* \[wrapped with (.+)\] \*/,q=/,? & /;var $=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var Y=n(9103),K=n(76579);const X=function(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1},J=function(t){return t!=t},Q=function(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):X(t,J,n)},tt=function(t,e){return!(null==t||!t.length)&&Q(t,e,0)>-1};var et=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];const nt=function(t,e,n){var i=e+"";return(0,Y.Z)(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace($,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return(0,K.Z)(et,(function(n){var i="_."+n[0];e&n[1]&&!tt(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(z);return e?e[1].split(q):[]}(i),n)))},it=function(t,e,n,i,r,o,a,s,u,l){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var d=[t,e,r,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,u,l],h=n.apply(void 0,d);return W(t)&&Z(h,d),h.placeholder=i,nt(h,t,e)},rt=function(t){return t.placeholder};var ot=n(56009),at=Math.min;var st="__lodash_placeholder__";const ut=function(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==st||(t[n]=st,o[r++]=n)}return o},lt=function t(e,n,i,r,o,a,s,u,l,c){var d=128&n,h=1&n,f=2&n,p=24&n,g=512&n,m=f?void 0:_(e);return function v(){for(var y=arguments.length,w=Array(y),T=y;T--;)w[T]=arguments[T];if(p)var E=rt(v),P=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(w,E);if(r&&(w=S(w,r,o,p)),a&&(w=O(w,a,s,p)),y-=P,p&&y<c){var C=ut(w,E);return it(e,n,t,v.placeholder,i,w,C,u,l,c-y)}var A=h?i:this,k=f?A[e]:e;return y=w.length,u?w=function(t,e){for(var n=t.length,i=at(e.length,n),r=(0,V.Z)(t);i--;){var o=e[i];t[i]=(0,ot.Z)(o,n)?r[o]:void 0}return t}(w,u):g&&y>1&&w.reverse(),d&&l<y&&(w.length=l),this&&this!==b.Z&&this instanceof v&&(k=m||_(k)),k.apply(A,w)}};var ct="__lodash_placeholder__",dt=Math.min;var ht=Math.max;const ft=function(t,e,n,i,r,o,a,s){var u=2&e;if(!u&&"function"!=typeof t)throw new TypeError("Expected a function");var l=i?i.length:0;if(l||(e&=-97,i=r=void 0),a=void 0===a?a:ht(c(a),0),s=void 0===s?s:c(s),l-=r?r.length:0,64&e){var d=i,h=r;i=r=void 0}var f=u?void 0:I(t),p=[t,e,n,i,r,d,h,o,a,s];if(f&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,a=128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var s=e[3];if(s){var u=t[3];t[3]=u?S(u,s,e[4]):s,t[4]=u?ut(t[3],ct):e[4]}(s=e[5])&&(u=t[5],t[5]=u?O(u,s,e[6]):s,t[6]=u?ut(t[5],ct):e[6]),(s=e[7])&&(t[7]=s),128&i&&(t[8]=null==t[8]?e[8]:dt(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(p,f),t=p[0],e=p[1],n=p[2],i=p[3],r=p[4],!(s=p[9]=void 0===p[9]?u?0:t.length:ht(p[9]-l,0))&&24&e&&(e&=-25),e&&1!=e)g=8==e||16==e?function(t,e,n){var i=_(t);return function r(){for(var o=arguments.length,a=Array(o),s=o,u=rt(r);s--;)a[s]=arguments[s];var l=o<3&&a[0]!==u&&a[o-1]!==u?[]:ut(a,u);if((o-=l.length)<n)return it(t,e,lt,r.placeholder,void 0,a,l,void 0,void 0,n-o);var c=this&&this!==b.Z&&this instanceof r?i:t;return(0,w.Z)(c,this,a)}}(t,e,s):32!=e&&33!=e||r.length?lt.apply(void 0,p):function(t,e,n,i){var r=1&e,o=_(t);return function e(){for(var a=-1,s=arguments.length,u=-1,l=i.length,c=Array(l+s),d=this&&this!==b.Z&&this instanceof e?o:t;++u<l;)c[u]=i[u];for(;s--;)c[u++]=arguments[++a];return(0,w.Z)(d,r?n:this,c)}}(t,e,n,i);else var g=function(t,e,n){var i=1&e,r=_(t);return function e(){return(this&&this!==b.Z&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return nt((f?m:Z)(g,p),t,e)},pt=function(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,ft(t,128,void 0,void 0,void 0,void 0,e)};var gt=n(72954),mt=n(31899),vt=n(49268),yt=n(50585),_t=n(72764),bt=n(17179),wt=Object.prototype.hasOwnProperty,Tt=(0,vt.Z)((function(t,e){if((0,_t.Z)(e)||(0,yt.Z)(e))(0,mt.Z)(e,(0,bt.Z)(e),t);else for(var n in e)wt.call(e,n)&&(0,gt.Z)(t,n,e[n])}));const St=Tt;var Et=n(80207),Ot=n(57590),Pt=(0,vt.Z)((function(t,e,n,i){(0,mt.Z)(e,(0,Ot.Z)(e),t,i)}));const Ct=Pt;var At=(0,vt.Z)((function(t,e,n,i){(0,mt.Z)(e,(0,bt.Z)(e),t,i)}));const kt=At;var xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/;const Mt=function(t,e){if((0,j.Z)(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!(0,i.Z)(t))||It.test(t)||!xt.test(t)||null!=e&&t in Object(e)};var Rt=n(80520);function Nt(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Nt.Cache||Rt.Z),n}Nt.Cache=Rt.Z;const Dt=Nt;var Lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jt=/\\(\\)?/g,Ft=function(t){var e=Dt(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Lt,(function(t,n,i,r){e.push(i?r.replace(jt,"$1"):n||t)})),e}));const Vt=Ft;var Ut=n(77338);const Bt=function(t,e){return(0,j.Z)(t)?t:Mt(t,e)?[t]:Vt((0,Ut.Z)(t))},Ht=function(t){if("string"==typeof t||(0,i.Z)(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},Gt=function(t,e){for(var n=0,i=(e=Bt(e,t)).length;null!=t&&n<i;)t=t[Ht(e[n++])];return n&&n==i?t:void 0},Wt=function(t,e,n){var i=null==t?void 0:Gt(t,e);return void 0===i?n:i},Zt=function(t,e){for(var n=-1,i=e.length,r=Array(i),o=null==t;++n<i;)r[n]=o?void 0:Wt(t,e[n]);return r};var zt=n(58694),qt=n(17685),$t=n(84732),Yt=qt.Z?qt.Z.isConcatSpreadable:void 0;const Kt=function(t){return(0,j.Z)(t)||(0,$t.Z)(t)||!!(Yt&&t&&t[Yt])},Xt=function t(e,n,i,r,o){var a=-1,s=e.length;for(i||(i=Kt),o||(o=[]);++a<s;){var u=e[a];n>0&&i(u)?n>1?t(u,n-1,i,r,o):(0,zt.Z)(o,u):r||(o[o.length]=u)}return o},Jt=function(t){return null!=t&&t.length?Xt(t,1):[]};var Qt=n(45644);const te=function(t){return(0,Y.Z)((0,Qt.Z)(t,void 0,Jt),t+"")},ee=te(Zt);var ne=n(69581),ie=n(13243),re=n(37514);const oe=function(t){if(!(0,F.Z)(t))return!1;var e=(0,ie.Z)(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!(0,re.Z)(t)};var ae=(0,ne.Z)((function(t,e){try{return(0,w.Z)(t,void 0,e)}catch(t){return oe(t)?t:new Error(t)}}));const se=ae,ue=function(t,e){var n;if("function"!=typeof e)throw new TypeError("Expected a function");return t=c(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}};var le=(0,ne.Z)((function(t,e,n){var i=1;if(n.length){var r=ut(n,rt(le));i|=32}return ft(t,i,e,n,r)}));le.placeholder={};const ce=le;var de=n(74752);const he=te((function(t,e){return(0,K.Z)(e,(function(e){e=Ht(e),(0,de.Z)(t,e,ce(t[e],t))})),t}));var fe=(0,ne.Z)((function(t,e,n){var i=3;if(n.length){var r=ut(n,rt(fe));i|=32}return ft(e,i,t,n,r)}));fe.placeholder={};const pe=fe,ge=function(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=t[i+e];return o},me=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:ge(t,e,n)};var ve=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const ye=function(t){return ve.test(t)};var _e="\\ud800-\\udfff",be="["+_e+"]",we="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Te="\\ud83c[\\udffb-\\udfff]",Se="[^"+_e+"]",Ee="(?:\\ud83c[\\udde6-\\uddff]){2}",Oe="[\\ud800-\\udbff][\\udc00-\\udfff]",Pe="(?:"+we+"|"+Te+")?",Ce="[\\ufe0e\\ufe0f]?",Ae=Ce+Pe+"(?:\\u200d(?:"+[Se,Ee,Oe].join("|")+")"+Ce+Pe+")*",ke="(?:"+[Se+we+"?",we,Ee,Oe,be].join("|")+")",xe=RegExp(Te+"(?="+Te+")|"+ke+Ae,"g");const Ie=function(t){return ye(t)?function(t){return t.match(xe)||[]}(t):function(t){return t.split("")}(t)},Me=function(t){return function(e){e=(0,Ut.Z)(e);var n=ye(e)?Ie(e):void 0,i=n?n[0]:e.charAt(0),r=n?me(n,1).join(""):e.slice(1);return i[t]()+r}},Re=Me("toUpperCase"),Ne=function(t){return Re((0,Ut.Z)(t).toLowerCase())},De=function(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n},Le=function(t){return function(e){return null==t?void 0:t[e]}},je=Le({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"});var Fe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ve=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const Ue=function(t){return(t=(0,Ut.Z)(t))&&t.replace(Fe,je).replace(Ve,"")};var Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var He=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var Ge="\\ud800-\\udfff",We="\\u2700-\\u27bf",Ze="a-z\\xdf-\\xf6\\xf8-\\xff",ze="A-Z\\xc0-\\xd6\\xd8-\\xde",qe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$e="["+qe+"]",Ye="\\d+",Ke="["+We+"]",Xe="["+Ze+"]",Je="[^"+Ge+qe+Ye+We+Ze+ze+"]",Qe="(?:\\ud83c[\\udde6-\\uddff]){2}",tn="[\\ud800-\\udbff][\\udc00-\\udfff]",en="["+ze+"]",nn="(?:"+Xe+"|"+Je+")",rn="(?:"+en+"|"+Je+")",on="(?:['](?:d|ll|m|re|s|t|ve))?",an="(?:['](?:D|LL|M|RE|S|T|VE))?",sn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",un="[\\ufe0e\\ufe0f]?",ln=un+sn+"(?:\\u200d(?:"+["[^"+Ge+"]",Qe,tn].join("|")+")"+un+sn+")*",cn="(?:"+[Ke,Qe,tn].join("|")+")"+ln,dn=RegExp([en+"?"+Xe+"+"+on+"(?="+[$e,en,"$"].join("|")+")",rn+"+"+an+"(?="+[$e,en+nn,"$"].join("|")+")",en+"?"+nn+"+"+on,en+"+"+an,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ye,cn].join("|"),"g");const hn=function(t,e,n){return t=(0,Ut.Z)(t),void 0===(e=n?void 0:e)?function(t){return He.test(t)}(t)?function(t){return t.match(dn)||[]}(t):function(t){return t.match(Be)||[]}(t):t.match(e)||[]};var fn=RegExp("[']","g");const pn=function(t){return function(e){return De(hn(Ue(e).replace(fn,"")),t,"")}};const gn=pn((function(t,e,n){return e=e.toLowerCase(),t+(n?Ne(e):e)})),mn=function(){if(!arguments.length)return[];var t=arguments[0];return(0,j.Z)(t)?t:[t]};var vn=b.Z.isFinite,yn=Math.min;const _n=function(t){var e=Math[t];return function(t,n){if(t=(0,u.Z)(t),(n=null==n?0:yn(c(n),292))&&vn(t)){var i=((0,Ut.Z)(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return+((i=((0,Ut.Z)(r)+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}},bn=_n("ceil"),wn=function(t){var e=G(t);return e.__chain__=!0,e};var Tn=n(50439),Sn=Math.ceil,En=Math.max;const On=function(t,e,n){e=(n?(0,Tn.Z)(t,e,n):void 0===e)?1:En(c(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var r=0,o=0,a=Array(Sn(i/e));r<i;)a[o++]=ge(t,r,r+=e);return a},Pn=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t},Cn=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=(0,u.Z)(n))==n?n:0),void 0!==e&&(e=(e=(0,u.Z)(e))==e?e:0),Pn((0,u.Z)(t),e,n)};var An=n(92346),kn=n(68652),xn=n(24612),In=n(76718);const Mn=function(t,e){return e="function"==typeof e?e:void 0,(0,In.Z)(t,4,e)},Rn=function(){return new L(this.value(),this.__chain__)},Nn=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},Dn=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return(0,zt.Z)((0,j.Z)(n)?(0,V.Z)(n):[n],Xt(e,1))};var Ln=n(74073),jn=n(45365),Fn=n(1443);const Vn=function(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=Object(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var u=(s=n[r])[0],l=t[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var d=new jn.Z;if(i)var h=i(l,c,u,t,e,d);if(!(void 0===h?(0,Fn.Z)(c,l,3,i,d):h))return!1}}return!0},Un=function(t){return t==t&&!(0,y.Z)(t)},Bn=function(t){for(var e=(0,bt.Z)(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Un(r)]}return e},Hn=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},Gn=function(t){var e=Bn(t);return 1==e.length&&e[0][2]?Hn(e[0][0],e[0][1]):function(n){return n===t||Vn(n,t,e)}},Wn=function(t,e){return null!=t&&e in Object(t)};var Zn=n(1656);const zn=function(t,e,n){for(var i=-1,r=(e=Bt(e,t)).length,o=!1;++i<r;){var a=Ht(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&(0,Zn.Z)(r)&&(0,ot.Z)(a,r)&&((0,j.Z)(t)||(0,$t.Z)(t))},qn=function(t,e){return null!=t&&zn(t,e,Wn)},$n=function(t,e){return Mt(t)&&Un(e)?Hn(Ht(t),e):function(n){var i=Wt(n,t);return void 0===i&&i===e?qn(n,t):(0,Fn.Z)(e,i,3)}},Yn=function(t){return function(e){return null==e?void 0:e[t]}},Kn=function(t){return Mt(t)?Yn(Ht(t)):function(t){return function(e){return Gt(e,t)}}(t)},Xn=function(t){return"function"==typeof t?t:null==t?h.Z:"object"==typeof t?(0,j.Z)(t)?$n(t[0],t[1]):Gn(t):Kn(t)},Jn=function(t){var e=null==t?0:t.length,n=Xn;return t=e?(0,Ln.Z)(t,(function(t){if("function"!=typeof t[1])throw new TypeError("Expected a function");return[n(t[0]),t[1]]})):[],(0,ne.Z)((function(n){for(var i=-1;++i<e;){var r=t[i];if((0,w.Z)(r[0],this,n))return(0,w.Z)(r[1],this,n)}}))},Qn=function(t,e,n){var i=n.length;if(null==t)return!i;for(t=Object(t);i--;){var r=n[i],o=e[r],a=t[r];if(void 0===a&&!(r in t)||!o(a))return!1}return!0},ti=function(t){return function(t){var e=(0,bt.Z)(t);return function(n){return Qn(n,t,e)}}((0,In.Z)(t,1))},ei=function(t,e){return null==e||Qn(t,e,(0,bt.Z)(e))};var ni=n(62002);const ii=function(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i},ri=function(t){return function(e,n,i){for(var r=-1,o=Object(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===n(o[u],u,o))break}return e}},oi=ri(),ai=function(t,e){return t&&oi(t,e,bt.Z)},si=function(t,e){return function(n,i){if(null==n)return n;if(!(0,yt.Z)(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=Object(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}},ui=si(ai),li=function(t,e,n,i){return ui(t,(function(t,r,o){e(i,t,n(t),o)})),i},ci=function(t,e){return function(n,i){var r=(0,j.Z)(n)?ii:li,o=e?e():{};return r(n,t,Xn(i),o)}};var di=Object.prototype.hasOwnProperty;const hi=ci((function(t,e,n){di.call(t,n)?++t[n]:(0,de.Z)(t,n,1)}));var fi=n(22364);const pi=function(t,e){var n=(0,v.Z)(t);return null==e?n:(0,fi.Z)(n,e)};function gi(t,e,n){var i=ft(t,8,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return i.placeholder=gi.placeholder,i}gi.placeholder={};const mi=gi;function vi(t,e,n){var i=ft(t,16,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return i.placeholder=vi.placeholder,i}vi.placeholder={};const yi=vi;var _i=n(53434);const bi=function(t,e){return null==t||t!=t?e:t};var wi=n(79651),Ti=Object.prototype,Si=Ti.hasOwnProperty,Ei=(0,ne.Z)((function(t,e){t=Object(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&(0,Tn.Z)(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],a=(0,Ot.Z)(o),s=-1,u=a.length;++s<u;){var l=a[s],c=t[l];(void 0===c||(0,wi.Z)(c,Ti[l])&&!Si.call(t,l))&&(t[l]=o[l])}return t}));const Oi=Ei,Pi=function(t,e,n){(void 0!==n&&!(0,wi.Z)(t[e],n)||void 0===n&&!(e in t))&&(0,de.Z)(t,e,n)};var Ci=n(91050),Ai=n(12701),ki=n(96539);const xi=function(t){return(0,F.Z)(t)&&(0,yt.Z)(t)};var Ii=n(65763),Mi=n(73234),Ri=n(77212);const Ni=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Di=function(t){return(0,mt.Z)(t,(0,Ot.Z)(t))},Li=function t(e,n,i,r,o){e!==n&&oi(n,(function(a,s){if(o||(o=new jn.Z),(0,y.Z)(a))!function(t,e,n,i,r,o,a){var s=Ni(t,n),u=Ni(e,n),l=a.get(u);if(l)Pi(t,n,l);else{var c=o?o(s,u,n+"",t,e,a):void 0,d=void 0===c;if(d){var h=(0,j.Z)(u),f=!h&&(0,Ii.Z)(u),p=!h&&!f&&(0,Ri.Z)(u);c=u,h||f||p?(0,j.Z)(s)?c=s:xi(s)?c=(0,V.Z)(s):f?(d=!1,c=(0,Ci.Z)(u,!0)):p?(d=!1,c=(0,Ai.Z)(u,!0)):c=[]:(0,re.Z)(u)||(0,$t.Z)(u)?(c=s,(0,$t.Z)(s)?c=Di(s):(0,y.Z)(s)&&!(0,Mi.Z)(s)||(c=(0,ki.Z)(u))):d=!1}d&&(a.set(u,c),r(c,u,i,o,a),a.delete(u)),Pi(t,n,c)}}(e,n,s,i,t,r,o);else{var u=r?r(Ni(e,s),a,s+"",e,n,o):void 0;void 0===u&&(u=a),Pi(e,s,u)}}),Ot.Z)},ji=function t(e,n,i,r,o,a){return(0,y.Z)(e)&&(0,y.Z)(n)&&(a.set(n,e),Li(e,n,void 0,t,a),a.delete(n)),e};var Fi=(0,vt.Z)((function(t,e,n,i){Li(t,e,n,i)}));const Vi=Fi,Ui=(0,ne.Z)((function(t){return t.push(void 0,ji),(0,w.Z)(Vi,void 0,t)})),Bi=function(t,e,n){if("function"!=typeof t)throw new TypeError("Expected a function");return setTimeout((function(){t.apply(void 0,n)}),e)};var Hi=(0,ne.Z)((function(t,e){return Bi(t,1,e)}));const Gi=Hi;var Wi=(0,ne.Z)((function(t,e,n){return Bi(t,(0,u.Z)(e)||0,n)}));const Zi=Wi;var zi=n(45084);const qi=function(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1};var $i=n(21162),Yi=n(59548);const Ki=function(t,e,n,i){var r=-1,o=tt,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=(0,Ln.Z)(e,(0,$i.Z)(n))),i?(o=qi,a=!1):e.length>=200&&(o=Yi.Z,a=!1,e=new zi.Z(e));t:for(;++r<s;){var c=t[r],d=null==n?c:n(c);if(c=i||0!==c?c:0,a&&d==d){for(var h=l;h--;)if(e[h]===d)continue t;u.push(c)}else o(e,d,i)||u.push(c)}return u};const Xi=(0,ne.Z)((function(t,e){return xi(t)?Ki(t,Xt(e,1,xi,!0)):[]})),Ji=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};const Qi=(0,ne.Z)((function(t,e){var n=Ji(e);return xi(n)&&(n=void 0),xi(t)?Ki(t,Xt(e,1,xi,!0),Xn(n)):[]}));const tr=(0,ne.Z)((function(t,e){var n=Ji(e);return xi(n)&&(n=void 0),xi(t)?Ki(t,Xt(e,1,xi,!0),void 0,n):[]})),er=a((function(t,e){return t/e}),1),nr=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||void 0===e?1:c(e),ge(t,e<0?0:e,i)):[]},ir=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||void 0===e?1:c(e),ge(t,0,(e=i-e)<0?0:e)):[]},rr=function(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?ge(t,i?0:o,i?o+1:r):ge(t,i?o+1:0,i?r:o)},or=function(t,e){return t&&t.length?rr(t,Xn(e),!0,!0):[]},ar=function(t,e){return t&&t.length?rr(t,Xn(e),!0):[]},sr=function(t){return"function"==typeof t?t:h.Z},ur=function(t,e){return((0,j.Z)(t)?K.Z:ui)(t,sr(e))},lr=function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t},cr=ri(!0),dr=function(t,e){return t&&cr(t,e,bt.Z)},hr=si(dr,!0),fr=function(t,e){return((0,j.Z)(t)?lr:hr)(t,sr(e))},pr=function(t,e,n){t=(0,Ut.Z)(t),e=(0,o.Z)(e);var i=t.length,r=n=void 0===n?i:Pn(c(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e};var gr=n(30762),mr=n(84910);const vr=function(t){return function(e){var n,i,r,o=(0,gr.Z)(e);return"[object Map]"==o?(0,mr.Z)(e):"[object Set]"==o?(n=e,i=-1,r=Array(n.size),n.forEach((function(t){r[++i]=[t,t]})),r):function(t,e){return(0,Ln.Z)(e,(function(e){return[e,t[e]]}))}(e,t(e))}},yr=vr(bt.Z),_r=vr(Ot.Z),br=Le({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});var wr=/[&<>"']/g,Tr=RegExp(wr.source);const Sr=function(t){return(t=(0,Ut.Z)(t))&&Tr.test(t)?t.replace(wr,br):t};var Er=n(37736);const Or=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0},Pr=function(t,e){var n=!0;return ui(t,(function(t,i,r){return n=!!e(t,i,r)})),n},Cr=function(t,e,n){var i=(0,j.Z)(t)?Or:Pr;return n&&(0,Tn.Z)(t,e,n)&&(e=void 0),i(t,Xn(e))},Ar=function(t){return t?Pn(c(t),0,4294967295):0},kr=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&(0,Tn.Z)(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=c(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:c(i))<0&&(i+=r),i=n>i?0:Ar(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]};var xr=n(68774);const Ir=function(t,e){var n=[];return ui(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n},Mr=function(t,e){return((0,j.Z)(t)?xr.Z:Ir)(t,Xn(e))},Rr=function(t){return function(e,n,i){var r=Object(e);if(!(0,yt.Z)(e)){var o=Xn(n);e=(0,bt.Z)(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:void 0}};var Nr=Math.max;const Dr=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:c(n);return r<0&&(r=Nr(i+r,0)),X(t,Xn(e),r)},Lr=Rr(Dr),jr=function(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i},Fr=function(t,e){return jr(t,Xn(e),ai)};var Vr=Math.max,Ur=Math.min;const Br=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=c(n),r=n<0?Vr(i+r,0):Ur(r,i-1)),X(t,Xn(e),r,!0)},Hr=Rr(Br),Gr=function(t,e){return jr(t,Xn(e),dr)},Wr=function(t){return t&&t.length?t[0]:void 0},Zr=function(t,e){var n=-1,i=(0,yt.Z)(t)?Array(t.length):[];return ui(t,(function(t,r,o){i[++n]=e(t,r,o)})),i},zr=function(t,e){return((0,j.Z)(t)?Ln.Z:Zr)(t,Xn(e))},qr=function(t,e){return Xt(zr(t,e),1)},$r=function(t,e){return Xt(zr(t,e),1/0)},Yr=function(t,e,n){return n=void 0===n?1:c(n),Xt(zr(t,e),n)},Kr=function(t){return null!=t&&t.length?Xt(t,1/0):[]},Xr=function(t,e){return null!=t&&t.length?(e=void 0===e?1:c(e),Xt(t,e)):[]},Jr=function(t){return ft(t,512)},Qr=_n("floor"),to=function(t){return te((function(e){var n=e.length,i=n,r=L.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new TypeError("Expected a function");if(r&&!a&&"wrapper"==N(o))var a=new L([],!0)}for(i=a?i:n;++i<n;){o=e[i];var s=N(o),u="wrapper"==s?I(o):void 0;a=u&&W(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?a[N(u[0])].apply(a,u[3]):1==o.length&&W(o)?a[s]():a.thru(o)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&(0,j.Z)(i))return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))},eo=to(),no=to(!0),io=function(t,e){return null==t?t:oi(t,sr(e),Ot.Z)},ro=function(t,e){return null==t?t:cr(t,sr(e),Ot.Z)},oo=function(t,e){return t&&ai(t,sr(e))},ao=function(t,e){return t&&dr(t,sr(e))},so=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},uo=function(t,e){return(0,xr.Z)(e,(function(e){return(0,Mi.Z)(t[e])}))},lo=function(t){return null==t?[]:uo(t,(0,bt.Z)(t))},co=function(t){return null==t?[]:uo(t,(0,Ot.Z)(t))};var ho=Object.prototype.hasOwnProperty;const fo=ci((function(t,e,n){ho.call(t,n)?t[n].push(e):(0,de.Z)(t,n,[e])})),po=function(t,e){return t>e},go=function(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=(0,u.Z)(e),n=(0,u.Z)(n)),t(e,n)}},mo=go(po),vo=go((function(t,e){return t>=e}));var yo=Object.prototype.hasOwnProperty;const _o=function(t,e){return null!=t&&yo.call(t,e)},bo=function(t,e){return null!=t&&zn(t,e,_o)};var wo=Math.max,To=Math.min;const So=function(t,e,n){return e=l(e),void 0===n?(n=e,e=0):n=l(n),function(t,e,n){return t>=To(e,n)&&t<wo(e,n)}(t=(0,u.Z)(t),e,n)};var Eo=n(36378);const Oo=function(t,e){return(0,Ln.Z)(e,(function(e){return t[e]}))},Po=function(t){return null==t?[]:Oo(t,(0,bt.Z)(t))};var Co=Math.max;const Ao=function(t,e,n,i){t=(0,yt.Z)(t)?t:Po(t),n=n&&!i?c(n):0;var r=t.length;return n<0&&(n=Co(r+n,0)),(0,Eo.Z)(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Q(t,e,n)>-1};var ko=Math.max;const xo=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:c(n);return r<0&&(r=ko(i+r,0)),Q(t,e,r)},Io=function(t){return null!=t&&t.length?ge(t,0,-1):[]};var Mo=Math.min;const Ro=function(t,e,n){for(var i=n?qi:tt,r=t[0].length,o=t.length,a=o,s=Array(o),u=1/0,l=[];a--;){var c=t[a];a&&e&&(c=(0,Ln.Z)(c,(0,$i.Z)(e))),u=Mo(c.length,u),s[a]=!n&&(e||r>=120&&c.length>=120)?new zi.Z(a&&c):void 0}c=t[0];var d=-1,h=s[0];t:for(;++d<r&&l.length<u;){var f=c[d],p=e?e(f):f;if(f=n||0!==f?f:0,!(h?(0,Yi.Z)(h,p):i(l,p,n))){for(a=o;--a;){var g=s[a];if(!(g?(0,Yi.Z)(g,p):i(t[a],p,n)))continue t}h&&h.push(p),l.push(f)}}return l},No=function(t){return xi(t)?t:[]},Do=(0,ne.Z)((function(t){var e=(0,Ln.Z)(t,No);return e.length&&e[0]===t[0]?Ro(e):[]}));const Lo=(0,ne.Z)((function(t){var e=Ji(t),n=(0,Ln.Z)(t,No);return e===Ji(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?Ro(n,Xn(e)):[]})),jo=(0,ne.Z)((function(t){var e=Ji(t),n=(0,Ln.Z)(t,No);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?Ro(n,void 0,e):[]})),Fo=function(t,e){return function(n,i){return function(t,e,n,i){return ai(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}};var Vo=Object.prototype.toString;const Uo=Fo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Vo.call(e)),t[e]=n}),(0,ni.Z)(h.Z));var Bo=Object.prototype,Ho=Bo.hasOwnProperty,Go=Bo.toString;const Wo=Fo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Go.call(e)),Ho.call(t,e)?t[e].push(n):t[e]=[n]}),Xn),Zo=function(t,e){return e.length<2?t:Gt(t,ge(e,0,-1))},zo=function(t,e,n){e=Bt(e,t);var i=null==(t=Zo(t,e))?t:t[Ht(Ji(e))];return null==i?void 0:(0,w.Z)(i,t,n)},qo=(0,ne.Z)(zo);const $o=(0,ne.Z)((function(t,e,n){var i=-1,r="function"==typeof e,o=(0,yt.Z)(t)?Array(t.length):[];return ui(t,(function(t){o[++i]=r?(0,w.Z)(e,t,n):zo(t,e,n)})),o}));var Yo=n(98351),Ko=Yo.Z&&Yo.Z.isArrayBuffer;const Xo=Ko?(0,$i.Z)(Ko):function(t){return(0,F.Z)(t)&&"[object ArrayBuffer]"==(0,ie.Z)(t)},Jo=function(t){return!0===t||!1===t||(0,F.Z)(t)&&"[object Boolean]"==(0,ie.Z)(t)};var Qo=Yo.Z&&Yo.Z.isDate;const ta=Qo?(0,$i.Z)(Qo):function(t){return(0,F.Z)(t)&&"[object Date]"==(0,ie.Z)(t)};var ea=n(23251),na=n(8448),ia=Object.prototype.hasOwnProperty;const ra=function(t){if(null==t)return!0;if((0,yt.Z)(t)&&((0,j.Z)(t)||"string"==typeof t||"function"==typeof t.splice||(0,Ii.Z)(t)||(0,Ri.Z)(t)||(0,$t.Z)(t)))return!t.length;var e=(0,gr.Z)(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if((0,_t.Z)(t))return!(0,na.Z)(t).length;for(var n in t)if(ia.call(t,n))return!1;return!0};var oa=n(50576),aa=n(29149),sa=b.Z.isFinite;const ua=function(t){return"number"==typeof t&&sa(t)},la=function(t){return"number"==typeof t&&t==c(t)};var ca=n(37139);const da=function(t,e){return t===e||Vn(t,e,Bn(e))},ha=function(t,e,n){return n="function"==typeof n?n:void 0,Vn(t,e,Bn(e),n)},fa=function(t){return"number"==typeof t||(0,F.Z)(t)&&"[object Number]"==(0,ie.Z)(t)},pa=function(t){return fa(t)&&t!=+t};var ga=n(84808),ma=n(41819),va=n(7979);const ya=ma.Z?Mi.Z:va.Z,_a=function(t){if(ya(t))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return(0,ga.Z)(t)},ba=function(t){return null==t},wa=function(t){return null===t};var Ta=Yo.Z&&Yo.Z.isRegExp;const Sa=Ta?(0,$i.Z)(Ta):function(t){return(0,F.Z)(t)&&"[object RegExp]"==(0,ie.Z)(t)};const Ea=function(t){return la(t)&&t>=-9007199254740991&&t<=9007199254740991};var Oa=n(35406);const Pa=function(t){return void 0===t},Ca=function(t){return(0,F.Z)(t)&&"[object WeakMap]"==(0,gr.Z)(t)},Aa=function(t){return(0,F.Z)(t)&&"[object WeakSet]"==(0,ie.Z)(t)},ka=function(t){return Xn("function"==typeof t?t:(0,In.Z)(t,1))};var xa=Array.prototype.join;const Ia=function(t,e){return null==t?"":xa.call(t,e)};const Ma=pn((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}));const Ra=ci((function(t,e,n){(0,de.Z)(t,n,e)}));var Na=Math.max,Da=Math.min;const La=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=c(n))<0?Na(i+r,0):Da(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):X(t,J,r,!0)};const ja=pn((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Fa=Me("toLowerCase"),Va=function(t,e){return t<e},Ua=go(Va),Ba=go((function(t,e){return t<=e})),Ha=function(t,e){var n={};return e=Xn(e),ai(t,(function(t,i,r){(0,de.Z)(n,e(t,i,r),t)})),n},Ga=function(t,e){var n={};return e=Xn(e),ai(t,(function(t,i,r){(0,de.Z)(n,i,e(t,i,r))})),n},Wa=function(t){return Gn((0,In.Z)(t,1))},Za=function(t,e){return $n(t,(0,In.Z)(e,1))},za=function(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=e(a);if(null!=s&&(void 0===u?s==s&&!(0,i.Z)(s):n(s,u)))var u=s,l=a}return l},qa=function(t){return t&&t.length?za(t,h.Z,po):void 0},$a=function(t,e){return t&&t.length?za(t,Xn(e),po):void 0},Ya=function(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);void 0!==o&&(n=void 0===n?o:n+o)}return n},Ka=function(t,e){var n=null==t?0:t.length;return n?Ya(t,e)/n:NaN},Xa=function(t){return Ka(t,h.Z)},Ja=function(t,e){return Ka(t,Xn(e))};var Qa=(0,vt.Z)((function(t,e,n){Li(t,e,n)}));const ts=Qa,es=(0,ne.Z)((function(t,e){return function(n){return zo(n,t,e)}})),ns=(0,ne.Z)((function(t,e){return function(n){return zo(t,n,e)}})),is=function(t){return t&&t.length?za(t,h.Z,Va):void 0},rs=function(t,e){return t&&t.length?za(t,Xn(e),Va):void 0},os=function(t,e,n){var i=(0,bt.Z)(e),r=uo(e,i),o=!((0,y.Z)(n)&&"chain"in n&&!n.chain),a=(0,Mi.Z)(t);return(0,K.Z)(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=(0,V.Z)(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,(0,zt.Z)([this.value()],arguments))})})),t},as=a((function(t,e){return t*e}),1),ss=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}};var us=n(6545),ls=qt.Z?qt.Z.iterator:void 0;const cs=function(t){if(!t)return[];if((0,yt.Z)(t))return(0,Eo.Z)(t)?Ie(t):(0,V.Z)(t);if(ls&&t[ls])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ls]());var e=(0,gr.Z)(t);return("[object Map]"==e?mr.Z:"[object Set]"==e?us.Z:Po)(t)},ds=function(){void 0===this.__values__&&(this.__values__=cs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}};var hs=n(25222);const fs=function(t,e){var n=t.length;if(n)return e+=e<0?n:0,(0,ot.Z)(e,n)?t[e]:void 0},ps=function(t,e){return t&&t.length?fs(t,c(e)):void 0},gs=function(t){return t=c(t),(0,ne.Z)((function(e){return fs(e,t)}))},ms=function(t,e){return e=Bt(e,t),null==(t=Zo(t,e))||delete t[Ht(Ji(e))]},vs=function(t){return(0,re.Z)(t)?void 0:t};var ys=n(4403);const _s=te((function(t,e){var n={};if(null==t)return n;var i=!1;e=(0,Ln.Z)(e,(function(e){return e=Bt(e,t),i||(i=e.length>1),e})),(0,mt.Z)(t,(0,ys.Z)(t),n),i&&(n=(0,In.Z)(n,7,vs));for(var r=e.length;r--;)ms(n,e[r]);return n})),bs=function(t,e,n,i){if(!(0,y.Z)(t))return t;for(var r=-1,o=(e=Bt(e,t)).length,a=o-1,s=t;null!=s&&++r<o;){var u=Ht(e[r]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(r!=a){var c=s[u];void 0===(l=i?i(c,u,s):void 0)&&(l=(0,y.Z)(c)?c:(0,ot.Z)(e[r+1])?[]:{})}(0,gt.Z)(s,u,l),s=s[u]}return t},ws=function(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=Gt(t,a);n(s,a)&&bs(o,Bt(a,t),s)}return o},Ts=function(t,e){if(null==t)return{};var n=(0,Ln.Z)((0,ys.Z)(t),(function(t){return[t]}));return e=Xn(e),ws(t,n,(function(t,n){return e(t,n[0])}))},Ss=function(t,e){return Ts(t,ss(Xn(e)))},Es=function(t){return ue(2,t)},Os=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,o=t==t,a=(0,i.Z)(t),s=void 0!==e,u=null===e,l=e==e,c=(0,i.Z)(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!o)return 1;if(!r&&!a&&!c&&t<e||c&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!l)return-1}return 0},Ps=function(t,e,n){e=e.length?(0,Ln.Z)(e,(function(t){return(0,j.Z)(t)?function(e){return Gt(e,1===t.length?t[0]:t)}:t})):[h.Z];var i=-1;return e=(0,Ln.Z)(e,(0,$i.Z)(Xn)),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Zr(t,(function(t,n,r){return{criteria:(0,Ln.Z)(e,(function(e){return e(t)})),index:++i,value:t}})),(function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var u=Os(r[i],o[i]);if(u)return i>=s?u:u*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}))},Cs=function(t,e,n,i){return null==t?[]:((0,j.Z)(e)||(e=null==e?[]:[e]),n=i?void 0:n,(0,j.Z)(n)||(n=null==n?[]:[n]),Ps(t,e,n))},As=function(t){return te((function(e){return e=(0,Ln.Z)(e,(0,$i.Z)(Xn)),(0,ne.Z)((function(n){var i=this;return t(e,(function(t){return(0,w.Z)(t,i,n)}))}))}))},ks=As(Ln.Z),xs=ne.Z;var Is=Math.min,Ms=xs((function(t,e){var n=(e=1==e.length&&(0,j.Z)(e[0])?(0,Ln.Z)(e[0],(0,$i.Z)(Xn)):(0,Ln.Z)(Xt(e,1),(0,$i.Z)(Xn))).length;return(0,ne.Z)((function(i){for(var r=-1,o=Is(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return(0,w.Z)(t,this,i)}))}));const Rs=Ms,Ns=As(Or);var Ds=n(2338);const Ls=As(Ds.Z);var js=Math.floor;const Fs=function(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=js(e/2))&&(t+=t)}while(e);return n},Vs=Yn("length");var Us="\\ud800-\\udfff",Bs="["+Us+"]",Hs="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Gs="\\ud83c[\\udffb-\\udfff]",Ws="[^"+Us+"]",Zs="(?:\\ud83c[\\udde6-\\uddff]){2}",zs="[\\ud800-\\udbff][\\udc00-\\udfff]",qs="(?:"+Hs+"|"+Gs+")?",$s="[\\ufe0e\\ufe0f]?",Ys=$s+qs+"(?:\\u200d(?:"+[Ws,Zs,zs].join("|")+")"+$s+qs+")*",Ks="(?:"+[Ws+Hs+"?",Hs,Zs,zs,Bs].join("|")+")",Xs=RegExp(Gs+"(?="+Gs+")|"+Ks+Ys,"g");const Js=function(t){return ye(t)?function(t){for(var e=Xs.lastIndex=0;Xs.test(t);)++e;return e}(t):Vs(t)};var Qs=Math.ceil;const tu=function(t,e){var n=(e=void 0===e?" ":(0,o.Z)(e)).length;if(n<2)return n?Fs(e,t):e;var i=Fs(e,Qs(t/Js(e)));return ye(e)?me(Ie(i),0,t).join(""):i.slice(0,t)};var eu=Math.ceil,nu=Math.floor;const iu=function(t,e,n){t=(0,Ut.Z)(t);var i=(e=c(e))?Js(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return tu(nu(r),n)+t+tu(eu(r),n)},ru=function(t,e,n){t=(0,Ut.Z)(t);var i=(e=c(e))?Js(t):0;return e&&i<e?t+tu(e-i,n):t},ou=function(t,e,n){t=(0,Ut.Z)(t);var i=(e=c(e))?Js(t):0;return e&&i<e?tu(e-i,n)+t:t};var au=/^\s+/,su=b.Z.parseInt;const uu=function(t,e,n){return n||null==e?e=0:e&&(e=+e),su((0,Ut.Z)(t).replace(au,""),e||0)};var lu=(0,ne.Z)((function(t,e){var n=ut(e,rt(lu));return ft(t,32,void 0,e,n)}));lu.placeholder={};const cu=lu;var du=(0,ne.Z)((function(t,e){var n=ut(e,rt(du));return ft(t,64,void 0,e,n)}));du.placeholder={};const hu=du;const fu=ci((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),pu=te((function(t,e){return null==t?{}:function(t,e){return ws(t,e,(function(e,n){return qn(t,n)}))}(t,e)})),gu=function(t){for(var e,n=this;n instanceof P;){var i=U(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},mu=function(t){return function(e){return null==t?void 0:Gt(t,e)}},vu=function(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1};var yu=Array.prototype.splice;const _u=function(t,e,n,i){var r=i?vu:Q,o=-1,a=e.length,s=t;for(t===e&&(e=(0,V.Z)(e)),n&&(s=(0,Ln.Z)(t,(0,$i.Z)(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=r(s,c,u,i))>-1;)s!==t&&yu.call(s,u,1),yu.call(t,u,1);return t},bu=function(t,e){return t&&t.length&&e&&e.length?_u(t,e):t},wu=(0,ne.Z)(bu),Tu=function(t,e,n){return t&&t.length&&e&&e.length?_u(t,e,Xn(n)):t},Su=function(t,e,n){return t&&t.length&&e&&e.length?_u(t,e,void 0,n):t};var Eu=Array.prototype.splice;const Ou=function(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;(0,ot.Z)(r)?Eu.call(t,r,1):ms(t,r)}}return t};const Pu=te((function(t,e){var n=null==t?0:t.length,i=Zt(t,e);return Ou(t,(0,Ln.Z)(e,(function(t){return(0,ot.Z)(t,n)?+t:t})).sort(Os)),i}));var Cu=Math.floor,Au=Math.random;const ku=function(t,e){return t+Cu(Au()*(e-t+1))};var xu=parseFloat,Iu=Math.min,Mu=Math.random;const Ru=function(t,e,n){if(n&&"boolean"!=typeof n&&(0,Tn.Z)(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=l(t),void 0===e?(e=t,t=0):e=l(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Mu();return Iu(t+r*(e-t+xu("1e-"+((r+"").length-1))),e)}return ku(t,e)};var Nu=Math.ceil,Du=Math.max;const Lu=function(t){return function(e,n,i){return i&&"number"!=typeof i&&(0,Tn.Z)(e,n,i)&&(n=i=void 0),e=l(e),void 0===n?(n=e,e=0):n=l(n),function(t,e,n,i){for(var r=-1,o=Du(Nu((e-t)/(n||1)),0),a=Array(o);o--;)a[i?o:++r]=t,t+=n;return a}(e,n,i=void 0===i?e<n?1:-1:l(i),t)}},ju=Lu(),Fu=Lu(!0);var Vu=te((function(t,e){return ft(t,256,void 0,void 0,void 0,e)}));const Uu=Vu,Bu=function(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n},Hu=function(t,e,n){var i=(0,j.Z)(t)?De:Bu,r=arguments.length<3;return i(t,Xn(e),n,r,ui)},Gu=function(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n},Wu=function(t,e,n){var i=(0,j.Z)(t)?Gu:Bu,r=arguments.length<3;return i(t,Xn(e),n,r,hr)},Zu=function(t,e){return((0,j.Z)(t)?xr.Z:Ir)(t,ss(Xn(e)))},zu=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Xn(e);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Ou(t,r),n},qu=function(t,e,n){return e=(n?(0,Tn.Z)(t,e,n):void 0===e)?1:c(e),Fs((0,Ut.Z)(t),e)},$u=function(){var t=arguments,e=(0,Ut.Z)(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Yu=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=void 0===e?e:c(e),(0,ne.Z)(t,e)},Ku=function(t,e,n){var i=-1,r=(e=Bt(e,t)).length;for(r||(r=1,t=void 0);++i<r;){var o=null==t?void 0:t[Ht(e[i])];void 0===o&&(i=r,o=n),t=(0,Mi.Z)(o)?o.call(t):o}return t};var Xu=Array.prototype.reverse;const Ju=function(t){return null==t?t:Xu.call(t)},Qu=_n("round"),tl=function(t){var e=t.length;return e?t[ku(0,e-1)]:void 0},el=function(t){return tl(Po(t))},nl=function(t){return((0,j.Z)(t)?tl:el)(t)},il=function(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var o=ku(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t},rl=function(t,e){return il((0,V.Z)(t),Pn(e,0,t.length))},ol=function(t,e){var n=Po(t);return il(n,Pn(e,0,n.length))},al=function(t,e,n){return e=(n?(0,Tn.Z)(t,e,n):void 0===e)?1:c(e),((0,j.Z)(t)?rl:ol)(t,e)},sl=function(t,e,n){return null==t?t:bs(t,e,n)},ul=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:bs(t,e,n,i)},ll=function(t){return il((0,V.Z)(t))},cl=function(t){return il(Po(t))},dl=function(t){return((0,j.Z)(t)?ll:cl)(t)},hl=function(t){if(null==t)return 0;if((0,yt.Z)(t))return(0,Eo.Z)(t)?Js(t):t.length;var e=(0,gr.Z)(t);return"[object Map]"==e||"[object Set]"==e?t.size:(0,na.Z)(t).length},fl=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&(0,Tn.Z)(t,e,n)?(e=0,n=i):(e=null==e?0:c(e),n=void 0===n?i:c(n)),ge(t,e,n)):[]};const pl=pn((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),gl=function(t,e){var n;return ui(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n},ml=function(t,e,n){var i=(0,j.Z)(t)?Ds.Z:gl;return n&&(0,Tn.Z)(t,e,n)&&(e=void 0),i(t,Xn(e))},vl=(0,ne.Z)((function(t,e){if(null==t)return[];var n=e.length;return n>1&&(0,Tn.Z)(t,e[0],e[1])?e=[]:n>2&&(0,Tn.Z)(e[0],e[1],e[2])&&(e=[e[0]]),Ps(t,Xt(e,1),[])}));var yl=Math.floor,_l=Math.min;const bl=function(t,e,n,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,u=null===e,l=(0,i.Z)(e),c=void 0===e;o<a;){var d=yl((o+a)/2),h=n(t[d]),f=void 0!==h,p=null===h,g=h==h,m=(0,i.Z)(h);if(s)var v=r||g;else v=c?g&&(r||f):u?g&&f&&(r||!p):l?g&&f&&!p&&(r||!m):!p&&!m&&(r?h<=e:h<e);v?o=d+1:a=d}return _l(a,4294967294)},wl=function(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var a=r+o>>>1,s=t[a];null!==s&&!(0,i.Z)(s)&&(n?s<=e:s<e)?r=a+1:o=a}return o}return bl(t,e,h.Z,n)},Tl=function(t,e){return wl(t,e)},Sl=function(t,e,n){return bl(t,e,Xn(n))},El=function(t,e){var n=null==t?0:t.length;if(n){var i=wl(t,e);if(i<n&&(0,wi.Z)(t[i],e))return i}return-1},Ol=function(t,e){return wl(t,e,!0)},Pl=function(t,e,n){return bl(t,e,Xn(n),!0)},Cl=function(t,e){if(null!=t&&t.length){var n=wl(t,e,!0)-1;if((0,wi.Z)(t[n],e))return n}return-1},Al=function(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!(0,wi.Z)(s,u)){var u=s;o[r++]=0===a?0:a}}return o},kl=function(t){return t&&t.length?Al(t):[]},xl=function(t,e){return t&&t.length?Al(t,Xn(e)):[]},Il=function(t,e,n){return n&&"number"!=typeof n&&(0,Tn.Z)(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=(0,Ut.Z)(t))&&("string"==typeof e||null!=e&&!Sa(e))&&!(e=(0,o.Z)(e))&&ye(t)?me(Ie(t),0,n):t.split(e,n):[]};var Ml=Math.max;const Rl=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=null==e?0:Ml(c(e),0),(0,ne.Z)((function(n){var i=n[e],r=me(n,0,e);return i&&(0,zt.Z)(r,i),(0,w.Z)(t,this,r)}))};const Nl=pn((function(t,e,n){return t+(n?" ":"")+Re(e)})),Dl=function(t,e,n){return t=(0,Ut.Z)(t),n=null==n?0:Pn(c(n),0,t.length),e=(0,o.Z)(e),t.slice(n,n+e.length)==e};var Ll=n(60532);const jl=function(){return{}},Fl=function(){return""},Vl=function(){return!0},Ul=a((function(t,e){return t-e}),0),Bl=function(t){return t&&t.length?Ya(t,h.Z):0},Hl=function(t,e){return t&&t.length?Ya(t,Xn(e)):0},Gl=function(t){var e=null==t?0:t.length;return e?ge(t,1,e):[]},Wl=function(t,e,n){return t&&t.length?(e=n||void 0===e?1:c(e),ge(t,0,e<0?0:e)):[]},Zl=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||void 0===e?1:c(e),ge(t,(e=i-e)<0?0:e,i)):[]},zl=function(t,e){return t&&t.length?rr(t,Xn(e),!1,!0):[]},ql=function(t,e){return t&&t.length?rr(t,Xn(e)):[]},$l=function(t,e){return e(t),t};var Yl=Object.prototype,Kl=Yl.hasOwnProperty;const Xl=function(t,e,n,i){return void 0===t||(0,wi.Z)(t,Yl[n])&&!Kl.call(i,n)?e:t};var Jl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};const Ql=function(t){return"\\"+Jl[t]},tc=/<%=([\s\S]+?)%>/g,ec={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:tc,variable:"",imports:{_:{escape:Sr}}};var nc=/\b__p \+= '';/g,ic=/\b(__p \+=) '' \+/g,rc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oc=/[()=,{}\[\]\/\s]/,ac=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sc=/($^)/,uc=/['\n\r\u2028\u2029\\]/g,lc=Object.prototype.hasOwnProperty;const cc=function(t,e,n){var i=ec.imports._.templateSettings||ec;n&&(0,Tn.Z)(t,e,n)&&(e=void 0),t=(0,Ut.Z)(t),e=Ct({},e,i,Xl);var r,o,a=Ct({},e.imports,i.imports,Xl),s=(0,bt.Z)(a),u=Oo(a,s),l=0,c=e.interpolate||sc,d="__p += '",h=RegExp((e.escape||sc).source+"|"+c.source+"|"+(c===tc?ac:sc).source+"|"+(e.evaluate||sc).source+"|$","g"),f=lc.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(h,(function(e,n,i,a,s,u){return i||(i=a),d+=t.slice(l,u).replace(uc,Ql),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),d+="';\n";var p=lc.call(e,"variable")&&e.variable;if(p){if(oc.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(nc,""):d).replace(ic,"$1").replace(rc,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=se((function(){return Function(s,f+"return "+d).apply(void 0,u)}));if(g.source=d,oe(g))throw g;return g},dc=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return(0,y.Z)(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),(0,_i.Z)(t,e,{leading:i,maxWait:e,trailing:r})},hc=function(t,e){return e(t)};var fc=n(52889),pc=4294967295,gc=Math.min;const mc=function(t,e){if((t=c(t))<1||t>9007199254740991)return[];var n=pc,i=gc(t,pc);e=sr(e),t-=pc;for(var r=(0,fc.Z)(i,e);++n<t;)e(n);return r},vc=function(){return this},yc=function(t,e){var n=t;return n instanceof A&&(n=n.value()),De(e,(function(t,e){return e.func.apply(e.thisArg,(0,zt.Z)([t],e.args))}),n)},_c=function(){return yc(this.__wrapped__,this.__actions__)},bc=function(t){return(0,Ut.Z)(t).toLowerCase()},wc=function(t){return(0,j.Z)(t)?(0,Ln.Z)(t,Ht):(0,i.Z)(t)?[t]:(0,V.Z)(Vt((0,Ut.Z)(t)))};const Tc=function(t){return t?Pn(c(t),-9007199254740991,9007199254740991):0===t?t:0},Sc=function(t){return(0,Ut.Z)(t).toUpperCase()};var Ec=n(12513);const Oc=function(t,e,n){var i=(0,j.Z)(t),r=i||(0,Ii.Z)(t)||(0,Ri.Z)(t);if(e=Xn(e),null==n){var o=t&&t.constructor;n=r?i?new o:[]:(0,y.Z)(t)&&(0,Mi.Z)(o)?(0,v.Z)((0,Ec.Z)(t)):{}}return(r?K.Z:ai)(t,(function(t,i,r){return e(n,t,i,r)})),n};var Pc=n(33404);const Cc=function(t,e){for(var n=t.length;n--&&Q(e,t[n],0)>-1;);return n},Ac=function(t,e){for(var n=-1,i=t.length;++n<i&&Q(e,t[n],0)>-1;);return n},kc=function(t,e,n){if((t=(0,Ut.Z)(t))&&(n||void 0===e))return(0,Pc.Z)(t);if(!t||!(e=(0,o.Z)(e)))return t;var i=Ie(t),r=Ie(e),a=Ac(i,r),s=Cc(i,r)+1;return me(i,a,s).join("")};var xc=n(37170);const Ic=function(t,e,n){if((t=(0,Ut.Z)(t))&&(n||void 0===e))return t.slice(0,(0,xc.Z)(t)+1);if(!t||!(e=(0,o.Z)(e)))return t;var i=Ie(t),r=Cc(i,Ie(e))+1;return me(i,0,r).join("")};var Mc=/^\s+/;const Rc=function(t,e,n){if((t=(0,Ut.Z)(t))&&(n||void 0===e))return t.replace(Mc,"");if(!t||!(e=(0,o.Z)(e)))return t;var i=Ie(t),r=Ac(i,Ie(e));return me(i,r).join("")};var Nc=/\w*$/;const Dc=function(t,e){var n=30,i="...";if((0,y.Z)(e)){var r="separator"in e?e.separator:r;n="length"in e?c(e.length):n,i="omission"in e?(0,o.Z)(e.omission):i}var a=(t=(0,Ut.Z)(t)).length;if(ye(t)){var s=Ie(t);a=s.length}if(n>=a)return t;var u=n-Js(i);if(u<1)return i;var l=s?me(s,0,u).join(""):t.slice(0,u);if(void 0===r)return l+i;if(s&&(u+=l.length-u),Sa(r)){if(t.slice(u).search(r)){var d,h=l;for(r.global||(r=RegExp(r.source,(0,Ut.Z)(Nc.exec(r))+"g")),r.lastIndex=0;d=r.exec(h);)var f=d.index;l=l.slice(0,void 0===f?u:f)}}else if(t.indexOf((0,o.Z)(r),u)!=u){var p=l.lastIndexOf(r);p>-1&&(l=l.slice(0,p))}return l+i},Lc=function(t){return pt(t,1)},jc=Le({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Fc=/&(?:amp|lt|gt|quot|#39);/g,Vc=RegExp(Fc.source);const Uc=function(t){return(t=(0,Ut.Z)(t))&&Vc.test(t)?t.replace(Fc,jc):t};var Bc=n(93203);const Hc=Bc.Z&&1/(0,us.Z)(new Bc.Z([,-0]))[1]==1/0?function(t){return new Bc.Z(t)}:k,Gc=function(t,e,n){var i=-1,r=tt,o=t.length,a=!0,s=[],u=s;if(n)a=!1,r=qi;else if(o>=200){var l=e?null:Hc(t);if(l)return(0,us.Z)(l);a=!1,r=Yi.Z,u=new zi.Z}else u=e?[]:s;t:for(;++i<o;){var c=t[i],d=e?e(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var h=u.length;h--;)if(u[h]===d)continue t;e&&u.push(d),s.push(c)}else r(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s},Wc=(0,ne.Z)((function(t){return Gc(Xt(t,1,xi,!0))}));const Zc=(0,ne.Z)((function(t){var e=Ji(t);return xi(e)&&(e=void 0),Gc(Xt(t,1,xi,!0),Xn(e))})),zc=(0,ne.Z)((function(t){var e=Ji(t);return e="function"==typeof e?e:void 0,Gc(Xt(t,1,xi,!0),void 0,e)})),qc=function(t){return t&&t.length?Gc(t):[]},$c=function(t,e){return t&&t.length?Gc(t,Xn(e)):[]},Yc=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Gc(t,void 0,e):[]};var Kc=0;const Xc=function(t){var e=++Kc;return(0,Ut.Z)(t)+e},Jc=function(t,e){return null==t||ms(t,e)};var Qc=Math.max;const td=function(t){if(!t||!t.length)return[];var e=0;return t=(0,xr.Z)(t,(function(t){if(xi(t))return e=Qc(t.length,e),!0})),(0,fc.Z)(e,(function(e){return(0,Ln.Z)(t,Yn(e))}))},ed=function(t,e){if(!t||!t.length)return[];var n=td(t);return null==e?n:(0,Ln.Z)(n,(function(t){return(0,w.Z)(e,void 0,t)}))},nd=function(t,e,n,i){return bs(t,e,n(Gt(t,e)),i)},id=function(t,e,n){return null==t?t:nd(t,e,sr(n))},rd=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:nd(t,e,sr(n),i)};const od=pn((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),ad=function(t){return null==t?[]:Oo(t,(0,Ot.Z)(t))};const sd=(0,ne.Z)((function(t,e){return xi(t)?Ki(t,e):[]})),ud=function(t,e){return cu(sr(e),t)},ld=te((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Zt(e,t)};return!(e>1||this.__actions__.length)&&i instanceof A&&(0,ot.Z)(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:hc,args:[r],thisArg:void 0}),new L(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)})),cd=function(){return wn(this)},dd=function(){var t=this.__wrapped__;if(t instanceof A){var e=t;return this.__actions__.length&&(e=new A(this)),(e=e.reverse()).__actions__.push({func:hc,args:[Ju],thisArg:void 0}),new L(e,this.__chain__)}return this.thru(Ju)},hd=function(t,e,n){var i=t.length;if(i<2)return i?Gc(t[0]):[];for(var r=-1,o=Array(i);++r<i;)for(var a=t[r],s=-1;++s<i;)s!=r&&(o[r]=Ki(o[r]||a,t[s],e,n));return Gc(Xt(o,1),e,n)},fd=(0,ne.Z)((function(t){return hd((0,xr.Z)(t,xi))}));const pd=(0,ne.Z)((function(t){var e=Ji(t);return xi(e)&&(e=void 0),hd((0,xr.Z)(t,xi),Xn(e))})),gd=(0,ne.Z)((function(t){var e=Ji(t);return e="function"==typeof e?e:void 0,hd((0,xr.Z)(t,xi),void 0,e)})),md=(0,ne.Z)(td),vd=function(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:void 0;n(a,t[i],s)}return a},yd=function(t,e){return vd(t||[],e||[],gt.Z)},_d=function(t,e){return vd(t||[],e||[],bs)};const bd=(0,ne.Z)((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,ed(t,n)})),wd={chunk:On,compact:Nn,concat:Dn,difference:Xi,differenceBy:Qi,differenceWith:tr,drop:nr,dropRight:ir,dropRightWhile:or,dropWhile:ar,fill:kr,findIndex:Dr,findLastIndex:Br,first:Wr,flatten:Jt,flattenDeep:Kr,flattenDepth:Xr,fromPairs:so,head:Wr,indexOf:xo,initial:Io,intersection:Do,intersectionBy:Lo,intersectionWith:jo,join:Ia,last:Ji,lastIndexOf:La,nth:ps,pull:wu,pullAll:bu,pullAllBy:Tu,pullAllWith:Su,pullAt:Pu,remove:zu,reverse:Ju,slice:fl,sortedIndex:Tl,sortedIndexBy:Sl,sortedIndexOf:El,sortedLastIndex:Ol,sortedLastIndexBy:Pl,sortedLastIndexOf:Cl,sortedUniq:kl,sortedUniqBy:xl,tail:Gl,take:Wl,takeRight:Zl,takeRightWhile:zl,takeWhile:ql,union:Wc,unionBy:Zc,unionWith:zc,uniq:qc,uniqBy:$c,uniqWith:Yc,unzip:td,unzipWith:ed,without:sd,xor:fd,xorBy:pd,xorWith:gd,zip:md,zipObject:yd,zipObjectDeep:_d,zipWith:bd},Td={countBy:hi,each:ur,eachRight:fr,every:Cr,filter:Mr,find:Lr,findLast:Hr,flatMap:qr,flatMapDeep:$r,flatMapDepth:Yr,forEach:ur,forEachRight:fr,groupBy:fo,includes:Ao,invokeMap:$o,keyBy:Ra,map:zr,orderBy:Cs,partition:fu,reduce:Hu,reduceRight:Wu,reject:Zu,sample:nl,sampleSize:al,shuffle:dl,size:hl,some:ml,sortBy:vl},Sd={now:hs.Z},Ed={after:d,ary:pt,before:ue,bind:ce,bindKey:pe,curry:mi,curryRight:yi,debounce:_i.Z,defer:Gi,delay:Zi,flip:Jr,memoize:Dt,negate:ss,once:Es,overArgs:Rs,partial:cu,partialRight:hu,rearg:Uu,rest:Yu,spread:Rl,throttle:dc,unary:Lc,wrap:ud},Od={castArray:mn,clone:An.Z,cloneDeep:kn.Z,cloneDeepWith:xn.Z,cloneWith:Mn,conformsTo:ei,eq:wi.Z,gt:mo,gte:vo,isArguments:$t.Z,isArray:j.Z,isArrayBuffer:Xo,isArrayLike:yt.Z,isArrayLikeObject:xi,isBoolean:Jo,isBuffer:Ii.Z,isDate:ta,isElement:ea.Z,isEmpty:ra,isEqual:oa.Z,isEqualWith:aa.Z,isError:oe,isFinite:ua,isFunction:Mi.Z,isInteger:la,isLength:Zn.Z,isMap:ca.Z,isMatch:da,isMatchWith:ha,isNaN:pa,isNative:_a,isNil:ba,isNull:wa,isNumber:fa,isObject:y.Z,isObjectLike:F.Z,isPlainObject:re.Z,isRegExp:Sa,isSafeInteger:Ea,isSet:Oa.Z,isString:Eo.Z,isSymbol:i.Z,isTypedArray:Ri.Z,isUndefined:Pa,isWeakMap:Ca,isWeakSet:Aa,lt:Ua,lte:Ba,toArray:cs,toFinite:l,toInteger:c,toLength:Ar,toNumber:u.Z,toPlainObject:Di,toSafeInteger:Tc,toString:Ut.Z},Pd={add:s,ceil:bn,divide:er,floor:Qr,max:qa,maxBy:$a,mean:Xa,meanBy:Ja,min:is,minBy:rs,multiply:as,round:Qu,subtract:Ul,sum:Bl,sumBy:Hl},Cd={clamp:Cn,inRange:So,random:Ru},Ad={assign:St,assignIn:Et.Z,assignInWith:Ct,assignWith:kt,at:ee,create:pi,defaults:Oi,defaultsDeep:Ui,entries:yr,entriesIn:_r,extend:Et.Z,extendWith:Ct,findKey:Fr,findLastKey:Gr,forIn:io,forInRight:ro,forOwn:oo,forOwnRight:ao,functions:lo,functionsIn:co,get:Wt,has:bo,hasIn:qn,invert:Uo,invertBy:Wo,invoke:qo,keys:bt.Z,keysIn:Ot.Z,mapKeys:Ha,mapValues:Ga,merge:ts,mergeWith:Vi,omit:_s,omitBy:Ss,pick:pu,pickBy:Ts,result:Ku,set:sl,setWith:ul,toPairs:yr,toPairsIn:_r,transform:Oc,unset:Jc,update:id,updateWith:rd,values:Po,valuesIn:ad},kd={at:ld,chain:wn,commit:Rn,lodash:G,next:ds,plant:gu,reverse:dd,tap:$l,thru:hc,toIterator:vc,toJSON:_c,value:_c,valueOf:_c,wrapperChain:cd},xd={camelCase:gn,capitalize:Ne,deburr:Ue,endsWith:pr,escape:Sr,escapeRegExp:Er.Z,kebabCase:Ma,lowerCase:ja,lowerFirst:Fa,pad:iu,padEnd:ru,padStart:ou,parseInt:uu,repeat:qu,replace:$u,snakeCase:pl,split:Il,startCase:Nl,startsWith:Dl,template:cc,templateSettings:ec,toLower:bc,toUpper:Sc,trim:kc,trimEnd:Ic,trimStart:Rc,truncate:Dc,unescape:Uc,upperCase:od,upperFirst:Re,words:hn},Id={attempt:se,bindAll:he,cond:Jn,conforms:ti,constant:ni.Z,defaultTo:bi,flow:eo,flowRight:no,identity:h.Z,iteratee:ka,matches:Wa,matchesProperty:Za,method:es,methodOf:ns,mixin:os,noop:k,nthArg:gs,over:ks,overEvery:Ns,overSome:Ls,property:Kn,propertyOf:mu,range:ju,rangeRight:Fu,stubArray:Ll.Z,stubFalse:va.Z,stubObject:jl,stubString:Fl,stubTrue:Vl,times:mc,toPath:wc,uniqueId:Xc};var Md=Math.max,Rd=Math.min;var Nd=Math.min;var Dd,Ld,jd=4294967295,Fd=Array.prototype,Vd=Object.prototype.hasOwnProperty,Ud=qt.Z?qt.Z.iterator:void 0,Bd=Math.max,Hd=Math.min,Gd=(Dd=os,function(t,e,n){if(null==n){var i=(0,y.Z)(e),r=i&&(0,bt.Z)(e),o=r&&r.length&&uo(e,r);(o?o.length:i)||(n=e,e=t,t=this)}return Dd(t,e,n)});G.after=Ed.after,G.ary=Ed.ary,G.assign=Ad.assign,G.assignIn=Ad.assignIn,G.assignInWith=Ad.assignInWith,G.assignWith=Ad.assignWith,G.at=Ad.at,G.before=Ed.before,G.bind=Ed.bind,G.bindAll=Id.bindAll,G.bindKey=Ed.bindKey,G.castArray=Od.castArray,G.chain=kd.chain,G.chunk=wd.chunk,G.compact=wd.compact,G.concat=wd.concat,G.cond=Id.cond,G.conforms=Id.conforms,G.constant=Id.constant,G.countBy=Td.countBy,G.create=Ad.create,G.curry=Ed.curry,G.curryRight=Ed.curryRight,G.debounce=Ed.debounce,G.defaults=Ad.defaults,G.defaultsDeep=Ad.defaultsDeep,G.defer=Ed.defer,G.delay=Ed.delay,G.difference=wd.difference,G.differenceBy=wd.differenceBy,G.differenceWith=wd.differenceWith,G.drop=wd.drop,G.dropRight=wd.dropRight,G.dropRightWhile=wd.dropRightWhile,G.dropWhile=wd.dropWhile,G.fill=wd.fill,G.filter=Td.filter,G.flatMap=Td.flatMap,G.flatMapDeep=Td.flatMapDeep,G.flatMapDepth=Td.flatMapDepth,G.flatten=wd.flatten,G.flattenDeep=wd.flattenDeep,G.flattenDepth=wd.flattenDepth,G.flip=Ed.flip,G.flow=Id.flow,G.flowRight=Id.flowRight,G.fromPairs=wd.fromPairs,G.functions=Ad.functions,G.functionsIn=Ad.functionsIn,G.groupBy=Td.groupBy,G.initial=wd.initial,G.intersection=wd.intersection,G.intersectionBy=wd.intersectionBy,G.intersectionWith=wd.intersectionWith,G.invert=Ad.invert,G.invertBy=Ad.invertBy,G.invokeMap=Td.invokeMap,G.iteratee=Id.iteratee,G.keyBy=Td.keyBy,G.keys=bt.Z,G.keysIn=Ad.keysIn,G.map=Td.map,G.mapKeys=Ad.mapKeys,G.mapValues=Ad.mapValues,G.matches=Id.matches,G.matchesProperty=Id.matchesProperty,G.memoize=Ed.memoize,G.merge=Ad.merge,G.mergeWith=Ad.mergeWith,G.method=Id.method,G.methodOf=Id.methodOf,G.mixin=Gd,G.negate=ss,G.nthArg=Id.nthArg,G.omit=Ad.omit,G.omitBy=Ad.omitBy,G.once=Ed.once,G.orderBy=Td.orderBy,G.over=Id.over,G.overArgs=Ed.overArgs,G.overEvery=Id.overEvery,G.overSome=Id.overSome,G.partial=Ed.partial,G.partialRight=Ed.partialRight,G.partition=Td.partition,G.pick=Ad.pick,G.pickBy=Ad.pickBy,G.property=Id.property,G.propertyOf=Id.propertyOf,G.pull=wd.pull,G.pullAll=wd.pullAll,G.pullAllBy=wd.pullAllBy,G.pullAllWith=wd.pullAllWith,G.pullAt=wd.pullAt,G.range=Id.range,G.rangeRight=Id.rangeRight,G.rearg=Ed.rearg,G.reject=Td.reject,G.remove=wd.remove,G.rest=Ed.rest,G.reverse=wd.reverse,G.sampleSize=Td.sampleSize,G.set=Ad.set,G.setWith=Ad.setWith,G.shuffle=Td.shuffle,G.slice=wd.slice,G.sortBy=Td.sortBy,G.sortedUniq=wd.sortedUniq,G.sortedUniqBy=wd.sortedUniqBy,G.split=xd.split,G.spread=Ed.spread,G.tail=wd.tail,G.take=wd.take,G.takeRight=wd.takeRight,G.takeRightWhile=wd.takeRightWhile,G.takeWhile=wd.takeWhile,G.tap=kd.tap,G.throttle=Ed.throttle,G.thru=hc,G.toArray=Od.toArray,G.toPairs=Ad.toPairs,G.toPairsIn=Ad.toPairsIn,G.toPath=Id.toPath,G.toPlainObject=Od.toPlainObject,G.transform=Ad.transform,G.unary=Ed.unary,G.union=wd.union,G.unionBy=wd.unionBy,G.unionWith=wd.unionWith,G.uniq=wd.uniq,G.uniqBy=wd.uniqBy,G.uniqWith=wd.uniqWith,G.unset=Ad.unset,G.unzip=wd.unzip,G.unzipWith=wd.unzipWith,G.update=Ad.update,G.updateWith=Ad.updateWith,G.values=Ad.values,G.valuesIn=Ad.valuesIn,G.without=wd.without,G.words=xd.words,G.wrap=Ed.wrap,G.xor=wd.xor,G.xorBy=wd.xorBy,G.xorWith=wd.xorWith,G.zip=wd.zip,G.zipObject=wd.zipObject,G.zipObjectDeep=wd.zipObjectDeep,G.zipWith=wd.zipWith,G.entries=Ad.toPairs,G.entriesIn=Ad.toPairsIn,G.extend=Ad.assignIn,G.extendWith=Ad.assignInWith,Gd(G,G),G.add=Pd.add,G.attempt=Id.attempt,G.camelCase=xd.camelCase,G.capitalize=xd.capitalize,G.ceil=Pd.ceil,G.clamp=Cd.clamp,G.clone=Od.clone,G.cloneDeep=Od.cloneDeep,G.cloneDeepWith=Od.cloneDeepWith,G.cloneWith=Od.cloneWith,G.conformsTo=Od.conformsTo,G.deburr=xd.deburr,G.defaultTo=Id.defaultTo,G.divide=Pd.divide,G.endsWith=xd.endsWith,G.eq=Od.eq,G.escape=xd.escape,G.escapeRegExp=xd.escapeRegExp,G.every=Td.every,G.find=Td.find,G.findIndex=wd.findIndex,G.findKey=Ad.findKey,G.findLast=Td.findLast,G.findLastIndex=wd.findLastIndex,G.findLastKey=Ad.findLastKey,G.floor=Pd.floor,G.forEach=Td.forEach,G.forEachRight=Td.forEachRight,G.forIn=Ad.forIn,G.forInRight=Ad.forInRight,G.forOwn=Ad.forOwn,G.forOwnRight=Ad.forOwnRight,G.get=Ad.get,G.gt=Od.gt,G.gte=Od.gte,G.has=Ad.has,G.hasIn=Ad.hasIn,G.head=wd.head,G.identity=h.Z,G.includes=Td.includes,G.indexOf=wd.indexOf,G.inRange=Cd.inRange,G.invoke=Ad.invoke,G.isArguments=Od.isArguments,G.isArray=j.Z,G.isArrayBuffer=Od.isArrayBuffer,G.isArrayLike=Od.isArrayLike,G.isArrayLikeObject=Od.isArrayLikeObject,G.isBoolean=Od.isBoolean,G.isBuffer=Od.isBuffer,G.isDate=Od.isDate,G.isElement=Od.isElement,G.isEmpty=Od.isEmpty,G.isEqual=Od.isEqual,G.isEqualWith=Od.isEqualWith,G.isError=Od.isError,G.isFinite=Od.isFinite,G.isFunction=Od.isFunction,G.isInteger=Od.isInteger,G.isLength=Od.isLength,G.isMap=Od.isMap,G.isMatch=Od.isMatch,G.isMatchWith=Od.isMatchWith,G.isNaN=Od.isNaN,G.isNative=Od.isNative,G.isNil=Od.isNil,G.isNull=Od.isNull,G.isNumber=Od.isNumber,G.isObject=y.Z,G.isObjectLike=Od.isObjectLike,G.isPlainObject=Od.isPlainObject,G.isRegExp=Od.isRegExp,G.isSafeInteger=Od.isSafeInteger,G.isSet=Od.isSet,G.isString=Od.isString,G.isSymbol=Od.isSymbol,G.isTypedArray=Od.isTypedArray,G.isUndefined=Od.isUndefined,G.isWeakMap=Od.isWeakMap,G.isWeakSet=Od.isWeakSet,G.join=wd.join,G.kebabCase=xd.kebabCase,G.last=Ji,G.lastIndexOf=wd.lastIndexOf,G.lowerCase=xd.lowerCase,G.lowerFirst=xd.lowerFirst,G.lt=Od.lt,G.lte=Od.lte,G.max=Pd.max,G.maxBy=Pd.maxBy,G.mean=Pd.mean,G.meanBy=Pd.meanBy,G.min=Pd.min,G.minBy=Pd.minBy,G.stubArray=Id.stubArray,G.stubFalse=Id.stubFalse,G.stubObject=Id.stubObject,G.stubString=Id.stubString,G.stubTrue=Id.stubTrue,G.multiply=Pd.multiply,G.nth=wd.nth,G.noop=Id.noop,G.now=Sd.now,G.pad=xd.pad,G.padEnd=xd.padEnd,G.padStart=xd.padStart,G.parseInt=xd.parseInt,G.random=Cd.random,G.reduce=Td.reduce,G.reduceRight=Td.reduceRight,G.repeat=xd.repeat,G.replace=xd.replace,G.result=Ad.result,G.round=Pd.round,G.sample=Td.sample,G.size=Td.size,G.snakeCase=xd.snakeCase,G.some=Td.some,G.sortedIndex=wd.sortedIndex,G.sortedIndexBy=wd.sortedIndexBy,G.sortedIndexOf=wd.sortedIndexOf,G.sortedLastIndex=wd.sortedLastIndex,G.sortedLastIndexBy=wd.sortedLastIndexBy,G.sortedLastIndexOf=wd.sortedLastIndexOf,G.startCase=xd.startCase,G.startsWith=xd.startsWith,G.subtract=Pd.subtract,G.sum=Pd.sum,G.sumBy=Pd.sumBy,G.template=xd.template,G.times=Id.times,G.toFinite=Od.toFinite,G.toInteger=c,G.toLength=Od.toLength,G.toLower=xd.toLower,G.toNumber=Od.toNumber,G.toSafeInteger=Od.toSafeInteger,G.toString=Od.toString,G.toUpper=xd.toUpper,G.trim=xd.trim,G.trimEnd=xd.trimEnd,G.trimStart=xd.trimStart,G.truncate=xd.truncate,G.unescape=xd.unescape,G.uniqueId=Id.uniqueId,G.upperCase=xd.upperCase,G.upperFirst=xd.upperFirst,G.each=Td.forEach,G.eachRight=Td.forEachRight,G.first=wd.head,Gd(G,(Ld={},ai(G,(function(t,e){Vd.call(G.prototype,e)||(Ld[e]=t)})),Ld),{chain:!1}),G.VERSION="4.17.21",(G.templateSettings=xd.templateSettings).imports._=G,(0,K.Z)(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){G[t].placeholder=G})),(0,K.Z)(["drop","take"],(function(t,e){A.prototype[t]=function(n){n=void 0===n?1:Bd(c(n),0);var i=this.__filtered__&&!e?new A(this):this.clone();return i.__filtered__?i.__takeCount__=Hd(n,i.__takeCount__):i.__views__.push({size:Hd(n,jd),type:t+(i.__dir__<0?"Right":"")}),i},A.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),(0,K.Z)(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;A.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Xn(t),type:n}),e.__filtered__=e.__filtered__||i,e}})),(0,K.Z)(["head","last"],(function(t,e){var n="take"+(e?"Right":"");A.prototype[t]=function(){return this[n](1).value()[0]}})),(0,K.Z)(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");A.prototype[t]=function(){return this.__filtered__?new A(this):this[n](1)}})),A.prototype.compact=function(){return this.filter(h.Z)},A.prototype.find=function(t){return this.filter(t).head()},A.prototype.findLast=function(t){return this.reverse().find(t)},A.prototype.invokeMap=(0,ne.Z)((function(t,e){return"function"==typeof t?new A(this):this.map((function(n){return zo(n,t,e)}))})),A.prototype.reject=function(t){return this.filter(ss(Xn(t)))},A.prototype.slice=function(t,e){t=c(t);var n=this;return n.__filtered__&&(t>0||e<0)?new A(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=c(e))<0?n.dropRight(-e):n.take(e-t)),n)},A.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},A.prototype.toArray=function(){return this.take(jd)},ai(A.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=G[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(G.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof A,u=a[0],l=s||(0,j.Z)(e),c=function(t){var e=r.apply(G,(0,zt.Z)([t],a));return i&&d?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var d=this.__chain__,h=!!this.__actions__.length,f=o&&!d,p=s&&!h;if(!o&&l){e=p?e:new A(this);var g=t.apply(e,a);return g.__actions__.push({func:hc,args:[c],thisArg:void 0}),new L(g,d)}return f&&p?t.apply(this,a):(g=this.thru(c),f?i?g.value()[0]:g.value():g)})})),(0,K.Z)(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Fd[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);G.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply((0,j.Z)(r)?r:[],t)}return this[n]((function(n){return e.apply((0,j.Z)(n)?n:[],t)}))}})),ai(A.prototype,(function(t,e){var n=G[e];if(n){var i=n.name+"";Vd.call(M,i)||(M[i]=[]),M[i].push({name:e,func:n})}})),M[lt(void 0,2).name]=[{name:"wrapper",func:void 0}],A.prototype.clone=function(){var t=new A(this.__wrapped__);return t.__actions__=(0,V.Z)(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=(0,V.Z)(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=(0,V.Z)(this.__views__),t},A.prototype.reverse=function(){if(this.__filtered__){var t=new A(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},A.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=(0,j.Z)(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Rd(e,t+a);break;case"takeRight":t=Md(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,u=s-a,l=i?s:a-1,c=this.__iteratees__,d=c.length,h=0,f=Nd(u,this.__takeCount__);if(!n||!i&&r==u&&f==u)return yc(t,this.__actions__);var p=[];t:for(;u--&&h<f;){for(var g=-1,m=t[l+=e];++g<d;){var v=c[g],y=v.iteratee,_=v.type,b=y(m);if(2==_)m=b;else if(!b){if(1==_)continue t;break t}}p[h++]=m}return p},G.prototype.at=kd.at,G.prototype.chain=kd.wrapperChain,G.prototype.commit=kd.commit,G.prototype.next=kd.next,G.prototype.plant=kd.plant,G.prototype.reverse=kd.reverse,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=kd.value,G.prototype.first=G.prototype.head,Ud&&(G.prototype[Ud]=kd.toIterator);const Wd=G},25222:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(66092);const r=function(){return i.Z.Date.now()}},60532:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(){return[]}},7979:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(){return!1}},25742:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(33404),r=n(77226),o=n(38114),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;const c=function(t){if("number"==typeof t)return t;if((0,o.Z)(t))return NaN;if((0,r.Z)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=(0,r.Z)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=(0,i.Z)(t);var n=s.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):a.test(t)?NaN:+t}},77338:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(42845);const r=function(t){return null==t?"":(0,i.Z)(t)}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.nc=void 0,n(93251)})();